---
layout: default
title : Terms.Setoid.Properties module (The Agda Universal Algebra Library)
date : 2021-08-24
author: [agda-algebras development team][]
---

## <a id="basic-properties">Basic properties</a>

This is the [Terms.Setoid.Properties][] module of the [Agda Universal Algebra Library][].


<pre class="Agda">

<a id="319" class="Symbol">{-#</a> <a id="323" class="Keyword">OPTIONS</a> <a id="331" class="Pragma">--without-K</a> <a id="343" class="Pragma">--exact-split</a> <a id="357" class="Pragma">--safe</a> <a id="364" class="Symbol">#-}</a>

<a id="369" class="Keyword">open</a> <a id="374" class="Keyword">import</a> <a id="381" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="396" class="Keyword">using</a> <a id="402" class="Symbol">(</a> <a id="404" href="Algebras.Basic.html#1139" class="Generalizable">𝓞</a> <a id="406" class="Symbol">;</a> <a id="408" href="Algebras.Basic.html#1141" class="Generalizable">𝓥</a> <a id="410" class="Symbol">;</a> <a id="412" href="Algebras.Basic.html#3865" class="Function">Signature</a> <a id="422" class="Symbol">)</a>

<a id="425" class="Keyword">module</a> <a id="432" href="Terms.Setoid.Properties.html" class="Module">Terms.Setoid.Properties</a> <a id="456" class="Symbol">{</a><a id="457" href="Terms.Setoid.Properties.html#457" class="Bound">𝑆</a> <a id="459" class="Symbol">:</a> <a id="461" href="Algebras.Basic.html#3865" class="Function">Signature</a> <a id="471" href="Algebras.Basic.html#1139" class="Generalizable">𝓞</a> <a id="473" href="Algebras.Basic.html#1141" class="Generalizable">𝓥</a><a id="474" class="Symbol">}</a> <a id="476" class="Keyword">where</a>

<a id="483" class="Comment">-- Imports from Agda and the Agda Standard Library ---------------------</a>
<a id="556" class="Keyword">open</a> <a id="561" class="Keyword">import</a> <a id="568" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                                   <a id="638" class="Keyword">using</a> <a id="644" class="Symbol">()</a> <a id="647" class="Keyword">renaming</a> <a id="656" class="Symbol">(</a><a id="657" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="672" class="Symbol">to</a> <a id="675" class="Function">funext</a><a id="681" class="Symbol">)</a>
<a id="683" class="Keyword">open</a> <a id="688" class="Keyword">import</a> <a id="695" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>         <a id="718" class="Keyword">using</a> <a id="724" class="Symbol">(</a> <a id="726" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="732" class="Symbol">;</a> <a id="734" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="738" class="Symbol">;</a> <a id="740" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="745" class="Symbol">)</a> <a id="747" class="Keyword">renaming</a> <a id="756" class="Symbol">(</a> <a id="758" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="762" class="Symbol">to</a> <a id="765" class="Primitive">Type</a> <a id="770" class="Symbol">)</a>
<a id="772" class="Keyword">open</a> <a id="777" class="Keyword">import</a> <a id="784" href="Data.Product.html" class="Module">Data.Product</a>           <a id="807" class="Keyword">using</a> <a id="813" class="Symbol">(</a> <a id="815" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="819" class="Symbol">;</a> <a id="821" href="Data.Product.html#916" class="Function">Σ-syntax</a> <a id="830" class="Symbol">)</a> <a id="832" class="Keyword">renaming</a> <a id="841" class="Symbol">(</a><a id="842" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="848" class="Symbol">to</a> <a id="851" class="Field">snd</a><a id="854" class="Symbol">)</a>
<a id="856" class="Keyword">open</a> <a id="861" class="Keyword">import</a> <a id="868" href="Function.Base.html" class="Module">Function.Base</a>          <a id="891" class="Keyword">using</a> <a id="897" class="Symbol">(</a> <a id="899" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="903" class="Symbol">)</a>
<a id="905" class="Keyword">open</a> <a id="910" class="Keyword">import</a> <a id="917" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="934" class="Keyword">using</a> <a id="940" class="Symbol">(</a> <a id="942" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="947" class="Symbol">)</a>
<a id="949" class="Keyword">open</a> <a id="954" class="Keyword">import</a> <a id="961" href="Data.Empty.Polymorphic.html" class="Module">Data.Empty.Polymorphic</a> <a id="984" class="Keyword">using</a> <a id="990" class="Symbol">(</a> <a id="992" href="Data.Empty.Polymorphic.html#331" class="Function">⊥</a> <a id="994" class="Symbol">)</a>
<a id="996" class="Keyword">open</a> <a id="1001" class="Keyword">import</a> <a id="1008" href="Relation.Binary.html" class="Module">Relation.Binary</a>        <a id="1031" class="Keyword">using</a> <a id="1037" class="Symbol">(</a> <a id="1039" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="1053" class="Symbol">;</a> <a id="1055" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1062" class="Symbol">)</a>
<a id="1064" class="Keyword">open</a> <a id="1069" class="Keyword">import</a> <a id="1076" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a>
                                   <a id="1139" class="Keyword">using</a> <a id="1145" class="Symbol">(</a><a id="1146" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="1156" class="Symbol">;</a> <a id="1158" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="1168" class="Symbol">;</a> <a id="1170" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="1181" class="Symbol">)</a>
<a id="1183" class="Keyword">open</a> <a id="1188" class="Keyword">import</a> <a id="1195" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                                   <a id="1268" class="Keyword">using</a> <a id="1274" class="Symbol">(</a> <a id="1276" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="1280" class="Symbol">;</a> <a id="1282" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1287" class="Symbol">;</a> <a id="1289" class="Keyword">module</a> <a id="1296" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a> <a id="1308" class="Symbol">;</a> <a id="1310" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1315" class="Symbol">)</a>

<a id="1318" class="Comment">-- Imports from the Agda Universal Algebra Library ----------------------------------------</a>
<a id="1410" class="Keyword">open</a> <a id="1415" class="Keyword">import</a> <a id="1422" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>             <a id="1457" class="Keyword">using</a> <a id="1463" class="Symbol">(</a> <a id="1465" href="Overture.Preliminaries.html#5228" class="Function Operator">_⁻¹</a> <a id="1469" class="Symbol">;</a> <a id="1471" href="Overture.Preliminaries.html#5627" class="Function">𝑖𝑑</a> <a id="1474" class="Symbol">;</a> <a id="1476" href="Overture.Preliminaries.html#4524" class="Function Operator">∣_∣</a> <a id="1480" class="Symbol">;</a> <a id="1482" href="Overture.Preliminaries.html#4562" class="Function Operator">∥_∥</a> <a id="1486" class="Symbol">;</a> <a id="1488" href="Overture.Preliminaries.html#10321" class="Function">transport</a> <a id="1498" class="Symbol">)</a>
<a id="1500" class="Keyword">open</a> <a id="1505" class="Keyword">import</a> <a id="1512" href="Overture.Inverses.html" class="Module">Overture.Inverses</a>                  <a id="1547" class="Keyword">using</a> <a id="1553" class="Symbol">(</a> <a id="1555" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="1568" class="Symbol">;</a> <a id="1570" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="1574" class="Symbol">;</a> <a id="1576" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="1585" class="Symbol">;</a> <a id="1587" href="Overture.Inverses.html#1260" class="Datatype Operator">Image_∋_</a> <a id="1596" class="Symbol">;</a> <a id="1598" href="Overture.Inverses.html#1308" class="InductiveConstructor">eq</a> <a id="1601" class="Symbol">)</a>
<a id="1603" class="Keyword">open</a> <a id="1608" class="Keyword">import</a> <a id="1615" href="Algebras.Setoid.Basic.html" class="Module">Algebras.Setoid.Basic</a>      <a id="1642" class="Symbol">{</a><a id="1643" class="Argument">𝑆</a> <a id="1645" class="Symbol">=</a> <a id="1647" href="Terms.Setoid.Properties.html#457" class="Bound">𝑆</a><a id="1648" class="Symbol">}</a> <a id="1650" class="Keyword">using</a> <a id="1656" class="Symbol">(</a> <a id="1658" href="Algebras.Setoid.Basic.html#3236" class="Record">SetoidAlgebra</a> <a id="1672" class="Symbol">;</a> <a id="1674" href="Algebras.Setoid.Basic.html#4531" class="Function Operator">_̂_</a> <a id="1678" class="Symbol">;</a> <a id="1680" href="Algebras.Setoid.Basic.html#1148" class="Function">ov</a> <a id="1683" class="Symbol">;</a> <a id="1685" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">𝕌[_]</a> <a id="1690" class="Symbol">)</a>
<a id="1692" class="Keyword">open</a> <a id="1697" class="Keyword">import</a> <a id="1704" href="Homomorphisms.Setoid.Basic.html" class="Module">Homomorphisms.Setoid.Basic</a> <a id="1731" class="Symbol">{</a><a id="1732" class="Argument">𝑆</a> <a id="1734" class="Symbol">=</a> <a id="1736" href="Terms.Setoid.Properties.html#457" class="Bound">𝑆</a><a id="1737" class="Symbol">}</a> <a id="1739" class="Keyword">using</a> <a id="1745" class="Symbol">(</a> <a id="1747" href="Homomorphisms.Setoid.Basic.html#2591" class="Function">hom</a> <a id="1751" class="Symbol">)</a>
<a id="1753" class="Keyword">open</a> <a id="1758" class="Keyword">import</a> <a id="1765" href="Terms.Setoid.Basic.html" class="Module">Terms.Setoid.Basic</a>         <a id="1792" class="Symbol">{</a><a id="1793" class="Argument">𝑆</a> <a id="1795" class="Symbol">=</a> <a id="1797" href="Terms.Setoid.Properties.html#457" class="Bound">𝑆</a><a id="1798" class="Symbol">}</a> <a id="1800" class="Keyword">using</a> <a id="1806" class="Symbol">(</a> <a id="1808" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="1813" class="Symbol">;</a> <a id="1815" href="Terms.Setoid.Basic.html#3138" class="Function">𝑻</a> <a id="1817" class="Symbol">;</a> <a id="1819" href="Terms.Setoid.Basic.html#2089" class="Datatype Operator">_≐_</a> <a id="1823" class="Symbol">)</a>
<a id="1825" class="Keyword">open</a> <a id="1830" href="Terms.Basic.html#1987" class="Module">Term</a>

<a id="1836" class="Keyword">private</a> <a id="1844" class="Keyword">variable</a> <a id="1853" href="Terms.Setoid.Properties.html#1853" class="Generalizable">α</a> <a id="1855" href="Terms.Setoid.Properties.html#1855" class="Generalizable">ρ</a> <a id="1857" href="Terms.Setoid.Properties.html#1857" class="Generalizable">χ</a> <a id="1859" class="Symbol">:</a> <a id="1861" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>


### <a id="the-universal-property">The universal property</a>

The term algebra `𝑻 X` is *absolutely free* (or *universal*, or *initial*) for algebras in the signature `𝑆`. That is, for every 𝑆-algebra `𝑨`, the following hold.

1. Every function from `𝑋` to `∣ 𝑨 ∣` lifts to a homomorphism from `𝑻 X` to `𝑨`.
2. The homomorphism that exists by item 1 is unique.

We now prove this in [Agda][], starting with the fact that every map from `X` to `∣ 𝑨 ∣` lifts to a map from `∣ 𝑻 X ∣` to `∣ 𝑨 ∣` in a natural way, by induction on the structure of the given term.

<pre class="Agda">

<a id="2456" class="Keyword">private</a> <a id="2464" class="Keyword">variable</a> <a id="2473" href="Terms.Setoid.Properties.html#2473" class="Generalizable">X</a> <a id="2475" class="Symbol">:</a> <a id="2477" href="Terms.Setoid.Properties.html#765" class="Primitive">Type</a> <a id="2482" href="Terms.Setoid.Properties.html#1857" class="Generalizable">χ</a>

<a id="free-lift"></a><a id="2485" href="Terms.Setoid.Properties.html#2485" class="Function">free-lift</a> <a id="2495" class="Symbol">:</a> <a id="2497" class="Symbol">(</a><a id="2498" href="Terms.Setoid.Properties.html#2498" class="Bound">𝑨</a> <a id="2500" class="Symbol">:</a> <a id="2502" href="Algebras.Setoid.Basic.html#3236" class="Record">SetoidAlgebra</a> <a id="2516" href="Terms.Setoid.Properties.html#1853" class="Generalizable">α</a> <a id="2518" href="Terms.Setoid.Properties.html#1855" class="Generalizable">ρ</a><a id="2519" class="Symbol">)(</a><a id="2521" href="Terms.Setoid.Properties.html#2521" class="Bound">h</a> <a id="2523" class="Symbol">:</a> <a id="2525" href="Terms.Setoid.Properties.html#2473" class="Generalizable">X</a> <a id="2527" class="Symbol">→</a> <a id="2529" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">𝕌[</a> <a id="2532" href="Terms.Setoid.Properties.html#2498" class="Bound">𝑨</a> <a id="2534" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">]</a><a id="2535" class="Symbol">)</a> <a id="2537" class="Symbol">→</a> <a id="2539" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">𝕌[</a> <a id="2542" href="Terms.Setoid.Basic.html#3138" class="Function">𝑻</a> <a id="2544" href="Terms.Setoid.Properties.html#2473" class="Generalizable">X</a> <a id="2546" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">]</a> <a id="2548" class="Symbol">→</a> <a id="2550" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">𝕌[</a> <a id="2553" href="Terms.Setoid.Properties.html#2498" class="Bound">𝑨</a> <a id="2555" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">]</a>
<a id="2557" href="Terms.Setoid.Properties.html#2485" class="Function">free-lift</a> <a id="2567" class="Symbol">_</a> <a id="2569" href="Terms.Setoid.Properties.html#2569" class="Bound">h</a> <a id="2571" class="Symbol">(</a><a id="2572" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="2574" href="Terms.Setoid.Properties.html#2574" class="Bound">x</a><a id="2575" class="Symbol">)</a> <a id="2577" class="Symbol">=</a> <a id="2579" href="Terms.Setoid.Properties.html#2569" class="Bound">h</a> <a id="2581" href="Terms.Setoid.Properties.html#2574" class="Bound">x</a>
<a id="2583" href="Terms.Setoid.Properties.html#2485" class="Function">free-lift</a> <a id="2593" href="Terms.Setoid.Properties.html#2593" class="Bound">𝑨</a> <a id="2595" href="Terms.Setoid.Properties.html#2595" class="Bound">h</a> <a id="2597" class="Symbol">(</a><a id="2598" href="Terms.Basic.html#2070" class="InductiveConstructor">node</a> <a id="2603" href="Terms.Setoid.Properties.html#2603" class="Bound">f</a> <a id="2605" href="Terms.Setoid.Properties.html#2605" class="Bound">t</a><a id="2606" class="Symbol">)</a> <a id="2608" class="Symbol">=</a> <a id="2610" class="Symbol">(</a><a id="2611" href="Terms.Setoid.Properties.html#2603" class="Bound">f</a> <a id="2613" href="Algebras.Setoid.Basic.html#4531" class="Function Operator">̂</a> <a id="2615" href="Terms.Setoid.Properties.html#2593" class="Bound">𝑨</a><a id="2616" class="Symbol">)</a> <a id="2618" class="Symbol">(λ</a> <a id="2621" href="Terms.Setoid.Properties.html#2621" class="Bound">i</a> <a id="2623" class="Symbol">→</a> <a id="2625" href="Terms.Setoid.Properties.html#2485" class="Function">free-lift</a> <a id="2635" href="Terms.Setoid.Properties.html#2593" class="Bound">𝑨</a> <a id="2637" href="Terms.Setoid.Properties.html#2595" class="Bound">h</a> <a id="2639" class="Symbol">(</a><a id="2640" href="Terms.Setoid.Properties.html#2605" class="Bound">t</a> <a id="2642" href="Terms.Setoid.Properties.html#2621" class="Bound">i</a><a id="2643" class="Symbol">))</a>

</pre>

Naturally, at the base step of the induction, when the term has the form `generator`
x, the free lift of `h` agrees with `h`.  For the inductive step, when the
given term has the form `node f t`, the free lift is defined as
follows: Assuming (the induction hypothesis) that we know the image of each
subterm `t i` under the free lift of `h`, define the free lift at the
full term by applying `f ̂ 𝑨` to the images of the subterms.

The free lift so defined is a homomorphism by construction. Indeed, here is the trivial proof.

<pre class="Agda">

<a id="lift-hom"></a><a id="3201" href="Terms.Setoid.Properties.html#3201" class="Function">lift-hom</a> <a id="3210" class="Symbol">:</a> <a id="3212" class="Symbol">(</a><a id="3213" href="Terms.Setoid.Properties.html#3213" class="Bound">𝑨</a> <a id="3215" class="Symbol">:</a> <a id="3217" href="Algebras.Setoid.Basic.html#3236" class="Record">SetoidAlgebra</a> <a id="3231" href="Terms.Setoid.Properties.html#1853" class="Generalizable">α</a> <a id="3233" href="Terms.Setoid.Properties.html#1855" class="Generalizable">ρ</a><a id="3234" class="Symbol">)</a> <a id="3236" class="Symbol">→</a> <a id="3238" class="Symbol">(</a><a id="3239" href="Terms.Setoid.Properties.html#2473" class="Generalizable">X</a> <a id="3241" class="Symbol">→</a> <a id="3243" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">𝕌[</a> <a id="3246" href="Terms.Setoid.Properties.html#3213" class="Bound">𝑨</a> <a id="3248" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">]</a><a id="3249" class="Symbol">)</a> <a id="3251" class="Symbol">→</a> <a id="3253" href="Homomorphisms.Setoid.Basic.html#2591" class="Function">hom</a> <a id="3257" class="Symbol">(</a><a id="3258" href="Terms.Setoid.Basic.html#3138" class="Function">𝑻</a> <a id="3260" href="Terms.Setoid.Properties.html#2473" class="Generalizable">X</a><a id="3261" class="Symbol">)</a> <a id="3263" href="Terms.Setoid.Properties.html#3213" class="Bound">𝑨</a>
<a id="3265" href="Terms.Setoid.Properties.html#3201" class="Function">lift-hom</a> <a id="3274" href="Terms.Setoid.Properties.html#3274" class="Bound">𝑨</a> <a id="3276" href="Terms.Setoid.Properties.html#3276" class="Bound">h</a> <a id="3278" class="Symbol">=</a> <a id="3280" href="Terms.Setoid.Properties.html#2485" class="Function">free-lift</a> <a id="3290" href="Terms.Setoid.Properties.html#3274" class="Bound">𝑨</a> <a id="3292" href="Terms.Setoid.Properties.html#3276" class="Bound">h</a> <a id="3294" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3296" class="Symbol">λ</a> <a id="3298" href="Terms.Setoid.Properties.html#3298" class="Bound">f</a> <a id="3300" href="Terms.Setoid.Properties.html#3300" class="Bound">a</a> <a id="3302" class="Symbol">→</a> <a id="3304" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3309" class="Symbol">(</a><a id="3310" href="Terms.Setoid.Properties.html#3298" class="Bound">f</a> <a id="3312" href="Algebras.Setoid.Basic.html#4531" class="Function Operator">̂</a> <a id="3314" href="Terms.Setoid.Properties.html#3274" class="Bound">𝑨</a><a id="3315" class="Symbol">)</a> <a id="3317" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

</pre>

Finally, we prove that the homomorphism is unique.  Recall, when we proved this in the module [Terms.Properties][], we needed function extensionality. Here, by using setoid equality, we can omit the `swelldef` hypothesis used to prove `free-unique` in the [Terms.Properties][] module.

<pre class="Agda">

<a id="3635" class="Keyword">module</a> <a id="3642" href="Terms.Setoid.Properties.html#3642" class="Module">_</a> <a id="3644" class="Symbol">{</a><a id="3645" href="Terms.Setoid.Properties.html#3645" class="Bound">𝑨</a> <a id="3647" class="Symbol">:</a> <a id="3649" href="Algebras.Setoid.Basic.html#3236" class="Record">SetoidAlgebra</a> <a id="3663" href="Terms.Setoid.Properties.html#1853" class="Generalizable">α</a> <a id="3665" href="Terms.Setoid.Properties.html#1855" class="Generalizable">ρ</a><a id="3666" class="Symbol">}</a> <a id="3668" class="Keyword">where</a>
 <a id="3675" class="Keyword">open</a> <a id="3680" href="Algebras.Setoid.Basic.html#3236" class="Module">SetoidAlgebra</a> <a id="3694" href="Terms.Setoid.Properties.html#3645" class="Bound">𝑨</a>
 <a id="3697" class="Keyword">open</a> <a id="3702" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="3709" href="Algebras.Setoid.Basic.html#3299" class="Field">Domain</a> <a id="3716" class="Keyword">renaming</a> <a id="3725" class="Symbol">(</a> <a id="3727" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="3731" class="Symbol">to</a> <a id="3734" class="Field Operator">_≈A_</a> <a id="3739" class="Symbol">)</a>

 <a id="3743" href="Terms.Setoid.Properties.html#3743" class="Function">free-unique</a> <a id="3755" class="Symbol">:</a> <a id="3757" class="Symbol">{</a><a id="3758" href="Terms.Setoid.Properties.html#3758" class="Bound">g</a> <a id="3760" href="Terms.Setoid.Properties.html#3760" class="Bound">h</a> <a id="3762" class="Symbol">:</a> <a id="3764" href="Homomorphisms.Setoid.Basic.html#2591" class="Function">hom</a> <a id="3768" class="Symbol">(</a><a id="3769" href="Terms.Setoid.Basic.html#3138" class="Function">𝑻</a> <a id="3771" href="Terms.Setoid.Properties.html#2473" class="Generalizable">X</a><a id="3772" class="Symbol">)</a> <a id="3774" href="Terms.Setoid.Properties.html#3645" class="Bound">𝑨</a><a id="3775" class="Symbol">}</a>
  <a id="3779" class="Symbol">→</a>            <a id="3792" class="Symbol">(∀</a> <a id="3795" href="Terms.Setoid.Properties.html#3795" class="Bound">x</a> <a id="3797" class="Symbol">→</a> <a id="3799" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3801" href="Terms.Setoid.Properties.html#3758" class="Bound">g</a> <a id="3803" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3805" class="Symbol">(</a><a id="3806" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="3808" href="Terms.Setoid.Properties.html#3795" class="Bound">x</a><a id="3809" class="Symbol">)</a> <a id="3811" href="Terms.Setoid.Properties.html#3734" class="Function Operator">≈A</a> <a id="3814" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3816" href="Terms.Setoid.Properties.html#3760" class="Bound">h</a> <a id="3818" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3820" class="Symbol">(</a><a id="3821" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="3823" href="Terms.Setoid.Properties.html#3795" class="Bound">x</a><a id="3824" class="Symbol">))</a>
               <a id="3842" class="Comment">--------------------------------------</a>
  <a id="3883" class="Symbol">→</a>            <a id="3896" class="Symbol">∀</a> <a id="3898" class="Symbol">(</a><a id="3899" href="Terms.Setoid.Properties.html#3899" class="Bound">t</a> <a id="3901" class="Symbol">:</a> <a id="3903" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="3908" href="Terms.Setoid.Properties.html#2473" class="Generalizable">X</a><a id="3909" class="Symbol">)</a> <a id="3911" class="Symbol">→</a>  <a id="3914" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3916" href="Terms.Setoid.Properties.html#3758" class="Bound">g</a> <a id="3918" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3920" href="Terms.Setoid.Properties.html#3899" class="Bound">t</a> <a id="3922" href="Terms.Setoid.Properties.html#3734" class="Function Operator">≈A</a> <a id="3925" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3927" href="Terms.Setoid.Properties.html#3760" class="Bound">h</a> <a id="3929" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3931" href="Terms.Setoid.Properties.html#3899" class="Bound">t</a>

 <a id="3935" href="Terms.Setoid.Properties.html#3743" class="Function">free-unique</a> <a id="3947" href="Terms.Setoid.Properties.html#3947" class="Bound">p</a> <a id="3949" class="Symbol">(</a><a id="3950" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="3952" href="Terms.Setoid.Properties.html#3952" class="Bound">x</a><a id="3953" class="Symbol">)</a> <a id="3955" class="Symbol">=</a> <a id="3957" href="Terms.Setoid.Properties.html#3947" class="Bound">p</a> <a id="3959" href="Terms.Setoid.Properties.html#3952" class="Bound">x</a>

 <a id="3963" href="Terms.Setoid.Properties.html#3743" class="Function">free-unique</a> <a id="3975" class="Symbol">{</a><a id="3976" class="Argument">g</a> <a id="3978" class="Symbol">=</a> <a id="3980" href="Terms.Setoid.Properties.html#3980" class="Bound">g</a><a id="3981" class="Symbol">}</a> <a id="3983" class="Symbol">{</a><a id="3984" href="Terms.Setoid.Properties.html#3984" class="Bound">h</a><a id="3985" class="Symbol">}</a> <a id="3987" href="Terms.Setoid.Properties.html#3987" class="Bound">p</a> <a id="3989" class="Symbol">(</a><a id="3990" href="Terms.Basic.html#2070" class="InductiveConstructor">node</a> <a id="3995" href="Terms.Setoid.Properties.html#3995" class="Bound">f</a> <a id="3997" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="3998" class="Symbol">)</a> <a id="4000" class="Symbol">=</a> <a id="4002" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="4008" class="Symbol">(</a><a id="4009" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="4015" href="Terms.Setoid.Properties.html#4228" class="Function">geq</a> <a id="4019" href="Terms.Setoid.Properties.html#4133" class="Function">lem3</a><a id="4023" class="Symbol">)</a> <a id="4025" class="Symbol">(</a><a id="4026" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="4030" href="Terms.Setoid.Properties.html#4300" class="Function">heq</a><a id="4033" class="Symbol">)</a>
  <a id="4037" class="Keyword">where</a>
  <a id="4045" href="Terms.Setoid.Properties.html#4045" class="Function">lem2</a> <a id="4050" class="Symbol">:</a> <a id="4052" class="Symbol">∀</a> <a id="4054" href="Terms.Setoid.Properties.html#4054" class="Bound">i</a> <a id="4056" class="Symbol">→</a> <a id="4058" class="Symbol">(</a><a id="4059" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4061" href="Terms.Setoid.Properties.html#3980" class="Bound">g</a> <a id="4063" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4065" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4067" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4068" class="Symbol">)</a> <a id="4070" href="Terms.Setoid.Properties.html#4054" class="Bound">i</a> <a id="4072" href="Terms.Setoid.Properties.html#3734" class="Function Operator">≈A</a> <a id="4075" class="Symbol">(</a><a id="4076" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4078" href="Terms.Setoid.Properties.html#3984" class="Bound">h</a> <a id="4080" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4082" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4084" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4085" class="Symbol">)</a> <a id="4087" href="Terms.Setoid.Properties.html#4054" class="Bound">i</a>
  <a id="4091" href="Terms.Setoid.Properties.html#4045" class="Function">lem2</a> <a id="4096" href="Terms.Setoid.Properties.html#4096" class="Bound">i</a> <a id="4098" class="Symbol">=</a> <a id="4100" href="Terms.Setoid.Properties.html#3743" class="Function">free-unique</a><a id="4111" class="Symbol">{</a><a id="4112" class="Argument">g</a> <a id="4114" class="Symbol">=</a> <a id="4116" href="Terms.Setoid.Properties.html#3980" class="Bound">g</a><a id="4117" class="Symbol">}{</a><a id="4119" href="Terms.Setoid.Properties.html#3984" class="Bound">h</a><a id="4120" class="Symbol">}</a> <a id="4122" href="Terms.Setoid.Properties.html#3987" class="Bound">p</a> <a id="4124" class="Symbol">(</a><a id="4125" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a> <a id="4127" href="Terms.Setoid.Properties.html#4096" class="Bound">i</a><a id="4128" class="Symbol">)</a>

  <a id="4133" href="Terms.Setoid.Properties.html#4133" class="Function">lem3</a> <a id="4138" class="Symbol">:</a> <a id="4140" class="Symbol">(</a><a id="4141" href="Terms.Setoid.Properties.html#3995" class="Bound">f</a> <a id="4143" href="Algebras.Setoid.Basic.html#4531" class="Function Operator">̂</a> <a id="4145" href="Terms.Setoid.Properties.html#3645" class="Bound">𝑨</a><a id="4146" class="Symbol">)(</a><a id="4148" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4150" href="Terms.Setoid.Properties.html#3980" class="Bound">g</a> <a id="4152" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4154" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4156" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4157" class="Symbol">)</a> <a id="4159" href="Terms.Setoid.Properties.html#3734" class="Function Operator">≈A</a> <a id="4162" class="Symbol">(</a><a id="4163" href="Terms.Setoid.Properties.html#3995" class="Bound">f</a> <a id="4165" href="Algebras.Setoid.Basic.html#4531" class="Function Operator">̂</a> <a id="4167" href="Terms.Setoid.Properties.html#3645" class="Bound">𝑨</a><a id="4168" class="Symbol">)(</a><a id="4170" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4172" href="Terms.Setoid.Properties.html#3984" class="Bound">h</a> <a id="4174" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4176" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4178" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4179" class="Symbol">)</a>
  <a id="4183" href="Terms.Setoid.Properties.html#4133" class="Function">lem3</a> <a id="4188" class="Symbol">=</a> <a id="4190" href="Function.Bundles.html#1938" class="Field">Func.cong</a> <a id="4200" href="Algebras.Setoid.Basic.html#3321" class="Field">Interp</a> <a id="4207" class="Symbol">(</a><a id="4208" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">_≡_.refl</a> <a id="4217" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4219" href="Terms.Setoid.Properties.html#4045" class="Function">lem2</a><a id="4223" class="Symbol">)</a>

  <a id="4228" href="Terms.Setoid.Properties.html#4228" class="Function">geq</a> <a id="4232" class="Symbol">:</a> <a id="4234" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4236" href="Terms.Setoid.Properties.html#3980" class="Bound">g</a> <a id="4238" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4240" class="Symbol">(</a><a id="4241" href="Terms.Basic.html#2070" class="InductiveConstructor">node</a> <a id="4246" href="Terms.Setoid.Properties.html#3995" class="Bound">f</a> <a id="4248" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4249" class="Symbol">)</a> <a id="4251" href="Terms.Setoid.Properties.html#3734" class="Function Operator">≈A</a> <a id="4254" class="Symbol">(</a><a id="4255" href="Terms.Setoid.Properties.html#3995" class="Bound">f</a> <a id="4257" href="Algebras.Setoid.Basic.html#4531" class="Function Operator">̂</a> <a id="4259" href="Terms.Setoid.Properties.html#3645" class="Bound">𝑨</a><a id="4260" class="Symbol">)(</a><a id="4262" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4264" href="Terms.Setoid.Properties.html#3980" class="Bound">g</a> <a id="4266" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4268" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4270" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4271" class="Symbol">)</a>
  <a id="4275" href="Terms.Setoid.Properties.html#4228" class="Function">geq</a> <a id="4279" class="Symbol">=</a> <a id="4281" href="Algebras.Setoid.Basic.html#3594" class="Function">≡→≈</a> <a id="4285" class="Symbol">(</a><a id="4286" href="Overture.Preliminaries.html#4562" class="Function Operator">∥</a> <a id="4288" href="Terms.Setoid.Properties.html#3980" class="Bound">g</a> <a id="4290" href="Overture.Preliminaries.html#4562" class="Function Operator">∥</a> <a id="4292" href="Terms.Setoid.Properties.html#3995" class="Bound">f</a> <a id="4294" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4295" class="Symbol">)</a>

  <a id="4300" href="Terms.Setoid.Properties.html#4300" class="Function">heq</a> <a id="4304" class="Symbol">:</a> <a id="4306" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4308" href="Terms.Setoid.Properties.html#3984" class="Bound">h</a> <a id="4310" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4312" class="Symbol">(</a><a id="4313" href="Terms.Basic.html#2070" class="InductiveConstructor">node</a> <a id="4318" href="Terms.Setoid.Properties.html#3995" class="Bound">f</a> <a id="4320" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4321" class="Symbol">)</a> <a id="4323" href="Terms.Setoid.Properties.html#3734" class="Function Operator">≈A</a> <a id="4326" class="Symbol">(</a><a id="4327" href="Terms.Setoid.Properties.html#3995" class="Bound">f</a> <a id="4329" href="Algebras.Setoid.Basic.html#4531" class="Function Operator">̂</a> <a id="4331" href="Terms.Setoid.Properties.html#3645" class="Bound">𝑨</a><a id="4332" class="Symbol">)(</a><a id="4334" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4336" href="Terms.Setoid.Properties.html#3984" class="Bound">h</a> <a id="4338" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4340" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4342" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4343" class="Symbol">)</a>
  <a id="4347" href="Terms.Setoid.Properties.html#4300" class="Function">heq</a> <a id="4351" class="Symbol">=</a> <a id="4353" href="Algebras.Setoid.Basic.html#3594" class="Function">≡→≈</a> <a id="4357" class="Symbol">(</a><a id="4358" href="Overture.Preliminaries.html#4562" class="Function Operator">∥</a> <a id="4360" href="Terms.Setoid.Properties.html#3984" class="Bound">h</a> <a id="4362" href="Overture.Preliminaries.html#4562" class="Function Operator">∥</a> <a id="4364" href="Terms.Setoid.Properties.html#3995" class="Bound">f</a> <a id="4366" href="Terms.Setoid.Properties.html#3997" class="Bound">t</a><a id="4367" class="Symbol">)</a>

</pre>

Let's account for what we have proved thus far about the term algebra.  If we postulate a type `X : Type χ` (representing an arbitrary collection of variable symbols) such that for each `𝑆`-algebra `𝑨` there is a map from `X` to the domain of `𝑨`, then it follows that for every `𝑆`-algebra `𝑨` there is a homomorphism from `𝑻 X` to `∣ 𝑨 ∣` that "agrees with the original map on `X`," by which we mean that for all `x : X` the lift evaluated at `ℊ x` is equal to the original function evaluated at `x`.

If we further assume that each of the mappings from `X` to `∣ 𝑨 ∣` is *surjective*, then the homomorphisms constructed with `free-lift` and `lift-hom` are *epimorphisms*, as we now prove.

<pre class="Agda">

<a id="lift-of-epi-is-epi"></a><a id="5089" href="Terms.Setoid.Properties.html#5089" class="Function">lift-of-epi-is-epi</a> <a id="5108" class="Symbol">:</a> <a id="5110" class="Symbol">(</a><a id="5111" href="Terms.Setoid.Properties.html#5111" class="Bound">𝑨</a> <a id="5113" class="Symbol">:</a> <a id="5115" href="Algebras.Setoid.Basic.html#3236" class="Record">SetoidAlgebra</a> <a id="5129" href="Terms.Setoid.Properties.html#1853" class="Generalizable">α</a> <a id="5131" href="Terms.Setoid.Properties.html#1855" class="Generalizable">ρ</a><a id="5132" class="Symbol">){</a><a id="5134" href="Terms.Setoid.Properties.html#5134" class="Bound">h₀</a> <a id="5137" class="Symbol">:</a> <a id="5139" href="Terms.Setoid.Properties.html#2473" class="Generalizable">X</a> <a id="5141" class="Symbol">→</a> <a id="5143" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">𝕌[</a> <a id="5146" href="Terms.Setoid.Properties.html#5111" class="Bound">𝑨</a> <a id="5148" href="Algebras.Setoid.Basic.html#3899" class="Function Operator">]</a><a id="5149" class="Symbol">}</a>
 <a id="5152" class="Symbol">→</a>                   <a id="5172" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="5185" href="Terms.Setoid.Properties.html#5134" class="Bound">h₀</a> <a id="5188" class="Symbol">→</a> <a id="5190" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="5203" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="5205" href="Terms.Setoid.Properties.html#3201" class="Function">lift-hom</a> <a id="5214" href="Terms.Setoid.Properties.html#5111" class="Bound">𝑨</a> <a id="5216" href="Terms.Setoid.Properties.html#5134" class="Bound">h₀</a> <a id="5219" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a>

<a id="5222" href="Terms.Setoid.Properties.html#5089" class="Function">lift-of-epi-is-epi</a> <a id="5241" href="Terms.Setoid.Properties.html#5241" class="Bound">𝑨</a> <a id="5243" class="Symbol">{</a><a id="5244" href="Terms.Setoid.Properties.html#5244" class="Bound">h₀</a><a id="5246" class="Symbol">}</a> <a id="5248" href="Terms.Setoid.Properties.html#5248" class="Bound">hE</a> <a id="5251" href="Terms.Setoid.Properties.html#5251" class="Bound">y</a> <a id="5253" class="Symbol">=</a> <a id="5255" href="Terms.Setoid.Properties.html#5358" class="Function">Goal</a>
 <a id="5261" class="Keyword">where</a>
 <a id="5268" href="Terms.Setoid.Properties.html#5268" class="Function">h₀⁻¹y</a> <a id="5274" class="Symbol">=</a> <a id="5276" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="5280" href="Terms.Setoid.Properties.html#5244" class="Bound">h₀</a> <a id="5283" class="Symbol">(</a><a id="5284" href="Terms.Setoid.Properties.html#5248" class="Bound">hE</a> <a id="5287" href="Terms.Setoid.Properties.html#5251" class="Bound">y</a><a id="5288" class="Symbol">)</a>

 <a id="5292" href="Terms.Setoid.Properties.html#5292" class="Function">η</a> <a id="5294" class="Symbol">:</a> <a id="5296" href="Terms.Setoid.Properties.html#5251" class="Bound">y</a> <a id="5298" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5300" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="5302" href="Terms.Setoid.Properties.html#3201" class="Function">lift-hom</a> <a id="5311" href="Terms.Setoid.Properties.html#5241" class="Bound">𝑨</a> <a id="5313" href="Terms.Setoid.Properties.html#5244" class="Bound">h₀</a> <a id="5316" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="5318" class="Symbol">(</a><a id="5319" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="5321" href="Terms.Setoid.Properties.html#5268" class="Function">h₀⁻¹y</a><a id="5326" class="Symbol">)</a>
 <a id="5329" href="Terms.Setoid.Properties.html#5292" class="Function">η</a> <a id="5331" class="Symbol">=</a> <a id="5333" class="Symbol">(</a><a id="5334" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="5343" href="Terms.Setoid.Properties.html#5244" class="Bound">h₀</a> <a id="5346" class="Symbol">(</a><a id="5347" href="Terms.Setoid.Properties.html#5248" class="Bound">hE</a> <a id="5350" href="Terms.Setoid.Properties.html#5251" class="Bound">y</a><a id="5351" class="Symbol">))</a><a id="5353" href="Overture.Preliminaries.html#5228" class="Function Operator">⁻¹</a>

 <a id="5358" href="Terms.Setoid.Properties.html#5358" class="Function">Goal</a> <a id="5363" class="Symbol">:</a> <a id="5365" href="Overture.Inverses.html#1260" class="Datatype Operator">Image</a> <a id="5371" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="5373" href="Terms.Setoid.Properties.html#3201" class="Function">lift-hom</a> <a id="5382" href="Terms.Setoid.Properties.html#5241" class="Bound">𝑨</a> <a id="5384" href="Terms.Setoid.Properties.html#5244" class="Bound">h₀</a> <a id="5387" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="5389" href="Overture.Inverses.html#1260" class="Datatype Operator">∋</a> <a id="5391" href="Terms.Setoid.Properties.html#5251" class="Bound">y</a>
 <a id="5394" href="Terms.Setoid.Properties.html#5358" class="Function">Goal</a> <a id="5399" class="Symbol">=</a> <a id="5401" href="Overture.Inverses.html#1308" class="InductiveConstructor">eq</a> <a id="5404" class="Symbol">(</a><a id="5405" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="5407" href="Terms.Setoid.Properties.html#5268" class="Function">h₀⁻¹y</a><a id="5412" class="Symbol">)</a> <a id="5414" href="Terms.Setoid.Properties.html#5292" class="Function">η</a>

</pre>

The `lift-hom` and `lift-of-epi-is-epi` types will be called to action when such epimorphisms are needed later (e.g., in the [Varieties][] module).


------------------------------

<span style="float:left;">[← Terms.Setoid.Basic](Terms.Setoid.Basic.html)</span>
<span style="float:right;">[Subalgebras →](Subalgebras.html)</span>

{% include UALib.Links.md %}

[the agda-algebras development team]: https://github.com/ualib/agda-algebras#the-agda-algebras-development-team

