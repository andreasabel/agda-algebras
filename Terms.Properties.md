---
layout: default
title : Terms.Properties module (The Agda Universal Algebra Library)
date : 2021-07-03
author: [agda-algebras development team][]
---

### <a id="properties-of-terms-and-the-term-algebra">Properties of Terms and the Term Algebra</a>

This is the [Terms.Properties][] module of the [Agda Universal Algebra Library][].


<pre class="Agda">

<a id="354" class="Symbol">{-#</a> <a id="358" class="Keyword">OPTIONS</a> <a id="366" class="Pragma">--without-K</a> <a id="378" class="Pragma">--exact-split</a> <a id="392" class="Pragma">--safe</a> <a id="399" class="Symbol">#-}</a>

<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="431" class="Keyword">using</a> <a id="437" class="Symbol">(</a> <a id="439" href="Algebras.Basic.html#1155" class="Generalizable">𝓞</a> <a id="441" class="Symbol">;</a> <a id="443" href="Algebras.Basic.html#1157" class="Generalizable">𝓥</a> <a id="445" class="Symbol">;</a> <a id="447" href="Algebras.Basic.html#3581" class="Function">Signature</a> <a id="457" class="Symbol">)</a>

<a id="460" class="Keyword">module</a> <a id="467" href="Terms.Properties.html" class="Module">Terms.Properties</a> <a id="484" class="Symbol">{</a><a id="485" href="Terms.Properties.html#485" class="Bound">𝑆</a> <a id="487" class="Symbol">:</a> <a id="489" href="Algebras.Basic.html#3581" class="Function">Signature</a> <a id="499" href="Algebras.Basic.html#1155" class="Generalizable">𝓞</a> <a id="501" href="Algebras.Basic.html#1157" class="Generalizable">𝓥</a><a id="502" class="Symbol">}</a> <a id="504" class="Keyword">where</a>


<a id="512" class="Comment">-- Imports from Agda and the Agda Standard Library ---------------------</a>
<a id="585" class="Keyword">open</a> <a id="590" class="Keyword">import</a> <a id="597" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                                   <a id="667" class="Keyword">using</a> <a id="673" class="Symbol">()</a> <a id="676" class="Keyword">renaming</a> <a id="685" class="Symbol">(</a><a id="686" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="701" class="Symbol">to</a> <a id="704" class="Function">funext</a><a id="710" class="Symbol">)</a>
<a id="712" class="Keyword">open</a> <a id="717" class="Keyword">import</a> <a id="724" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>         <a id="747" class="Keyword">using</a> <a id="753" class="Symbol">(</a> <a id="755" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="761" class="Symbol">;</a> <a id="763" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="767" class="Symbol">;</a> <a id="769" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="774" class="Symbol">)</a> <a id="776" class="Keyword">renaming</a> <a id="785" class="Symbol">(</a> <a id="787" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="791" class="Symbol">to</a> <a id="794" class="Primitive">Type</a> <a id="799" class="Symbol">)</a>
<a id="801" class="Keyword">open</a> <a id="806" class="Keyword">import</a> <a id="813" href="Data.Product.html" class="Module">Data.Product</a>           <a id="836" class="Keyword">using</a> <a id="842" class="Symbol">(</a> <a id="844" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="848" class="Symbol">;</a> <a id="850" href="Data.Product.html#916" class="Function">Σ-syntax</a> <a id="859" class="Symbol">)</a>
<a id="861" class="Keyword">open</a> <a id="866" class="Keyword">import</a> <a id="873" href="Function.Base.html" class="Module">Function.Base</a>          <a id="896" class="Keyword">using</a> <a id="902" class="Symbol">(</a> <a id="904" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="908" class="Symbol">)</a>
<a id="910" class="Keyword">open</a> <a id="915" class="Keyword">import</a> <a id="922" href="Data.Empty.Polymorphic.html" class="Module">Data.Empty.Polymorphic</a> <a id="945" class="Keyword">using</a> <a id="951" class="Symbol">(</a> <a id="953" href="Data.Empty.Polymorphic.html#331" class="Function">⊥</a> <a id="955" class="Symbol">)</a>
<a id="957" class="Keyword">open</a> <a id="962" class="Keyword">import</a> <a id="969" href="Relation.Binary.html" class="Module">Relation.Binary</a>        <a id="992" class="Keyword">using</a> <a id="998" class="Symbol">(</a> <a id="1000" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="1014" class="Symbol">;</a> <a id="1016" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1023" class="Symbol">)</a>
<a id="1025" class="Keyword">open</a> <a id="1030" class="Keyword">import</a> <a id="1037" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a>
                                   <a id="1100" class="Keyword">using</a> <a id="1106" class="Symbol">(</a><a id="1107" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="1117" class="Symbol">;</a> <a id="1119" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="1129" class="Symbol">;</a> <a id="1131" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="1142" class="Symbol">)</a>
<a id="1144" class="Keyword">open</a> <a id="1149" class="Keyword">import</a> <a id="1156" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                                   <a id="1229" class="Keyword">using</a> <a id="1235" class="Symbol">(</a> <a id="1237" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="1241" class="Symbol">;</a> <a id="1243" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1248" class="Symbol">;</a> <a id="1250" class="Keyword">module</a> <a id="1257" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a> <a id="1269" class="Symbol">;</a> <a id="1271" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1276" class="Symbol">)</a>


<a id="1280" class="Comment">-- Imports from agda-algebras --------------------------------------------------------------</a>
<a id="1373" class="Keyword">open</a> <a id="1378" class="Keyword">import</a> <a id="1385" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>      <a id="1413" class="Keyword">using</a> <a id="1419" class="Symbol">(</a> <a id="1421" href="Overture.Preliminaries.html#4949" class="Function Operator">_⁻¹</a> <a id="1425" class="Symbol">;</a> <a id="1427" href="Overture.Preliminaries.html#5348" class="Function">𝑖𝑑</a> <a id="1430" class="Symbol">;</a> <a id="1432" href="Overture.Preliminaries.html#4245" class="Function Operator">∣_∣</a> <a id="1436" class="Symbol">;</a> <a id="1438" href="Overture.Preliminaries.html#4283" class="Function Operator">∥_∥</a><a id="1441" class="Symbol">)</a>
<a id="1443" class="Keyword">open</a> <a id="1448" class="Keyword">import</a> <a id="1455" href="Overture.Inverses.html" class="Module">Overture.Inverses</a>           <a id="1483" class="Keyword">using</a> <a id="1489" class="Symbol">(</a> <a id="1491" href="Overture.Inverses.html#3271" class="Function">IsSurjective</a> <a id="1504" class="Symbol">;</a> <a id="1506" href="Overture.Inverses.html#1815" class="Function">Inv</a> <a id="1510" class="Symbol">;</a> <a id="1512" href="Overture.Inverses.html#1978" class="Function">InvIsInv</a> <a id="1521" class="Symbol">;</a> <a id="1523" href="Overture.Inverses.html#1215" class="Datatype Operator">Image_∋_</a><a id="1531" class="Symbol">;</a> <a id="1533" href="Overture.Inverses.html#1263" class="InductiveConstructor">eq</a> <a id="1536" class="Symbol">)</a>
<a id="1538" class="Keyword">open</a> <a id="1543" class="Keyword">import</a> <a id="1550" href="Foundations.Welldefined.html" class="Module">Foundations.Welldefined</a>     <a id="1578" class="Keyword">using</a> <a id="1584" class="Symbol">(</a><a id="1585" href="Foundations.Welldefined.html#2935" class="Function">swelldef</a><a id="1593" class="Symbol">)</a>
<a id="1595" class="Keyword">open</a> <a id="1600" class="Keyword">import</a> <a id="1607" href="Algebras.Basic.html" class="Module">Algebras.Basic</a>              <a id="1635" class="Keyword">using</a> <a id="1641" class="Symbol">(</a> <a id="1643" href="Algebras.Basic.html#6023" class="Function">Algebra</a> <a id="1651" class="Symbol">;</a> <a id="1653" href="Algebras.Basic.html#9053" class="Function Operator">_̂_</a> <a id="1657" class="Symbol">)</a>
<a id="1659" class="Keyword">open</a> <a id="1664" class="Keyword">import</a> <a id="1671" href="Algebras.Products.html" class="Module">Algebras.Products</a>   <a id="1691" class="Symbol">{</a><a id="1692" class="Argument">𝑆</a> <a id="1694" class="Symbol">=</a> <a id="1696" href="Terms.Properties.html#485" class="Bound">𝑆</a><a id="1697" class="Symbol">}</a> <a id="1699" class="Keyword">using</a> <a id="1705" class="Symbol">(</a> <a id="1707" href="Algebras.Products.html#3003" class="Function">ov</a> <a id="1710" class="Symbol">)</a>
<a id="1712" class="Keyword">open</a> <a id="1717" class="Keyword">import</a> <a id="1724" href="Homomorphisms.Basic.html" class="Module">Homomorphisms.Basic</a> <a id="1744" class="Symbol">{</a><a id="1745" class="Argument">𝑆</a> <a id="1747" class="Symbol">=</a> <a id="1749" href="Terms.Properties.html#485" class="Bound">𝑆</a><a id="1750" class="Symbol">}</a> <a id="1752" class="Keyword">using</a> <a id="1758" class="Symbol">(</a> <a id="1760" href="Homomorphisms.Basic.html#3104" class="Function">hom</a> <a id="1764" class="Symbol">)</a>
<a id="1766" class="Keyword">open</a> <a id="1771" class="Keyword">import</a> <a id="1778" href="Terms.Basic.html" class="Module">Terms.Basic</a>         <a id="1798" class="Symbol">{</a><a id="1799" class="Argument">𝑆</a> <a id="1801" class="Symbol">=</a> <a id="1803" href="Terms.Properties.html#485" class="Bound">𝑆</a><a id="1804" class="Symbol">}</a>

<a id="1807" class="Keyword">private</a> <a id="1815" class="Keyword">variable</a> <a id="1824" href="Terms.Properties.html#1824" class="Generalizable">α</a> <a id="1826" href="Terms.Properties.html#1826" class="Generalizable">β</a> <a id="1828" href="Terms.Properties.html#1828" class="Generalizable">χ</a> <a id="1830" class="Symbol">:</a> <a id="1832" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>


#### <a id="the-universal-property">The universal property</a>

The term algebra `𝑻 X` is *absolutely free* (or *universal*, or *initial*) for algebras in the signature `𝑆`. That is, for every 𝑆-algebra `𝑨`, the following hold.

1. Every function from `𝑋` to `∣ 𝑨 ∣` lifts to a homomorphism from `𝑻 X` to `𝑨`.
2. The homomorphism that exists by item 1 is unique.

We now prove this in [Agda][], starting with the fact that every map from `X` to `∣ 𝑨 ∣` lifts to a map from `∣ 𝑻 X ∣` to `∣ 𝑨 ∣` in a natural way, by induction on the structure of the given term.

<pre class="Agda">

<a id="2428" class="Keyword">private</a> <a id="2436" class="Keyword">variable</a> <a id="2445" href="Terms.Properties.html#2445" class="Generalizable">X</a> <a id="2447" class="Symbol">:</a> <a id="2449" href="Terms.Properties.html#794" class="Primitive">Type</a> <a id="2454" href="Terms.Properties.html#1828" class="Generalizable">χ</a>

<a id="free-lift"></a><a id="2457" href="Terms.Properties.html#2457" class="Function">free-lift</a> <a id="2467" class="Symbol">:</a> <a id="2469" class="Symbol">(</a><a id="2470" href="Terms.Properties.html#2470" class="Bound">𝑨</a> <a id="2472" class="Symbol">:</a> <a id="2474" href="Algebras.Basic.html#6023" class="Function">Algebra</a> <a id="2482" href="Terms.Properties.html#1824" class="Generalizable">α</a> <a id="2484" href="Terms.Properties.html#485" class="Bound">𝑆</a><a id="2485" class="Symbol">)(</a><a id="2487" href="Terms.Properties.html#2487" class="Bound">h</a> <a id="2489" class="Symbol">:</a> <a id="2491" href="Terms.Properties.html#2445" class="Generalizable">X</a> <a id="2493" class="Symbol">→</a> <a id="2495" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="2497" href="Terms.Properties.html#2470" class="Bound">𝑨</a> <a id="2499" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a><a id="2500" class="Symbol">)</a> <a id="2502" class="Symbol">→</a> <a id="2504" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="2506" href="Terms.Basic.html#3125" class="Function">𝑻</a> <a id="2508" href="Terms.Properties.html#2445" class="Generalizable">X</a> <a id="2510" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="2512" class="Symbol">→</a> <a id="2514" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="2516" href="Terms.Properties.html#2470" class="Bound">𝑨</a> <a id="2518" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a>
<a id="2520" href="Terms.Properties.html#2457" class="Function">free-lift</a> <a id="2530" class="Symbol">_</a> <a id="2532" href="Terms.Properties.html#2532" class="Bound">h</a> <a id="2534" class="Symbol">(</a><a id="2535" href="Terms.Basic.html#1894" class="InductiveConstructor">ℊ</a> <a id="2537" href="Terms.Properties.html#2537" class="Bound">x</a><a id="2538" class="Symbol">)</a> <a id="2540" class="Symbol">=</a> <a id="2542" href="Terms.Properties.html#2532" class="Bound">h</a> <a id="2544" href="Terms.Properties.html#2537" class="Bound">x</a>
<a id="2546" href="Terms.Properties.html#2457" class="Function">free-lift</a> <a id="2556" href="Terms.Properties.html#2556" class="Bound">𝑨</a> <a id="2558" href="Terms.Properties.html#2558" class="Bound">h</a> <a id="2560" class="Symbol">(</a><a id="2561" href="Terms.Basic.html#1936" class="InductiveConstructor">node</a> <a id="2566" href="Terms.Properties.html#2566" class="Bound">f</a> <a id="2568" href="Terms.Properties.html#2568" class="Bound">𝑡</a><a id="2569" class="Symbol">)</a> <a id="2571" class="Symbol">=</a> <a id="2573" class="Symbol">(</a><a id="2574" href="Terms.Properties.html#2566" class="Bound">f</a> <a id="2576" href="Algebras.Basic.html#9053" class="Function Operator">̂</a> <a id="2578" href="Terms.Properties.html#2556" class="Bound">𝑨</a><a id="2579" class="Symbol">)</a> <a id="2581" class="Symbol">(λ</a> <a id="2584" href="Terms.Properties.html#2584" class="Bound">i</a> <a id="2586" class="Symbol">→</a> <a id="2588" href="Terms.Properties.html#2457" class="Function">free-lift</a> <a id="2598" href="Terms.Properties.html#2556" class="Bound">𝑨</a> <a id="2600" href="Terms.Properties.html#2558" class="Bound">h</a> <a id="2602" class="Symbol">(</a><a id="2603" href="Terms.Properties.html#2568" class="Bound">𝑡</a> <a id="2605" href="Terms.Properties.html#2584" class="Bound">i</a><a id="2606" class="Symbol">))</a>

</pre>

Naturally, at the base step of the induction, when the term has the form `generator`
x, the free lift of `h` agrees with `h`.  For the inductive step, when the
given term has the form `node f 𝑡`, the free lift is defined as
follows: Assuming (the induction hypothesis) that we know the image of each
subterm `𝑡 i` under the free lift of `h`, define the free lift at the
full term by applying `f ̂ 𝑨` to the images of the subterms.

The free lift so defined is a homomorphism by construction. Indeed, here is the trivial proof.

<pre class="Agda">

<a id="lift-hom"></a><a id="3164" href="Terms.Properties.html#3164" class="Function">lift-hom</a> <a id="3173" class="Symbol">:</a> <a id="3175" class="Symbol">(</a><a id="3176" href="Terms.Properties.html#3176" class="Bound">𝑨</a> <a id="3178" class="Symbol">:</a> <a id="3180" href="Algebras.Basic.html#6023" class="Function">Algebra</a> <a id="3188" href="Terms.Properties.html#1824" class="Generalizable">α</a> <a id="3190" href="Terms.Properties.html#485" class="Bound">𝑆</a><a id="3191" class="Symbol">)</a> <a id="3193" class="Symbol">→</a> <a id="3195" class="Symbol">(</a><a id="3196" href="Terms.Properties.html#2445" class="Generalizable">X</a> <a id="3198" class="Symbol">→</a> <a id="3200" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3202" href="Terms.Properties.html#3176" class="Bound">𝑨</a> <a id="3204" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a><a id="3205" class="Symbol">)</a> <a id="3207" class="Symbol">→</a> <a id="3209" href="Homomorphisms.Basic.html#3104" class="Function">hom</a> <a id="3213" class="Symbol">(</a><a id="3214" href="Terms.Basic.html#3125" class="Function">𝑻</a> <a id="3216" href="Terms.Properties.html#2445" class="Generalizable">X</a><a id="3217" class="Symbol">)</a> <a id="3219" href="Terms.Properties.html#3176" class="Bound">𝑨</a>
<a id="3221" href="Terms.Properties.html#3164" class="Function">lift-hom</a> <a id="3230" href="Terms.Properties.html#3230" class="Bound">𝑨</a> <a id="3232" href="Terms.Properties.html#3232" class="Bound">h</a> <a id="3234" class="Symbol">=</a> <a id="3236" href="Terms.Properties.html#2457" class="Function">free-lift</a> <a id="3246" href="Terms.Properties.html#3230" class="Bound">𝑨</a> <a id="3248" href="Terms.Properties.html#3232" class="Bound">h</a> <a id="3250" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3252" class="Symbol">λ</a> <a id="3254" href="Terms.Properties.html#3254" class="Bound">f</a> <a id="3256" href="Terms.Properties.html#3256" class="Bound">a</a> <a id="3258" class="Symbol">→</a> <a id="3260" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3265" class="Symbol">(</a><a id="3266" href="Terms.Properties.html#3254" class="Bound">f</a> <a id="3268" href="Algebras.Basic.html#9053" class="Function Operator">̂</a> <a id="3270" href="Terms.Properties.html#3230" class="Bound">𝑨</a><a id="3271" class="Symbol">)</a> <a id="3273" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

</pre>

Finally, we prove that the homomorphism is unique.  This requires `funext 𝓥 α` (i.e., *function extensionality* at universe levels `𝓥` and `α`) which we postulate by making it part of the premise in the following function type definition.

<pre class="Agda">

<a id="3545" class="Keyword">open</a> <a id="3550" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>

<a id="free-unique"></a><a id="3563" href="Terms.Properties.html#3563" class="Function">free-unique</a> <a id="3575" class="Symbol">:</a> <a id="3577" href="Foundations.Welldefined.html#2935" class="Function">swelldef</a> <a id="3586" href="Terms.Properties.html#501" class="Bound">𝓥</a> <a id="3588" href="Terms.Properties.html#1824" class="Generalizable">α</a> <a id="3590" class="Symbol">→</a> <a id="3592" class="Symbol">(</a><a id="3593" href="Terms.Properties.html#3593" class="Bound">𝑨</a> <a id="3595" class="Symbol">:</a> <a id="3597" href="Algebras.Basic.html#6023" class="Function">Algebra</a> <a id="3605" href="Terms.Properties.html#1824" class="Generalizable">α</a> <a id="3607" href="Terms.Properties.html#485" class="Bound">𝑆</a><a id="3608" class="Symbol">)(</a><a id="3610" href="Terms.Properties.html#3610" class="Bound">g</a> <a id="3612" href="Terms.Properties.html#3612" class="Bound">h</a> <a id="3614" class="Symbol">:</a> <a id="3616" href="Homomorphisms.Basic.html#3104" class="Function">hom</a> <a id="3620" class="Symbol">(</a><a id="3621" href="Terms.Basic.html#3125" class="Function">𝑻</a> <a id="3623" href="Terms.Properties.html#2445" class="Generalizable">X</a><a id="3624" class="Symbol">)</a> <a id="3626" href="Terms.Properties.html#3593" class="Bound">𝑨</a><a id="3627" class="Symbol">)</a>
 <a id="3630" class="Symbol">→</a>            <a id="3643" class="Symbol">(∀</a> <a id="3646" href="Terms.Properties.html#3646" class="Bound">x</a> <a id="3648" class="Symbol">→</a> <a id="3650" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3652" href="Terms.Properties.html#3610" class="Bound">g</a> <a id="3654" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3656" class="Symbol">(</a><a id="3657" href="Terms.Basic.html#1894" class="InductiveConstructor">ℊ</a> <a id="3659" href="Terms.Properties.html#3646" class="Bound">x</a><a id="3660" class="Symbol">)</a> <a id="3662" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3664" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3666" href="Terms.Properties.html#3612" class="Bound">h</a> <a id="3668" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3670" class="Symbol">(</a><a id="3671" href="Terms.Basic.html#1894" class="InductiveConstructor">ℊ</a> <a id="3673" href="Terms.Properties.html#3646" class="Bound">x</a><a id="3674" class="Symbol">))</a>
              <a id="3691" class="Comment">----------------------------------------</a>
 <a id="3733" class="Symbol">→</a>            <a id="3746" class="Symbol">∀</a> <a id="3748" class="Symbol">(</a><a id="3749" href="Terms.Properties.html#3749" class="Bound">t</a> <a id="3751" class="Symbol">:</a> <a id="3753" href="Terms.Basic.html#1853" class="Datatype">Term</a> <a id="3758" href="Terms.Properties.html#2445" class="Generalizable">X</a><a id="3759" class="Symbol">)</a> <a id="3761" class="Symbol">→</a>  <a id="3764" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3766" href="Terms.Properties.html#3610" class="Bound">g</a> <a id="3768" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3770" href="Terms.Properties.html#3749" class="Bound">t</a> <a id="3772" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3774" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3776" href="Terms.Properties.html#3612" class="Bound">h</a> <a id="3778" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3780" href="Terms.Properties.html#3749" class="Bound">t</a>

<a id="3783" href="Terms.Properties.html#3563" class="Function">free-unique</a> <a id="3795" class="Symbol">_</a> <a id="3797" class="Symbol">_</a> <a id="3799" class="Symbol">_</a> <a id="3801" class="Symbol">_</a> <a id="3803" href="Terms.Properties.html#3803" class="Bound">p</a> <a id="3805" class="Symbol">(</a><a id="3806" href="Terms.Basic.html#1894" class="InductiveConstructor">ℊ</a> <a id="3808" href="Terms.Properties.html#3808" class="Bound">x</a><a id="3809" class="Symbol">)</a> <a id="3811" class="Symbol">=</a> <a id="3813" href="Terms.Properties.html#3803" class="Bound">p</a> <a id="3815" href="Terms.Properties.html#3808" class="Bound">x</a>

<a id="3818" href="Terms.Properties.html#3563" class="Function">free-unique</a> <a id="3830" href="Terms.Properties.html#3830" class="Bound">wd</a> <a id="3833" href="Terms.Properties.html#3833" class="Bound">𝑨</a> <a id="3835" href="Terms.Properties.html#3835" class="Bound">g</a> <a id="3837" href="Terms.Properties.html#3837" class="Bound">h</a> <a id="3839" href="Terms.Properties.html#3839" class="Bound">p</a> <a id="3841" class="Symbol">(</a><a id="3842" href="Terms.Basic.html#1936" class="InductiveConstructor">node</a> <a id="3847" href="Terms.Properties.html#3847" class="Bound">𝑓</a> <a id="3849" href="Terms.Properties.html#3849" class="Bound">𝑡</a><a id="3850" class="Symbol">)</a> <a id="3852" class="Symbol">=</a>

 <a id="3856" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3858" href="Terms.Properties.html#3835" class="Bound">g</a> <a id="3860" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3862" class="Symbol">(</a><a id="3863" href="Terms.Basic.html#1936" class="InductiveConstructor">node</a> <a id="3868" href="Terms.Properties.html#3847" class="Bound">𝑓</a> <a id="3870" href="Terms.Properties.html#3849" class="Bound">𝑡</a><a id="3871" class="Symbol">)</a>    <a id="3876" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="3879" href="Overture.Preliminaries.html#4283" class="Function Operator">∥</a> <a id="3881" href="Terms.Properties.html#3835" class="Bound">g</a> <a id="3883" href="Overture.Preliminaries.html#4283" class="Function Operator">∥</a> <a id="3885" href="Terms.Properties.html#3847" class="Bound">𝑓</a> <a id="3887" href="Terms.Properties.html#3849" class="Bound">𝑡</a> <a id="3889" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
 <a id="3892" class="Symbol">(</a><a id="3893" href="Terms.Properties.html#3847" class="Bound">𝑓</a> <a id="3895" href="Algebras.Basic.html#9053" class="Function Operator">̂</a> <a id="3897" href="Terms.Properties.html#3833" class="Bound">𝑨</a><a id="3898" class="Symbol">)(</a><a id="3900" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3902" href="Terms.Properties.html#3835" class="Bound">g</a> <a id="3904" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3906" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3908" href="Terms.Properties.html#3849" class="Bound">𝑡</a><a id="3909" class="Symbol">)</a>  <a id="3912" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="3915" href="Terms.Properties.html#3830" class="Bound">wd</a> <a id="3918" class="Symbol">(</a><a id="3919" href="Terms.Properties.html#3847" class="Bound">𝑓</a> <a id="3921" href="Algebras.Basic.html#9053" class="Function Operator">̂</a> <a id="3923" href="Terms.Properties.html#3833" class="Bound">𝑨</a><a id="3924" class="Symbol">)(</a><a id="3926" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3928" href="Terms.Properties.html#3835" class="Bound">g</a> <a id="3930" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3932" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3934" href="Terms.Properties.html#3849" class="Bound">𝑡</a><a id="3935" class="Symbol">)(</a><a id="3937" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3939" href="Terms.Properties.html#3837" class="Bound">h</a> <a id="3941" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3943" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3945" href="Terms.Properties.html#3849" class="Bound">𝑡</a><a id="3946" class="Symbol">)(λ</a> <a id="3950" href="Terms.Properties.html#3950" class="Bound">i</a> <a id="3952" class="Symbol">→</a> <a id="3954" href="Terms.Properties.html#3563" class="Function">free-unique</a> <a id="3966" href="Terms.Properties.html#3830" class="Bound">wd</a> <a id="3969" href="Terms.Properties.html#3833" class="Bound">𝑨</a> <a id="3971" href="Terms.Properties.html#3835" class="Bound">g</a> <a id="3973" href="Terms.Properties.html#3837" class="Bound">h</a> <a id="3975" href="Terms.Properties.html#3839" class="Bound">p</a> <a id="3977" class="Symbol">(</a><a id="3978" href="Terms.Properties.html#3849" class="Bound">𝑡</a> <a id="3980" href="Terms.Properties.html#3950" class="Bound">i</a><a id="3981" class="Symbol">))</a> <a id="3984" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
 <a id="3987" class="Symbol">(</a><a id="3988" href="Terms.Properties.html#3847" class="Bound">𝑓</a> <a id="3990" href="Algebras.Basic.html#9053" class="Function Operator">̂</a> <a id="3992" href="Terms.Properties.html#3833" class="Bound">𝑨</a><a id="3993" class="Symbol">)(</a><a id="3995" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="3997" href="Terms.Properties.html#3837" class="Bound">h</a> <a id="3999" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="4001" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4003" href="Terms.Properties.html#3849" class="Bound">𝑡</a><a id="4004" class="Symbol">)</a>  <a id="4007" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="4010" class="Symbol">(</a><a id="4011" href="Overture.Preliminaries.html#4283" class="Function Operator">∥</a> <a id="4013" href="Terms.Properties.html#3837" class="Bound">h</a> <a id="4015" href="Overture.Preliminaries.html#4283" class="Function Operator">∥</a> <a id="4017" href="Terms.Properties.html#3847" class="Bound">𝑓</a> <a id="4019" href="Terms.Properties.html#3849" class="Bound">𝑡</a><a id="4020" class="Symbol">)</a><a id="4021" href="Overture.Preliminaries.html#4949" class="Function Operator">⁻¹</a> <a id="4024" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
 <a id="4027" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="4029" href="Terms.Properties.html#3837" class="Bound">h</a> <a id="4031" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="4033" class="Symbol">(</a><a id="4034" href="Terms.Basic.html#1936" class="InductiveConstructor">node</a> <a id="4039" href="Terms.Properties.html#3847" class="Bound">𝑓</a> <a id="4041" href="Terms.Properties.html#3849" class="Bound">𝑡</a><a id="4042" class="Symbol">)</a>    <a id="4047" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

</pre>

Let's account for what we have proved thus far about the term algebra.  If we postulate a type `X : Type χ` (representing an arbitrary collection of variable symbols) such that for each `𝑆`-algebra `𝑨` there is a map from `X` to the domain of `𝑨`, then it follows that for every `𝑆`-algebra `𝑨` there is a homomorphism from `𝑻 X` to `∣ 𝑨 ∣` that "agrees with the original map on `X`," by which we mean that for all `x : X` the lift evaluated at `ℊ x` is equal to the original function evaluated at `x`.

If we further assume that each of the mappings from `X` to `∣ 𝑨 ∣` is *surjective*, then the homomorphisms constructed with `free-lift` and `lift-hom` are *epimorphisms*, as we now prove.

<pre class="Agda">

<a id="lift-of-epi-is-epi"></a><a id="4769" href="Terms.Properties.html#4769" class="Function">lift-of-epi-is-epi</a> <a id="4788" class="Symbol">:</a> <a id="4790" class="Symbol">(</a><a id="4791" href="Terms.Properties.html#4791" class="Bound">𝑨</a> <a id="4793" class="Symbol">:</a> <a id="4795" href="Algebras.Basic.html#6023" class="Function">Algebra</a> <a id="4803" href="Terms.Properties.html#1824" class="Generalizable">α</a> <a id="4805" href="Terms.Properties.html#485" class="Bound">𝑆</a><a id="4806" class="Symbol">){</a><a id="4808" href="Terms.Properties.html#4808" class="Bound">h₀</a> <a id="4811" class="Symbol">:</a> <a id="4813" href="Terms.Properties.html#2445" class="Generalizable">X</a> <a id="4815" class="Symbol">→</a> <a id="4817" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="4819" href="Terms.Properties.html#4791" class="Bound">𝑨</a> <a id="4821" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a><a id="4822" class="Symbol">}</a>
 <a id="4825" class="Symbol">→</a>                   <a id="4845" href="Overture.Inverses.html#3271" class="Function">IsSurjective</a> <a id="4858" href="Terms.Properties.html#4808" class="Bound">h₀</a> <a id="4861" class="Symbol">→</a> <a id="4863" href="Overture.Inverses.html#3271" class="Function">IsSurjective</a> <a id="4876" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="4878" href="Terms.Properties.html#3164" class="Function">lift-hom</a> <a id="4887" href="Terms.Properties.html#4791" class="Bound">𝑨</a> <a id="4889" href="Terms.Properties.html#4808" class="Bound">h₀</a> <a id="4892" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a>

<a id="4895" href="Terms.Properties.html#4769" class="Function">lift-of-epi-is-epi</a> <a id="4914" href="Terms.Properties.html#4914" class="Bound">𝑨</a> <a id="4916" class="Symbol">{</a><a id="4917" href="Terms.Properties.html#4917" class="Bound">h₀</a><a id="4919" class="Symbol">}</a> <a id="4921" href="Terms.Properties.html#4921" class="Bound">hE</a> <a id="4924" href="Terms.Properties.html#4924" class="Bound">y</a> <a id="4926" class="Symbol">=</a> <a id="4928" href="Terms.Properties.html#5031" class="Function">Goal</a>
 <a id="4934" class="Keyword">where</a>
 <a id="4941" href="Terms.Properties.html#4941" class="Function">h₀⁻¹y</a> <a id="4947" class="Symbol">=</a> <a id="4949" href="Overture.Inverses.html#1815" class="Function">Inv</a> <a id="4953" href="Terms.Properties.html#4917" class="Bound">h₀</a> <a id="4956" class="Symbol">(</a><a id="4957" href="Terms.Properties.html#4921" class="Bound">hE</a> <a id="4960" href="Terms.Properties.html#4924" class="Bound">y</a><a id="4961" class="Symbol">)</a>

 <a id="4965" href="Terms.Properties.html#4965" class="Function">η</a> <a id="4967" class="Symbol">:</a> <a id="4969" href="Terms.Properties.html#4924" class="Bound">y</a> <a id="4971" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4973" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="4975" href="Terms.Properties.html#3164" class="Function">lift-hom</a> <a id="4984" href="Terms.Properties.html#4914" class="Bound">𝑨</a> <a id="4986" href="Terms.Properties.html#4917" class="Bound">h₀</a> <a id="4989" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="4991" class="Symbol">(</a><a id="4992" href="Terms.Basic.html#1894" class="InductiveConstructor">ℊ</a> <a id="4994" href="Terms.Properties.html#4941" class="Function">h₀⁻¹y</a><a id="4999" class="Symbol">)</a>
 <a id="5002" href="Terms.Properties.html#4965" class="Function">η</a> <a id="5004" class="Symbol">=</a> <a id="5006" class="Symbol">(</a><a id="5007" href="Overture.Inverses.html#1978" class="Function">InvIsInv</a> <a id="5016" href="Terms.Properties.html#4917" class="Bound">h₀</a> <a id="5019" class="Symbol">(</a><a id="5020" href="Terms.Properties.html#4921" class="Bound">hE</a> <a id="5023" href="Terms.Properties.html#4924" class="Bound">y</a><a id="5024" class="Symbol">))</a><a id="5026" href="Overture.Preliminaries.html#4949" class="Function Operator">⁻¹</a>

 <a id="5031" href="Terms.Properties.html#5031" class="Function">Goal</a> <a id="5036" class="Symbol">:</a> <a id="5038" href="Overture.Inverses.html#1215" class="Datatype Operator">Image</a> <a id="5044" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="5046" href="Terms.Properties.html#3164" class="Function">lift-hom</a> <a id="5055" href="Terms.Properties.html#4914" class="Bound">𝑨</a> <a id="5057" href="Terms.Properties.html#4917" class="Bound">h₀</a> <a id="5060" href="Overture.Preliminaries.html#4245" class="Function Operator">∣</a> <a id="5062" href="Overture.Inverses.html#1215" class="Datatype Operator">∋</a> <a id="5064" href="Terms.Properties.html#4924" class="Bound">y</a>
 <a id="5067" href="Terms.Properties.html#5031" class="Function">Goal</a> <a id="5072" class="Symbol">=</a> <a id="5074" href="Overture.Inverses.html#1263" class="InductiveConstructor">eq</a> <a id="5077" class="Symbol">(</a><a id="5078" href="Terms.Basic.html#1894" class="InductiveConstructor">ℊ</a> <a id="5080" href="Terms.Properties.html#4941" class="Function">h₀⁻¹y</a><a id="5085" class="Symbol">)</a> <a id="5087" href="Terms.Properties.html#4965" class="Function">η</a>

</pre>

The `lift-hom` and `lift-of-epi-is-epi` types will be called to action when such epimorphisms are needed later (e.g., in the [Varieties][] module).


------------------------------

<br>

[← Terms.Basic](Terms.Basic.html)
<span style="float:right;">[Terms.Operations →](Terms.Operations.html)</span>

{% include UALib.Links.md %}

[the agda-algebras development team]: https://github.com/ualib/agda-algebras#the-agda-algebras-development-team

