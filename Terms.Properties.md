---
layout: default
title : Terms.Properties module (The Agda Universal Algebra Library)
date : 2021-07-03
author: [agda-algebras development team][]
---

## <a id="properties-of-terms-and-the-term-algebra">Properties of Terms and the Term Algebra</a>

This is the [Terms.Properties][] module of the [Agda Universal Algebra Library][].


<pre class="Agda">

<a id="353" class="Symbol">{-#</a> <a id="357" class="Keyword">OPTIONS</a> <a id="365" class="Pragma">--without-K</a> <a id="377" class="Pragma">--exact-split</a> <a id="391" class="Pragma">--safe</a> <a id="398" class="Symbol">#-}</a>

<a id="403" class="Keyword">open</a> <a id="408" class="Keyword">import</a> <a id="415" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="430" class="Keyword">using</a> <a id="436" class="Symbol">(</a> <a id="438" href="Algebras.Basic.html#1139" class="Generalizable">𝓞</a> <a id="440" class="Symbol">;</a> <a id="442" href="Algebras.Basic.html#1141" class="Generalizable">𝓥</a> <a id="444" class="Symbol">;</a> <a id="446" href="Algebras.Basic.html#3865" class="Function">Signature</a> <a id="456" class="Symbol">)</a>

<a id="459" class="Keyword">module</a> <a id="466" href="Terms.Properties.html" class="Module">Terms.Properties</a> <a id="483" class="Symbol">{</a><a id="484" href="Terms.Properties.html#484" class="Bound">𝑆</a> <a id="486" class="Symbol">:</a> <a id="488" href="Algebras.Basic.html#3865" class="Function">Signature</a> <a id="498" href="Algebras.Basic.html#1139" class="Generalizable">𝓞</a> <a id="500" href="Algebras.Basic.html#1141" class="Generalizable">𝓥</a><a id="501" class="Symbol">}</a> <a id="503" class="Keyword">where</a>

<a id="510" class="Comment">-- Imports from Agda and the Agda Standard Library --------------------------------------</a>
<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                                   <a id="682" class="Keyword">using</a> <a id="688" class="Symbol">()</a> <a id="691" class="Keyword">renaming</a> <a id="700" class="Symbol">(</a><a id="701" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="716" class="Symbol">to</a> <a id="719" class="Function">funext</a><a id="725" class="Symbol">)</a>
<a id="727" class="Keyword">open</a> <a id="732" class="Keyword">import</a> <a id="739" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>         <a id="762" class="Keyword">using</a> <a id="768" class="Symbol">(</a> <a id="770" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="776" class="Symbol">;</a> <a id="778" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="782" class="Symbol">;</a> <a id="784" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="789" class="Symbol">)</a> <a id="791" class="Keyword">renaming</a> <a id="800" class="Symbol">(</a> <a id="802" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="806" class="Symbol">to</a> <a id="809" class="Primitive">Type</a> <a id="814" class="Symbol">)</a>
<a id="816" class="Keyword">open</a> <a id="821" class="Keyword">import</a> <a id="828" href="Data.Product.html" class="Module">Data.Product</a>           <a id="851" class="Keyword">using</a> <a id="857" class="Symbol">(</a> <a id="859" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="863" class="Symbol">;</a> <a id="865" href="Data.Product.html#916" class="Function">Σ-syntax</a> <a id="874" class="Symbol">)</a>
<a id="876" class="Keyword">open</a> <a id="881" class="Keyword">import</a> <a id="888" href="Function.Base.html" class="Module">Function.Base</a>          <a id="911" class="Keyword">using</a> <a id="917" class="Symbol">(</a> <a id="919" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="923" class="Symbol">)</a>
<a id="925" class="Keyword">open</a> <a id="930" class="Keyword">import</a> <a id="937" href="Data.Empty.Polymorphic.html" class="Module">Data.Empty.Polymorphic</a> <a id="960" class="Keyword">using</a> <a id="966" class="Symbol">(</a> <a id="968" href="Data.Empty.Polymorphic.html#331" class="Function">⊥</a> <a id="970" class="Symbol">)</a>
<a id="972" class="Keyword">open</a> <a id="977" class="Keyword">import</a> <a id="984" href="Relation.Binary.html" class="Module">Relation.Binary</a>        <a id="1007" class="Keyword">using</a> <a id="1013" class="Symbol">(</a> <a id="1015" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="1029" class="Symbol">;</a> <a id="1031" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1038" class="Symbol">)</a>
<a id="1040" class="Keyword">open</a> <a id="1045" class="Keyword">import</a> <a id="1052" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a>
                                   <a id="1115" class="Keyword">using</a> <a id="1121" class="Symbol">(</a><a id="1122" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="1132" class="Symbol">;</a> <a id="1134" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="1144" class="Symbol">;</a> <a id="1146" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="1157" class="Symbol">)</a>
<a id="1159" class="Keyword">open</a> <a id="1164" class="Keyword">import</a> <a id="1171" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                                   <a id="1244" class="Keyword">using</a> <a id="1250" class="Symbol">(</a> <a id="1252" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="1256" class="Symbol">;</a> <a id="1258" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1263" class="Symbol">;</a> <a id="1265" class="Keyword">module</a> <a id="1272" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a> <a id="1284" class="Symbol">;</a> <a id="1286" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1291" class="Symbol">)</a>


<a id="1295" class="Comment">-- Imports from the Agda Universal Algebra Library ----------------------------------------</a>
<a id="1387" class="Keyword">open</a> <a id="1392" class="Keyword">import</a> <a id="1399" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>      <a id="1427" class="Keyword">using</a> <a id="1433" class="Symbol">(</a> <a id="1435" href="Overture.Preliminaries.html#5228" class="Function Operator">_⁻¹</a> <a id="1439" class="Symbol">;</a> <a id="1441" href="Overture.Preliminaries.html#5627" class="Function">𝑖𝑑</a> <a id="1444" class="Symbol">;</a> <a id="1446" href="Overture.Preliminaries.html#4524" class="Function Operator">∣_∣</a> <a id="1450" class="Symbol">;</a> <a id="1452" href="Overture.Preliminaries.html#4562" class="Function Operator">∥_∥</a><a id="1455" class="Symbol">)</a>
<a id="1457" class="Keyword">open</a> <a id="1462" class="Keyword">import</a> <a id="1469" href="Overture.Inverses.html" class="Module">Overture.Inverses</a>           <a id="1497" class="Keyword">using</a> <a id="1503" class="Symbol">(</a> <a id="1505" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="1518" class="Symbol">;</a> <a id="1520" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="1524" class="Symbol">;</a> <a id="1526" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="1535" class="Symbol">;</a> <a id="1537" href="Overture.Inverses.html#1260" class="Datatype Operator">Image_∋_</a><a id="1545" class="Symbol">;</a> <a id="1547" href="Overture.Inverses.html#1308" class="InductiveConstructor">eq</a> <a id="1550" class="Symbol">)</a>
<a id="1552" class="Keyword">open</a> <a id="1557" class="Keyword">import</a> <a id="1564" href="Foundations.Welldefined.html" class="Module">Foundations.Welldefined</a>     <a id="1592" class="Keyword">using</a> <a id="1598" class="Symbol">(</a><a id="1599" href="Foundations.Welldefined.html#2648" class="Function">swelldef</a><a id="1607" class="Symbol">)</a>
<a id="1609" class="Keyword">open</a> <a id="1614" class="Keyword">import</a> <a id="1621" href="Algebras.Basic.html" class="Module">Algebras.Basic</a>              <a id="1649" class="Keyword">using</a> <a id="1655" class="Symbol">(</a> <a id="1657" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="1665" class="Symbol">;</a> <a id="1667" href="Algebras.Basic.html#9410" class="Function Operator">_̂_</a> <a id="1671" class="Symbol">)</a>
<a id="1673" class="Keyword">open</a> <a id="1678" class="Keyword">import</a> <a id="1685" href="Algebras.Products.html" class="Module">Algebras.Products</a>   <a id="1705" class="Symbol">{</a><a id="1706" class="Argument">𝑆</a> <a id="1708" class="Symbol">=</a> <a id="1710" href="Terms.Properties.html#484" class="Bound">𝑆</a><a id="1711" class="Symbol">}</a> <a id="1713" class="Keyword">using</a> <a id="1719" class="Symbol">(</a> <a id="1721" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="1724" class="Symbol">)</a>
<a id="1726" class="Keyword">open</a> <a id="1731" class="Keyword">import</a> <a id="1738" href="Homomorphisms.Basic.html" class="Module">Homomorphisms.Basic</a> <a id="1758" class="Symbol">{</a><a id="1759" class="Argument">𝑆</a> <a id="1761" class="Symbol">=</a> <a id="1763" href="Terms.Properties.html#484" class="Bound">𝑆</a><a id="1764" class="Symbol">}</a> <a id="1766" class="Keyword">using</a> <a id="1772" class="Symbol">(</a> <a id="1774" href="Homomorphisms.Basic.html#3170" class="Function">hom</a> <a id="1778" class="Symbol">)</a>
<a id="1780" class="Keyword">open</a> <a id="1785" class="Keyword">import</a> <a id="1792" href="Terms.Basic.html" class="Module">Terms.Basic</a>         <a id="1812" class="Symbol">{</a><a id="1813" class="Argument">𝑆</a> <a id="1815" class="Symbol">=</a> <a id="1817" href="Terms.Properties.html#484" class="Bound">𝑆</a><a id="1818" class="Symbol">}</a>

<a id="1821" class="Keyword">private</a> <a id="1829" class="Keyword">variable</a> <a id="1838" href="Terms.Properties.html#1838" class="Generalizable">α</a> <a id="1840" href="Terms.Properties.html#1840" class="Generalizable">β</a> <a id="1842" href="Terms.Properties.html#1842" class="Generalizable">χ</a> <a id="1844" class="Symbol">:</a> <a id="1846" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>


### <a id="the-universal-property">The universal property</a>

The term algebra `𝑻 X` is *absolutely free* (or *universal*, or *initial*) for algebras in the signature `𝑆`. That is, for every 𝑆-algebra `𝑨`, the following hold.

1. Every function from `𝑋` to `∣ 𝑨 ∣` lifts to a homomorphism from `𝑻 X` to `𝑨`.
2. The homomorphism that exists by item 1 is unique.

We now prove this in [Agda][], starting with the fact that every map from `X` to `∣ 𝑨 ∣` lifts to a map from `∣ 𝑻 X ∣` to `∣ 𝑨 ∣` in a natural way, by induction on the structure of the given term.

<pre class="Agda">

<a id="2441" class="Keyword">private</a> <a id="2449" class="Keyword">variable</a> <a id="2458" href="Terms.Properties.html#2458" class="Generalizable">X</a> <a id="2460" class="Symbol">:</a> <a id="2462" href="Terms.Properties.html#809" class="Primitive">Type</a> <a id="2467" href="Terms.Properties.html#1842" class="Generalizable">χ</a>

<a id="free-lift"></a><a id="2470" href="Terms.Properties.html#2470" class="Function">free-lift</a> <a id="2480" class="Symbol">:</a> <a id="2482" class="Symbol">(</a><a id="2483" href="Terms.Properties.html#2483" class="Bound">𝑨</a> <a id="2485" class="Symbol">:</a> <a id="2487" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="2495" href="Terms.Properties.html#1838" class="Generalizable">α</a> <a id="2497" href="Terms.Properties.html#484" class="Bound">𝑆</a><a id="2498" class="Symbol">)(</a><a id="2500" href="Terms.Properties.html#2500" class="Bound">h</a> <a id="2502" class="Symbol">:</a> <a id="2504" href="Terms.Properties.html#2458" class="Generalizable">X</a> <a id="2506" class="Symbol">→</a> <a id="2508" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="2510" href="Terms.Properties.html#2483" class="Bound">𝑨</a> <a id="2512" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a><a id="2513" class="Symbol">)</a> <a id="2515" class="Symbol">→</a> <a id="2517" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="2519" href="Terms.Basic.html#3258" class="Function">𝑻</a> <a id="2521" href="Terms.Properties.html#2458" class="Generalizable">X</a> <a id="2523" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="2525" class="Symbol">→</a> <a id="2527" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="2529" href="Terms.Properties.html#2483" class="Bound">𝑨</a> <a id="2531" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a>
<a id="2533" href="Terms.Properties.html#2470" class="Function">free-lift</a> <a id="2543" class="Symbol">_</a> <a id="2545" href="Terms.Properties.html#2545" class="Bound">h</a> <a id="2547" class="Symbol">(</a><a id="2548" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="2550" href="Terms.Properties.html#2550" class="Bound">x</a><a id="2551" class="Symbol">)</a> <a id="2553" class="Symbol">=</a> <a id="2555" href="Terms.Properties.html#2545" class="Bound">h</a> <a id="2557" href="Terms.Properties.html#2550" class="Bound">x</a>
<a id="2559" href="Terms.Properties.html#2470" class="Function">free-lift</a> <a id="2569" href="Terms.Properties.html#2569" class="Bound">𝑨</a> <a id="2571" href="Terms.Properties.html#2571" class="Bound">h</a> <a id="2573" class="Symbol">(</a><a id="2574" href="Terms.Basic.html#2070" class="InductiveConstructor">node</a> <a id="2579" href="Terms.Properties.html#2579" class="Bound">f</a> <a id="2581" href="Terms.Properties.html#2581" class="Bound">𝑡</a><a id="2582" class="Symbol">)</a> <a id="2584" class="Symbol">=</a> <a id="2586" class="Symbol">(</a><a id="2587" href="Terms.Properties.html#2579" class="Bound">f</a> <a id="2589" href="Algebras.Basic.html#9410" class="Function Operator">̂</a> <a id="2591" href="Terms.Properties.html#2569" class="Bound">𝑨</a><a id="2592" class="Symbol">)</a> <a id="2594" class="Symbol">(λ</a> <a id="2597" href="Terms.Properties.html#2597" class="Bound">i</a> <a id="2599" class="Symbol">→</a> <a id="2601" href="Terms.Properties.html#2470" class="Function">free-lift</a> <a id="2611" href="Terms.Properties.html#2569" class="Bound">𝑨</a> <a id="2613" href="Terms.Properties.html#2571" class="Bound">h</a> <a id="2615" class="Symbol">(</a><a id="2616" href="Terms.Properties.html#2581" class="Bound">𝑡</a> <a id="2618" href="Terms.Properties.html#2597" class="Bound">i</a><a id="2619" class="Symbol">))</a>

</pre>

Naturally, at the base step of the induction, when the term has the form `generator`
x, the free lift of `h` agrees with `h`.  For the inductive step, when the
given term has the form `node f 𝑡`, the free lift is defined as
follows: Assuming (the induction hypothesis) that we know the image of each
subterm `𝑡 i` under the free lift of `h`, define the free lift at the
full term by applying `f ̂ 𝑨` to the images of the subterms.

The free lift so defined is a homomorphism by construction. Indeed, here is the trivial proof.

<pre class="Agda">

<a id="lift-hom"></a><a id="3177" href="Terms.Properties.html#3177" class="Function">lift-hom</a> <a id="3186" class="Symbol">:</a> <a id="3188" class="Symbol">(</a><a id="3189" href="Terms.Properties.html#3189" class="Bound">𝑨</a> <a id="3191" class="Symbol">:</a> <a id="3193" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="3201" href="Terms.Properties.html#1838" class="Generalizable">α</a> <a id="3203" href="Terms.Properties.html#484" class="Bound">𝑆</a><a id="3204" class="Symbol">)</a> <a id="3206" class="Symbol">→</a> <a id="3208" class="Symbol">(</a><a id="3209" href="Terms.Properties.html#2458" class="Generalizable">X</a> <a id="3211" class="Symbol">→</a> <a id="3213" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3215" href="Terms.Properties.html#3189" class="Bound">𝑨</a> <a id="3217" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a><a id="3218" class="Symbol">)</a> <a id="3220" class="Symbol">→</a> <a id="3222" href="Homomorphisms.Basic.html#3170" class="Function">hom</a> <a id="3226" class="Symbol">(</a><a id="3227" href="Terms.Basic.html#3258" class="Function">𝑻</a> <a id="3229" href="Terms.Properties.html#2458" class="Generalizable">X</a><a id="3230" class="Symbol">)</a> <a id="3232" href="Terms.Properties.html#3189" class="Bound">𝑨</a>
<a id="3234" href="Terms.Properties.html#3177" class="Function">lift-hom</a> <a id="3243" href="Terms.Properties.html#3243" class="Bound">𝑨</a> <a id="3245" href="Terms.Properties.html#3245" class="Bound">h</a> <a id="3247" class="Symbol">=</a> <a id="3249" href="Terms.Properties.html#2470" class="Function">free-lift</a> <a id="3259" href="Terms.Properties.html#3243" class="Bound">𝑨</a> <a id="3261" href="Terms.Properties.html#3245" class="Bound">h</a> <a id="3263" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3265" class="Symbol">λ</a> <a id="3267" href="Terms.Properties.html#3267" class="Bound">f</a> <a id="3269" href="Terms.Properties.html#3269" class="Bound">a</a> <a id="3271" class="Symbol">→</a> <a id="3273" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3278" class="Symbol">(</a><a id="3279" href="Terms.Properties.html#3267" class="Bound">f</a> <a id="3281" href="Algebras.Basic.html#9410" class="Function Operator">̂</a> <a id="3283" href="Terms.Properties.html#3243" class="Bound">𝑨</a><a id="3284" class="Symbol">)</a> <a id="3286" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

</pre>

Finally, we prove that the homomorphism is unique.  This requires `funext 𝓥 α` (i.e., *function extensionality* at universe levels `𝓥` and `α`) which we postulate by making it part of the premise in the following function type definition.

<pre class="Agda">

<a id="3558" class="Keyword">open</a> <a id="3563" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>

<a id="free-unique"></a><a id="3576" href="Terms.Properties.html#3576" class="Function">free-unique</a> <a id="3588" class="Symbol">:</a> <a id="3590" href="Foundations.Welldefined.html#2648" class="Function">swelldef</a> <a id="3599" href="Terms.Properties.html#500" class="Bound">𝓥</a> <a id="3601" href="Terms.Properties.html#1838" class="Generalizable">α</a> <a id="3603" class="Symbol">→</a> <a id="3605" class="Symbol">(</a><a id="3606" href="Terms.Properties.html#3606" class="Bound">𝑨</a> <a id="3608" class="Symbol">:</a> <a id="3610" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="3618" href="Terms.Properties.html#1838" class="Generalizable">α</a> <a id="3620" href="Terms.Properties.html#484" class="Bound">𝑆</a><a id="3621" class="Symbol">)(</a><a id="3623" href="Terms.Properties.html#3623" class="Bound">g</a> <a id="3625" href="Terms.Properties.html#3625" class="Bound">h</a> <a id="3627" class="Symbol">:</a> <a id="3629" href="Homomorphisms.Basic.html#3170" class="Function">hom</a> <a id="3633" class="Symbol">(</a><a id="3634" href="Terms.Basic.html#3258" class="Function">𝑻</a> <a id="3636" href="Terms.Properties.html#2458" class="Generalizable">X</a><a id="3637" class="Symbol">)</a> <a id="3639" href="Terms.Properties.html#3606" class="Bound">𝑨</a><a id="3640" class="Symbol">)</a>
 <a id="3643" class="Symbol">→</a>            <a id="3656" class="Symbol">(∀</a> <a id="3659" href="Terms.Properties.html#3659" class="Bound">x</a> <a id="3661" class="Symbol">→</a> <a id="3663" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3665" href="Terms.Properties.html#3623" class="Bound">g</a> <a id="3667" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3669" class="Symbol">(</a><a id="3670" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="3672" href="Terms.Properties.html#3659" class="Bound">x</a><a id="3673" class="Symbol">)</a> <a id="3675" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3677" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3679" href="Terms.Properties.html#3625" class="Bound">h</a> <a id="3681" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3683" class="Symbol">(</a><a id="3684" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="3686" href="Terms.Properties.html#3659" class="Bound">x</a><a id="3687" class="Symbol">))</a>
              <a id="3704" class="Comment">----------------------------------------</a>
 <a id="3746" class="Symbol">→</a>            <a id="3759" class="Symbol">∀</a> <a id="3761" class="Symbol">(</a><a id="3762" href="Terms.Properties.html#3762" class="Bound">t</a> <a id="3764" class="Symbol">:</a> <a id="3766" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="3771" href="Terms.Properties.html#2458" class="Generalizable">X</a><a id="3772" class="Symbol">)</a> <a id="3774" class="Symbol">→</a>  <a id="3777" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3779" href="Terms.Properties.html#3623" class="Bound">g</a> <a id="3781" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3783" href="Terms.Properties.html#3762" class="Bound">t</a> <a id="3785" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3787" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3789" href="Terms.Properties.html#3625" class="Bound">h</a> <a id="3791" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3793" href="Terms.Properties.html#3762" class="Bound">t</a>

<a id="3796" href="Terms.Properties.html#3576" class="Function">free-unique</a> <a id="3808" class="Symbol">_</a> <a id="3810" class="Symbol">_</a> <a id="3812" class="Symbol">_</a> <a id="3814" class="Symbol">_</a> <a id="3816" href="Terms.Properties.html#3816" class="Bound">p</a> <a id="3818" class="Symbol">(</a><a id="3819" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="3821" href="Terms.Properties.html#3821" class="Bound">x</a><a id="3822" class="Symbol">)</a> <a id="3824" class="Symbol">=</a> <a id="3826" href="Terms.Properties.html#3816" class="Bound">p</a> <a id="3828" href="Terms.Properties.html#3821" class="Bound">x</a>

<a id="3831" href="Terms.Properties.html#3576" class="Function">free-unique</a> <a id="3843" href="Terms.Properties.html#3843" class="Bound">wd</a> <a id="3846" href="Terms.Properties.html#3846" class="Bound">𝑨</a> <a id="3848" href="Terms.Properties.html#3848" class="Bound">g</a> <a id="3850" href="Terms.Properties.html#3850" class="Bound">h</a> <a id="3852" href="Terms.Properties.html#3852" class="Bound">p</a> <a id="3854" class="Symbol">(</a><a id="3855" href="Terms.Basic.html#2070" class="InductiveConstructor">node</a> <a id="3860" href="Terms.Properties.html#3860" class="Bound">𝑓</a> <a id="3862" href="Terms.Properties.html#3862" class="Bound">𝑡</a><a id="3863" class="Symbol">)</a> <a id="3865" class="Symbol">=</a>

 <a id="3869" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3871" href="Terms.Properties.html#3848" class="Bound">g</a> <a id="3873" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3875" class="Symbol">(</a><a id="3876" href="Terms.Basic.html#2070" class="InductiveConstructor">node</a> <a id="3881" href="Terms.Properties.html#3860" class="Bound">𝑓</a> <a id="3883" href="Terms.Properties.html#3862" class="Bound">𝑡</a><a id="3884" class="Symbol">)</a>    <a id="3889" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="3892" href="Overture.Preliminaries.html#4562" class="Function Operator">∥</a> <a id="3894" href="Terms.Properties.html#3848" class="Bound">g</a> <a id="3896" href="Overture.Preliminaries.html#4562" class="Function Operator">∥</a> <a id="3898" href="Terms.Properties.html#3860" class="Bound">𝑓</a> <a id="3900" href="Terms.Properties.html#3862" class="Bound">𝑡</a> <a id="3902" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
 <a id="3905" class="Symbol">(</a><a id="3906" href="Terms.Properties.html#3860" class="Bound">𝑓</a> <a id="3908" href="Algebras.Basic.html#9410" class="Function Operator">̂</a> <a id="3910" href="Terms.Properties.html#3846" class="Bound">𝑨</a><a id="3911" class="Symbol">)(</a><a id="3913" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3915" href="Terms.Properties.html#3848" class="Bound">g</a> <a id="3917" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3919" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3921" href="Terms.Properties.html#3862" class="Bound">𝑡</a><a id="3922" class="Symbol">)</a>  <a id="3925" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="3928" href="Terms.Properties.html#3843" class="Bound">wd</a> <a id="3931" class="Symbol">(</a><a id="3932" href="Terms.Properties.html#3860" class="Bound">𝑓</a> <a id="3934" href="Algebras.Basic.html#9410" class="Function Operator">̂</a> <a id="3936" href="Terms.Properties.html#3846" class="Bound">𝑨</a><a id="3937" class="Symbol">)(</a><a id="3939" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3941" href="Terms.Properties.html#3848" class="Bound">g</a> <a id="3943" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3945" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3947" href="Terms.Properties.html#3862" class="Bound">𝑡</a><a id="3948" class="Symbol">)(</a><a id="3950" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3952" href="Terms.Properties.html#3850" class="Bound">h</a> <a id="3954" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="3956" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3958" href="Terms.Properties.html#3862" class="Bound">𝑡</a><a id="3959" class="Symbol">)(λ</a> <a id="3963" href="Terms.Properties.html#3963" class="Bound">i</a> <a id="3965" class="Symbol">→</a> <a id="3967" href="Terms.Properties.html#3576" class="Function">free-unique</a> <a id="3979" href="Terms.Properties.html#3843" class="Bound">wd</a> <a id="3982" href="Terms.Properties.html#3846" class="Bound">𝑨</a> <a id="3984" href="Terms.Properties.html#3848" class="Bound">g</a> <a id="3986" href="Terms.Properties.html#3850" class="Bound">h</a> <a id="3988" href="Terms.Properties.html#3852" class="Bound">p</a> <a id="3990" class="Symbol">(</a><a id="3991" href="Terms.Properties.html#3862" class="Bound">𝑡</a> <a id="3993" href="Terms.Properties.html#3963" class="Bound">i</a><a id="3994" class="Symbol">))</a> <a id="3997" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
 <a id="4000" class="Symbol">(</a><a id="4001" href="Terms.Properties.html#3860" class="Bound">𝑓</a> <a id="4003" href="Algebras.Basic.html#9410" class="Function Operator">̂</a> <a id="4005" href="Terms.Properties.html#3846" class="Bound">𝑨</a><a id="4006" class="Symbol">)(</a><a id="4008" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4010" href="Terms.Properties.html#3850" class="Bound">h</a> <a id="4012" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4014" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4016" href="Terms.Properties.html#3862" class="Bound">𝑡</a><a id="4017" class="Symbol">)</a>  <a id="4020" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="4023" class="Symbol">(</a><a id="4024" href="Overture.Preliminaries.html#4562" class="Function Operator">∥</a> <a id="4026" href="Terms.Properties.html#3850" class="Bound">h</a> <a id="4028" href="Overture.Preliminaries.html#4562" class="Function Operator">∥</a> <a id="4030" href="Terms.Properties.html#3860" class="Bound">𝑓</a> <a id="4032" href="Terms.Properties.html#3862" class="Bound">𝑡</a><a id="4033" class="Symbol">)</a><a id="4034" href="Overture.Preliminaries.html#5228" class="Function Operator">⁻¹</a> <a id="4037" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
 <a id="4040" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4042" href="Terms.Properties.html#3850" class="Bound">h</a> <a id="4044" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4046" class="Symbol">(</a><a id="4047" href="Terms.Basic.html#2070" class="InductiveConstructor">node</a> <a id="4052" href="Terms.Properties.html#3860" class="Bound">𝑓</a> <a id="4054" href="Terms.Properties.html#3862" class="Bound">𝑡</a><a id="4055" class="Symbol">)</a>    <a id="4060" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

</pre>

Let's account for what we have proved thus far about the term algebra.  If we postulate a type `X : Type χ` (representing an arbitrary collection of variable symbols) such that for each `𝑆`-algebra `𝑨` there is a map from `X` to the domain of `𝑨`, then it follows that for every `𝑆`-algebra `𝑨` there is a homomorphism from `𝑻 X` to `∣ 𝑨 ∣` that "agrees with the original map on `X`," by which we mean that for all `x : X` the lift evaluated at `ℊ x` is equal to the original function evaluated at `x`.

If we further assume that each of the mappings from `X` to `∣ 𝑨 ∣` is *surjective*, then the homomorphisms constructed with `free-lift` and `lift-hom` are *epimorphisms*, as we now prove.

<pre class="Agda">

<a id="lift-of-epi-is-epi"></a><a id="4782" href="Terms.Properties.html#4782" class="Function">lift-of-epi-is-epi</a> <a id="4801" class="Symbol">:</a> <a id="4803" class="Symbol">(</a><a id="4804" href="Terms.Properties.html#4804" class="Bound">𝑨</a> <a id="4806" class="Symbol">:</a> <a id="4808" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="4816" href="Terms.Properties.html#1838" class="Generalizable">α</a> <a id="4818" href="Terms.Properties.html#484" class="Bound">𝑆</a><a id="4819" class="Symbol">){</a><a id="4821" href="Terms.Properties.html#4821" class="Bound">h₀</a> <a id="4824" class="Symbol">:</a> <a id="4826" href="Terms.Properties.html#2458" class="Generalizable">X</a> <a id="4828" class="Symbol">→</a> <a id="4830" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4832" href="Terms.Properties.html#4804" class="Bound">𝑨</a> <a id="4834" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a><a id="4835" class="Symbol">}</a>
 <a id="4838" class="Symbol">→</a>                   <a id="4858" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="4871" href="Terms.Properties.html#4821" class="Bound">h₀</a> <a id="4874" class="Symbol">→</a> <a id="4876" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="4889" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4891" href="Terms.Properties.html#3177" class="Function">lift-hom</a> <a id="4900" href="Terms.Properties.html#4804" class="Bound">𝑨</a> <a id="4902" href="Terms.Properties.html#4821" class="Bound">h₀</a> <a id="4905" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a>

<a id="4908" href="Terms.Properties.html#4782" class="Function">lift-of-epi-is-epi</a> <a id="4927" href="Terms.Properties.html#4927" class="Bound">𝑨</a> <a id="4929" class="Symbol">{</a><a id="4930" href="Terms.Properties.html#4930" class="Bound">h₀</a><a id="4932" class="Symbol">}</a> <a id="4934" href="Terms.Properties.html#4934" class="Bound">hE</a> <a id="4937" href="Terms.Properties.html#4937" class="Bound">y</a> <a id="4939" class="Symbol">=</a> <a id="4941" href="Terms.Properties.html#5044" class="Function">Goal</a>
 <a id="4947" class="Keyword">where</a>
 <a id="4954" href="Terms.Properties.html#4954" class="Function">h₀⁻¹y</a> <a id="4960" class="Symbol">=</a> <a id="4962" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="4966" href="Terms.Properties.html#4930" class="Bound">h₀</a> <a id="4969" class="Symbol">(</a><a id="4970" href="Terms.Properties.html#4934" class="Bound">hE</a> <a id="4973" href="Terms.Properties.html#4937" class="Bound">y</a><a id="4974" class="Symbol">)</a>

 <a id="4978" href="Terms.Properties.html#4978" class="Function">η</a> <a id="4980" class="Symbol">:</a> <a id="4982" href="Terms.Properties.html#4937" class="Bound">y</a> <a id="4984" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4986" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="4988" href="Terms.Properties.html#3177" class="Function">lift-hom</a> <a id="4997" href="Terms.Properties.html#4927" class="Bound">𝑨</a> <a id="4999" href="Terms.Properties.html#4930" class="Bound">h₀</a> <a id="5002" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="5004" class="Symbol">(</a><a id="5005" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="5007" href="Terms.Properties.html#4954" class="Function">h₀⁻¹y</a><a id="5012" class="Symbol">)</a>
 <a id="5015" href="Terms.Properties.html#4978" class="Function">η</a> <a id="5017" class="Symbol">=</a> <a id="5019" class="Symbol">(</a><a id="5020" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="5029" href="Terms.Properties.html#4930" class="Bound">h₀</a> <a id="5032" class="Symbol">(</a><a id="5033" href="Terms.Properties.html#4934" class="Bound">hE</a> <a id="5036" href="Terms.Properties.html#4937" class="Bound">y</a><a id="5037" class="Symbol">))</a><a id="5039" href="Overture.Preliminaries.html#5228" class="Function Operator">⁻¹</a>

 <a id="5044" href="Terms.Properties.html#5044" class="Function">Goal</a> <a id="5049" class="Symbol">:</a> <a id="5051" href="Overture.Inverses.html#1260" class="Datatype Operator">Image</a> <a id="5057" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="5059" href="Terms.Properties.html#3177" class="Function">lift-hom</a> <a id="5068" href="Terms.Properties.html#4927" class="Bound">𝑨</a> <a id="5070" href="Terms.Properties.html#4930" class="Bound">h₀</a> <a id="5073" href="Overture.Preliminaries.html#4524" class="Function Operator">∣</a> <a id="5075" href="Overture.Inverses.html#1260" class="Datatype Operator">∋</a> <a id="5077" href="Terms.Properties.html#4937" class="Bound">y</a>
 <a id="5080" href="Terms.Properties.html#5044" class="Function">Goal</a> <a id="5085" class="Symbol">=</a> <a id="5087" href="Overture.Inverses.html#1308" class="InductiveConstructor">eq</a> <a id="5090" class="Symbol">(</a><a id="5091" href="Terms.Basic.html#2028" class="InductiveConstructor">ℊ</a> <a id="5093" href="Terms.Properties.html#4954" class="Function">h₀⁻¹y</a><a id="5098" class="Symbol">)</a> <a id="5100" href="Terms.Properties.html#4978" class="Function">η</a>

</pre>

The `lift-hom` and `lift-of-epi-is-epi` types will be called to action when such epimorphisms are needed later (e.g., in the [Varieties][] module).


------------------------------

<span style="float:left;">[← Terms.Basic](Terms.Basic.html)</span>
<span style="float:right;">[Terms.Operations →](Terms.Operations.html)</span>

{% include UALib.Links.md %}

[the agda-algebras development team]: https://github.com/ualib/agda-algebras#the-agda-algebras-development-team

