---
layout: default
title : "Demos.HSP module (Agda Universal Algebra Library)"
date : "2021-10-24"
author: "agda-algebras development team"
---

# <a id="birkhoffs-variety-theorem-in-agda">Birkhoff's Variety Theorem in Agda</a>

<pre class="Agda">

<a id="245" class="Symbol">{-#</a> <a id="249" class="Keyword">OPTIONS</a> <a id="257" class="Pragma">--without-K</a> <a id="269" class="Pragma">--exact-split</a> <a id="283" class="Pragma">--safe</a> <a id="290" class="Symbol">#-}</a>

<a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="322" class="Keyword">using</a> <a id="328" class="Symbol">(</a> <a id="330" href="Algebras.Basic.html#1130" class="Generalizable">𝓞</a> <a id="332" class="Symbol">;</a> <a id="334" href="Algebras.Basic.html#1132" class="Generalizable">𝓥</a> <a id="336" class="Symbol">;</a> <a id="338" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="348" class="Symbol">)</a>

<a id="351" class="Keyword">module</a> <a id="358" href="Demos.HSP.html" class="Module">Demos.HSP</a> <a id="368" class="Symbol">{</a><a id="369" href="Demos.HSP.html#369" class="Bound">𝑆</a> <a id="371" class="Symbol">:</a> <a id="373" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="383" href="Algebras.Basic.html#1130" class="Generalizable">𝓞</a> <a id="385" href="Algebras.Basic.html#1132" class="Generalizable">𝓥</a><a id="386" class="Symbol">}</a> <a id="388" class="Keyword">where</a>

<a id="395" class="Comment">-- Imports from Agda and the Agda Standard Library ------------------------------------------------</a>
<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>              <a id="535" class="Keyword">using</a>    <a id="544" class="Symbol">(</a> <a id="546" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="550" class="Symbol">;</a> <a id="552" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="557" class="Symbol">)</a>
                                        <a id="599" class="Keyword">renaming</a> <a id="608" class="Symbol">(</a> <a id="610" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="614" class="Symbol">to</a> <a id="617" class="Primitive">Type</a> <a id="622" class="Symbol">)</a>
<a id="624" class="Keyword">open</a> <a id="629" class="Keyword">import</a> <a id="636" href="Data.Product.html" class="Module">Data.Product</a>                <a id="664" class="Keyword">using</a>    <a id="673" class="Symbol">(</a> <a id="675" href="Data.Product.html#916" class="Function">Σ-syntax</a> <a id="684" class="Symbol">;</a> <a id="686" href="Data.Product.html#1167" class="Function Operator">_×_</a> <a id="690" class="Symbol">;</a> <a id="692" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="696" class="Symbol">;</a> <a id="698" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="700" class="Symbol">)</a>
                                        <a id="742" class="Keyword">renaming</a> <a id="751" class="Symbol">(</a> <a id="753" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="759" class="Symbol">to</a> <a id="762" class="Field">fst</a> <a id="766" class="Symbol">;</a> <a id="768" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="774" class="Symbol">to</a> <a id="777" class="Field">snd</a> <a id="781" class="Symbol">)</a>
<a id="783" class="Keyword">open</a> <a id="788" class="Keyword">import</a> <a id="795" href="Function.html" class="Module">Function</a>                    <a id="823" class="Keyword">using</a>    <a id="832" class="Symbol">(</a> <a id="834" href="Function.Base.html#615" class="Function">id</a> <a id="837" class="Symbol">;</a> <a id="839" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="843" class="Symbol">;</a> <a id="845" href="Function.Base.html#1554" class="Function">flip</a> <a id="850" class="Symbol">)</a>
<a id="852" class="Keyword">open</a> <a id="857" class="Keyword">import</a> <a id="864" href="Function.Bundles.html" class="Module">Function.Bundles</a>            <a id="892" class="Keyword">using</a>    <a id="901" class="Symbol">(</a> <a id="903" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="908" class="Symbol">;</a> <a id="910" href="Function.Bundles.html#2677" class="Record">Surjection</a> <a id="921" class="Symbol">)</a>
<a id="923" class="Keyword">open</a> <a id="928" class="Keyword">import</a> <a id="935" href="Level.html" class="Module">Level</a>                       <a id="963" class="Keyword">using</a>    <a id="972" class="Symbol">(</a> <a id="974" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="980" class="Symbol">)</a>
<a id="982" class="Keyword">open</a> <a id="987" class="Keyword">import</a> <a id="994" href="Relation.Binary.html" class="Module">Relation.Binary</a>             <a id="1022" class="Keyword">using</a>    <a id="1031" class="Symbol">(</a> <a id="1033" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1040" class="Symbol">;</a> <a id="1042" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="1046" class="Symbol">;</a> <a id="1048" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="1062" class="Symbol">)</a>
<a id="1064" class="Keyword">open</a> <a id="1069" class="Keyword">import</a> <a id="1076" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a> <a id="1104" class="Keyword">using</a>    <a id="1113" class="Symbol">(</a> <a id="1115" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="1125" class="Symbol">;</a> <a id="1127" href="Relation.Binary.Definitions.html#1424" class="Function">Sym</a> <a id="1131" class="Symbol">;</a> <a id="1133" href="Relation.Binary.Definitions.html#1585" class="Function">Trans</a> <a id="1139" class="Symbol">;</a> <a id="1141" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="1151" class="Symbol">;</a> <a id="1153" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="1164" class="Symbol">)</a>
<a id="1166" class="Keyword">open</a> <a id="1171" class="Keyword">import</a> <a id="1178" href="Relation.Unary.html" class="Module">Relation.Unary</a>              <a id="1206" class="Keyword">using</a>    <a id="1215" class="Symbol">(</a> <a id="1217" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1222" class="Symbol">;</a> <a id="1224" href="Relation.Unary.html#1742" class="Function Operator">_⊆_</a> <a id="1228" class="Symbol">;</a> <a id="1230" href="Relation.Unary.html#1523" class="Function Operator">_∈_</a> <a id="1234" class="Symbol">)</a>

<a id="1237" class="Keyword">open</a> <a id="1242" class="Keyword">import</a> <a id="1249" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1287" class="Symbol">as</a> <a id="1290" class="Module">≡</a> <a id="1292" class="Keyword">using</a> <a id="1298" class="Symbol">(</a><a id="1299" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1302" class="Symbol">)</a>
<a id="1304" class="Keyword">import</a> <a id="1311" href="Function.Definitions.html" class="Module">Function.Definitions</a>                       <a id="1354" class="Symbol">as</a> <a id="1357" class="Module">FD</a>
<a id="1360" class="Keyword">import</a> <a id="1367" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a>           <a id="1410" class="Symbol">as</a> <a id="1413" class="Module">SetoidReasoning</a>


<a id="1431" class="Keyword">open</a> <a id="1436" href="Function.Bundles.html#1868" class="Module">Func</a>   <a id="1443" class="Keyword">using</a> <a id="1449" class="Symbol">(</a> <a id="1451" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="1456" class="Symbol">)</a> <a id="1458" class="Keyword">renaming</a> <a id="1467" class="Symbol">(</a> <a id="1469" href="Function.Bundles.html#1919" class="Field">f</a> <a id="1471" class="Symbol">to</a> <a id="1474" class="Field">_⟨$⟩_</a> <a id="1480" class="Symbol">)</a>

<a id="1483" class="Keyword">private</a> <a id="1491" class="Keyword">variable</a>
 <a id="1501" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="1503" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="1506" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="1508" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a> <a id="1511" href="Demos.HSP.html#1511" class="Generalizable">γ</a> <a id="1513" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a> <a id="1516" href="Demos.HSP.html#1516" class="Generalizable">δ</a> <a id="1518" href="Demos.HSP.html#1518" class="Generalizable">ρᵈ</a> <a id="1521" href="Demos.HSP.html#1521" class="Generalizable">χ</a> <a id="1523" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a> <a id="1525" class="Symbol">:</a> <a id="1527" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="1534" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="1536" href="Demos.HSP.html#1536" class="Generalizable">Δ</a> <a id="1538" class="Symbol">:</a> <a id="1540" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="1545" href="Demos.HSP.html#1521" class="Generalizable">χ</a>
 <a id="1548" href="Demos.HSP.html#1548" class="Generalizable">f</a> <a id="1550" class="Symbol">:</a> <a id="1552" href="Demos.HSP.html#762" class="Field">fst</a> <a id="1556" href="Demos.HSP.html#369" class="Bound">𝑆</a>

</pre>




## Preliminaries

<pre class="Agda">

<a id="_⟶_"></a><a id="1606" href="Demos.HSP.html#1606" class="Function Operator">_⟶_</a> <a id="1610" class="Symbol">:</a> <a id="1612" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1619" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="1621" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="1624" class="Symbol">→</a> <a id="1626" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1633" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="1635" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a> <a id="1638" class="Symbol">→</a> <a id="1640" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="1645" class="Symbol">_</a>
<a id="1647" href="Demos.HSP.html#1647" class="Bound">A</a> <a id="1649" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="1651" href="Demos.HSP.html#1651" class="Bound">B</a> <a id="1653" class="Symbol">=</a> <a id="1655" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="1660" href="Demos.HSP.html#1647" class="Bound">A</a> <a id="1662" href="Demos.HSP.html#1651" class="Bound">B</a>

<a id="𝑖𝑑"></a><a id="1665" href="Demos.HSP.html#1665" class="Function">𝑖𝑑</a> <a id="1668" class="Symbol">:</a> <a id="1670" class="Symbol">{</a><a id="1671" href="Demos.HSP.html#1671" class="Bound">A</a> <a id="1673" class="Symbol">:</a> <a id="1675" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1682" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="1684" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="1686" class="Symbol">}</a> <a id="1688" class="Symbol">→</a> <a id="1690" href="Demos.HSP.html#1671" class="Bound">A</a> <a id="1692" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="1694" href="Demos.HSP.html#1671" class="Bound">A</a>
<a id="1696" href="Demos.HSP.html#1665" class="Function">𝑖𝑑</a> <a id="1699" class="Symbol">{</a><a id="1700" href="Demos.HSP.html#1700" class="Bound">A</a><a id="1701" class="Symbol">}</a> <a id="1703" class="Symbol">=</a> <a id="1705" class="Keyword">record</a> <a id="1712" class="Symbol">{</a> <a id="1714" href="Function.Bundles.html#1919" class="Field">f</a> <a id="1716" class="Symbol">=</a> <a id="1718" href="Function.Base.html#615" class="Function">id</a> <a id="1721" class="Symbol">;</a> <a id="1723" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="1728" class="Symbol">=</a> <a id="1730" href="Function.Base.html#615" class="Function">id</a> <a id="1733" class="Symbol">}</a>

<a id="1736" class="Keyword">open</a> <a id="1741" href="Function.Bundles.html#1868" class="Module">Func</a> <a id="1746" class="Keyword">renaming</a> <a id="1755" class="Symbol">(</a> <a id="1757" href="Function.Bundles.html#1919" class="Field">f</a> <a id="1759" class="Symbol">to</a> <a id="1762" class="Field">_⟨$⟩_</a> <a id="1768" class="Symbol">)</a>

<a id="_⟨∘⟩_"></a><a id="1771" href="Demos.HSP.html#1771" class="Function Operator">_⟨∘⟩_</a> <a id="1777" class="Symbol">:</a> <a id="1779" class="Symbol">{</a><a id="1780" href="Demos.HSP.html#1780" class="Bound">A</a> <a id="1782" class="Symbol">:</a> <a id="1784" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1791" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="1793" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="1795" class="Symbol">}</a>
      <a id="1803" class="Symbol">{</a><a id="1804" href="Demos.HSP.html#1804" class="Bound">B</a> <a id="1806" class="Symbol">:</a> <a id="1808" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1815" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="1817" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="1819" class="Symbol">}</a>
      <a id="1827" class="Symbol">{</a><a id="1828" href="Demos.HSP.html#1828" class="Bound">C</a> <a id="1830" class="Symbol">:</a> <a id="1832" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1839" href="Demos.HSP.html#1511" class="Generalizable">γ</a> <a id="1841" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a><a id="1843" class="Symbol">}</a>
 <a id="1846" class="Symbol">→</a>    <a id="1851" href="Demos.HSP.html#1804" class="Bound">B</a> <a id="1853" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="1855" href="Demos.HSP.html#1828" class="Bound">C</a> <a id="1857" class="Symbol">→</a> <a id="1859" href="Demos.HSP.html#1780" class="Bound">A</a> <a id="1861" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="1863" href="Demos.HSP.html#1804" class="Bound">B</a> <a id="1865" class="Symbol">→</a> <a id="1867" href="Demos.HSP.html#1780" class="Bound">A</a> <a id="1869" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="1871" href="Demos.HSP.html#1828" class="Bound">C</a>
<a id="1873" href="Demos.HSP.html#1873" class="Bound">f</a> <a id="1875" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="1879" href="Demos.HSP.html#1879" class="Bound">g</a> <a id="1881" class="Symbol">=</a> <a id="1883" class="Keyword">record</a> <a id="1890" class="Symbol">{</a> <a id="1892" href="Function.Bundles.html#1919" class="Field">f</a> <a id="1894" class="Symbol">=</a> <a id="1896" class="Symbol">(</a><a id="1897" href="Demos.HSP.html#1474" class="Field Operator">_⟨$⟩_</a> <a id="1903" href="Demos.HSP.html#1873" class="Bound">f</a><a id="1904" class="Symbol">)</a> <a id="1906" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1908" class="Symbol">(</a><a id="1909" href="Demos.HSP.html#1474" class="Field Operator">_⟨$⟩_</a> <a id="1915" href="Demos.HSP.html#1879" class="Bound">g</a><a id="1916" class="Symbol">)</a>
               <a id="1933" class="Symbol">;</a> <a id="1935" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="1940" class="Symbol">=</a> <a id="1942" class="Symbol">(</a><a id="1943" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="1948" href="Demos.HSP.html#1873" class="Bound">f</a><a id="1949" class="Symbol">)</a> <a id="1951" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1953" class="Symbol">(</a><a id="1954" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="1959" href="Demos.HSP.html#1879" class="Bound">g</a><a id="1960" class="Symbol">)</a>
               <a id="1977" class="Symbol">}</a>

</pre>



### <a id="projection-notation">Projection notation</a>

The definition of `Σ` (and thus, of `×`) includes the fields `proj₁` and `proj₂` representing the first and second projections out of the product.  However, we prefer the shorter names `fst` and `snd`.  Sometimes we prefer to denote these projections by `∣_∣` and `∥_∥`, respectively. We define these alternative notations for projections out of pairs as follows.

<pre class="Agda">

<a id="2430" class="Keyword">module</a> <a id="2437" href="Demos.HSP.html#2437" class="Module">_</a> <a id="2439" class="Symbol">{</a><a id="2440" href="Demos.HSP.html#2440" class="Bound">A</a> <a id="2442" class="Symbol">:</a> <a id="2444" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="2449" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="2451" class="Symbol">}{</a><a id="2453" href="Demos.HSP.html#2453" class="Bound">B</a> <a id="2455" class="Symbol">:</a> <a id="2457" href="Demos.HSP.html#2440" class="Bound">A</a> <a id="2459" class="Symbol">→</a> <a id="2461" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="2466" href="Demos.HSP.html#1506" class="Generalizable">β</a><a id="2467" class="Symbol">}</a> <a id="2469" class="Keyword">where</a>

 <a id="2477" href="Demos.HSP.html#2477" class="Function Operator">∣_∣</a> <a id="2481" class="Symbol">:</a> <a id="2483" href="Data.Product.html#916" class="Function">Σ[</a> <a id="2486" href="Demos.HSP.html#2486" class="Bound">x</a> <a id="2488" href="Data.Product.html#916" class="Function">∈</a> <a id="2490" href="Demos.HSP.html#2440" class="Bound">A</a> <a id="2492" href="Data.Product.html#916" class="Function">]</a> <a id="2494" href="Demos.HSP.html#2453" class="Bound">B</a> <a id="2496" href="Demos.HSP.html#2486" class="Bound">x</a> <a id="2498" class="Symbol">→</a> <a id="2500" href="Demos.HSP.html#2440" class="Bound">A</a>
 <a id="2503" href="Demos.HSP.html#2477" class="Function Operator">∣_∣</a> <a id="2507" class="Symbol">=</a> <a id="2509" href="Demos.HSP.html#762" class="Field">fst</a>

 <a id="2515" href="Demos.HSP.html#2515" class="Function Operator">∥_∥</a> <a id="2519" class="Symbol">:</a> <a id="2521" class="Symbol">(</a><a id="2522" href="Demos.HSP.html#2522" class="Bound">z</a> <a id="2524" class="Symbol">:</a> <a id="2526" href="Data.Product.html#916" class="Function">Σ[</a> <a id="2529" href="Demos.HSP.html#2529" class="Bound">a</a> <a id="2531" href="Data.Product.html#916" class="Function">∈</a> <a id="2533" href="Demos.HSP.html#2440" class="Bound">A</a> <a id="2535" href="Data.Product.html#916" class="Function">]</a> <a id="2537" href="Demos.HSP.html#2453" class="Bound">B</a> <a id="2539" href="Demos.HSP.html#2529" class="Bound">a</a><a id="2540" class="Symbol">)</a> <a id="2542" class="Symbol">→</a> <a id="2544" href="Demos.HSP.html#2453" class="Bound">B</a> <a id="2546" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="2548" href="Demos.HSP.html#2522" class="Bound">z</a> <a id="2550" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
 <a id="2553" href="Demos.HSP.html#2515" class="Function Operator">∥_∥</a> <a id="2557" class="Symbol">=</a> <a id="2559" href="Demos.HSP.html#777" class="Field">snd</a>

 <a id="2565" class="Keyword">infix</a>  <a id="2572" class="Number">40</a> <a id="2575" href="Demos.HSP.html#2477" class="Function Operator">∣_∣</a>

</pre>

Here we put the definitions inside an *anonymous module*, which starts with the `module` keyword followed by an underscore (instead of a module name). The purpose is simply to move the postulated typing judgments---the "parameters" of the module (e.g., `A : Type α`)---out of the way so they don't obfuscate the definitions inside the module.


### <a id="inverses-of-functions-on-setoids">Inverses of functions on setoids</a>

(cf. the [Overture.Func.Inverses][] module of the [agda-algebras][] library.)

We begin by defining an data type that represents the semantic concept of *inverse image* of a function.

<pre class="Agda">

<a id="3219" class="Keyword">module</a> <a id="3226" href="Demos.HSP.html#3226" class="Module">_</a> <a id="3228" class="Symbol">{</a><a id="3229" href="Demos.HSP.html#3229" class="Bound">𝑨</a> <a id="3231" class="Symbol">:</a> <a id="3233" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="3240" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="3242" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="3244" class="Symbol">}{</a><a id="3246" href="Demos.HSP.html#3246" class="Bound">𝑩</a> <a id="3248" class="Symbol">:</a> <a id="3250" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="3257" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="3259" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="3261" class="Symbol">}</a> <a id="3263" class="Keyword">where</a>
 <a id="3270" class="Keyword">open</a> <a id="3275" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="3282" href="Demos.HSP.html#3229" class="Bound">𝑨</a> <a id="3284" class="Keyword">using</a> <a id="3290" class="Symbol">()</a> <a id="3293" class="Keyword">renaming</a> <a id="3302" class="Symbol">(</a> <a id="3304" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="3312" class="Symbol">to</a> <a id="3315" class="Field">A</a> <a id="3317" class="Symbol">)</a>
 <a id="3320" class="Keyword">open</a> <a id="3325" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="3332" href="Demos.HSP.html#3246" class="Bound">𝑩</a> <a id="3334" class="Keyword">using</a> <a id="3340" class="Symbol">(</a> <a id="3342" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="3346" class="Symbol">;</a> <a id="3348" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="3352" class="Symbol">)</a> <a id="3354" class="Keyword">renaming</a> <a id="3363" class="Symbol">(</a> <a id="3365" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="3373" class="Symbol">to</a> <a id="3376" class="Field">B</a> <a id="3378" class="Symbol">)</a>

 <a id="3382" class="Keyword">data</a> <a id="3387" href="Demos.HSP.html#3387" class="Datatype Operator">image_∋_</a> <a id="3396" class="Symbol">(</a><a id="3397" href="Demos.HSP.html#3397" class="Bound">f</a> <a id="3399" class="Symbol">:</a> <a id="3401" href="Demos.HSP.html#3315" class="Function">A</a> <a id="3403" class="Symbol">→</a> <a id="3405" href="Demos.HSP.html#3376" class="Field">B</a><a id="3406" class="Symbol">)</a> <a id="3408" class="Symbol">:</a> <a id="3410" href="Demos.HSP.html#3376" class="Field">B</a> <a id="3412" class="Symbol">→</a> <a id="3414" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="3419" class="Symbol">(</a><a id="3420" href="Demos.HSP.html#3240" class="Bound">α</a> <a id="3422" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3424" href="Demos.HSP.html#3257" class="Bound">β</a> <a id="3426" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3428" href="Demos.HSP.html#3259" class="Bound">ρᵇ</a><a id="3430" class="Symbol">)</a> <a id="3432" class="Keyword">where</a>
  <a id="3440" href="Demos.HSP.html#3440" class="InductiveConstructor">eq</a> <a id="3443" class="Symbol">:</a> <a id="3445" class="Symbol">{</a><a id="3446" href="Demos.HSP.html#3446" class="Bound">b</a> <a id="3448" class="Symbol">:</a> <a id="3450" href="Demos.HSP.html#3376" class="Field">B</a><a id="3451" class="Symbol">}</a> <a id="3453" class="Symbol">→</a> <a id="3455" class="Symbol">(</a><a id="3456" href="Demos.HSP.html#3456" class="Bound">a</a> <a id="3458" class="Symbol">:</a> <a id="3460" href="Demos.HSP.html#3315" class="Function">A</a><a id="3461" class="Symbol">)</a> <a id="3463" class="Symbol">→</a> <a id="3465" href="Demos.HSP.html#3446" class="Bound">b</a> <a id="3467" href="Relation.Binary.Bundles.html#1098" class="Field Operator">≈</a> <a id="3469" class="Symbol">(</a><a id="3470" href="Demos.HSP.html#3397" class="Bound">f</a> <a id="3472" href="Demos.HSP.html#3456" class="Bound">a</a><a id="3473" class="Symbol">)</a> <a id="3475" class="Symbol">→</a> <a id="3477" href="Demos.HSP.html#3387" class="Datatype Operator">image</a> <a id="3483" href="Demos.HSP.html#3397" class="Bound">f</a> <a id="3485" href="Demos.HSP.html#3387" class="Datatype Operator">∋</a> <a id="3487" href="Demos.HSP.html#3446" class="Bound">b</a>


 <a id="3492" class="Keyword">data</a> <a id="3497" href="Demos.HSP.html#3497" class="Datatype Operator">Image_∋_</a> <a id="3506" class="Symbol">(</a><a id="3507" href="Demos.HSP.html#3507" class="Bound">F</a> <a id="3509" class="Symbol">:</a> <a id="3511" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="3516" href="Demos.HSP.html#3229" class="Bound">𝑨</a> <a id="3518" href="Demos.HSP.html#3246" class="Bound">𝑩</a><a id="3519" class="Symbol">)</a> <a id="3521" class="Symbol">:</a> <a id="3523" href="Demos.HSP.html#3376" class="Field">B</a> <a id="3525" class="Symbol">→</a> <a id="3527" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="3532" class="Symbol">(</a><a id="3533" href="Demos.HSP.html#3240" class="Bound">α</a> <a id="3535" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3537" href="Demos.HSP.html#3257" class="Bound">β</a> <a id="3539" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3541" href="Demos.HSP.html#3259" class="Bound">ρᵇ</a><a id="3543" class="Symbol">)</a> <a id="3545" class="Keyword">where</a>
  <a id="3553" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="3556" class="Symbol">:</a> <a id="3558" class="Symbol">{</a><a id="3559" href="Demos.HSP.html#3559" class="Bound">b</a> <a id="3561" class="Symbol">:</a> <a id="3563" href="Demos.HSP.html#3376" class="Field">B</a><a id="3564" class="Symbol">}</a> <a id="3566" class="Symbol">→</a> <a id="3568" class="Symbol">(</a><a id="3569" href="Demos.HSP.html#3569" class="Bound">a</a> <a id="3571" class="Symbol">:</a> <a id="3573" href="Demos.HSP.html#3315" class="Function">A</a><a id="3574" class="Symbol">)</a> <a id="3576" class="Symbol">→</a> <a id="3578" href="Demos.HSP.html#3559" class="Bound">b</a> <a id="3580" href="Relation.Binary.Bundles.html#1098" class="Field Operator">≈</a> <a id="3582" class="Symbol">(</a><a id="3583" href="Demos.HSP.html#3507" class="Bound">F</a> <a id="3585" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="3589" href="Demos.HSP.html#3569" class="Bound">a</a><a id="3590" class="Symbol">)</a> <a id="3592" class="Symbol">→</a> <a id="3594" href="Demos.HSP.html#3497" class="Datatype Operator">Image</a> <a id="3600" href="Demos.HSP.html#3507" class="Bound">F</a> <a id="3602" href="Demos.HSP.html#3497" class="Datatype Operator">∋</a> <a id="3604" href="Demos.HSP.html#3559" class="Bound">b</a>

 <a id="3608" class="Keyword">open</a> <a id="3613" href="Demos.HSP.html#3497" class="Module Operator">Image_∋_</a>

</pre>

An inhabitant of `Image f ∋ b` is a dependent pair `(a , p)`, where `a : A` and `p : b ≡ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b` belongs to the image of `f` is always accompanied by a witness `a : A`, we can actually *compute* a (pseudo)inverse of `f`. For convenience, we define this inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and a (*witness*, *proof*)-pair, `(a , p) : Image f ∋ b`, and returns the witness `a`.

<pre class="Agda">

 <a id="4127" href="Demos.HSP.html#4127" class="Function">Inv</a> <a id="4131" class="Symbol">:</a> <a id="4133" class="Symbol">(</a><a id="4134" href="Demos.HSP.html#4134" class="Bound">F</a> <a id="4136" class="Symbol">:</a> <a id="4138" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="4143" href="Demos.HSP.html#3229" class="Bound">𝑨</a> <a id="4145" href="Demos.HSP.html#3246" class="Bound">𝑩</a><a id="4146" class="Symbol">){</a><a id="4148" href="Demos.HSP.html#4148" class="Bound">b</a> <a id="4150" class="Symbol">:</a> <a id="4152" href="Demos.HSP.html#3376" class="Field">B</a><a id="4153" class="Symbol">}</a> <a id="4155" class="Symbol">→</a> <a id="4157" href="Demos.HSP.html#3497" class="Datatype Operator">Image</a> <a id="4163" href="Demos.HSP.html#4134" class="Bound">F</a> <a id="4165" href="Demos.HSP.html#3497" class="Datatype Operator">∋</a> <a id="4167" href="Demos.HSP.html#4148" class="Bound">b</a> <a id="4169" class="Symbol">→</a> <a id="4171" href="Demos.HSP.html#3315" class="Function">A</a>
 <a id="4174" href="Demos.HSP.html#4127" class="Function">Inv</a> <a id="4178" class="Symbol">_</a> <a id="4180" class="Symbol">(</a><a id="4181" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="4184" href="Demos.HSP.html#4184" class="Bound">a</a> <a id="4186" class="Symbol">_)</a> <a id="4189" class="Symbol">=</a> <a id="4191" href="Demos.HSP.html#4184" class="Bound">a</a>

</pre>

We can prove that `Inv f` is the range-restricted right-inverse of `f`, as follows.

<pre class="Agda">

 <a id="4306" href="Demos.HSP.html#4306" class="Function">InvIsInverseʳ</a> <a id="4320" class="Symbol">:</a> <a id="4322" class="Symbol">{</a><a id="4323" href="Demos.HSP.html#4323" class="Bound">F</a> <a id="4325" class="Symbol">:</a> <a id="4327" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="4332" href="Demos.HSP.html#3229" class="Bound">𝑨</a> <a id="4334" href="Demos.HSP.html#3246" class="Bound">𝑩</a><a id="4335" class="Symbol">}{</a><a id="4337" href="Demos.HSP.html#4337" class="Bound">b</a> <a id="4339" class="Symbol">:</a> <a id="4341" href="Demos.HSP.html#3376" class="Field">B</a><a id="4342" class="Symbol">}(</a><a id="4344" href="Demos.HSP.html#4344" class="Bound">q</a> <a id="4346" class="Symbol">:</a> <a id="4348" href="Demos.HSP.html#3497" class="Datatype Operator">Image</a> <a id="4354" href="Demos.HSP.html#4323" class="Bound">F</a> <a id="4356" href="Demos.HSP.html#3497" class="Datatype Operator">∋</a> <a id="4358" href="Demos.HSP.html#4337" class="Bound">b</a><a id="4359" class="Symbol">)</a> <a id="4361" class="Symbol">→</a> <a id="4363" class="Symbol">(</a><a id="4364" href="Demos.HSP.html#4323" class="Bound">F</a> <a id="4366" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="4370" class="Symbol">(</a><a id="4371" href="Demos.HSP.html#4127" class="Function">Inv</a> <a id="4375" href="Demos.HSP.html#4323" class="Bound">F</a> <a id="4377" href="Demos.HSP.html#4344" class="Bound">q</a><a id="4378" class="Symbol">))</a> <a id="4381" href="Relation.Binary.Bundles.html#1098" class="Field Operator">≈</a> <a id="4383" href="Demos.HSP.html#4337" class="Bound">b</a>
 <a id="4386" href="Demos.HSP.html#4306" class="Function">InvIsInverseʳ</a> <a id="4400" class="Symbol">(</a><a id="4401" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="4404" class="Symbol">_</a> <a id="4406" href="Demos.HSP.html#4406" class="Bound">p</a><a id="4407" class="Symbol">)</a> <a id="4409" class="Symbol">=</a> <a id="4411" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="4415" href="Demos.HSP.html#4406" class="Bound">p</a>

</pre>

Of course, the "range-restricted" qualifier is needed because `Inf f` is not defined outside the range of `f`.






### <a id="injective-functions-on-setoids">Injective functions on setoids</a>

(cf. the [Overture.Func.Injective][] module of the [agda-algebras][] library.)

We say that a function `f : A → B` from one setoid (A , ≈₀) to another (B , ≈₁) is *injective* (or *monic*) provided the following implications hold:  ∀ a₀ a₁ if f ⟨$⟩ a₀ ≈₁ f ⟨$⟩ a₁, then a₀ ≈₀ a₁.

We can prove that, when `f` is injective, the range-restricted right-inverse `Inv` (defined above) is also the (range-restricted) left-inverse.

<pre class="Agda">

<a id="5065" class="Keyword">module</a> <a id="5072" href="Demos.HSP.html#5072" class="Module">_</a> <a id="5074" class="Symbol">{</a><a id="5075" href="Demos.HSP.html#5075" class="Bound">𝑨</a> <a id="5077" class="Symbol">:</a> <a id="5079" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="5086" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="5088" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="5090" class="Symbol">}{</a><a id="5092" href="Demos.HSP.html#5092" class="Bound">𝑩</a> <a id="5094" class="Symbol">:</a> <a id="5096" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="5103" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="5105" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="5107" class="Symbol">}</a> <a id="5109" class="Keyword">where</a>
 <a id="5116" class="Keyword">open</a> <a id="5121" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="5128" href="Demos.HSP.html#5075" class="Bound">𝑨</a> <a id="5130" class="Keyword">using</a> <a id="5136" class="Symbol">()</a> <a id="5139" class="Keyword">renaming</a> <a id="5148" class="Symbol">(</a> <a id="5150" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="5154" class="Symbol">to</a> <a id="5157" class="Field Operator">_≈₁_</a><a id="5161" class="Symbol">)</a>
 <a id="5164" class="Keyword">open</a> <a id="5169" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="5176" href="Demos.HSP.html#5092" class="Bound">𝑩</a> <a id="5178" class="Keyword">using</a> <a id="5184" class="Symbol">()</a> <a id="5187" class="Keyword">renaming</a> <a id="5196" class="Symbol">(</a> <a id="5198" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="5202" class="Symbol">to</a> <a id="5205" class="Field Operator">_≈₂_</a><a id="5209" class="Symbol">)</a>
 <a id="5212" class="Keyword">open</a> <a id="5217" href="Function.Definitions.html" class="Module">FD</a> <a id="5220" href="Demos.HSP.html#5157" class="Function Operator">_≈₁_</a> <a id="5225" href="Demos.HSP.html#5205" class="Field Operator">_≈₂_</a>

 <a id="5232" href="Demos.HSP.html#5232" class="Function">IsInjective</a> <a id="5244" class="Symbol">:</a> <a id="5246" class="Symbol">(</a><a id="5247" href="Demos.HSP.html#5075" class="Bound">𝑨</a> <a id="5249" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="5251" href="Demos.HSP.html#5092" class="Bound">𝑩</a><a id="5252" class="Symbol">)</a> <a id="5254" class="Symbol">→</a>  <a id="5257" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="5262" class="Symbol">(</a><a id="5263" href="Demos.HSP.html#5086" class="Bound">α</a> <a id="5265" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5267" href="Demos.HSP.html#5088" class="Bound">ρᵃ</a> <a id="5270" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5272" href="Demos.HSP.html#5105" class="Bound">ρᵇ</a><a id="5274" class="Symbol">)</a>
 <a id="5277" href="Demos.HSP.html#5232" class="Function">IsInjective</a> <a id="5289" href="Demos.HSP.html#5289" class="Bound">f</a> <a id="5291" class="Symbol">=</a> <a id="5293" href="Function.Definitions.html#889" class="Function">Injective</a> <a id="5303" class="Symbol">(</a><a id="5304" href="Demos.HSP.html#1474" class="Field Operator">_⟨$⟩_</a> <a id="5310" href="Demos.HSP.html#5289" class="Bound">f</a><a id="5311" class="Symbol">)</a>

<a id="5314" class="Keyword">module</a> <a id="compose"></a><a id="5321" href="Demos.HSP.html#5321" class="Module">compose</a> <a id="5329" class="Symbol">{</a><a id="5330" href="Demos.HSP.html#5330" class="Bound">A</a> <a id="5332" class="Symbol">:</a> <a id="5334" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="5339" href="Demos.HSP.html#1501" class="Generalizable">α</a><a id="5340" class="Symbol">}{</a><a id="5342" href="Demos.HSP.html#5342" class="Bound">B</a> <a id="5344" class="Symbol">:</a> <a id="5346" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="5351" href="Demos.HSP.html#1506" class="Generalizable">β</a><a id="5352" class="Symbol">}{</a><a id="5354" href="Demos.HSP.html#5354" class="Bound">C</a> <a id="5356" class="Symbol">:</a> <a id="5358" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="5363" href="Demos.HSP.html#1511" class="Generalizable">γ</a><a id="5364" class="Symbol">}</a>
               <a id="5381" class="Symbol">(</a><a id="5382" href="Demos.HSP.html#5382" class="Bound Operator">_≈₁_</a> <a id="5387" class="Symbol">:</a> <a id="5389" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="5393" href="Demos.HSP.html#5330" class="Bound">A</a> <a id="5395" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="5397" class="Symbol">)</a> <a id="5399" class="Comment">-- Equality over A</a>
               <a id="5433" class="Symbol">(</a><a id="5434" href="Demos.HSP.html#5434" class="Bound Operator">_≈₂_</a> <a id="5439" class="Symbol">:</a> <a id="5441" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="5445" href="Demos.HSP.html#5342" class="Bound">B</a> <a id="5447" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="5449" class="Symbol">)</a> <a id="5451" class="Comment">-- Equality over B</a>
               <a id="5485" class="Symbol">(</a><a id="5486" href="Demos.HSP.html#5486" class="Bound Operator">_≈₃_</a> <a id="5491" class="Symbol">:</a> <a id="5493" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="5497" href="Demos.HSP.html#5354" class="Bound">C</a> <a id="5499" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a><a id="5501" class="Symbol">)</a> <a id="5503" class="Comment">-- Equality over C</a>
               <a id="5537" class="Keyword">where</a>

 <a id="5545" class="Keyword">open</a> <a id="5550" href="Function.Definitions.html" class="Module">FD</a> <a id="5553" class="Symbol">{</a><a id="5554" class="Argument">A</a> <a id="5556" class="Symbol">=</a> <a id="5558" href="Demos.HSP.html#5330" class="Bound">A</a><a id="5559" class="Symbol">}</a> <a id="5561" class="Symbol">{</a><a id="5562" href="Demos.HSP.html#5342" class="Bound">B</a><a id="5563" class="Symbol">}</a> <a id="5565" href="Demos.HSP.html#5382" class="Bound Operator">_≈₁_</a> <a id="5570" href="Demos.HSP.html#5434" class="Bound Operator">_≈₂_</a> <a id="5575" class="Keyword">using</a> <a id="5581" class="Symbol">()</a> <a id="5584" class="Keyword">renaming</a> <a id="5593" class="Symbol">(</a> <a id="5595" href="Function.Definitions.html#889" class="Function">Injective</a> <a id="5605" class="Symbol">to</a> <a id="5608" class="Function">InjectiveAB</a> <a id="5620" class="Symbol">)</a>
 <a id="5623" class="Keyword">open</a> <a id="5628" href="Function.Definitions.html" class="Module">FD</a> <a id="5631" class="Symbol">{</a><a id="5632" class="Argument">A</a> <a id="5634" class="Symbol">=</a> <a id="5636" href="Demos.HSP.html#5342" class="Bound">B</a><a id="5637" class="Symbol">}</a> <a id="5639" class="Symbol">{</a><a id="5640" href="Demos.HSP.html#5354" class="Bound">C</a><a id="5641" class="Symbol">}</a> <a id="5643" href="Demos.HSP.html#5434" class="Bound Operator">_≈₂_</a> <a id="5648" href="Demos.HSP.html#5486" class="Bound Operator">_≈₃_</a> <a id="5653" class="Keyword">using</a> <a id="5659" class="Symbol">()</a> <a id="5662" class="Keyword">renaming</a> <a id="5671" class="Symbol">(</a> <a id="5673" href="Function.Definitions.html#889" class="Function">Injective</a> <a id="5683" class="Symbol">to</a> <a id="5686" class="Function">InjectiveBC</a> <a id="5698" class="Symbol">)</a>
 <a id="5701" class="Keyword">open</a> <a id="5706" href="Function.Definitions.html" class="Module">FD</a> <a id="5709" class="Symbol">{</a><a id="5710" class="Argument">A</a> <a id="5712" class="Symbol">=</a> <a id="5714" href="Demos.HSP.html#5330" class="Bound">A</a><a id="5715" class="Symbol">}</a> <a id="5717" class="Symbol">{</a><a id="5718" href="Demos.HSP.html#5354" class="Bound">C</a><a id="5719" class="Symbol">}</a> <a id="5721" href="Demos.HSP.html#5382" class="Bound Operator">_≈₁_</a> <a id="5726" href="Demos.HSP.html#5486" class="Bound Operator">_≈₃_</a> <a id="5731" class="Keyword">using</a> <a id="5737" class="Symbol">()</a> <a id="5740" class="Keyword">renaming</a> <a id="5749" class="Symbol">(</a> <a id="5751" href="Function.Definitions.html#889" class="Function">Injective</a> <a id="5761" class="Symbol">to</a> <a id="5764" class="Function">InjectiveAC</a> <a id="5776" class="Symbol">)</a>

 <a id="compose.∘-injective-func"></a><a id="5780" href="Demos.HSP.html#5780" class="Function">∘-injective-func</a> <a id="5797" class="Symbol">:</a> <a id="5799" class="Symbol">{</a><a id="5800" href="Demos.HSP.html#5800" class="Bound">f</a> <a id="5802" class="Symbol">:</a> <a id="5804" href="Demos.HSP.html#5330" class="Bound">A</a> <a id="5806" class="Symbol">→</a> <a id="5808" href="Demos.HSP.html#5342" class="Bound">B</a><a id="5809" class="Symbol">}{</a><a id="5811" href="Demos.HSP.html#5811" class="Bound">g</a> <a id="5813" class="Symbol">:</a> <a id="5815" href="Demos.HSP.html#5342" class="Bound">B</a> <a id="5817" class="Symbol">→</a> <a id="5819" href="Demos.HSP.html#5354" class="Bound">C</a><a id="5820" class="Symbol">}</a>
  <a id="5824" class="Symbol">→</a>                 <a id="5842" href="Demos.HSP.html#5608" class="Function">InjectiveAB</a> <a id="5854" href="Demos.HSP.html#5800" class="Bound">f</a> <a id="5856" class="Symbol">→</a> <a id="5858" href="Demos.HSP.html#5686" class="Function">InjectiveBC</a> <a id="5870" href="Demos.HSP.html#5811" class="Bound">g</a> <a id="5872" class="Symbol">→</a> <a id="5874" href="Demos.HSP.html#5764" class="Function">InjectiveAC</a> <a id="5886" class="Symbol">(</a><a id="5887" href="Demos.HSP.html#5811" class="Bound">g</a> <a id="5889" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="5891" href="Demos.HSP.html#5800" class="Bound">f</a><a id="5892" class="Symbol">)</a>

 <a id="5896" href="Demos.HSP.html#5780" class="Function">∘-injective-func</a> <a id="5913" href="Demos.HSP.html#5913" class="Bound">finj</a> <a id="5918" href="Demos.HSP.html#5918" class="Bound">ginj</a> <a id="5923" class="Symbol">=</a> <a id="5925" href="Demos.HSP.html#5913" class="Bound">finj</a> <a id="5930" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="5932" href="Demos.HSP.html#5918" class="Bound">ginj</a>

</pre>



### <a id="surjective-functions-on-setoids">Surjective functions on setoids</a>

(cf. the [Overture.Func.Surjective][] module of the [agda-algebras][] library.)

A *surjective function* from a setoid `𝑨 = (A, ≈₀)` to a setoid `𝑩 = (B, ≈₁)` is a function `f : 𝑨 ⟶ 𝑩` such that for all `b : B` there exists `a : A` such that `(f ⟨$⟩ a) ≈₁ b`.  In other words, the range and codomain of `f` agree.

<pre class="Agda">

<a id="6362" class="Keyword">open</a> <a id="6367" href="Demos.HSP.html#3497" class="Module Operator">Image_∋_</a>

<a id="6377" class="Keyword">module</a> <a id="6384" href="Demos.HSP.html#6384" class="Module">_</a> <a id="6386" class="Symbol">{</a><a id="6387" href="Demos.HSP.html#6387" class="Bound">𝑨</a> <a id="6389" class="Symbol">:</a> <a id="6391" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="6398" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="6400" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="6402" class="Symbol">}{</a><a id="6404" href="Demos.HSP.html#6404" class="Bound">𝑩</a> <a id="6406" class="Symbol">:</a> <a id="6408" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="6415" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="6417" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="6419" class="Symbol">}</a> <a id="6421" class="Keyword">where</a>

 <a id="6429" class="Keyword">open</a> <a id="6434" href="Function.Bundles.html#2677" class="Module">Surjection</a> <a id="6445" class="Symbol">{</a><a id="6446" class="Argument">a</a> <a id="6448" class="Symbol">=</a> <a id="6450" href="Demos.HSP.html#6398" class="Bound">α</a><a id="6451" class="Symbol">}{</a><a id="6453" href="Demos.HSP.html#6400" class="Bound">ρᵃ</a><a id="6455" class="Symbol">}{</a><a id="6457" href="Demos.HSP.html#6415" class="Bound">β</a><a id="6458" class="Symbol">}{</a><a id="6460" href="Demos.HSP.html#6417" class="Bound">ρᵇ</a><a id="6462" class="Symbol">}{</a><a id="6464" class="Argument">From</a> <a id="6469" class="Symbol">=</a> <a id="6471" href="Demos.HSP.html#6387" class="Bound">𝑨</a><a id="6472" class="Symbol">}{</a><a id="6474" class="Argument">To</a> <a id="6477" class="Symbol">=</a> <a id="6479" href="Demos.HSP.html#6404" class="Bound">𝑩</a><a id="6480" class="Symbol">}</a> <a id="6482" class="Keyword">renaming</a> <a id="6491" class="Symbol">(</a><a id="6492" href="Function.Bundles.html#2734" class="Field">f</a> <a id="6494" class="Symbol">to</a> <a id="6497" class="Field">_⟨$⟩_</a><a id="6502" class="Symbol">)</a>
 <a id="6505" class="Keyword">open</a> <a id="6510" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="6517" href="Demos.HSP.html#6387" class="Bound">𝑨</a> <a id="6519" class="Keyword">using</a> <a id="6525" class="Symbol">()</a> <a id="6528" class="Keyword">renaming</a> <a id="6537" class="Symbol">(</a><a id="6538" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="6546" class="Symbol">to</a> <a id="6549" class="Field">A</a> <a id="6551" class="Symbol">)</a>
 <a id="6554" class="Keyword">open</a> <a id="6559" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="6566" href="Demos.HSP.html#6404" class="Bound">𝑩</a> <a id="6568" class="Keyword">using</a> <a id="6574" class="Symbol">()</a> <a id="6577" class="Keyword">renaming</a> <a id="6586" class="Symbol">(</a><a id="6587" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="6595" class="Symbol">to</a> <a id="6598" class="Field">B</a><a id="6599" class="Symbol">;</a> <a id="6601" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="6605" class="Symbol">to</a> <a id="6608" class="Field Operator">_≈₂_</a> <a id="6613" class="Symbol">)</a>

 <a id="6617" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="6630" class="Symbol">:</a> <a id="6632" class="Symbol">(</a><a id="6633" href="Demos.HSP.html#6387" class="Bound">𝑨</a> <a id="6635" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="6637" href="Demos.HSP.html#6404" class="Bound">𝑩</a><a id="6638" class="Symbol">)</a> <a id="6640" class="Symbol">→</a>  <a id="6643" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="6648" class="Symbol">(</a><a id="6649" href="Demos.HSP.html#6398" class="Bound">α</a> <a id="6651" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="6653" href="Demos.HSP.html#6415" class="Bound">β</a> <a id="6655" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="6657" href="Demos.HSP.html#6417" class="Bound">ρᵇ</a><a id="6659" class="Symbol">)</a>
 <a id="6662" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="6675" href="Demos.HSP.html#6675" class="Bound">F</a> <a id="6677" class="Symbol">=</a> <a id="6679" class="Symbol">∀</a> <a id="6681" class="Symbol">{</a><a id="6682" href="Demos.HSP.html#6682" class="Bound">y</a><a id="6683" class="Symbol">}</a> <a id="6685" class="Symbol">→</a> <a id="6687" href="Demos.HSP.html#3497" class="Datatype Operator">Image</a> <a id="6693" href="Demos.HSP.html#6675" class="Bound">F</a> <a id="6695" href="Demos.HSP.html#3497" class="Datatype Operator">∋</a> <a id="6697" href="Demos.HSP.html#6682" class="Bound">y</a>

</pre>

With the next definition, we can represent a *right-inverse* of a surjective function.

<pre class="Agda">

 <a id="6815" href="Demos.HSP.html#6815" class="Function">SurjInv</a> <a id="6823" class="Symbol">:</a> <a id="6825" class="Symbol">(</a><a id="6826" href="Demos.HSP.html#6826" class="Bound">f</a> <a id="6828" class="Symbol">:</a> <a id="6830" href="Demos.HSP.html#6387" class="Bound">𝑨</a> <a id="6832" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="6834" href="Demos.HSP.html#6404" class="Bound">𝑩</a><a id="6835" class="Symbol">)</a> <a id="6837" class="Symbol">→</a> <a id="6839" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="6852" href="Demos.HSP.html#6826" class="Bound">f</a> <a id="6854" class="Symbol">→</a> <a id="6856" href="Demos.HSP.html#6598" class="Field">B</a> <a id="6858" class="Symbol">→</a> <a id="6860" href="Demos.HSP.html#6549" class="Function">A</a>
 <a id="6863" href="Demos.HSP.html#6815" class="Function">SurjInv</a> <a id="6871" href="Demos.HSP.html#6871" class="Bound">f</a> <a id="6873" href="Demos.HSP.html#6873" class="Bound">fE</a> <a id="6876" href="Demos.HSP.html#6876" class="Bound">b</a> <a id="6878" class="Symbol">=</a> <a id="6880" href="Demos.HSP.html#4127" class="Function">Inv</a> <a id="6884" href="Demos.HSP.html#6871" class="Bound">f</a> <a id="6886" class="Symbol">(</a><a id="6887" href="Demos.HSP.html#6873" class="Bound">fE</a> <a id="6890" class="Symbol">{</a><a id="6891" href="Demos.HSP.html#6876" class="Bound">b</a><a id="6892" class="Symbol">})</a>

</pre>

Thus, a right-inverse of `f` is obtained by applying `RightInv` to `f` and a proof of `IsSurjective f`.  Next we prove that this does indeed give the right-inverse.

<pre class="Agda">

 <a id="7089" href="Demos.HSP.html#7089" class="Function">SurjInvIsInverseʳ</a> <a id="7107" class="Symbol">:</a> <a id="7109" class="Symbol">(</a><a id="7110" href="Demos.HSP.html#7110" class="Bound">f</a> <a id="7112" class="Symbol">:</a> <a id="7114" href="Demos.HSP.html#6387" class="Bound">𝑨</a> <a id="7116" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="7118" href="Demos.HSP.html#6404" class="Bound">𝑩</a><a id="7119" class="Symbol">)(</a><a id="7121" href="Demos.HSP.html#7121" class="Bound">fE</a> <a id="7124" class="Symbol">:</a> <a id="7126" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="7139" href="Demos.HSP.html#7110" class="Bound">f</a><a id="7140" class="Symbol">)</a> <a id="7142" class="Symbol">→</a> <a id="7144" class="Symbol">∀</a> <a id="7146" class="Symbol">{</a><a id="7147" href="Demos.HSP.html#7147" class="Bound">b</a><a id="7148" class="Symbol">}</a> <a id="7150" class="Symbol">→</a> <a id="7152" class="Symbol">(</a><a id="7153" href="Demos.HSP.html#7110" class="Bound">f</a> <a id="7155" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="7159" class="Symbol">((</a><a id="7161" href="Demos.HSP.html#6815" class="Function">SurjInv</a> <a id="7169" href="Demos.HSP.html#7110" class="Bound">f</a> <a id="7171" href="Demos.HSP.html#7121" class="Bound">fE</a><a id="7173" class="Symbol">)</a> <a id="7175" href="Demos.HSP.html#7147" class="Bound">b</a><a id="7176" class="Symbol">))</a> <a id="7179" href="Demos.HSP.html#6608" class="Field Operator">≈₂</a> <a id="7182" href="Demos.HSP.html#7147" class="Bound">b</a>
 <a id="7185" href="Demos.HSP.html#7089" class="Function">SurjInvIsInverseʳ</a> <a id="7203" href="Demos.HSP.html#7203" class="Bound">f</a> <a id="7205" href="Demos.HSP.html#7205" class="Bound">fE</a> <a id="7208" class="Symbol">=</a> <a id="7210" href="Demos.HSP.html#4306" class="Function">InvIsInverseʳ</a> <a id="7224" href="Demos.HSP.html#7205" class="Bound">fE</a>

</pre>

Next, we prove composition laws for epics.

<pre class="Agda">

<a id="7298" class="Keyword">module</a> <a id="7305" href="Demos.HSP.html#7305" class="Module">_</a> <a id="7307" class="Symbol">{</a><a id="7308" href="Demos.HSP.html#7308" class="Bound">𝑨</a> <a id="7310" class="Symbol">:</a> <a id="7312" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="7319" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="7321" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="7323" class="Symbol">}{</a><a id="7325" href="Demos.HSP.html#7325" class="Bound">𝑩</a> <a id="7327" class="Symbol">:</a> <a id="7329" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="7336" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="7338" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="7340" class="Symbol">}{</a><a id="7342" href="Demos.HSP.html#7342" class="Bound">𝑪</a> <a id="7344" class="Symbol">:</a> <a id="7346" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="7353" href="Demos.HSP.html#1511" class="Generalizable">γ</a> <a id="7355" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a><a id="7357" class="Symbol">}</a> <a id="7359" class="Keyword">where</a>

 <a id="7367" class="Keyword">open</a> <a id="7372" href="Function.Bundles.html#2677" class="Module">Surjection</a> <a id="7383" class="Keyword">renaming</a> <a id="7392" class="Symbol">(</a><a id="7393" href="Function.Bundles.html#2734" class="Field">f</a> <a id="7395" class="Symbol">to</a> <a id="7398" class="Field">_⟨$⟩_</a><a id="7403" class="Symbol">)</a>
 <a id="7406" class="Keyword">open</a> <a id="7411" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="7418" href="Demos.HSP.html#7325" class="Bound">𝑩</a> <a id="7420" class="Keyword">using</a> <a id="7426" class="Symbol">(</a> <a id="7428" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="7434" class="Symbol">;</a> <a id="7436" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="7440" class="Symbol">)</a>

 <a id="7444" href="Demos.HSP.html#7444" class="Function">∘-IsSurjective</a> <a id="7459" class="Symbol">:</a> <a id="7461" class="Symbol">{</a><a id="7462" href="Demos.HSP.html#7462" class="Bound">G</a> <a id="7464" class="Symbol">:</a> <a id="7466" href="Demos.HSP.html#7308" class="Bound">𝑨</a> <a id="7468" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="7470" href="Demos.HSP.html#7342" class="Bound">𝑪</a><a id="7471" class="Symbol">}{</a><a id="7473" href="Demos.HSP.html#7473" class="Bound">H</a> <a id="7475" class="Symbol">:</a> <a id="7477" href="Demos.HSP.html#7342" class="Bound">𝑪</a> <a id="7479" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="7481" href="Demos.HSP.html#7325" class="Bound">𝑩</a><a id="7482" class="Symbol">}</a> <a id="7484" class="Symbol">→</a> <a id="7486" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="7499" href="Demos.HSP.html#7462" class="Bound">G</a> <a id="7501" class="Symbol">→</a> <a id="7503" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="7516" href="Demos.HSP.html#7473" class="Bound">H</a> <a id="7518" class="Symbol">→</a> <a id="7520" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="7533" class="Symbol">(</a><a id="7534" href="Demos.HSP.html#7473" class="Bound">H</a> <a id="7536" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="7540" href="Demos.HSP.html#7462" class="Bound">G</a><a id="7541" class="Symbol">)</a>
 <a id="7544" href="Demos.HSP.html#7444" class="Function">∘-IsSurjective</a> <a id="7559" class="Symbol">{</a><a id="7560" href="Demos.HSP.html#7560" class="Bound">G</a><a id="7561" class="Symbol">}</a> <a id="7563" class="Symbol">{</a><a id="7564" href="Demos.HSP.html#7564" class="Bound">H</a><a id="7565" class="Symbol">}</a> <a id="7567" href="Demos.HSP.html#7567" class="Bound">gE</a> <a id="7570" href="Demos.HSP.html#7570" class="Bound">hE</a> <a id="7573" class="Symbol">{</a><a id="7574" href="Demos.HSP.html#7574" class="Bound">y</a><a id="7575" class="Symbol">}</a> <a id="7577" class="Symbol">=</a> <a id="7579" href="Demos.HSP.html#7745" class="Function">Goal</a>
  <a id="7586" class="Keyword">where</a>
  <a id="7594" href="Demos.HSP.html#7594" class="Function">mp</a> <a id="7597" class="Symbol">:</a> <a id="7599" href="Demos.HSP.html#3497" class="Datatype Operator">Image</a> <a id="7605" href="Demos.HSP.html#7564" class="Bound">H</a> <a id="7607" href="Demos.HSP.html#3497" class="Datatype Operator">∋</a> <a id="7609" href="Demos.HSP.html#7574" class="Bound">y</a> <a id="7611" class="Symbol">→</a> <a id="7613" href="Demos.HSP.html#3497" class="Datatype Operator">Image</a> <a id="7619" href="Demos.HSP.html#7564" class="Bound">H</a> <a id="7621" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="7625" href="Demos.HSP.html#7560" class="Bound">G</a> <a id="7627" href="Demos.HSP.html#3497" class="Datatype Operator">∋</a> <a id="7629" href="Demos.HSP.html#7574" class="Bound">y</a>
  <a id="7633" href="Demos.HSP.html#7594" class="Function">mp</a> <a id="7636" class="Symbol">(</a><a id="7637" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="7640" href="Demos.HSP.html#7640" class="Bound">c</a> <a id="7642" href="Demos.HSP.html#7642" class="Bound">p</a><a id="7643" class="Symbol">)</a> <a id="7645" class="Symbol">=</a> <a id="7647" href="Demos.HSP.html#7664" class="Function">η</a> <a id="7649" href="Demos.HSP.html#7567" class="Bound">gE</a>
   <a id="7655" class="Keyword">where</a>
   <a id="7664" href="Demos.HSP.html#7664" class="Function">η</a> <a id="7666" class="Symbol">:</a> <a id="7668" href="Demos.HSP.html#3497" class="Datatype Operator">Image</a> <a id="7674" href="Demos.HSP.html#7560" class="Bound">G</a> <a id="7676" href="Demos.HSP.html#3497" class="Datatype Operator">∋</a> <a id="7678" href="Demos.HSP.html#7640" class="Bound">c</a> <a id="7680" class="Symbol">→</a> <a id="7682" href="Demos.HSP.html#3497" class="Datatype Operator">Image</a> <a id="7688" href="Demos.HSP.html#7564" class="Bound">H</a> <a id="7690" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="7694" href="Demos.HSP.html#7560" class="Bound">G</a> <a id="7696" href="Demos.HSP.html#3497" class="Datatype Operator">∋</a> <a id="7698" href="Demos.HSP.html#7574" class="Bound">y</a>
   <a id="7703" href="Demos.HSP.html#7664" class="Function">η</a> <a id="7705" class="Symbol">(</a><a id="7706" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="7709" href="Demos.HSP.html#7709" class="Bound">a</a> <a id="7711" href="Demos.HSP.html#7711" class="Bound">q</a><a id="7712" class="Symbol">)</a> <a id="7714" class="Symbol">=</a> <a id="7716" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="7719" href="Demos.HSP.html#7709" class="Bound">a</a> <a id="7721" class="Symbol">(</a><a id="7722" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="7728" href="Demos.HSP.html#7642" class="Bound">p</a> <a id="7730" class="Symbol">(</a><a id="7731" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="7736" href="Demos.HSP.html#7564" class="Bound">H</a> <a id="7738" href="Demos.HSP.html#7711" class="Bound">q</a><a id="7739" class="Symbol">))</a>

  <a id="7745" href="Demos.HSP.html#7745" class="Function">Goal</a> <a id="7750" class="Symbol">:</a> <a id="7752" href="Demos.HSP.html#3497" class="Datatype Operator">Image</a> <a id="7758" href="Demos.HSP.html#7564" class="Bound">H</a> <a id="7760" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="7764" href="Demos.HSP.html#7560" class="Bound">G</a> <a id="7766" href="Demos.HSP.html#3497" class="Datatype Operator">∋</a> <a id="7768" href="Demos.HSP.html#7574" class="Bound">y</a>
  <a id="7772" href="Demos.HSP.html#7745" class="Function">Goal</a> <a id="7777" class="Symbol">=</a> <a id="7779" href="Demos.HSP.html#7594" class="Function">mp</a> <a id="7782" href="Demos.HSP.html#7570" class="Bound">hE</a>

</pre>



### <a id="kernels">Kernels</a>

The *kernel* of `f : A → B` is defined informally by `{(x , y) ∈ A × A : f x = f y}`.
This can be represented in type theory and Agda in a number of ways, each of which
may be useful in a particular context. For example, we could define the kernel
to be an inhabitant of a (binary) relation type, or a (unary) predicate type.

<pre class="Agda">

<a id="8174" class="Keyword">module</a> <a id="8181" href="Demos.HSP.html#8181" class="Module">_</a> <a id="8183" class="Symbol">{</a><a id="8184" href="Demos.HSP.html#8184" class="Bound">A</a> <a id="8186" class="Symbol">:</a> <a id="8188" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="8193" href="Demos.HSP.html#1501" class="Generalizable">α</a><a id="8194" class="Symbol">}{</a><a id="8196" href="Demos.HSP.html#8196" class="Bound">B</a> <a id="8198" class="Symbol">:</a> <a id="8200" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="8205" href="Demos.HSP.html#1506" class="Generalizable">β</a><a id="8206" class="Symbol">}</a> <a id="8208" class="Keyword">where</a>

 <a id="8216" href="Demos.HSP.html#8216" class="Function">kerRel</a> <a id="8223" class="Symbol">:</a> <a id="8225" class="Symbol">{</a><a id="8226" href="Demos.HSP.html#8226" class="Bound">ρ</a> <a id="8228" class="Symbol">:</a> <a id="8230" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8235" class="Symbol">}</a> <a id="8237" class="Symbol">→</a> <a id="8239" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="8243" href="Demos.HSP.html#8196" class="Bound">B</a> <a id="8245" href="Demos.HSP.html#8226" class="Bound">ρ</a> <a id="8247" class="Symbol">→</a> <a id="8249" class="Symbol">(</a><a id="8250" href="Demos.HSP.html#8184" class="Bound">A</a> <a id="8252" class="Symbol">→</a> <a id="8254" href="Demos.HSP.html#8196" class="Bound">B</a><a id="8255" class="Symbol">)</a> <a id="8257" class="Symbol">→</a> <a id="8259" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="8263" href="Demos.HSP.html#8184" class="Bound">A</a> <a id="8265" href="Demos.HSP.html#8226" class="Bound">ρ</a>
 <a id="8268" href="Demos.HSP.html#8216" class="Function">kerRel</a> <a id="8275" href="Demos.HSP.html#8275" class="Bound Operator">_≈_</a> <a id="8279" href="Demos.HSP.html#8279" class="Bound">g</a> <a id="8281" href="Demos.HSP.html#8281" class="Bound">x</a> <a id="8283" href="Demos.HSP.html#8283" class="Bound">y</a> <a id="8285" class="Symbol">=</a> <a id="8287" href="Demos.HSP.html#8279" class="Bound">g</a> <a id="8289" href="Demos.HSP.html#8281" class="Bound">x</a> <a id="8291" href="Demos.HSP.html#8275" class="Bound Operator">≈</a> <a id="8293" href="Demos.HSP.html#8279" class="Bound">g</a> <a id="8295" href="Demos.HSP.html#8283" class="Bound">y</a>

 <a id="8299" href="Demos.HSP.html#8299" class="Function">kernel</a> <a id="8306" class="Symbol">:</a> <a id="8308" class="Symbol">{</a><a id="8309" href="Demos.HSP.html#8309" class="Bound">ρ</a> <a id="8311" class="Symbol">:</a> <a id="8313" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8318" class="Symbol">}</a> <a id="8320" class="Symbol">→</a> <a id="8322" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="8326" href="Demos.HSP.html#8196" class="Bound">B</a> <a id="8328" href="Demos.HSP.html#8309" class="Bound">ρ</a> <a id="8330" class="Symbol">→</a> <a id="8332" class="Symbol">(</a><a id="8333" href="Demos.HSP.html#8184" class="Bound">A</a> <a id="8335" class="Symbol">→</a> <a id="8337" href="Demos.HSP.html#8196" class="Bound">B</a><a id="8338" class="Symbol">)</a> <a id="8340" class="Symbol">→</a> <a id="8342" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8347" class="Symbol">(</a><a id="8348" href="Demos.HSP.html#8184" class="Bound">A</a> <a id="8350" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8352" href="Demos.HSP.html#8184" class="Bound">A</a><a id="8353" class="Symbol">)</a> <a id="8355" href="Demos.HSP.html#8309" class="Bound">ρ</a>
 <a id="8358" href="Demos.HSP.html#8299" class="Function">kernel</a> <a id="8365" href="Demos.HSP.html#8365" class="Bound Operator">_≈_</a> <a id="8369" href="Demos.HSP.html#8369" class="Bound">g</a> <a id="8371" class="Symbol">(</a><a id="8372" href="Demos.HSP.html#8372" class="Bound">x</a> <a id="8374" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8376" href="Demos.HSP.html#8376" class="Bound">y</a><a id="8377" class="Symbol">)</a> <a id="8379" class="Symbol">=</a> <a id="8381" href="Demos.HSP.html#8369" class="Bound">g</a> <a id="8383" href="Demos.HSP.html#8372" class="Bound">x</a> <a id="8385" href="Demos.HSP.html#8365" class="Bound Operator">≈</a> <a id="8387" href="Demos.HSP.html#8369" class="Bound">g</a> <a id="8389" href="Demos.HSP.html#8376" class="Bound">y</a>


</pre>

#### <a id="kernels">Kernels on setoids</a>

Given setoids 𝐴 and 𝐵 (with carriers A and B, resp), the *kernel* of a function `f : 𝐴 ⟶ 𝐵` is defined
informally by `{(x , y) ∈ A × A : f ⟨$⟩ x ≈₂ f ⟨$⟩ y}`.

<pre class="Agda">

<a id="8624" class="Keyword">module</a> <a id="8631" href="Demos.HSP.html#8631" class="Module">_</a> <a id="8633" class="Symbol">{</a><a id="8634" href="Demos.HSP.html#8634" class="Bound">𝐴</a> <a id="8636" class="Symbol">:</a> <a id="8638" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="8645" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="8647" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="8649" class="Symbol">}{</a><a id="8651" href="Demos.HSP.html#8651" class="Bound">𝐵</a> <a id="8653" class="Symbol">:</a> <a id="8655" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="8662" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="8664" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="8666" class="Symbol">}</a> <a id="8668" class="Keyword">where</a>
 <a id="8675" class="Keyword">open</a> <a id="8680" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="8687" href="Demos.HSP.html#8634" class="Bound">𝐴</a> <a id="8689" class="Keyword">using</a> <a id="8695" class="Symbol">()</a> <a id="8698" class="Keyword">renaming</a> <a id="8707" class="Symbol">(</a> <a id="8709" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="8717" class="Symbol">to</a> <a id="8720" class="Field">A</a> <a id="8722" class="Symbol">)</a>
 <a id="8725" class="Keyword">open</a> <a id="8730" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="8737" href="Demos.HSP.html#8651" class="Bound">𝐵</a> <a id="8739" class="Keyword">using</a> <a id="8745" class="Symbol">(</a> <a id="8747" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="8751" class="Symbol">)</a>

 <a id="8755" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="8759" class="Symbol">:</a> <a id="8761" class="Symbol">(</a><a id="8762" href="Demos.HSP.html#8634" class="Bound">𝐴</a> <a id="8764" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="8766" href="Demos.HSP.html#8651" class="Bound">𝐵</a><a id="8767" class="Symbol">)</a> <a id="8769" class="Symbol">→</a> <a id="8771" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8776" class="Symbol">(</a><a id="8777" href="Demos.HSP.html#8720" class="Function">A</a> <a id="8779" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8781" href="Demos.HSP.html#8720" class="Function">A</a><a id="8782" class="Symbol">)</a> <a id="8784" href="Demos.HSP.html#8664" class="Bound">ρᵇ</a>
 <a id="8788" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="8792" href="Demos.HSP.html#8792" class="Bound">g</a> <a id="8794" class="Symbol">(</a><a id="8795" href="Demos.HSP.html#8795" class="Bound">x</a> <a id="8797" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8799" href="Demos.HSP.html#8799" class="Bound">y</a><a id="8800" class="Symbol">)</a> <a id="8802" class="Symbol">=</a> <a id="8804" href="Demos.HSP.html#8792" class="Bound">g</a> <a id="8806" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="8810" href="Demos.HSP.html#8795" class="Bound">x</a> <a id="8812" href="Relation.Binary.Bundles.html#1098" class="Field Operator">≈</a> <a id="8814" href="Demos.HSP.html#8792" class="Bound">g</a> <a id="8816" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="8820" href="Demos.HSP.html#8799" class="Bound">y</a>

</pre>


## Algebras


### <a id="algebras-basic-definitions">Basic definitions</a>

Here we define algebras over a setoid, instead of a mere type with no equivalence on it.

First we define an operator that translates an ordinary signature into a signature over a setoid domain.

<pre class="Agda">

<a id="9122" class="Keyword">module</a> <a id="9129" href="Demos.HSP.html#9129" class="Module">_</a> <a id="9131" class="Keyword">where</a>
 <a id="9138" class="Keyword">open</a> <a id="9143" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="9150" class="Keyword">using</a> <a id="9156" class="Symbol">(</a> <a id="9158" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="9166" class="Symbol">)</a>

 <a id="9170" href="Demos.HSP.html#9170" class="Function">EqArgs</a> <a id="9177" class="Symbol">:</a> <a id="9179" class="Symbol">{</a><a id="9180" href="Demos.HSP.html#9180" class="Bound">𝑆</a> <a id="9182" class="Symbol">:</a> <a id="9184" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="9194" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="9196" href="Demos.HSP.html#385" class="Bound">𝓥</a><a id="9197" class="Symbol">}{</a><a id="9199" href="Demos.HSP.html#9199" class="Bound">ξ</a> <a id="9201" class="Symbol">:</a> <a id="9203" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="9210" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="9212" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="9214" class="Symbol">}</a>
  <a id="9218" class="Symbol">→</a>       <a id="9226" class="Symbol">∀</a> <a id="9228" class="Symbol">{</a><a id="9229" href="Demos.HSP.html#9229" class="Bound">f</a> <a id="9231" href="Demos.HSP.html#9231" class="Bound">g</a><a id="9232" class="Symbol">}</a> <a id="9234" class="Symbol">→</a> <a id="9236" href="Demos.HSP.html#9229" class="Bound">f</a> <a id="9238" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9240" href="Demos.HSP.html#9231" class="Bound">g</a> <a id="9242" class="Symbol">→</a> <a id="9244" class="Symbol">(</a><a id="9245" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="9247" href="Demos.HSP.html#9180" class="Bound">𝑆</a> <a id="9249" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="9251" href="Demos.HSP.html#9229" class="Bound">f</a> <a id="9253" class="Symbol">→</a> <a id="9255" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="9263" href="Demos.HSP.html#9199" class="Bound">ξ</a><a id="9264" class="Symbol">)</a> <a id="9266" class="Symbol">→</a> <a id="9268" class="Symbol">(</a><a id="9269" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="9271" href="Demos.HSP.html#9180" class="Bound">𝑆</a> <a id="9273" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="9275" href="Demos.HSP.html#9231" class="Bound">g</a> <a id="9277" class="Symbol">→</a> <a id="9279" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="9287" href="Demos.HSP.html#9199" class="Bound">ξ</a><a id="9288" class="Symbol">)</a> <a id="9290" class="Symbol">→</a> <a id="9292" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="9297" class="Symbol">(</a><a id="9298" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="9300" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="9302" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="9304" class="Symbol">)</a>
 <a id="9307" href="Demos.HSP.html#9170" class="Function">EqArgs</a> <a id="9314" class="Symbol">{</a><a id="9315" class="Argument">ξ</a> <a id="9317" class="Symbol">=</a> <a id="9319" href="Demos.HSP.html#9319" class="Bound">ξ</a><a id="9320" class="Symbol">}</a> <a id="9322" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="9329" href="Demos.HSP.html#9329" class="Bound">u</a> <a id="9331" href="Demos.HSP.html#9331" class="Bound">v</a> <a id="9333" class="Symbol">=</a> <a id="9335" class="Symbol">∀</a> <a id="9337" href="Demos.HSP.html#9337" class="Bound">i</a> <a id="9339" class="Symbol">→</a> <a id="9341" href="Demos.HSP.html#9329" class="Bound">u</a> <a id="9343" href="Demos.HSP.html#9337" class="Bound">i</a> <a id="9345" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="9347" href="Demos.HSP.html#9331" class="Bound">v</a> <a id="9349" href="Demos.HSP.html#9337" class="Bound">i</a>
  <a id="9353" class="Keyword">where</a>
  <a id="9361" class="Keyword">open</a> <a id="9366" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="9373" href="Demos.HSP.html#9319" class="Bound">ξ</a> <a id="9375" class="Keyword">using</a> <a id="9381" class="Symbol">(</a><a id="9382" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="9386" class="Symbol">;</a> <a id="9388" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="9402" class="Symbol">)</a>

<a id="9405" class="Keyword">module</a> <a id="9412" href="Demos.HSP.html#9412" class="Module">_</a> <a id="9414" class="Keyword">where</a>
 <a id="9421" class="Keyword">open</a> <a id="9426" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="9433" class="Keyword">using</a> <a id="9439" class="Symbol">(</a> <a id="9441" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="9445" class="Symbol">;</a> <a id="9447" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="9455" class="Symbol">;</a> <a id="9457" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="9471" class="Symbol">)</a>
 <a id="9474" class="Keyword">open</a> <a id="9479" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="9493" class="Keyword">using</a> <a id="9499" class="Symbol">(</a><a id="9500" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="9505" class="Symbol">;</a> <a id="9507" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="9511" class="Symbol">;</a> <a id="9513" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="9519" class="Symbol">)</a>

 <a id="9523" href="Demos.HSP.html#9523" class="Function Operator">⟨_⟩</a> <a id="9527" class="Symbol">:</a> <a id="9529" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="9539" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="9541" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="9543" class="Symbol">→</a> <a id="9545" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="9552" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="9554" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="9557" class="Symbol">→</a> <a id="9559" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="9566" class="Symbol">_</a> <a id="9568" class="Symbol">_</a>
 <a id="9571" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="9579" class="Symbol">(</a><a id="9580" href="Demos.HSP.html#9523" class="Function Operator">⟨</a> <a id="9582" href="Demos.HSP.html#9582" class="Bound">𝑆</a> <a id="9584" href="Demos.HSP.html#9523" class="Function Operator">⟩</a> <a id="9586" href="Demos.HSP.html#9586" class="Bound">ξ</a><a id="9587" class="Symbol">)</a> <a id="9589" class="Symbol">=</a> <a id="9591" href="Data.Product.html#916" class="Function">Σ[</a> <a id="9594" href="Demos.HSP.html#9594" class="Bound">f</a> <a id="9596" href="Data.Product.html#916" class="Function">∈</a> <a id="9598" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="9600" href="Demos.HSP.html#9582" class="Bound">𝑆</a> <a id="9602" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="9604" href="Data.Product.html#916" class="Function">]</a> <a id="9606" class="Symbol">((</a><a id="9608" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="9610" href="Demos.HSP.html#9582" class="Bound">𝑆</a> <a id="9612" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="9614" href="Demos.HSP.html#9594" class="Bound">f</a><a id="9615" class="Symbol">)</a> <a id="9617" class="Symbol">→</a> <a id="9619" href="Demos.HSP.html#9586" class="Bound">ξ</a> <a id="9621" class="Symbol">.</a><a id="9622" href="Relation.Binary.Bundles.html#1072" class="Field">Setoid.Carrier</a><a id="9636" class="Symbol">)</a>
 <a id="9639" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="9643" class="Symbol">(</a><a id="9644" href="Demos.HSP.html#9523" class="Function Operator">⟨</a> <a id="9646" href="Demos.HSP.html#9646" class="Bound">𝑆</a> <a id="9648" href="Demos.HSP.html#9523" class="Function Operator">⟩</a> <a id="9650" href="Demos.HSP.html#9650" class="Bound">ξ</a><a id="9651" class="Symbol">)</a> <a id="9653" class="Symbol">(</a><a id="9654" href="Demos.HSP.html#9654" class="Bound">f</a> <a id="9656" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9658" href="Demos.HSP.html#9658" class="Bound">u</a><a id="9659" class="Symbol">)</a> <a id="9661" class="Symbol">(</a><a id="9662" href="Demos.HSP.html#9662" class="Bound">g</a> <a id="9664" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9666" href="Demos.HSP.html#9666" class="Bound">v</a><a id="9667" class="Symbol">)</a> <a id="9669" class="Symbol">=</a> <a id="9671" href="Data.Product.html#916" class="Function">Σ[</a> <a id="9674" href="Demos.HSP.html#9674" class="Bound">eqv</a> <a id="9678" href="Data.Product.html#916" class="Function">∈</a> <a id="9680" href="Demos.HSP.html#9654" class="Bound">f</a> <a id="9682" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9684" href="Demos.HSP.html#9662" class="Bound">g</a> <a id="9686" href="Data.Product.html#916" class="Function">]</a> <a id="9688" href="Demos.HSP.html#9170" class="Function">EqArgs</a><a id="9694" class="Symbol">{</a><a id="9695" class="Argument">ξ</a> <a id="9697" class="Symbol">=</a> <a id="9699" href="Demos.HSP.html#9650" class="Bound">ξ</a><a id="9700" class="Symbol">}</a> <a id="9702" href="Demos.HSP.html#9674" class="Bound">eqv</a> <a id="9706" href="Demos.HSP.html#9658" class="Bound">u</a> <a id="9708" href="Demos.HSP.html#9666" class="Bound">v</a>
 <a id="9711" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>  <a id="9717" class="Symbol">(</a><a id="9718" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="9732" class="Symbol">(</a><a id="9733" href="Demos.HSP.html#9523" class="Function Operator">⟨</a> <a id="9735" href="Demos.HSP.html#9735" class="Bound">𝑆</a> <a id="9737" href="Demos.HSP.html#9523" class="Function Operator">⟩</a> <a id="9739" href="Demos.HSP.html#9739" class="Bound">ξ</a><a id="9740" class="Symbol">))</a>              <a id="9756" class="Symbol">=</a> <a id="9758" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="9765" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9767" class="Symbol">λ</a> <a id="9769" href="Demos.HSP.html#9769" class="Bound">_</a> <a id="9771" class="Symbol">→</a> <a id="9773" href="Relation.Binary.Structures.html#1568" class="Function">Setoid.refl</a>  <a id="9786" href="Demos.HSP.html#9739" class="Bound">ξ</a>
 <a id="9789" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>   <a id="9795" class="Symbol">(</a><a id="9796" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="9810" class="Symbol">(</a><a id="9811" href="Demos.HSP.html#9523" class="Function Operator">⟨</a> <a id="9813" href="Demos.HSP.html#9813" class="Bound">𝑆</a> <a id="9815" href="Demos.HSP.html#9523" class="Function Operator">⟩</a> <a id="9817" href="Demos.HSP.html#9817" class="Bound">ξ</a><a id="9818" class="Symbol">))</a> <a id="9821" class="Symbol">(</a><a id="9822" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="9829" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9831" href="Demos.HSP.html#9831" class="Bound">g</a><a id="9832" class="Symbol">)</a>             <a id="9846" class="Symbol">=</a> <a id="9848" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="9855" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9857" class="Symbol">λ</a> <a id="9859" href="Demos.HSP.html#9859" class="Bound">i</a> <a id="9861" class="Symbol">→</a> <a id="9863" href="Relation.Binary.Structures.html#1594" class="Function">Setoid.sym</a>   <a id="9876" href="Demos.HSP.html#9817" class="Bound">ξ</a> <a id="9878" class="Symbol">(</a><a id="9879" href="Demos.HSP.html#9831" class="Bound">g</a> <a id="9881" href="Demos.HSP.html#9859" class="Bound">i</a><a id="9882" class="Symbol">)</a>
 <a id="9885" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="9891" class="Symbol">(</a><a id="9892" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="9906" class="Symbol">(</a><a id="9907" href="Demos.HSP.html#9523" class="Function Operator">⟨</a> <a id="9909" href="Demos.HSP.html#9909" class="Bound">𝑆</a> <a id="9911" href="Demos.HSP.html#9523" class="Function Operator">⟩</a> <a id="9913" href="Demos.HSP.html#9913" class="Bound">ξ</a><a id="9914" class="Symbol">))</a> <a id="9917" class="Symbol">(</a><a id="9918" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="9925" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9927" href="Demos.HSP.html#9927" class="Bound">g</a><a id="9928" class="Symbol">)(</a><a id="9930" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="9937" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9939" href="Demos.HSP.html#9939" class="Bound">h</a><a id="9940" class="Symbol">)</a> <a id="9942" class="Symbol">=</a> <a id="9944" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="9951" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9953" class="Symbol">λ</a> <a id="9955" href="Demos.HSP.html#9955" class="Bound">i</a> <a id="9957" class="Symbol">→</a> <a id="9959" href="Relation.Binary.Structures.html#1620" class="Function">Setoid.trans</a> <a id="9972" href="Demos.HSP.html#9913" class="Bound">ξ</a> <a id="9974" class="Symbol">(</a><a id="9975" href="Demos.HSP.html#9927" class="Bound">g</a> <a id="9977" href="Demos.HSP.html#9955" class="Bound">i</a><a id="9978" class="Symbol">)</a> <a id="9980" class="Symbol">(</a><a id="9981" href="Demos.HSP.html#9939" class="Bound">h</a> <a id="9983" href="Demos.HSP.html#9955" class="Bound">i</a><a id="9984" class="Symbol">)</a>

</pre>


A setoid algebra is just like an algebra but we require that all basic operations
of the algebra respect the underlying setoid equality. The `Func` record packs a
function (f, aka apply, aka _⟨$⟩_) with a proof (cong) that the function respects
equality.

<pre class="Agda">

<a id="10270" class="Keyword">record</a> <a id="Algebra"></a><a id="10277" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="10285" href="Demos.HSP.html#10285" class="Bound">α</a> <a id="10287" href="Demos.HSP.html#10287" class="Bound">ρ</a> <a id="10289" class="Symbol">:</a> <a id="10291" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="10296" class="Symbol">(</a><a id="10297" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="10299" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="10301" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="10303" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="10305" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10310" class="Symbol">(</a><a id="10311" href="Demos.HSP.html#10285" class="Bound">α</a> <a id="10313" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="10315" href="Demos.HSP.html#10287" class="Bound">ρ</a><a id="10316" class="Symbol">))</a> <a id="10319" class="Keyword">where</a>
 <a id="10326" class="Keyword">field</a>
  <a id="Algebra.Domain"></a><a id="10334" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="10341" class="Symbol">:</a> <a id="10343" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="10350" href="Demos.HSP.html#10285" class="Bound">α</a> <a id="10352" href="Demos.HSP.html#10287" class="Bound">ρ</a>
  <a id="Algebra.Interp"></a><a id="10356" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="10363" class="Symbol">:</a> <a id="10365" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="10370" class="Symbol">(</a><a id="10371" href="Demos.HSP.html#9523" class="Function Operator">⟨</a> <a id="10373" href="Demos.HSP.html#369" class="Bound">𝑆</a> <a id="10375" href="Demos.HSP.html#9523" class="Function Operator">⟩</a> <a id="10377" href="Demos.HSP.html#10334" class="Field">Domain</a><a id="10383" class="Symbol">)</a> <a id="10385" href="Demos.HSP.html#10334" class="Field">Domain</a>
   <a id="10395" class="Comment">--      ^^^^^^^^^^^^^^^^^^^^^^^ is a record type with two fields:</a>
   <a id="10464" class="Comment">--       1. a function  f : Carrier (⟦ 𝑆 ⟧ Domain)  → Carrier Domain</a>
   <a id="10536" class="Comment">--       2. a proof cong : f Preserves _≈₁_ ⟶ _≈₂_ (that f preserves the setoid equalities)</a>
 <a id="10629" class="Comment">-- Actually, we already have the following: (it&#39;s called &quot;reflexive&quot;; see Structures.IsEquivalence)</a>
 <a id="Algebra.≡→≈"></a><a id="10730" href="Demos.HSP.html#10730" class="Function">≡→≈</a> <a id="10734" class="Symbol">:</a> <a id="10736" class="Symbol">∀{</a><a id="10738" href="Demos.HSP.html#10738" class="Bound">x</a><a id="10739" class="Symbol">}{</a><a id="10741" href="Demos.HSP.html#10741" class="Bound">y</a><a id="10742" class="Symbol">}</a> <a id="10744" class="Symbol">→</a> <a id="10746" href="Demos.HSP.html#10738" class="Bound">x</a> <a id="10748" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10750" href="Demos.HSP.html#10741" class="Bound">y</a> <a id="10752" class="Symbol">→</a> <a id="10754" class="Symbol">(</a><a id="10755" href="Relation.Binary.Bundles.html#1098" class="Field Operator">Setoid._≈_</a> <a id="10766" href="Demos.HSP.html#10334" class="Field">Domain</a><a id="10772" class="Symbol">)</a> <a id="10774" href="Demos.HSP.html#10738" class="Bound">x</a> <a id="10776" href="Demos.HSP.html#10741" class="Bound">y</a>
 <a id="10779" href="Demos.HSP.html#10730" class="Function">≡→≈</a> <a id="10783" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="10790" class="Symbol">=</a> <a id="10792" href="Relation.Binary.Structures.html#1568" class="Function">Setoid.refl</a> <a id="10804" href="Demos.HSP.html#10334" class="Field">Domain</a>

</pre>

It should be clear that the two types `Algebroid` and `Algebra` are equivalent. (We tend to use the latter throughout most of the [agda-algebras][] library.)

<pre class="Agda">

<a id="10997" class="Keyword">open</a> <a id="11002" href="Demos.HSP.html#10277" class="Module">Algebra</a>

<a id="11011" class="Comment">-- Forgetful Functor</a>
<a id="𝕌[_]"></a><a id="11032" href="Demos.HSP.html#11032" class="Function Operator">𝕌[_]</a> <a id="11037" class="Symbol">:</a> <a id="11039" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="11047" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="11049" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="11052" class="Symbol">→</a>  <a id="11055" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="11060" href="Demos.HSP.html#1501" class="Generalizable">α</a>
<a id="11062" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="11065" href="Demos.HSP.html#11065" class="Bound">𝑨</a> <a id="11067" href="Demos.HSP.html#11032" class="Function Operator">]</a> <a id="11069" class="Symbol">=</a> <a id="11071" href="Relation.Binary.Bundles.html#1072" class="Field">Setoid.Carrier</a> <a id="11086" class="Symbol">(</a><a id="11087" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="11094" href="Demos.HSP.html#11065" class="Bound">𝑨</a><a id="11095" class="Symbol">)</a>

<a id="𝔻[_]"></a><a id="11098" href="Demos.HSP.html#11098" class="Function Operator">𝔻[_]</a> <a id="11103" class="Symbol">:</a> <a id="11105" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="11113" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="11115" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="11118" class="Symbol">→</a>  <a id="11121" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="11128" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="11130" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a>
<a id="11133" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="11136" href="Demos.HSP.html#11136" class="Bound">𝑨</a> <a id="11138" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="11140" class="Symbol">=</a> <a id="11142" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="11149" href="Demos.HSP.html#11136" class="Bound">𝑨</a>

<a id="11152" class="Comment">-- The universe level of a Algebra</a>

<a id="Level-of-Alg"></a><a id="11188" href="Demos.HSP.html#11188" class="Function">Level-of-Alg</a> <a id="11201" class="Symbol">:</a> <a id="11203" class="Symbol">{</a><a id="11204" href="Demos.HSP.html#11204" class="Bound">α</a> <a id="11206" href="Demos.HSP.html#11206" class="Bound">ρ</a> <a id="11208" href="Demos.HSP.html#11208" class="Bound">𝓞</a> <a id="11210" href="Demos.HSP.html#11210" class="Bound">𝓥</a> <a id="11212" class="Symbol">:</a> <a id="11214" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="11219" class="Symbol">}{</a><a id="11221" href="Demos.HSP.html#11221" class="Bound">𝑆</a> <a id="11223" class="Symbol">:</a> <a id="11225" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="11235" href="Demos.HSP.html#11208" class="Bound">𝓞</a> <a id="11237" href="Demos.HSP.html#11210" class="Bound">𝓥</a><a id="11238" class="Symbol">}</a> <a id="11240" class="Symbol">→</a> <a id="11242" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="11250" href="Demos.HSP.html#11204" class="Bound">α</a> <a id="11252" href="Demos.HSP.html#11206" class="Bound">ρ</a> <a id="11254" class="Symbol">→</a> <a id="11256" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="11262" href="Demos.HSP.html#11188" class="Function">Level-of-Alg</a> <a id="11275" class="Symbol">{</a><a id="11276" class="Argument">α</a> <a id="11278" class="Symbol">=</a> <a id="11280" href="Demos.HSP.html#11280" class="Bound">α</a><a id="11281" class="Symbol">}{</a><a id="11283" href="Demos.HSP.html#11283" class="Bound">ρ</a><a id="11284" class="Symbol">}{</a><a id="11286" href="Demos.HSP.html#11286" class="Bound">𝓞</a><a id="11287" class="Symbol">}{</a><a id="11289" href="Demos.HSP.html#11289" class="Bound">𝓥</a><a id="11290" class="Symbol">}</a> <a id="11292" class="Symbol">_</a> <a id="11294" class="Symbol">=</a> <a id="11296" href="Demos.HSP.html#11286" class="Bound">𝓞</a> <a id="11298" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="11300" href="Demos.HSP.html#11289" class="Bound">𝓥</a> <a id="11302" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="11304" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="11309" class="Symbol">(</a><a id="11310" href="Demos.HSP.html#11280" class="Bound">α</a> <a id="11312" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="11314" href="Demos.HSP.html#11283" class="Bound">ρ</a><a id="11315" class="Symbol">)</a>

<a id="Level-of-Carrier"></a><a id="11318" href="Demos.HSP.html#11318" class="Function">Level-of-Carrier</a> <a id="11335" class="Symbol">:</a> <a id="11337" class="Symbol">{</a><a id="11338" href="Demos.HSP.html#11338" class="Bound">α</a> <a id="11340" href="Demos.HSP.html#11340" class="Bound">ρ</a> <a id="11342" href="Demos.HSP.html#11342" class="Bound">𝓞</a> <a id="11344" href="Demos.HSP.html#11344" class="Bound">𝓥</a>  <a id="11347" class="Symbol">:</a> <a id="11349" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="11354" class="Symbol">}{</a><a id="11356" href="Demos.HSP.html#11356" class="Bound">𝑆</a> <a id="11358" class="Symbol">:</a> <a id="11360" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="11370" href="Demos.HSP.html#11342" class="Bound">𝓞</a> <a id="11372" href="Demos.HSP.html#11344" class="Bound">𝓥</a><a id="11373" class="Symbol">}</a> <a id="11375" class="Symbol">→</a> <a id="11377" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="11385" href="Demos.HSP.html#11338" class="Bound">α</a> <a id="11387" href="Demos.HSP.html#11340" class="Bound">ρ</a> <a id="11389" class="Symbol">→</a> <a id="11391" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="11397" href="Demos.HSP.html#11318" class="Function">Level-of-Carrier</a> <a id="11414" class="Symbol">{</a><a id="11415" class="Argument">α</a> <a id="11417" class="Symbol">=</a> <a id="11419" href="Demos.HSP.html#11419" class="Bound">α</a><a id="11420" class="Symbol">}</a> <a id="11422" class="Symbol">_</a> <a id="11424" class="Symbol">=</a> <a id="11426" href="Demos.HSP.html#11419" class="Bound">α</a>


<a id="11430" class="Keyword">open</a> <a id="11435" href="Demos.HSP.html#10277" class="Module">Algebra</a>

<a id="_̂_"></a><a id="11444" href="Demos.HSP.html#11444" class="Function Operator">_̂_</a> <a id="11448" class="Symbol">:</a> <a id="11450" class="Symbol">(</a><a id="11451" href="Demos.HSP.html#11451" class="Bound">f</a> <a id="11453" class="Symbol">:</a> <a id="11455" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="11457" href="Demos.HSP.html#369" class="Bound">𝑆</a> <a id="11459" href="Demos.HSP.html#2477" class="Function Operator">∣</a><a id="11460" class="Symbol">)(</a><a id="11462" href="Demos.HSP.html#11462" class="Bound">𝑨</a> <a id="11464" class="Symbol">:</a> <a id="11466" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="11474" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="11476" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="11478" class="Symbol">)</a> <a id="11480" class="Symbol">→</a> <a id="11482" class="Symbol">(</a><a id="11483" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="11485" href="Demos.HSP.html#369" class="Bound">𝑆</a> <a id="11487" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="11489" href="Demos.HSP.html#11451" class="Bound">f</a>  <a id="11492" class="Symbol">→</a>  <a id="11495" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="11498" href="Demos.HSP.html#11462" class="Bound">𝑨</a> <a id="11500" href="Demos.HSP.html#11032" class="Function Operator">]</a><a id="11501" class="Symbol">)</a> <a id="11503" class="Symbol">→</a> <a id="11505" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="11508" href="Demos.HSP.html#11462" class="Bound">𝑨</a> <a id="11510" href="Demos.HSP.html#11032" class="Function Operator">]</a>

<a id="11513" href="Demos.HSP.html#11513" class="Bound">f</a> <a id="11515" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="11517" href="Demos.HSP.html#11517" class="Bound">𝑨</a> <a id="11519" class="Symbol">=</a> <a id="11521" class="Symbol">λ</a> <a id="11523" href="Demos.HSP.html#11523" class="Bound">a</a> <a id="11525" class="Symbol">→</a> <a id="11527" class="Symbol">(</a><a id="11528" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="11535" href="Demos.HSP.html#11517" class="Bound">𝑨</a><a id="11536" class="Symbol">)</a> <a id="11538" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="11542" class="Symbol">(</a><a id="11543" href="Demos.HSP.html#11513" class="Bound">f</a> <a id="11545" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11547" href="Demos.HSP.html#11523" class="Bound">a</a><a id="11548" class="Symbol">)</a>

</pre>


### <a id="universe-lifting-of-algebra-types">Universe lifting of algebra types</a>

<pre class="Agda">

<a id="11663" class="Keyword">module</a> <a id="11670" href="Demos.HSP.html#11670" class="Module">_</a> <a id="11672" class="Symbol">(</a><a id="11673" href="Demos.HSP.html#11673" class="Bound">𝑨</a> <a id="11675" class="Symbol">:</a> <a id="11677" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="11685" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="11687" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="11689" class="Symbol">)</a> <a id="11691" class="Keyword">where</a>

 <a id="11699" class="Keyword">open</a> <a id="11704" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="11712" href="Demos.HSP.html#11673" class="Bound">𝑨</a> <a id="11714" class="Keyword">using</a> <a id="11720" class="Symbol">()</a> <a id="11723" class="Keyword">renaming</a> <a id="11732" class="Symbol">(</a> <a id="11734" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="11741" class="Symbol">to</a> <a id="11744" class="Field">A</a> <a id="11746" class="Symbol">;</a> <a id="11748" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="11755" class="Symbol">to</a> <a id="11758" class="Field">InterpA</a> <a id="11766" class="Symbol">)</a>
 <a id="11769" class="Keyword">open</a> <a id="11774" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="11781" href="Demos.HSP.html#11744" class="Field">A</a> <a id="11783" class="Keyword">using</a> <a id="11789" class="Symbol">(</a><a id="11790" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="11794" class="Symbol">;</a> <a id="11796" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="11802" class="Symbol">)</a> <a id="11804" class="Keyword">renaming</a> <a id="11813" class="Symbol">(</a> <a id="11815" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="11823" class="Symbol">to</a> <a id="11826" class="Field">∣A∣</a> <a id="11830" class="Symbol">;</a> <a id="11832" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="11836" class="Symbol">to</a> <a id="11839" class="Field Operator">_≈₁_</a> <a id="11844" class="Symbol">;</a> <a id="11846" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="11851" class="Symbol">to</a> <a id="11854" class="Function">refl₁</a> <a id="11860" class="Symbol">)</a>

 <a id="11864" class="Keyword">open</a> <a id="11869" href="Level.html" class="Module">Level</a>


 <a id="11878" href="Demos.HSP.html#11878" class="Function">Lift-Algˡ</a> <a id="11888" class="Symbol">:</a> <a id="11890" class="Symbol">(</a><a id="11891" href="Demos.HSP.html#11891" class="Bound">ℓ</a> <a id="11893" class="Symbol">:</a> <a id="11895" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="11900" class="Symbol">)</a> <a id="11902" class="Symbol">→</a> <a id="11904" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="11912" class="Symbol">(</a><a id="11913" href="Demos.HSP.html#11685" class="Bound">α</a> <a id="11915" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="11917" href="Demos.HSP.html#11891" class="Bound">ℓ</a><a id="11918" class="Symbol">)</a> <a id="11920" href="Demos.HSP.html#11687" class="Bound">ρᵃ</a>

 <a id="11925" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="11932" class="Symbol">(</a><a id="11933" href="Demos.HSP.html#11878" class="Function">Lift-Algˡ</a> <a id="11943" href="Demos.HSP.html#11943" class="Bound">ℓ</a><a id="11944" class="Symbol">)</a> <a id="11946" class="Symbol">=</a> <a id="11948" class="Keyword">record</a> <a id="11955" class="Symbol">{</a> <a id="11957" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="11965" class="Symbol">=</a> <a id="11967" href="Level.html#400" class="Record">Lift</a> <a id="11972" href="Demos.HSP.html#11943" class="Bound">ℓ</a> <a id="11974" href="Demos.HSP.html#11826" class="Function">∣A∣</a>
                                  <a id="12012" class="Symbol">;</a> <a id="12014" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="12018" class="Symbol">=</a> <a id="12020" class="Symbol">λ</a> <a id="12022" href="Demos.HSP.html#12022" class="Bound">x</a> <a id="12024" href="Demos.HSP.html#12024" class="Bound">y</a> <a id="12026" class="Symbol">→</a> <a id="12028" href="Level.html#470" class="Field">lower</a> <a id="12034" href="Demos.HSP.html#12022" class="Bound">x</a> <a id="12036" href="Demos.HSP.html#11839" class="Function Operator">≈₁</a> <a id="12039" href="Level.html#470" class="Field">lower</a> <a id="12045" href="Demos.HSP.html#12024" class="Bound">y</a>
                                  <a id="12081" class="Symbol">;</a> <a id="12083" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="12097" class="Symbol">=</a> <a id="12099" class="Keyword">record</a> <a id="12106" class="Symbol">{</a> <a id="12108" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="12113" class="Symbol">=</a> <a id="12115" href="Demos.HSP.html#11854" class="Function">refl₁</a>
                                                           <a id="12180" class="Symbol">;</a> <a id="12182" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="12186" class="Symbol">=</a> <a id="12188" href="Relation.Binary.Structures.html#1594" class="Function">sym</a>
                                                           <a id="12251" class="Symbol">;</a> <a id="12253" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="12259" class="Symbol">=</a> <a id="12261" href="Relation.Binary.Structures.html#1620" class="Function">trans</a>
                                                           <a id="12326" class="Symbol">}</a>
                                  <a id="12362" class="Symbol">}</a>

 <a id="12366" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="12373" class="Symbol">(</a><a id="12374" href="Demos.HSP.html#11878" class="Function">Lift-Algˡ</a> <a id="12384" href="Demos.HSP.html#12384" class="Bound">ℓ</a><a id="12385" class="Symbol">)</a> <a id="12387" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="12391" class="Symbol">(</a><a id="12392" href="Demos.HSP.html#12392" class="Bound">f</a> <a id="12394" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="12396" href="Demos.HSP.html#12396" class="Bound">la</a><a id="12398" class="Symbol">)</a> <a id="12400" class="Symbol">=</a> <a id="12402" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="12407" class="Symbol">((</a><a id="12409" href="Demos.HSP.html#12392" class="Bound">f</a> <a id="12411" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="12413" href="Demos.HSP.html#11673" class="Bound">𝑨</a><a id="12414" class="Symbol">)</a> <a id="12416" class="Symbol">(</a><a id="12417" href="Level.html#470" class="Field">lower</a> <a id="12423" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="12425" href="Demos.HSP.html#12396" class="Bound">la</a><a id="12427" class="Symbol">))</a>
 <a id="12431" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="12436" class="Symbol">(</a><a id="12437" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="12444" class="Symbol">(</a><a id="12445" href="Demos.HSP.html#11878" class="Function">Lift-Algˡ</a> <a id="12455" href="Demos.HSP.html#12455" class="Bound">ℓ</a><a id="12456" class="Symbol">))</a> <a id="12459" class="Symbol">(</a><a id="12460" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="12467" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="12469" href="Demos.HSP.html#12469" class="Bound">la=lb</a><a id="12474" class="Symbol">)</a> <a id="12476" class="Symbol">=</a> <a id="12478" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="12483" href="Demos.HSP.html#11758" class="Field">InterpA</a> <a id="12491" class="Symbol">((</a><a id="12493" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="12500" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="12502" href="Demos.HSP.html#12469" class="Bound">la=lb</a><a id="12507" class="Symbol">))</a>


 <a id="12513" href="Demos.HSP.html#12513" class="Function">Lift-Algʳ</a> <a id="12523" class="Symbol">:</a> <a id="12525" class="Symbol">(</a><a id="12526" href="Demos.HSP.html#12526" class="Bound">ℓ</a> <a id="12528" class="Symbol">:</a> <a id="12530" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="12535" class="Symbol">)</a> <a id="12537" class="Symbol">→</a> <a id="12539" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="12547" href="Demos.HSP.html#11685" class="Bound">α</a> <a id="12549" class="Symbol">(</a><a id="12550" href="Demos.HSP.html#11687" class="Bound">ρᵃ</a> <a id="12553" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="12555" href="Demos.HSP.html#12526" class="Bound">ℓ</a><a id="12556" class="Symbol">)</a>

 <a id="12560" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="12567" class="Symbol">(</a><a id="12568" href="Demos.HSP.html#12513" class="Function">Lift-Algʳ</a> <a id="12578" href="Demos.HSP.html#12578" class="Bound">ℓ</a><a id="12579" class="Symbol">)</a> <a id="12581" class="Symbol">=</a>
  <a id="12585" class="Keyword">record</a> <a id="12592" class="Symbol">{</a> <a id="12594" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="12602" class="Symbol">=</a> <a id="12604" href="Demos.HSP.html#11826" class="Function">∣A∣</a>
         <a id="12617" class="Symbol">;</a> <a id="12619" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="12623" class="Symbol">=</a> <a id="12625" class="Symbol">λ</a> <a id="12627" href="Demos.HSP.html#12627" class="Bound">x</a> <a id="12629" href="Demos.HSP.html#12629" class="Bound">y</a> <a id="12631" class="Symbol">→</a> <a id="12633" href="Level.html#400" class="Record">Lift</a> <a id="12638" href="Demos.HSP.html#12578" class="Bound">ℓ</a> <a id="12640" class="Symbol">(</a><a id="12641" href="Demos.HSP.html#12627" class="Bound">x</a> <a id="12643" href="Demos.HSP.html#11839" class="Function Operator">≈₁</a> <a id="12646" href="Demos.HSP.html#12629" class="Bound">y</a><a id="12647" class="Symbol">)</a>
         <a id="12658" class="Symbol">;</a> <a id="12660" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="12674" class="Symbol">=</a> <a id="12676" class="Keyword">record</a> <a id="12683" class="Symbol">{</a> <a id="12685" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="12690" class="Symbol">=</a> <a id="12692" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="12697" href="Demos.HSP.html#11854" class="Function">refl₁</a>
                                  <a id="12737" class="Symbol">;</a> <a id="12739" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="12743" class="Symbol">=</a> <a id="12745" class="Symbol">λ</a> <a id="12747" href="Demos.HSP.html#12747" class="Bound">x</a> <a id="12749" class="Symbol">→</a> <a id="12751" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="12756" class="Symbol">(</a><a id="12757" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="12761" class="Symbol">(</a><a id="12762" href="Level.html#470" class="Field">lower</a> <a id="12768" href="Demos.HSP.html#12747" class="Bound">x</a><a id="12769" class="Symbol">))</a>
                                  <a id="12806" class="Symbol">;</a> <a id="12808" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="12814" class="Symbol">=</a> <a id="12816" class="Symbol">λ</a> <a id="12818" href="Demos.HSP.html#12818" class="Bound">x</a> <a id="12820" href="Demos.HSP.html#12820" class="Bound">y</a> <a id="12822" class="Symbol">→</a> <a id="12824" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="12829" class="Symbol">(</a><a id="12830" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="12836" class="Symbol">(</a><a id="12837" href="Level.html#470" class="Field">lower</a> <a id="12843" href="Demos.HSP.html#12818" class="Bound">x</a><a id="12844" class="Symbol">)</a> <a id="12846" class="Symbol">(</a><a id="12847" href="Level.html#470" class="Field">lower</a> <a id="12853" href="Demos.HSP.html#12820" class="Bound">y</a><a id="12854" class="Symbol">))</a>  <a id="12858" class="Symbol">}</a>
                                  <a id="12894" class="Symbol">}</a>

 <a id="12898" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="12905" class="Symbol">(</a><a id="12906" href="Demos.HSP.html#12513" class="Function">Lift-Algʳ</a> <a id="12916" href="Demos.HSP.html#12916" class="Bound">ℓ</a> <a id="12918" class="Symbol">)</a> <a id="12920" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="12924" class="Symbol">(</a><a id="12925" href="Demos.HSP.html#12925" class="Bound">f</a> <a id="12927" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="12929" href="Demos.HSP.html#12929" class="Bound">la</a><a id="12931" class="Symbol">)</a> <a id="12933" class="Symbol">=</a> <a id="12935" class="Symbol">(</a><a id="12936" href="Demos.HSP.html#12925" class="Bound">f</a> <a id="12938" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="12940" href="Demos.HSP.html#11673" class="Bound">𝑨</a><a id="12941" class="Symbol">)</a> <a id="12943" href="Demos.HSP.html#12929" class="Bound">la</a>
 <a id="12947" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="12952" class="Symbol">(</a><a id="12953" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="12960" class="Symbol">(</a><a id="12961" href="Demos.HSP.html#12513" class="Function">Lift-Algʳ</a> <a id="12971" href="Demos.HSP.html#12971" class="Bound">ℓ</a><a id="12972" class="Symbol">))</a> <a id="12975" class="Symbol">(</a><a id="12976" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="12983" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="12985" href="Demos.HSP.html#12985" class="Bound">la≡lb</a><a id="12990" class="Symbol">)</a> <a id="12992" class="Symbol">=</a> <a id="12994" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="12999" class="Symbol">(</a><a id="13000" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="13005" class="Symbol">(</a><a id="13006" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="13013" href="Demos.HSP.html#11673" class="Bound">𝑨</a><a id="13014" class="Symbol">)</a> <a id="13016" class="Symbol">(</a><a id="13017" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="13024" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13026" class="Symbol">λ</a> <a id="13028" href="Demos.HSP.html#13028" class="Bound">i</a> <a id="13030" class="Symbol">→</a> <a id="13032" href="Level.html#470" class="Field">lower</a> <a id="13038" class="Symbol">(</a><a id="13039" href="Demos.HSP.html#12985" class="Bound">la≡lb</a> <a id="13045" href="Demos.HSP.html#13028" class="Bound">i</a><a id="13046" class="Symbol">)))</a>

<a id="Lift-Alg"></a><a id="13051" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="13060" class="Symbol">:</a> <a id="13062" class="Symbol">(</a><a id="13063" href="Demos.HSP.html#13063" class="Bound">𝑨</a> <a id="13065" class="Symbol">:</a> <a id="13067" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="13075" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="13077" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="13079" class="Symbol">)(</a><a id="13081" href="Demos.HSP.html#13081" class="Bound">ℓ₀</a> <a id="13084" href="Demos.HSP.html#13084" class="Bound">ℓ₁</a> <a id="13087" class="Symbol">:</a> <a id="13089" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="13094" class="Symbol">)</a> <a id="13096" class="Symbol">→</a> <a id="13098" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="13106" class="Symbol">(</a><a id="13107" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="13109" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="13111" href="Demos.HSP.html#13081" class="Bound">ℓ₀</a><a id="13113" class="Symbol">)</a> <a id="13115" class="Symbol">(</a><a id="13116" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="13119" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="13121" href="Demos.HSP.html#13084" class="Bound">ℓ₁</a><a id="13123" class="Symbol">)</a>
<a id="13125" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="13134" href="Demos.HSP.html#13134" class="Bound">𝑨</a> <a id="13136" href="Demos.HSP.html#13136" class="Bound">ℓ₀</a> <a id="13139" href="Demos.HSP.html#13139" class="Bound">ℓ₁</a> <a id="13142" class="Symbol">=</a> <a id="13144" href="Demos.HSP.html#12513" class="Function">Lift-Algʳ</a> <a id="13154" class="Symbol">(</a><a id="13155" href="Demos.HSP.html#11878" class="Function">Lift-Algˡ</a> <a id="13165" href="Demos.HSP.html#13134" class="Bound">𝑨</a> <a id="13167" href="Demos.HSP.html#13136" class="Bound">ℓ₀</a><a id="13169" class="Symbol">)</a> <a id="13171" href="Demos.HSP.html#13139" class="Bound">ℓ₁</a>

</pre>


### <a id="product-algebras">Product Algebras</a>

(cf. the [Algebras.Func.Products][] module of the [Agda Universal Algebra Library][].)

<pre class="Agda">

<a id="13341" class="Keyword">module</a> <a id="13348" href="Demos.HSP.html#13348" class="Module">_</a> <a id="13350" class="Symbol">{</a><a id="13351" href="Demos.HSP.html#13351" class="Bound">ι</a> <a id="13353" class="Symbol">:</a> <a id="13355" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="13360" class="Symbol">}{</a><a id="13362" href="Demos.HSP.html#13362" class="Bound">I</a> <a id="13364" class="Symbol">:</a> <a id="13366" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="13371" href="Demos.HSP.html#13351" class="Bound">ι</a> <a id="13373" class="Symbol">}</a> <a id="13375" class="Keyword">where</a>

 <a id="13383" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="13385" class="Symbol">:</a> <a id="13387" class="Symbol">(</a><a id="13388" href="Demos.HSP.html#13388" class="Bound">𝒜</a> <a id="13390" class="Symbol">:</a> <a id="13392" href="Demos.HSP.html#13362" class="Bound">I</a> <a id="13394" class="Symbol">→</a> <a id="13396" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="13404" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="13406" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="13408" class="Symbol">)</a> <a id="13410" class="Symbol">→</a> <a id="13412" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="13420" class="Symbol">(</a><a id="13421" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="13423" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="13425" href="Demos.HSP.html#13351" class="Bound">ι</a><a id="13426" class="Symbol">)</a> <a id="13428" class="Symbol">(</a><a id="13429" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="13432" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="13434" href="Demos.HSP.html#13351" class="Bound">ι</a><a id="13435" class="Symbol">)</a>

 <a id="13439" href="Demos.HSP.html#10334" class="Field">Algebra.Domain</a> <a id="13454" class="Symbol">(</a><a id="13455" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="13457" href="Demos.HSP.html#13457" class="Bound">𝒜</a><a id="13458" class="Symbol">)</a> <a id="13460" class="Symbol">=</a>

  <a id="13465" class="Keyword">record</a> <a id="13472" class="Symbol">{</a> <a id="13474" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="13482" class="Symbol">=</a> <a id="13484" class="Symbol">∀</a> <a id="13486" href="Demos.HSP.html#13486" class="Bound">i</a> <a id="13488" class="Symbol">→</a> <a id="13490" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="13493" href="Demos.HSP.html#13457" class="Bound">𝒜</a> <a id="13495" href="Demos.HSP.html#13486" class="Bound">i</a> <a id="13497" href="Demos.HSP.html#11032" class="Function Operator">]</a>

         <a id="13509" class="Symbol">;</a> <a id="13511" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="13515" class="Symbol">=</a> <a id="13517" class="Symbol">λ</a> <a id="13519" href="Demos.HSP.html#13519" class="Bound">a</a> <a id="13521" href="Demos.HSP.html#13521" class="Bound">b</a> <a id="13523" class="Symbol">→</a> <a id="13525" class="Symbol">∀</a> <a id="13527" href="Demos.HSP.html#13527" class="Bound">i</a> <a id="13529" class="Symbol">→</a> <a id="13531" class="Symbol">(</a><a id="13532" href="Relation.Binary.Bundles.html#1098" class="Field Operator">Setoid._≈_</a> <a id="13543" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="13546" href="Demos.HSP.html#13457" class="Bound">𝒜</a> <a id="13548" href="Demos.HSP.html#13527" class="Bound">i</a> <a id="13550" href="Demos.HSP.html#11098" class="Function Operator">]</a><a id="13551" class="Symbol">)</a>  <a id="13554" class="Symbol">(</a><a id="13555" href="Demos.HSP.html#13519" class="Bound">a</a> <a id="13557" href="Demos.HSP.html#13527" class="Bound">i</a><a id="13558" class="Symbol">)</a> <a id="13560" class="Symbol">(</a><a id="13561" href="Demos.HSP.html#13521" class="Bound">b</a> <a id="13563" href="Demos.HSP.html#13527" class="Bound">i</a><a id="13564" class="Symbol">)</a>

         <a id="13576" class="Symbol">;</a> <a id="13578" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="13592" class="Symbol">=</a>
            <a id="13606" class="Keyword">record</a> <a id="13613" class="Symbol">{</a> <a id="13615" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>  <a id="13621" class="Symbol">=</a>     <a id="13627" class="Symbol">λ</a> <a id="13629" href="Demos.HSP.html#13629" class="Bound">i</a> <a id="13631" class="Symbol">→</a> <a id="13633" href="Relation.Binary.Structures.html#1568" class="Field">IsEquivalence.refl</a>  <a id="13653" class="Symbol">(</a> <a id="13655" href="Relation.Binary.Bundles.html#1132" class="Field">Setoid.isEquivalence</a> <a id="13676" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="13679" href="Demos.HSP.html#13457" class="Bound">𝒜</a> <a id="13681" href="Demos.HSP.html#13629" class="Bound">i</a> <a id="13683" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="13685" class="Symbol">)</a>
                   <a id="13706" class="Symbol">;</a> <a id="13708" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>   <a id="13714" class="Symbol">=</a>   <a id="13718" class="Symbol">λ</a> <a id="13720" href="Demos.HSP.html#13720" class="Bound">x</a> <a id="13722" href="Demos.HSP.html#13722" class="Bound">i</a> <a id="13724" class="Symbol">→</a> <a id="13726" href="Relation.Binary.Structures.html#1594" class="Field">IsEquivalence.sym</a>   <a id="13746" class="Symbol">(</a> <a id="13748" href="Relation.Binary.Bundles.html#1132" class="Field">Setoid.isEquivalence</a> <a id="13769" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="13772" href="Demos.HSP.html#13457" class="Bound">𝒜</a> <a id="13774" href="Demos.HSP.html#13722" class="Bound">i</a> <a id="13776" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="13778" class="Symbol">)(</a><a id="13780" href="Demos.HSP.html#13720" class="Bound">x</a> <a id="13782" href="Demos.HSP.html#13722" class="Bound">i</a><a id="13783" class="Symbol">)</a>
                   <a id="13804" class="Symbol">;</a> <a id="13806" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="13812" class="Symbol">=</a> <a id="13814" class="Symbol">λ</a> <a id="13816" href="Demos.HSP.html#13816" class="Bound">x</a> <a id="13818" href="Demos.HSP.html#13818" class="Bound">y</a> <a id="13820" href="Demos.HSP.html#13820" class="Bound">i</a> <a id="13822" class="Symbol">→</a> <a id="13824" href="Relation.Binary.Structures.html#1620" class="Field">IsEquivalence.trans</a> <a id="13844" class="Symbol">(</a> <a id="13846" href="Relation.Binary.Bundles.html#1132" class="Field">Setoid.isEquivalence</a> <a id="13867" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="13870" href="Demos.HSP.html#13457" class="Bound">𝒜</a> <a id="13872" href="Demos.HSP.html#13820" class="Bound">i</a> <a id="13874" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="13876" class="Symbol">)(</a><a id="13878" href="Demos.HSP.html#13816" class="Bound">x</a> <a id="13880" href="Demos.HSP.html#13820" class="Bound">i</a><a id="13881" class="Symbol">)(</a><a id="13883" href="Demos.HSP.html#13818" class="Bound">y</a> <a id="13885" href="Demos.HSP.html#13820" class="Bound">i</a><a id="13886" class="Symbol">)</a>
                   <a id="13907" class="Symbol">}</a>
         <a id="13918" class="Symbol">}</a>


 <a id="13923" href="Demos.HSP.html#10356" class="Field">Algebra.Interp</a> <a id="13938" class="Symbol">(</a><a id="13939" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="13941" href="Demos.HSP.html#13941" class="Bound">𝒜</a><a id="13942" class="Symbol">)</a> <a id="13944" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="13948" class="Symbol">(</a><a id="13949" href="Demos.HSP.html#13949" class="Bound">f</a> <a id="13951" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13953" href="Demos.HSP.html#13953" class="Bound">a</a><a id="13954" class="Symbol">)</a> <a id="13956" class="Symbol">=</a> <a id="13958" class="Symbol">λ</a> <a id="13960" href="Demos.HSP.html#13960" class="Bound">i</a> <a id="13962" class="Symbol">→</a> <a id="13964" class="Symbol">(</a><a id="13965" href="Demos.HSP.html#13949" class="Bound">f</a> <a id="13967" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="13969" class="Symbol">(</a><a id="13970" href="Demos.HSP.html#13941" class="Bound">𝒜</a> <a id="13972" href="Demos.HSP.html#13960" class="Bound">i</a><a id="13973" class="Symbol">))</a> <a id="13976" class="Symbol">(</a><a id="13977" href="Function.Base.html#1554" class="Function">flip</a> <a id="13982" href="Demos.HSP.html#13953" class="Bound">a</a> <a id="13984" href="Demos.HSP.html#13960" class="Bound">i</a><a id="13985" class="Symbol">)</a>
 <a id="13988" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="13993" class="Symbol">(</a><a id="13994" href="Demos.HSP.html#10356" class="Field">Algebra.Interp</a> <a id="14009" class="Symbol">(</a><a id="14010" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="14012" href="Demos.HSP.html#14012" class="Bound">𝒜</a><a id="14013" class="Symbol">))</a> <a id="14016" class="Symbol">(</a><a id="14017" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="14024" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14026" href="Demos.HSP.html#14026" class="Bound">f=g</a> <a id="14030" class="Symbol">)</a> <a id="14032" class="Symbol">=</a> <a id="14034" class="Symbol">λ</a> <a id="14036" href="Demos.HSP.html#14036" class="Bound">i</a> <a id="14038" class="Symbol">→</a> <a id="14040" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="14045" class="Symbol">(</a><a id="14046" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="14053" class="Symbol">(</a><a id="14054" href="Demos.HSP.html#14012" class="Bound">𝒜</a> <a id="14056" href="Demos.HSP.html#14036" class="Bound">i</a><a id="14057" class="Symbol">))</a> <a id="14060" class="Symbol">(</a><a id="14061" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="14068" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14070" href="Function.Base.html#1554" class="Function">flip</a> <a id="14075" href="Demos.HSP.html#14026" class="Bound">f=g</a> <a id="14079" href="Demos.HSP.html#14036" class="Bound">i</a> <a id="14081" class="Symbol">)</a>

</pre>














## <a id="Homomorphisms">Homomorphisms</a>


### <a id="homomorphism-basic-definitions">Basic definitions</a>

Here are some definitions and theorems extracted from the [Homomorphisms.Func.Basic][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="14372" class="Keyword">module</a> <a id="14379" href="Demos.HSP.html#14379" class="Module">_</a> <a id="14381" class="Symbol">(</a><a id="14382" href="Demos.HSP.html#14382" class="Bound">𝑨</a> <a id="14384" class="Symbol">:</a> <a id="14386" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="14394" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="14396" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="14398" class="Symbol">)(</a><a id="14400" href="Demos.HSP.html#14400" class="Bound">𝑩</a> <a id="14402" class="Symbol">:</a> <a id="14404" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="14412" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="14414" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="14416" class="Symbol">)</a> <a id="14418" class="Keyword">where</a>
 <a id="14425" class="Keyword">open</a> <a id="14430" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="14438" href="Demos.HSP.html#14382" class="Bound">𝑨</a> <a id="14440" class="Keyword">using</a> <a id="14446" class="Symbol">()</a> <a id="14449" class="Keyword">renaming</a> <a id="14458" class="Symbol">(</a><a id="14459" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="14466" class="Symbol">to</a> <a id="14469" class="Field">A</a> <a id="14471" class="Symbol">)</a>
 <a id="14474" class="Keyword">open</a> <a id="14479" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="14487" href="Demos.HSP.html#14400" class="Bound">𝑩</a> <a id="14489" class="Keyword">using</a> <a id="14495" class="Symbol">()</a> <a id="14498" class="Keyword">renaming</a> <a id="14507" class="Symbol">(</a><a id="14508" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="14515" class="Symbol">to</a> <a id="14518" class="Field">B</a> <a id="14520" class="Symbol">)</a>
 <a id="14523" class="Keyword">open</a> <a id="14528" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="14535" href="Demos.HSP.html#14469" class="Function">A</a> <a id="14537" class="Keyword">using</a> <a id="14543" class="Symbol">()</a> <a id="14546" class="Keyword">renaming</a> <a id="14555" class="Symbol">(</a> <a id="14557" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="14561" class="Symbol">to</a> <a id="14564" class="Field Operator">_≈₁_</a> <a id="14569" class="Symbol">)</a>
 <a id="14572" class="Keyword">open</a> <a id="14577" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="14584" href="Demos.HSP.html#14518" class="Field">B</a> <a id="14586" class="Keyword">using</a> <a id="14592" class="Symbol">()</a> <a id="14595" class="Keyword">renaming</a> <a id="14604" class="Symbol">(</a> <a id="14606" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="14610" class="Symbol">to</a> <a id="14613" class="Field Operator">_≈₂_</a> <a id="14618" class="Symbol">)</a>
 <a id="14621" class="Keyword">open</a> <a id="14626" href="Function.Bundles.html#1868" class="Module">Func</a> <a id="14631" class="Symbol">{</a><a id="14632" class="Argument">a</a> <a id="14634" class="Symbol">=</a> <a id="14636" href="Demos.HSP.html#14394" class="Bound">α</a><a id="14637" class="Symbol">}{</a><a id="14639" href="Demos.HSP.html#14396" class="Bound">ρᵃ</a><a id="14641" class="Symbol">}{</a><a id="14643" href="Demos.HSP.html#14412" class="Bound">β</a><a id="14644" class="Symbol">}{</a><a id="14646" href="Demos.HSP.html#14414" class="Bound">ρᵇ</a><a id="14648" class="Symbol">}{</a><a id="14650" class="Argument">From</a> <a id="14655" class="Symbol">=</a> <a id="14657" href="Demos.HSP.html#14469" class="Function">A</a><a id="14658" class="Symbol">}{</a><a id="14660" class="Argument">To</a> <a id="14663" class="Symbol">=</a> <a id="14665" href="Demos.HSP.html#14518" class="Field">B</a><a id="14666" class="Symbol">}</a> <a id="14668" class="Keyword">renaming</a> <a id="14677" class="Symbol">(</a><a id="14678" href="Function.Bundles.html#1919" class="Field">f</a> <a id="14680" class="Symbol">to</a> <a id="14683" class="Field">_⟨$⟩_</a> <a id="14689" class="Symbol">)</a>

 <a id="14693" href="Demos.HSP.html#14693" class="Function">compatible-map-op</a> <a id="14711" class="Symbol">:</a> <a id="14713" class="Symbol">(</a><a id="14714" href="Demos.HSP.html#14469" class="Function">A</a> <a id="14716" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="14718" href="Demos.HSP.html#14518" class="Field">B</a><a id="14719" class="Symbol">)</a> <a id="14721" class="Symbol">→</a> <a id="14723" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="14725" href="Demos.HSP.html#369" class="Bound">𝑆</a> <a id="14727" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="14729" class="Symbol">→</a> <a id="14731" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="14736" class="Symbol">(</a><a id="14737" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="14739" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="14741" href="Demos.HSP.html#14394" class="Bound">α</a> <a id="14743" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="14745" href="Demos.HSP.html#14414" class="Bound">ρᵇ</a><a id="14747" class="Symbol">)</a>
 <a id="14750" href="Demos.HSP.html#14693" class="Function">compatible-map-op</a> <a id="14768" href="Demos.HSP.html#14768" class="Bound">h</a> <a id="14770" href="Demos.HSP.html#14770" class="Bound">f</a> <a id="14772" class="Symbol">=</a> <a id="14774" class="Symbol">∀</a> <a id="14776" class="Symbol">{</a><a id="14777" href="Demos.HSP.html#14777" class="Bound">a</a><a id="14778" class="Symbol">}</a> <a id="14780" class="Symbol">→</a> <a id="14782" class="Symbol">(</a><a id="14783" href="Demos.HSP.html#14768" class="Bound">h</a> <a id="14785" href="Demos.HSP.html#14683" class="Field Operator">⟨$⟩</a> <a id="14789" class="Symbol">((</a><a id="14791" href="Demos.HSP.html#14770" class="Bound">f</a> <a id="14793" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="14795" href="Demos.HSP.html#14382" class="Bound">𝑨</a><a id="14796" class="Symbol">)</a> <a id="14798" href="Demos.HSP.html#14777" class="Bound">a</a><a id="14799" class="Symbol">))</a> <a id="14802" href="Demos.HSP.html#14613" class="Function Operator">≈₂</a> <a id="14805" class="Symbol">((</a><a id="14807" href="Demos.HSP.html#14770" class="Bound">f</a> <a id="14809" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="14811" href="Demos.HSP.html#14400" class="Bound">𝑩</a><a id="14812" class="Symbol">)</a> <a id="14814" class="Symbol">(λ</a> <a id="14817" href="Demos.HSP.html#14817" class="Bound">x</a> <a id="14819" class="Symbol">→</a> <a id="14821" class="Symbol">(</a><a id="14822" href="Demos.HSP.html#14768" class="Bound">h</a> <a id="14824" href="Demos.HSP.html#14683" class="Field Operator">⟨$⟩</a> <a id="14828" class="Symbol">(</a><a id="14829" href="Demos.HSP.html#14777" class="Bound">a</a> <a id="14831" href="Demos.HSP.html#14817" class="Bound">x</a><a id="14832" class="Symbol">))))</a>

 <a id="14839" href="Demos.HSP.html#14839" class="Function">compatible-map</a> <a id="14854" class="Symbol">:</a> <a id="14856" class="Symbol">(</a><a id="14857" href="Demos.HSP.html#14469" class="Function">A</a> <a id="14859" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="14861" href="Demos.HSP.html#14518" class="Field">B</a><a id="14862" class="Symbol">)</a> <a id="14864" class="Symbol">→</a> <a id="14866" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="14871" class="Symbol">(</a><a id="14872" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="14874" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="14876" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="14878" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="14880" href="Demos.HSP.html#14394" class="Bound">α</a> <a id="14882" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="14884" href="Demos.HSP.html#14414" class="Bound">ρᵇ</a><a id="14886" class="Symbol">)</a>
 <a id="14889" href="Demos.HSP.html#14839" class="Function">compatible-map</a> <a id="14904" href="Demos.HSP.html#14904" class="Bound">h</a> <a id="14906" class="Symbol">=</a> <a id="14908" class="Symbol">∀</a> <a id="14910" class="Symbol">{</a><a id="14911" href="Demos.HSP.html#14911" class="Bound">f</a><a id="14912" class="Symbol">}</a> <a id="14914" class="Symbol">→</a> <a id="14916" href="Demos.HSP.html#14693" class="Function">compatible-map-op</a> <a id="14934" href="Demos.HSP.html#14904" class="Bound">h</a> <a id="14936" href="Demos.HSP.html#14911" class="Bound">f</a>

 <a id="14940" class="Comment">-- The property of being a homomorphism.</a>
 <a id="14982" class="Keyword">record</a> <a id="14989" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="14995" class="Symbol">(</a><a id="14996" href="Demos.HSP.html#14996" class="Bound">h</a> <a id="14998" class="Symbol">:</a> <a id="15000" href="Demos.HSP.html#14469" class="Function">A</a> <a id="15002" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="15004" href="Demos.HSP.html#14518" class="Field">B</a><a id="15005" class="Symbol">)</a> <a id="15007" class="Symbol">:</a> <a id="15009" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="15014" class="Symbol">(</a><a id="15015" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="15017" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15019" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="15021" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15023" href="Demos.HSP.html#14394" class="Bound">α</a> <a id="15025" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15027" href="Demos.HSP.html#14396" class="Bound">ρᵃ</a> <a id="15030" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15032" href="Demos.HSP.html#14414" class="Bound">ρᵇ</a><a id="15034" class="Symbol">)</a> <a id="15036" class="Keyword">where</a>
  <a id="15044" class="Keyword">field</a>
   <a id="15053" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="15064" class="Symbol">:</a> <a id="15066" href="Demos.HSP.html#14839" class="Function">compatible-map</a> <a id="15081" href="Demos.HSP.html#14996" class="Bound">h</a>

 <a id="15085" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="15089" class="Symbol">:</a> <a id="15091" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="15096" class="Symbol">(</a><a id="15097" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="15099" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15101" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="15103" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15105" href="Demos.HSP.html#14394" class="Bound">α</a> <a id="15107" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15109" href="Demos.HSP.html#14396" class="Bound">ρᵃ</a> <a id="15112" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15114" href="Demos.HSP.html#14412" class="Bound">β</a> <a id="15116" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15118" href="Demos.HSP.html#14414" class="Bound">ρᵇ</a><a id="15120" class="Symbol">)</a>
 <a id="15123" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="15127" class="Symbol">=</a> <a id="15129" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="15131" class="Symbol">(</a><a id="15132" href="Demos.HSP.html#14469" class="Function">A</a> <a id="15134" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="15136" href="Demos.HSP.html#14518" class="Field">B</a><a id="15137" class="Symbol">)</a> <a id="15139" href="Demos.HSP.html#14989" class="Record">IsHom</a>

</pre>


### <a id="monomorphisms-and-epimorphisms">Monomorphisms and epimorphisms</a>

<pre class="Agda">

 <a id="15253" class="Keyword">record</a> <a id="15260" href="Demos.HSP.html#15260" class="Record">IsMon</a> <a id="15266" class="Symbol">(</a><a id="15267" href="Demos.HSP.html#15267" class="Bound">h</a> <a id="15269" class="Symbol">:</a> <a id="15271" href="Demos.HSP.html#14469" class="Function">A</a> <a id="15273" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="15275" href="Demos.HSP.html#14518" class="Field">B</a><a id="15276" class="Symbol">)</a> <a id="15278" class="Symbol">:</a> <a id="15280" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="15285" class="Symbol">(</a><a id="15286" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="15288" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15290" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="15292" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15294" href="Demos.HSP.html#14394" class="Bound">α</a> <a id="15296" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15298" href="Demos.HSP.html#14396" class="Bound">ρᵃ</a> <a id="15301" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15303" href="Demos.HSP.html#14412" class="Bound">β</a> <a id="15305" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15307" href="Demos.HSP.html#14414" class="Bound">ρᵇ</a><a id="15309" class="Symbol">)</a> <a id="15311" class="Keyword">where</a>
  <a id="15319" class="Keyword">field</a>
   <a id="15328" href="Demos.HSP.html#15328" class="Field">isHom</a> <a id="15334" class="Symbol">:</a> <a id="15336" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="15342" href="Demos.HSP.html#15267" class="Bound">h</a>
   <a id="15347" href="Demos.HSP.html#15347" class="Field">isInjective</a> <a id="15359" class="Symbol">:</a> <a id="15361" href="Demos.HSP.html#5232" class="Function">IsInjective</a> <a id="15373" href="Demos.HSP.html#15267" class="Bound">h</a>

  <a id="15378" href="Demos.HSP.html#15378" class="Function">HomReduct</a> <a id="15388" class="Symbol">:</a> <a id="15390" href="Demos.HSP.html#15085" class="Function">hom</a>
  <a id="15396" href="Demos.HSP.html#15378" class="Function">HomReduct</a> <a id="15406" class="Symbol">=</a> <a id="15408" href="Demos.HSP.html#15267" class="Bound">h</a> <a id="15410" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15412" href="Demos.HSP.html#15328" class="Field">isHom</a>

 <a id="15420" href="Demos.HSP.html#15420" class="Function">mon</a> <a id="15424" class="Symbol">:</a> <a id="15426" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="15431" class="Symbol">(</a><a id="15432" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="15434" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15436" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="15438" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15440" href="Demos.HSP.html#14394" class="Bound">α</a> <a id="15442" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15444" href="Demos.HSP.html#14396" class="Bound">ρᵃ</a> <a id="15447" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15449" href="Demos.HSP.html#14412" class="Bound">β</a> <a id="15451" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15453" href="Demos.HSP.html#14414" class="Bound">ρᵇ</a><a id="15455" class="Symbol">)</a>
 <a id="15458" href="Demos.HSP.html#15420" class="Function">mon</a> <a id="15462" class="Symbol">=</a> <a id="15464" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="15466" class="Symbol">(</a><a id="15467" href="Demos.HSP.html#14469" class="Function">A</a> <a id="15469" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="15471" href="Demos.HSP.html#14518" class="Field">B</a><a id="15472" class="Symbol">)</a> <a id="15474" href="Demos.HSP.html#15260" class="Record">IsMon</a>

 <a id="15482" href="Demos.HSP.html#15482" class="Function">mon→hom</a> <a id="15490" class="Symbol">:</a> <a id="15492" href="Demos.HSP.html#15420" class="Function">mon</a> <a id="15496" class="Symbol">→</a> <a id="15498" href="Demos.HSP.html#15085" class="Function">hom</a>
 <a id="15503" href="Demos.HSP.html#15482" class="Function">mon→hom</a> <a id="15511" href="Demos.HSP.html#15511" class="Bound">h</a> <a id="15513" class="Symbol">=</a> <a id="15515" href="Demos.HSP.html#15378" class="Function">IsMon.HomReduct</a> <a id="15531" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="15533" href="Demos.HSP.html#15511" class="Bound">h</a> <a id="15535" href="Demos.HSP.html#2515" class="Function Operator">∥</a>


 <a id="15540" class="Keyword">record</a> <a id="15547" href="Demos.HSP.html#15547" class="Record">IsEpi</a> <a id="15553" class="Symbol">(</a><a id="15554" href="Demos.HSP.html#15554" class="Bound">h</a> <a id="15556" class="Symbol">:</a> <a id="15558" href="Demos.HSP.html#14469" class="Function">A</a> <a id="15560" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="15562" href="Demos.HSP.html#14518" class="Field">B</a><a id="15563" class="Symbol">)</a> <a id="15565" class="Symbol">:</a> <a id="15567" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="15572" class="Symbol">(</a><a id="15573" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="15575" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15577" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="15579" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15581" href="Demos.HSP.html#14394" class="Bound">α</a> <a id="15583" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15585" href="Demos.HSP.html#14396" class="Bound">ρᵃ</a> <a id="15588" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15590" href="Demos.HSP.html#14412" class="Bound">β</a> <a id="15592" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15594" href="Demos.HSP.html#14414" class="Bound">ρᵇ</a><a id="15596" class="Symbol">)</a> <a id="15598" class="Keyword">where</a>
  <a id="15606" class="Keyword">field</a>
   <a id="15615" href="Demos.HSP.html#15615" class="Field">isHom</a> <a id="15621" class="Symbol">:</a> <a id="15623" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="15629" href="Demos.HSP.html#15554" class="Bound">h</a>
   <a id="15634" href="Demos.HSP.html#15634" class="Field">isSurjective</a> <a id="15647" class="Symbol">:</a> <a id="15649" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="15662" href="Demos.HSP.html#15554" class="Bound">h</a>

  <a id="15667" href="Demos.HSP.html#15667" class="Function">HomReduct</a> <a id="15677" class="Symbol">:</a> <a id="15679" href="Demos.HSP.html#15085" class="Function">hom</a>
  <a id="15685" href="Demos.HSP.html#15667" class="Function">HomReduct</a> <a id="15695" class="Symbol">=</a> <a id="15697" href="Demos.HSP.html#15554" class="Bound">h</a> <a id="15699" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15701" href="Demos.HSP.html#15615" class="Field">isHom</a>

 <a id="15709" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="15713" class="Symbol">:</a> <a id="15715" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="15720" class="Symbol">(</a><a id="15721" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="15723" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15725" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="15727" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15729" href="Demos.HSP.html#14394" class="Bound">α</a> <a id="15731" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15733" href="Demos.HSP.html#14396" class="Bound">ρᵃ</a> <a id="15736" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15738" href="Demos.HSP.html#14412" class="Bound">β</a> <a id="15740" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="15742" href="Demos.HSP.html#14414" class="Bound">ρᵇ</a><a id="15744" class="Symbol">)</a>
 <a id="15747" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="15751" class="Symbol">=</a> <a id="15753" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="15755" class="Symbol">(</a><a id="15756" href="Demos.HSP.html#14469" class="Function">A</a> <a id="15758" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="15760" href="Demos.HSP.html#14518" class="Field">B</a><a id="15761" class="Symbol">)</a> <a id="15763" href="Demos.HSP.html#15547" class="Record">IsEpi</a>

 <a id="15771" href="Demos.HSP.html#15771" class="Function">epi→hom</a> <a id="15779" class="Symbol">:</a> <a id="15781" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="15785" class="Symbol">→</a> <a id="15787" href="Demos.HSP.html#15085" class="Function">hom</a>
 <a id="15792" href="Demos.HSP.html#15771" class="Function">epi→hom</a> <a id="15800" href="Demos.HSP.html#15800" class="Bound">h</a> <a id="15802" class="Symbol">=</a> <a id="15804" href="Demos.HSP.html#15667" class="Function">IsEpi.HomReduct</a> <a id="15820" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="15822" href="Demos.HSP.html#15800" class="Bound">h</a> <a id="15824" href="Demos.HSP.html#2515" class="Function Operator">∥</a>

<a id="15827" class="Keyword">module</a> <a id="15834" href="Demos.HSP.html#15834" class="Module">_</a> <a id="15836" class="Symbol">(</a><a id="15837" href="Demos.HSP.html#15837" class="Bound">𝑨</a> <a id="15839" class="Symbol">:</a> <a id="15841" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="15849" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="15851" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="15853" class="Symbol">)(</a><a id="15855" href="Demos.HSP.html#15855" class="Bound">𝑩</a> <a id="15857" class="Symbol">:</a> <a id="15859" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="15867" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="15869" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="15871" class="Symbol">)</a> <a id="15873" class="Keyword">where</a>
 <a id="15880" class="Keyword">open</a> <a id="15885" href="Demos.HSP.html#15547" class="Module">IsEpi</a>
 <a id="15892" class="Keyword">open</a> <a id="15897" href="Demos.HSP.html#15260" class="Module">IsMon</a>

 <a id="15905" href="Demos.HSP.html#15905" class="Function">mon→intohom</a> <a id="15917" class="Symbol">:</a> <a id="15919" href="Demos.HSP.html#15420" class="Function">mon</a> <a id="15923" href="Demos.HSP.html#15837" class="Bound">𝑨</a> <a id="15925" href="Demos.HSP.html#15855" class="Bound">𝑩</a> <a id="15927" class="Symbol">→</a> <a id="15929" href="Data.Product.html#916" class="Function">Σ[</a> <a id="15932" href="Demos.HSP.html#15932" class="Bound">h</a> <a id="15934" href="Data.Product.html#916" class="Function">∈</a> <a id="15936" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="15940" href="Demos.HSP.html#15837" class="Bound">𝑨</a> <a id="15942" href="Demos.HSP.html#15855" class="Bound">𝑩</a> <a id="15944" href="Data.Product.html#916" class="Function">]</a> <a id="15946" href="Demos.HSP.html#5232" class="Function">IsInjective</a> <a id="15958" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="15960" href="Demos.HSP.html#15932" class="Bound">h</a> <a id="15962" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
 <a id="15965" href="Demos.HSP.html#15905" class="Function">mon→intohom</a> <a id="15977" class="Symbol">(</a><a id="15978" href="Demos.HSP.html#15978" class="Bound">hh</a> <a id="15981" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15983" href="Demos.HSP.html#15983" class="Bound">hhM</a><a id="15986" class="Symbol">)</a> <a id="15988" class="Symbol">=</a> <a id="15990" class="Symbol">(</a><a id="15991" href="Demos.HSP.html#15978" class="Bound">hh</a> <a id="15994" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15996" href="Demos.HSP.html#15328" class="Field">isHom</a> <a id="16002" href="Demos.HSP.html#15983" class="Bound">hhM</a><a id="16005" class="Symbol">)</a> <a id="16007" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16009" href="Demos.HSP.html#15347" class="Field">isInjective</a> <a id="16021" href="Demos.HSP.html#15983" class="Bound">hhM</a>

 <a id="16027" href="Demos.HSP.html#16027" class="Function">epi→ontohom</a> <a id="16039" class="Symbol">:</a> <a id="16041" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="16045" href="Demos.HSP.html#15837" class="Bound">𝑨</a> <a id="16047" href="Demos.HSP.html#15855" class="Bound">𝑩</a> <a id="16049" class="Symbol">→</a> <a id="16051" href="Data.Product.html#916" class="Function">Σ[</a> <a id="16054" href="Demos.HSP.html#16054" class="Bound">h</a> <a id="16056" href="Data.Product.html#916" class="Function">∈</a> <a id="16058" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="16062" href="Demos.HSP.html#15837" class="Bound">𝑨</a> <a id="16064" href="Demos.HSP.html#15855" class="Bound">𝑩</a> <a id="16066" href="Data.Product.html#916" class="Function">]</a> <a id="16068" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="16081" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="16083" href="Demos.HSP.html#16054" class="Bound">h</a> <a id="16085" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
 <a id="16088" href="Demos.HSP.html#16027" class="Function">epi→ontohom</a> <a id="16100" class="Symbol">(</a><a id="16101" href="Demos.HSP.html#16101" class="Bound">hh</a> <a id="16104" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16106" href="Demos.HSP.html#16106" class="Bound">hhE</a><a id="16109" class="Symbol">)</a> <a id="16111" class="Symbol">=</a> <a id="16113" class="Symbol">(</a><a id="16114" href="Demos.HSP.html#16101" class="Bound">hh</a> <a id="16117" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16119" href="Demos.HSP.html#15615" class="Field">isHom</a> <a id="16125" href="Demos.HSP.html#16106" class="Bound">hhE</a><a id="16128" class="Symbol">)</a> <a id="16130" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16132" href="Demos.HSP.html#15634" class="Field">isSurjective</a> <a id="16145" href="Demos.HSP.html#16106" class="Bound">hhE</a>

</pre>


### <a id="basic-properties-of-homomorphisms">Basic properties of homomorphisms</a>

Here are some definitions and theorems extracted from the [Homomorphisms.Func.Properties][] module of the [Agda Universal Algebra Library][].


#### <a id="composition-of-homomorphisms">Composition of homomorphisms</a>


<pre class="Agda">

<a id="16483" class="Keyword">module</a> <a id="16490" href="Demos.HSP.html#16490" class="Module">_</a> <a id="16492" class="Symbol">{</a><a id="16493" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="16495" class="Symbol">:</a> <a id="16497" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="16505" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="16507" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="16509" class="Symbol">}</a>
         <a id="16520" class="Symbol">{</a><a id="16521" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="16523" class="Symbol">:</a> <a id="16525" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="16533" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="16535" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="16537" class="Symbol">}</a>
         <a id="16548" class="Symbol">{</a><a id="16549" href="Demos.HSP.html#16549" class="Bound">𝑪</a> <a id="16551" class="Symbol">:</a> <a id="16553" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="16561" href="Demos.HSP.html#1511" class="Generalizable">γ</a> <a id="16563" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a><a id="16565" class="Symbol">}</a> <a id="16567" class="Keyword">where</a>

  <a id="16576" class="Keyword">open</a> <a id="16581" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="16589" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="16591" class="Keyword">using</a> <a id="16597" class="Symbol">()</a> <a id="16600" class="Keyword">renaming</a> <a id="16609" class="Symbol">(</a><a id="16610" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="16617" class="Symbol">to</a> <a id="16620" class="Field">A</a> <a id="16622" class="Symbol">)</a>
  <a id="16626" class="Keyword">open</a> <a id="16631" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="16639" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="16641" class="Keyword">using</a> <a id="16647" class="Symbol">()</a> <a id="16650" class="Keyword">renaming</a> <a id="16659" class="Symbol">(</a><a id="16660" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="16667" class="Symbol">to</a> <a id="16670" class="Field">B</a> <a id="16672" class="Symbol">)</a>
  <a id="16676" class="Keyword">open</a> <a id="16681" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="16689" href="Demos.HSP.html#16549" class="Bound">𝑪</a> <a id="16691" class="Keyword">using</a> <a id="16697" class="Symbol">()</a> <a id="16700" class="Keyword">renaming</a> <a id="16709" class="Symbol">(</a><a id="16710" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="16717" class="Symbol">to</a> <a id="16720" class="Field">C</a> <a id="16722" class="Symbol">)</a>
  <a id="16726" class="Keyword">open</a> <a id="16731" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="16738" href="Demos.HSP.html#16620" class="Function">A</a> <a id="16740" class="Keyword">using</a> <a id="16746" class="Symbol">()</a>        <a id="16756" class="Keyword">renaming</a> <a id="16765" class="Symbol">(</a> <a id="16767" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="16771" class="Symbol">to</a> <a id="16774" class="Field Operator">_≈₁_</a> <a id="16779" class="Symbol">)</a>
  <a id="16783" class="Keyword">open</a> <a id="16788" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="16795" href="Demos.HSP.html#16670" class="Function">B</a> <a id="16797" class="Keyword">using</a> <a id="16803" class="Symbol">()</a>        <a id="16813" class="Keyword">renaming</a> <a id="16822" class="Symbol">(</a> <a id="16824" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="16828" class="Symbol">to</a> <a id="16831" class="Field Operator">_≈₂_</a> <a id="16836" class="Symbol">)</a>
  <a id="16840" class="Keyword">open</a> <a id="16845" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="16852" href="Demos.HSP.html#16720" class="Field">C</a> <a id="16854" class="Keyword">using</a> <a id="16860" class="Symbol">(</a> <a id="16862" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="16868" class="Symbol">)</a> <a id="16870" class="Keyword">renaming</a> <a id="16879" class="Symbol">(</a> <a id="16881" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="16885" class="Symbol">to</a> <a id="16888" class="Field Operator">_≈₃_</a> <a id="16893" class="Symbol">)</a>

  <a id="16898" class="Keyword">open</a> <a id="16903" href="Demos.HSP.html#14989" class="Module">IsHom</a>

  <a id="16912" class="Comment">-- The composition of homomorphisms is again a homomorphism</a>
  <a id="16974" href="Demos.HSP.html#16974" class="Function">∘-is-hom</a> <a id="16983" class="Symbol">:</a> <a id="16985" class="Symbol">{</a><a id="16986" href="Demos.HSP.html#16986" class="Bound">g</a> <a id="16988" class="Symbol">:</a> <a id="16990" href="Demos.HSP.html#16620" class="Function">A</a> <a id="16992" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="16994" href="Demos.HSP.html#16670" class="Function">B</a><a id="16995" class="Symbol">}{</a><a id="16997" href="Demos.HSP.html#16997" class="Bound">h</a> <a id="16999" class="Symbol">:</a> <a id="17001" href="Demos.HSP.html#16670" class="Function">B</a> <a id="17003" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="17005" href="Demos.HSP.html#16720" class="Field">C</a><a id="17006" class="Symbol">}</a>
   <a id="17011" class="Symbol">→</a>         <a id="17021" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="17027" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="17029" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="17031" href="Demos.HSP.html#16986" class="Bound">g</a> <a id="17033" class="Symbol">→</a> <a id="17035" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="17041" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="17043" href="Demos.HSP.html#16549" class="Bound">𝑪</a> <a id="17045" href="Demos.HSP.html#16997" class="Bound">h</a>
   <a id="17050" class="Symbol">→</a>         <a id="17060" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="17066" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="17068" href="Demos.HSP.html#16549" class="Bound">𝑪</a> <a id="17070" class="Symbol">(</a><a id="17071" href="Demos.HSP.html#16997" class="Bound">h</a> <a id="17073" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="17077" href="Demos.HSP.html#16986" class="Bound">g</a><a id="17078" class="Symbol">)</a>

  <a id="17083" href="Demos.HSP.html#16974" class="Function">∘-is-hom</a> <a id="17092" class="Symbol">{</a><a id="17093" href="Demos.HSP.html#17093" class="Bound">g</a><a id="17094" class="Symbol">}</a> <a id="17096" class="Symbol">{</a><a id="17097" href="Demos.HSP.html#17097" class="Bound">h</a><a id="17098" class="Symbol">}</a> <a id="17100" href="Demos.HSP.html#17100" class="Bound">ghom</a> <a id="17105" href="Demos.HSP.html#17105" class="Bound">hhom</a> <a id="17110" class="Symbol">=</a> <a id="17112" class="Keyword">record</a> <a id="17119" class="Symbol">{</a> <a id="17121" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="17132" class="Symbol">=</a> <a id="17134" href="Demos.HSP.html#17150" class="Function">c</a> <a id="17136" class="Symbol">}</a>
   <a id="17141" class="Keyword">where</a>
   <a id="17150" href="Demos.HSP.html#17150" class="Function">c</a> <a id="17152" class="Symbol">:</a> <a id="17154" href="Demos.HSP.html#14839" class="Function">compatible-map</a> <a id="17169" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="17171" href="Demos.HSP.html#16549" class="Bound">𝑪</a> <a id="17173" class="Symbol">(</a><a id="17174" href="Demos.HSP.html#17097" class="Bound">h</a> <a id="17176" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="17180" href="Demos.HSP.html#17093" class="Bound">g</a><a id="17181" class="Symbol">)</a>
   <a id="17186" href="Demos.HSP.html#17150" class="Function">c</a> <a id="17188" class="Symbol">{</a><a id="17189" href="Demos.HSP.html#17189" class="Bound">f</a><a id="17190" class="Symbol">}{</a><a id="17192" href="Demos.HSP.html#17192" class="Bound">a</a><a id="17193" class="Symbol">}</a> <a id="17195" class="Symbol">=</a> <a id="17197" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="17203" href="Demos.HSP.html#17227" class="Function">lemg</a> <a id="17208" href="Demos.HSP.html#17344" class="Function">lemh</a>
    <a id="17217" class="Keyword">where</a>
    <a id="17227" href="Demos.HSP.html#17227" class="Function">lemg</a> <a id="17232" class="Symbol">:</a> <a id="17234" class="Symbol">(</a><a id="17235" href="Demos.HSP.html#17097" class="Bound">h</a> <a id="17237" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="17241" class="Symbol">(</a><a id="17242" href="Demos.HSP.html#17093" class="Bound">g</a> <a id="17244" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="17248" class="Symbol">((</a><a id="17250" href="Demos.HSP.html#17189" class="Bound">f</a> <a id="17252" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="17254" href="Demos.HSP.html#16493" class="Bound">𝑨</a><a id="17255" class="Symbol">)</a> <a id="17257" href="Demos.HSP.html#17192" class="Bound">a</a><a id="17258" class="Symbol">)))</a> <a id="17262" href="Demos.HSP.html#16888" class="Function Operator">≈₃</a> <a id="17265" class="Symbol">(</a><a id="17266" href="Demos.HSP.html#17097" class="Bound">h</a> <a id="17268" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="17272" class="Symbol">((</a><a id="17274" href="Demos.HSP.html#17189" class="Bound">f</a> <a id="17276" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="17278" href="Demos.HSP.html#16521" class="Bound">𝑩</a><a id="17279" class="Symbol">)</a> <a id="17281" class="Symbol">(λ</a> <a id="17284" href="Demos.HSP.html#17284" class="Bound">x</a> <a id="17286" class="Symbol">→</a> <a id="17288" href="Demos.HSP.html#17093" class="Bound">g</a> <a id="17290" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="17294" class="Symbol">(</a><a id="17295" href="Demos.HSP.html#17192" class="Bound">a</a> <a id="17297" href="Demos.HSP.html#17284" class="Bound">x</a><a id="17298" class="Symbol">))))</a>
    <a id="17307" href="Demos.HSP.html#17227" class="Function">lemg</a> <a id="17312" class="Symbol">=</a> <a id="17314" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="17319" href="Demos.HSP.html#17097" class="Bound">h</a> <a id="17321" class="Symbol">(</a><a id="17322" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="17333" href="Demos.HSP.html#17100" class="Bound">ghom</a><a id="17337" class="Symbol">)</a>

    <a id="17344" href="Demos.HSP.html#17344" class="Function">lemh</a> <a id="17349" class="Symbol">:</a> <a id="17351" class="Symbol">(</a><a id="17352" href="Demos.HSP.html#17097" class="Bound">h</a> <a id="17354" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="17358" class="Symbol">((</a><a id="17360" href="Demos.HSP.html#17189" class="Bound">f</a> <a id="17362" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="17364" href="Demos.HSP.html#16521" class="Bound">𝑩</a><a id="17365" class="Symbol">)</a> <a id="17367" class="Symbol">(λ</a> <a id="17370" href="Demos.HSP.html#17370" class="Bound">x</a> <a id="17372" class="Symbol">→</a> <a id="17374" href="Demos.HSP.html#17093" class="Bound">g</a> <a id="17376" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="17380" class="Symbol">(</a><a id="17381" href="Demos.HSP.html#17192" class="Bound">a</a> <a id="17383" href="Demos.HSP.html#17370" class="Bound">x</a><a id="17384" class="Symbol">))))</a> <a id="17389" href="Demos.HSP.html#16888" class="Function Operator">≈₃</a> <a id="17392" class="Symbol">((</a><a id="17394" href="Demos.HSP.html#17189" class="Bound">f</a> <a id="17396" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="17398" href="Demos.HSP.html#16549" class="Bound">𝑪</a><a id="17399" class="Symbol">)</a> <a id="17401" class="Symbol">(λ</a> <a id="17404" href="Demos.HSP.html#17404" class="Bound">x</a> <a id="17406" class="Symbol">→</a> <a id="17408" href="Demos.HSP.html#17097" class="Bound">h</a> <a id="17410" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="17414" class="Symbol">(</a><a id="17415" href="Demos.HSP.html#17093" class="Bound">g</a> <a id="17417" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="17421" class="Symbol">(</a><a id="17422" href="Demos.HSP.html#17192" class="Bound">a</a> <a id="17424" href="Demos.HSP.html#17404" class="Bound">x</a><a id="17425" class="Symbol">))))</a>
    <a id="17434" href="Demos.HSP.html#17344" class="Function">lemh</a> <a id="17439" class="Symbol">=</a> <a id="17441" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="17452" href="Demos.HSP.html#17105" class="Bound">hhom</a>

  <a id="17460" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="17466" class="Symbol">:</a> <a id="17468" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="17472" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="17474" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="17476" class="Symbol">→</a> <a id="17478" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="17482" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="17484" href="Demos.HSP.html#16549" class="Bound">𝑪</a>  <a id="17487" class="Symbol">→</a> <a id="17489" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="17493" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="17495" href="Demos.HSP.html#16549" class="Bound">𝑪</a>
  <a id="17499" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="17505" class="Symbol">(</a><a id="17506" href="Demos.HSP.html#17506" class="Bound">h</a> <a id="17508" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17510" href="Demos.HSP.html#17510" class="Bound">hhom</a><a id="17514" class="Symbol">)</a> <a id="17516" class="Symbol">(</a><a id="17517" href="Demos.HSP.html#17517" class="Bound">g</a> <a id="17519" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17521" href="Demos.HSP.html#17521" class="Bound">ghom</a><a id="17525" class="Symbol">)</a> <a id="17527" class="Symbol">=</a> <a id="17529" class="Symbol">(</a><a id="17530" href="Demos.HSP.html#17517" class="Bound">g</a> <a id="17532" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="17536" href="Demos.HSP.html#17506" class="Bound">h</a><a id="17537" class="Symbol">)</a> <a id="17539" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17541" href="Demos.HSP.html#16974" class="Function">∘-is-hom</a> <a id="17550" href="Demos.HSP.html#17510" class="Bound">hhom</a> <a id="17555" href="Demos.HSP.html#17521" class="Bound">ghom</a>

  <a id="17563" class="Comment">-- The composition of epimorphisms is again an epimorphism</a>
  <a id="17624" class="Keyword">open</a> <a id="17629" href="Demos.HSP.html#15547" class="Module">IsEpi</a>

  <a id="17638" href="Demos.HSP.html#17638" class="Function">∘-is-epi</a> <a id="17647" class="Symbol">:</a> <a id="17649" class="Symbol">{</a><a id="17650" href="Demos.HSP.html#17650" class="Bound">g</a> <a id="17652" class="Symbol">:</a> <a id="17654" href="Demos.HSP.html#16620" class="Function">A</a> <a id="17656" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="17658" href="Demos.HSP.html#16670" class="Function">B</a><a id="17659" class="Symbol">}{</a><a id="17661" href="Demos.HSP.html#17661" class="Bound">h</a> <a id="17663" class="Symbol">:</a> <a id="17665" href="Demos.HSP.html#16670" class="Function">B</a> <a id="17667" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="17669" href="Demos.HSP.html#16720" class="Field">C</a><a id="17670" class="Symbol">}</a>
   <a id="17675" class="Symbol">→</a>         <a id="17685" href="Demos.HSP.html#15547" class="Record">IsEpi</a> <a id="17691" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="17693" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="17695" href="Demos.HSP.html#17650" class="Bound">g</a> <a id="17697" class="Symbol">→</a> <a id="17699" href="Demos.HSP.html#15547" class="Record">IsEpi</a> <a id="17705" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="17707" href="Demos.HSP.html#16549" class="Bound">𝑪</a> <a id="17709" href="Demos.HSP.html#17661" class="Bound">h</a> <a id="17711" class="Symbol">→</a> <a id="17713" href="Demos.HSP.html#15547" class="Record">IsEpi</a> <a id="17719" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="17721" href="Demos.HSP.html#16549" class="Bound">𝑪</a> <a id="17723" class="Symbol">(</a><a id="17724" href="Demos.HSP.html#17661" class="Bound">h</a> <a id="17726" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="17730" href="Demos.HSP.html#17650" class="Bound">g</a><a id="17731" class="Symbol">)</a>

  <a id="17736" href="Demos.HSP.html#17638" class="Function">∘-is-epi</a> <a id="17745" href="Demos.HSP.html#17745" class="Bound">gE</a> <a id="17748" href="Demos.HSP.html#17748" class="Bound">hE</a> <a id="17751" class="Symbol">=</a>
   <a id="17756" class="Keyword">record</a> <a id="17763" class="Symbol">{</a> <a id="17765" href="Demos.HSP.html#15615" class="Field">isHom</a> <a id="17771" class="Symbol">=</a> <a id="17773" href="Demos.HSP.html#16974" class="Function">∘-is-hom</a> <a id="17782" class="Symbol">(</a><a id="17783" href="Demos.HSP.html#15615" class="Field">isHom</a> <a id="17789" href="Demos.HSP.html#17745" class="Bound">gE</a><a id="17791" class="Symbol">)</a> <a id="17793" class="Symbol">(</a><a id="17794" href="Demos.HSP.html#15615" class="Field">isHom</a> <a id="17800" href="Demos.HSP.html#17748" class="Bound">hE</a><a id="17802" class="Symbol">)</a>
          <a id="17814" class="Symbol">;</a> <a id="17816" href="Demos.HSP.html#15634" class="Field">isSurjective</a> <a id="17829" class="Symbol">=</a> <a id="17831" href="Demos.HSP.html#7444" class="Function">∘-IsSurjective</a> <a id="17846" class="Symbol">(</a><a id="17847" href="Demos.HSP.html#15634" class="Field">isSurjective</a> <a id="17860" href="Demos.HSP.html#17745" class="Bound">gE</a><a id="17862" class="Symbol">)</a> <a id="17864" class="Symbol">(</a><a id="17865" href="Demos.HSP.html#15634" class="Field">isSurjective</a> <a id="17878" href="Demos.HSP.html#17748" class="Bound">hE</a><a id="17880" class="Symbol">)</a> <a id="17882" class="Symbol">}</a>

  <a id="17887" href="Demos.HSP.html#17887" class="Function">∘-epi</a> <a id="17893" class="Symbol">:</a> <a id="17895" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="17899" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="17901" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="17903" class="Symbol">→</a> <a id="17905" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="17909" href="Demos.HSP.html#16521" class="Bound">𝑩</a> <a id="17911" href="Demos.HSP.html#16549" class="Bound">𝑪</a>  <a id="17914" class="Symbol">→</a> <a id="17916" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="17920" href="Demos.HSP.html#16493" class="Bound">𝑨</a> <a id="17922" href="Demos.HSP.html#16549" class="Bound">𝑪</a>
  <a id="17926" href="Demos.HSP.html#17887" class="Function">∘-epi</a> <a id="17932" class="Symbol">(</a><a id="17933" href="Demos.HSP.html#17933" class="Bound">h</a> <a id="17935" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17937" href="Demos.HSP.html#17937" class="Bound">hepi</a><a id="17941" class="Symbol">)</a> <a id="17943" class="Symbol">(</a><a id="17944" href="Demos.HSP.html#17944" class="Bound">g</a> <a id="17946" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17948" href="Demos.HSP.html#17948" class="Bound">gepi</a><a id="17952" class="Symbol">)</a> <a id="17954" class="Symbol">=</a> <a id="17956" class="Symbol">(</a><a id="17957" href="Demos.HSP.html#17944" class="Bound">g</a> <a id="17959" href="Demos.HSP.html#1771" class="Function Operator">⟨∘⟩</a> <a id="17963" href="Demos.HSP.html#17933" class="Bound">h</a><a id="17964" class="Symbol">)</a> <a id="17966" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17968" href="Demos.HSP.html#17638" class="Function">∘-is-epi</a> <a id="17977" href="Demos.HSP.html#17937" class="Bound">hepi</a> <a id="17982" href="Demos.HSP.html#17948" class="Bound">gepi</a>

</pre>


#### <a id="universe-lifting-of-homomorphisms">Universe lifting of homomorphisms</a>

First we define the identity homomorphism for setoid algebras and then we prove that the operations of lifting and lowering of a setoid algebra are homomorphisms.

<pre class="Agda">

<a id="18265" class="Keyword">module</a> <a id="18272" href="Demos.HSP.html#18272" class="Module">_</a> <a id="18274" class="Symbol">{</a><a id="18275" href="Demos.HSP.html#18275" class="Bound">𝑨</a> <a id="18277" class="Symbol">:</a> <a id="18279" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="18287" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="18289" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="18291" class="Symbol">}</a> <a id="18293" class="Keyword">where</a>
 <a id="18300" class="Keyword">open</a> <a id="18305" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="18313" href="Demos.HSP.html#18275" class="Bound">𝑨</a> <a id="18315" class="Keyword">using</a> <a id="18321" class="Symbol">()</a> <a id="18324" class="Keyword">renaming</a> <a id="18333" class="Symbol">(</a><a id="18334" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="18341" class="Symbol">to</a> <a id="18344" class="Field">A</a> <a id="18346" class="Symbol">)</a>
 <a id="18349" class="Keyword">open</a> <a id="18354" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="18361" href="Demos.HSP.html#18344" class="Field">A</a> <a id="18363" class="Keyword">using</a> <a id="18369" class="Symbol">(</a> <a id="18371" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="18381" class="Symbol">)</a> <a id="18383" class="Keyword">renaming</a> <a id="18392" class="Symbol">(</a> <a id="18394" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="18398" class="Symbol">to</a> <a id="18401" class="Field Operator">_≈₁_</a> <a id="18406" class="Symbol">;</a> <a id="18408" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="18413" class="Symbol">to</a> <a id="18416" class="Function">refl₁</a> <a id="18422" class="Symbol">)</a>

 <a id="18426" href="Demos.HSP.html#18426" class="Function">𝒾𝒹</a> <a id="18429" class="Symbol">:</a>  <a id="18432" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="18436" href="Demos.HSP.html#18275" class="Bound">𝑨</a> <a id="18438" href="Demos.HSP.html#18275" class="Bound">𝑨</a>
 <a id="18441" href="Demos.HSP.html#18426" class="Function">𝒾𝒹</a> <a id="18444" class="Symbol">=</a> <a id="18446" href="Demos.HSP.html#1665" class="Function">𝑖𝑑</a> <a id="18449" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18451" class="Keyword">record</a> <a id="18458" class="Symbol">{</a> <a id="18460" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="18471" class="Symbol">=</a> <a id="18473" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="18483" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="18490" class="Symbol">}</a>

<a id="18493" class="Keyword">module</a> <a id="18500" href="Demos.HSP.html#18500" class="Module">_</a> <a id="18502" class="Symbol">{</a><a id="18503" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="18505" class="Symbol">:</a> <a id="18507" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="18515" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="18517" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="18519" class="Symbol">}{</a><a id="18521" href="Demos.HSP.html#18521" class="Bound">ℓ</a> <a id="18523" class="Symbol">:</a> <a id="18525" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="18530" class="Symbol">}</a> <a id="18532" class="Keyword">where</a>
 <a id="18539" class="Keyword">open</a> <a id="18544" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="18552" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="18554" class="Keyword">using</a> <a id="18560" class="Symbol">()</a> <a id="18563" class="Keyword">renaming</a> <a id="18572" class="Symbol">(</a><a id="18573" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="18580" class="Symbol">to</a> <a id="18583" class="Field">A</a> <a id="18585" class="Symbol">)</a>
 <a id="18588" class="Keyword">open</a> <a id="18593" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="18600" href="Demos.HSP.html#18583" class="Function">A</a> <a id="18602" class="Keyword">using</a> <a id="18608" class="Symbol">(</a> <a id="18610" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="18620" class="Symbol">)</a> <a id="18622" class="Keyword">renaming</a> <a id="18631" class="Symbol">(</a> <a id="18633" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="18637" class="Symbol">to</a> <a id="18640" class="Field Operator">_≈₁_</a> <a id="18645" class="Symbol">;</a> <a id="18647" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="18652" class="Symbol">to</a> <a id="18655" class="Function">refl₁</a> <a id="18661" class="Symbol">)</a>

 <a id="18665" class="Keyword">open</a> <a id="18670" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="18677" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="18680" href="Demos.HSP.html#11878" class="Function">Lift-Algˡ</a> <a id="18690" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="18692" href="Demos.HSP.html#18521" class="Bound">ℓ</a> <a id="18694" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="18696" class="Keyword">using</a> <a id="18702" class="Symbol">()</a> <a id="18705" class="Keyword">renaming</a> <a id="18714" class="Symbol">(</a> <a id="18716" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="18720" class="Symbol">to</a> <a id="18723" class="Field Operator">_≈ˡ_</a> <a id="18728" class="Symbol">;</a> <a id="18730" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="18735" class="Symbol">to</a> <a id="18738" class="Function">reflˡ</a><a id="18743" class="Symbol">)</a>
 <a id="18746" class="Keyword">open</a> <a id="18751" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="18758" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="18761" href="Demos.HSP.html#12513" class="Function">Lift-Algʳ</a> <a id="18771" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="18773" href="Demos.HSP.html#18521" class="Bound">ℓ</a> <a id="18775" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="18777" class="Keyword">using</a> <a id="18783" class="Symbol">()</a> <a id="18786" class="Keyword">renaming</a> <a id="18795" class="Symbol">(</a> <a id="18797" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="18801" class="Symbol">to</a> <a id="18804" class="Field Operator">_≈ʳ_</a> <a id="18809" class="Symbol">;</a> <a id="18811" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="18816" class="Symbol">to</a> <a id="18819" class="Function">reflʳ</a><a id="18824" class="Symbol">)</a>

 <a id="18828" class="Keyword">open</a> <a id="18833" href="Level.html" class="Module">Level</a>
 <a id="18840" href="Demos.HSP.html#18840" class="Function">ToLiftˡ</a> <a id="18848" class="Symbol">:</a> <a id="18850" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="18854" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="18856" class="Symbol">(</a><a id="18857" href="Demos.HSP.html#11878" class="Function">Lift-Algˡ</a> <a id="18867" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="18869" href="Demos.HSP.html#18521" class="Bound">ℓ</a><a id="18870" class="Symbol">)</a>
 <a id="18873" href="Demos.HSP.html#18840" class="Function">ToLiftˡ</a> <a id="18881" class="Symbol">=</a> <a id="18883" class="Keyword">record</a> <a id="18890" class="Symbol">{</a> <a id="18892" href="Function.Bundles.html#1919" class="Field">f</a> <a id="18894" class="Symbol">=</a> <a id="18896" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="18901" class="Symbol">;</a> <a id="18903" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="18908" class="Symbol">=</a> <a id="18910" href="Function.Base.html#615" class="Function">id</a> <a id="18913" class="Symbol">}</a>
         <a id="18924" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18926" class="Keyword">record</a> <a id="18933" class="Symbol">{</a> <a id="18935" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="18946" class="Symbol">=</a> <a id="18948" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="18958" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="18965" class="Symbol">}</a>

 <a id="18969" href="Demos.HSP.html#18969" class="Function">FromLiftˡ</a> <a id="18979" class="Symbol">:</a> <a id="18981" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="18985" class="Symbol">(</a><a id="18986" href="Demos.HSP.html#11878" class="Function">Lift-Algˡ</a> <a id="18996" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="18998" href="Demos.HSP.html#18521" class="Bound">ℓ</a><a id="18999" class="Symbol">)</a> <a id="19001" href="Demos.HSP.html#18503" class="Bound">𝑨</a>
 <a id="19004" href="Demos.HSP.html#18969" class="Function">FromLiftˡ</a> <a id="19014" class="Symbol">=</a> <a id="19016" class="Keyword">record</a> <a id="19023" class="Symbol">{</a> <a id="19025" href="Function.Bundles.html#1919" class="Field">f</a> <a id="19027" class="Symbol">=</a> <a id="19029" href="Level.html#470" class="Field">lower</a> <a id="19035" class="Symbol">;</a> <a id="19037" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="19042" class="Symbol">=</a> <a id="19044" href="Function.Base.html#615" class="Function">id</a> <a id="19047" class="Symbol">}</a>
                   <a id="19068" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19070" class="Keyword">record</a> <a id="19077" class="Symbol">{</a> <a id="19079" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="19090" class="Symbol">=</a> <a id="19092" href="Demos.HSP.html#18738" class="Function">reflˡ</a> <a id="19098" class="Symbol">}</a>

 <a id="19102" href="Demos.HSP.html#19102" class="Function">ToFromLiftˡ</a> <a id="19114" class="Symbol">:</a> <a id="19116" class="Symbol">∀</a> <a id="19118" href="Demos.HSP.html#19118" class="Bound">b</a> <a id="19120" class="Symbol">→</a>  <a id="19123" class="Symbol">(</a><a id="19124" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19126" href="Demos.HSP.html#18840" class="Function">ToLiftˡ</a> <a id="19134" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19136" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="19140" class="Symbol">(</a><a id="19141" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19143" href="Demos.HSP.html#18969" class="Function">FromLiftˡ</a> <a id="19153" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19155" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="19159" href="Demos.HSP.html#19118" class="Bound">b</a><a id="19160" class="Symbol">))</a> <a id="19163" href="Demos.HSP.html#18723" class="Function Operator">≈ˡ</a> <a id="19166" href="Demos.HSP.html#19118" class="Bound">b</a>
 <a id="19169" href="Demos.HSP.html#19102" class="Function">ToFromLiftˡ</a> <a id="19181" href="Demos.HSP.html#19181" class="Bound">b</a> <a id="19183" class="Symbol">=</a> <a id="19185" href="Demos.HSP.html#18655" class="Function">refl₁</a>

 <a id="19193" href="Demos.HSP.html#19193" class="Function">FromToLiftˡ</a> <a id="19205" class="Symbol">:</a> <a id="19207" class="Symbol">∀</a> <a id="19209" href="Demos.HSP.html#19209" class="Bound">a</a> <a id="19211" class="Symbol">→</a> <a id="19213" class="Symbol">(</a><a id="19214" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19216" href="Demos.HSP.html#18969" class="Function">FromLiftˡ</a> <a id="19226" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19228" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="19232" class="Symbol">(</a><a id="19233" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19235" href="Demos.HSP.html#18840" class="Function">ToLiftˡ</a> <a id="19243" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19245" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="19249" href="Demos.HSP.html#19209" class="Bound">a</a><a id="19250" class="Symbol">))</a> <a id="19253" href="Demos.HSP.html#18640" class="Function Operator">≈₁</a> <a id="19256" href="Demos.HSP.html#19209" class="Bound">a</a>
 <a id="19259" href="Demos.HSP.html#19193" class="Function">FromToLiftˡ</a> <a id="19271" href="Demos.HSP.html#19271" class="Bound">a</a> <a id="19273" class="Symbol">=</a> <a id="19275" href="Demos.HSP.html#18655" class="Function">refl₁</a>


 <a id="19284" href="Demos.HSP.html#19284" class="Function">ToLiftʳ</a> <a id="19292" class="Symbol">:</a> <a id="19294" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="19298" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="19300" class="Symbol">(</a><a id="19301" href="Demos.HSP.html#12513" class="Function">Lift-Algʳ</a> <a id="19311" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="19313" href="Demos.HSP.html#18521" class="Bound">ℓ</a><a id="19314" class="Symbol">)</a>
 <a id="19317" href="Demos.HSP.html#19284" class="Function">ToLiftʳ</a> <a id="19325" class="Symbol">=</a> <a id="19327" class="Keyword">record</a> <a id="19334" class="Symbol">{</a> <a id="19336" href="Function.Bundles.html#1919" class="Field">f</a> <a id="19338" class="Symbol">=</a> <a id="19340" href="Function.Base.html#615" class="Function">id</a> <a id="19343" class="Symbol">;</a> <a id="19345" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="19350" class="Symbol">=</a> <a id="19352" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="19357" class="Symbol">}</a>
         <a id="19368" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19370" class="Keyword">record</a> <a id="19377" class="Symbol">{</a> <a id="19379" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="19390" class="Symbol">=</a> <a id="19392" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="19397" class="Symbol">(</a><a id="19398" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="19408" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a><a id="19414" class="Symbol">)</a> <a id="19416" class="Symbol">}</a>

 <a id="19420" href="Demos.HSP.html#19420" class="Function">FromLiftʳ</a> <a id="19430" class="Symbol">:</a> <a id="19432" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="19436" class="Symbol">(</a><a id="19437" href="Demos.HSP.html#12513" class="Function">Lift-Algʳ</a> <a id="19447" href="Demos.HSP.html#18503" class="Bound">𝑨</a> <a id="19449" href="Demos.HSP.html#18521" class="Bound">ℓ</a><a id="19450" class="Symbol">)</a> <a id="19452" href="Demos.HSP.html#18503" class="Bound">𝑨</a>
 <a id="19455" href="Demos.HSP.html#19420" class="Function">FromLiftʳ</a> <a id="19465" class="Symbol">=</a> <a id="19467" class="Keyword">record</a> <a id="19474" class="Symbol">{</a> <a id="19476" href="Function.Bundles.html#1919" class="Field">f</a> <a id="19478" class="Symbol">=</a> <a id="19480" href="Function.Base.html#615" class="Function">id</a> <a id="19483" class="Symbol">;</a> <a id="19485" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="19490" class="Symbol">=</a> <a id="19492" href="Level.html#470" class="Field">lower</a> <a id="19498" class="Symbol">}</a>
           <a id="19511" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19513" class="Keyword">record</a> <a id="19520" class="Symbol">{</a> <a id="19522" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="19533" class="Symbol">=</a> <a id="19535" href="Demos.HSP.html#18738" class="Function">reflˡ</a> <a id="19541" class="Symbol">}</a>

 <a id="19545" href="Demos.HSP.html#19545" class="Function">ToFromLiftʳ</a> <a id="19557" class="Symbol">:</a> <a id="19559" class="Symbol">∀</a> <a id="19561" href="Demos.HSP.html#19561" class="Bound">b</a> <a id="19563" class="Symbol">→</a> <a id="19565" class="Symbol">(</a><a id="19566" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19568" href="Demos.HSP.html#19284" class="Function">ToLiftʳ</a> <a id="19576" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19578" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="19582" class="Symbol">(</a><a id="19583" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19585" href="Demos.HSP.html#19420" class="Function">FromLiftʳ</a> <a id="19595" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19597" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="19601" href="Demos.HSP.html#19561" class="Bound">b</a><a id="19602" class="Symbol">))</a> <a id="19605" href="Demos.HSP.html#18804" class="Function Operator">≈ʳ</a> <a id="19608" href="Demos.HSP.html#19561" class="Bound">b</a>
 <a id="19611" href="Demos.HSP.html#19545" class="Function">ToFromLiftʳ</a> <a id="19623" href="Demos.HSP.html#19623" class="Bound">b</a> <a id="19625" class="Symbol">=</a> <a id="19627" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="19632" href="Demos.HSP.html#18655" class="Function">refl₁</a>

 <a id="19640" href="Demos.HSP.html#19640" class="Function">FromToLiftʳ</a> <a id="19652" class="Symbol">:</a> <a id="19654" class="Symbol">∀</a> <a id="19656" href="Demos.HSP.html#19656" class="Bound">a</a> <a id="19658" class="Symbol">→</a> <a id="19660" class="Symbol">(</a><a id="19661" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19663" href="Demos.HSP.html#19420" class="Function">FromLiftʳ</a> <a id="19673" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19675" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="19679" class="Symbol">(</a><a id="19680" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19682" href="Demos.HSP.html#19284" class="Function">ToLiftʳ</a> <a id="19690" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="19692" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="19696" href="Demos.HSP.html#19656" class="Bound">a</a><a id="19697" class="Symbol">))</a> <a id="19700" href="Demos.HSP.html#18640" class="Function Operator">≈₁</a> <a id="19703" href="Demos.HSP.html#19656" class="Bound">a</a>
 <a id="19706" href="Demos.HSP.html#19640" class="Function">FromToLiftʳ</a> <a id="19718" href="Demos.HSP.html#19718" class="Bound">a</a> <a id="19720" class="Symbol">=</a> <a id="19722" href="Demos.HSP.html#18655" class="Function">refl₁</a>


<a id="19730" class="Keyword">module</a> <a id="19737" href="Demos.HSP.html#19737" class="Module">_</a> <a id="19739" class="Symbol">{</a><a id="19740" href="Demos.HSP.html#19740" class="Bound">𝑨</a> <a id="19742" class="Symbol">:</a> <a id="19744" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="19752" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="19754" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="19756" class="Symbol">}{</a><a id="19758" href="Demos.HSP.html#19758" class="Bound">ℓ</a> <a id="19760" href="Demos.HSP.html#19760" class="Bound">r</a> <a id="19762" class="Symbol">:</a> <a id="19764" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="19769" class="Symbol">}</a> <a id="19771" class="Keyword">where</a>
 <a id="19778" class="Keyword">open</a> <a id="19783" href="Level.html" class="Module">Level</a>
 <a id="19790" class="Keyword">open</a> <a id="19795" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="19802" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="19805" href="Demos.HSP.html#19740" class="Bound">𝑨</a> <a id="19807" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="19809" class="Keyword">using</a> <a id="19815" class="Symbol">(</a><a id="19816" href="Relation.Binary.Structures.html#1568" class="Function">refl</a><a id="19820" class="Symbol">)</a>
 <a id="19823" class="Keyword">open</a> <a id="19828" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="19835" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="19838" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="19847" href="Demos.HSP.html#19740" class="Bound">𝑨</a> <a id="19849" href="Demos.HSP.html#19758" class="Bound">ℓ</a> <a id="19851" href="Demos.HSP.html#19760" class="Bound">r</a> <a id="19853" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="19855" class="Keyword">using</a> <a id="19861" class="Symbol">(</a> <a id="19863" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="19867" class="Symbol">)</a>

 <a id="19871" href="Demos.HSP.html#19871" class="Function">ToLift</a> <a id="19878" class="Symbol">:</a> <a id="19880" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="19884" href="Demos.HSP.html#19740" class="Bound">𝑨</a> <a id="19886" class="Symbol">(</a><a id="19887" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="19896" href="Demos.HSP.html#19740" class="Bound">𝑨</a> <a id="19898" href="Demos.HSP.html#19758" class="Bound">ℓ</a> <a id="19900" href="Demos.HSP.html#19760" class="Bound">r</a><a id="19901" class="Symbol">)</a>
 <a id="19904" href="Demos.HSP.html#19871" class="Function">ToLift</a> <a id="19911" class="Symbol">=</a> <a id="19913" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="19919" href="Demos.HSP.html#18840" class="Function">ToLiftˡ</a> <a id="19927" href="Demos.HSP.html#19284" class="Function">ToLiftʳ</a>

 <a id="19937" href="Demos.HSP.html#19937" class="Function">FromLift</a> <a id="19946" class="Symbol">:</a> <a id="19948" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="19952" class="Symbol">(</a><a id="19953" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="19962" href="Demos.HSP.html#19740" class="Bound">𝑨</a> <a id="19964" href="Demos.HSP.html#19758" class="Bound">ℓ</a> <a id="19966" href="Demos.HSP.html#19760" class="Bound">r</a><a id="19967" class="Symbol">)</a> <a id="19969" href="Demos.HSP.html#19740" class="Bound">𝑨</a>
 <a id="19972" href="Demos.HSP.html#19937" class="Function">FromLift</a> <a id="19981" class="Symbol">=</a> <a id="19983" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="19989" href="Demos.HSP.html#19420" class="Function">FromLiftʳ</a> <a id="19999" href="Demos.HSP.html#18969" class="Function">FromLiftˡ</a>

 <a id="20011" href="Demos.HSP.html#20011" class="Function">ToFromLift</a> <a id="20022" class="Symbol">:</a> <a id="20024" class="Symbol">∀</a> <a id="20026" href="Demos.HSP.html#20026" class="Bound">b</a> <a id="20028" class="Symbol">→</a> <a id="20030" class="Symbol">(</a><a id="20031" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="20033" href="Demos.HSP.html#19871" class="Function">ToLift</a> <a id="20040" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="20042" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="20046" class="Symbol">(</a><a id="20047" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="20049" href="Demos.HSP.html#19937" class="Function">FromLift</a> <a id="20058" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="20060" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="20064" href="Demos.HSP.html#20026" class="Bound">b</a><a id="20065" class="Symbol">))</a> <a id="20068" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="20070" href="Demos.HSP.html#20026" class="Bound">b</a>
 <a id="20073" href="Demos.HSP.html#20011" class="Function">ToFromLift</a> <a id="20084" href="Demos.HSP.html#20084" class="Bound">b</a> <a id="20086" class="Symbol">=</a> <a id="20088" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="20093" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>


 <a id="20101" href="Demos.HSP.html#20101" class="Function">ToLift-epi</a> <a id="20112" class="Symbol">:</a> <a id="20114" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="20118" href="Demos.HSP.html#19740" class="Bound">𝑨</a> <a id="20120" class="Symbol">(</a><a id="20121" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="20130" href="Demos.HSP.html#19740" class="Bound">𝑨</a> <a id="20132" href="Demos.HSP.html#19758" class="Bound">ℓ</a> <a id="20134" href="Demos.HSP.html#19760" class="Bound">r</a><a id="20135" class="Symbol">)</a>
 <a id="20138" href="Demos.HSP.html#20101" class="Function">ToLift-epi</a> <a id="20149" class="Symbol">=</a> <a id="20151" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="20153" href="Demos.HSP.html#19871" class="Function">ToLift</a> <a id="20160" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="20162" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20164" class="Symbol">(</a><a id="20165" class="Keyword">record</a> <a id="20172" class="Symbol">{</a> <a id="20174" href="Demos.HSP.html#15615" class="Field">isHom</a> <a id="20180" class="Symbol">=</a> <a id="20182" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="20184" href="Demos.HSP.html#19871" class="Function">ToLift</a> <a id="20191" href="Demos.HSP.html#2515" class="Function Operator">∥</a>
                           <a id="20220" class="Symbol">;</a> <a id="20222" href="Demos.HSP.html#15634" class="Field">isSurjective</a> <a id="20235" class="Symbol">=</a> <a id="20237" class="Symbol">λ</a> <a id="20239" class="Symbol">{</a><a id="20240" href="Demos.HSP.html#20240" class="Bound">y</a><a id="20241" class="Symbol">}</a> <a id="20243" class="Symbol">→</a> <a id="20245" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="20248" class="Symbol">(</a><a id="20249" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="20251" href="Demos.HSP.html#19937" class="Function">FromLift</a> <a id="20260" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="20262" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="20266" href="Demos.HSP.html#20240" class="Bound">y</a><a id="20267" class="Symbol">)</a> <a id="20269" class="Symbol">(</a><a id="20270" href="Demos.HSP.html#20011" class="Function">ToFromLift</a> <a id="20281" href="Demos.HSP.html#20240" class="Bound">y</a><a id="20282" class="Symbol">)</a> <a id="20284" class="Symbol">})</a>

</pre>



### <a id="homomorphisms-of-product-algebras">Homomorphisms of product algebras</a>

(cf. the [Homomorphisms.Func.Products][] module of the [Agda Universal Algebra Library][].)


Suppose we have an algebra `𝑨`, a type `I : Type 𝓘`, and a family `ℬ : I → Algebra β 𝑆` of algebras.  We sometimes refer to the inhabitants of `I` as *indices*, and call `ℬ` an *indexed family of algebras*.

If in addition we have a family `𝒽 : (i : I) → hom 𝑨 (ℬ i)` of homomorphisms, then we can construct a homomorphism from `𝑨` to the product `⨅ ℬ` in the natural way.

<pre class="Agda">

<a id="20869" class="Keyword">module</a> <a id="20876" href="Demos.HSP.html#20876" class="Module">_</a> <a id="20878" class="Symbol">{</a><a id="20879" href="Demos.HSP.html#20879" class="Bound">ι</a> <a id="20881" class="Symbol">:</a> <a id="20883" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="20888" class="Symbol">}{</a><a id="20890" href="Demos.HSP.html#20890" class="Bound">I</a> <a id="20892" class="Symbol">:</a> <a id="20894" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="20899" href="Demos.HSP.html#20879" class="Bound">ι</a><a id="20900" class="Symbol">}{</a><a id="20902" href="Demos.HSP.html#20902" class="Bound">𝑨</a> <a id="20904" class="Symbol">:</a> <a id="20906" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="20914" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="20916" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="20918" class="Symbol">}(</a><a id="20920" href="Demos.HSP.html#20920" class="Bound">ℬ</a> <a id="20922" class="Symbol">:</a> <a id="20924" href="Demos.HSP.html#20890" class="Bound">I</a> <a id="20926" class="Symbol">→</a> <a id="20928" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="20936" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="20938" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="20940" class="Symbol">)</a>  <a id="20943" class="Keyword">where</a>
 <a id="20950" class="Keyword">open</a> <a id="20955" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="20963" href="Demos.HSP.html#20902" class="Bound">𝑨</a> <a id="20965" class="Keyword">using</a> <a id="20971" class="Symbol">()</a> <a id="20974" class="Keyword">renaming</a> <a id="20983" class="Symbol">(</a> <a id="20985" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="20992" class="Symbol">to</a> <a id="20995" class="Field">A</a> <a id="20997" class="Symbol">)</a>
 <a id="21000" class="Keyword">open</a> <a id="21005" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="21012" href="Demos.HSP.html#20995" class="Function">A</a> <a id="21014" class="Keyword">using</a> <a id="21020" class="Symbol">(</a> <a id="21022" class="Symbol">)</a> <a id="21024" class="Keyword">renaming</a> <a id="21033" class="Symbol">(</a> <a id="21035" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="21040" class="Symbol">to</a> <a id="21043" class="Function">refl₁</a> <a id="21049" class="Symbol">)</a>
 <a id="21052" class="Keyword">open</a> <a id="21057" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="21065" class="Symbol">(</a><a id="21066" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="21068" href="Demos.HSP.html#20920" class="Bound">ℬ</a><a id="21069" class="Symbol">)</a> <a id="21071" class="Keyword">using</a> <a id="21077" class="Symbol">()</a> <a id="21080" class="Keyword">renaming</a> <a id="21089" class="Symbol">(</a> <a id="21091" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="21098" class="Symbol">to</a> <a id="21101" class="Field">⨅B</a> <a id="21104" class="Symbol">)</a>
 <a id="21107" class="Keyword">open</a> <a id="21112" href="Function.Bundles.html#1868" class="Module">Func</a> <a id="21117" class="Keyword">using</a> <a id="21123" class="Symbol">(</a> <a id="21125" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="21130" class="Symbol">)</a> <a id="21132" class="Keyword">renaming</a> <a id="21141" class="Symbol">(</a> <a id="21143" href="Function.Bundles.html#1919" class="Field">f</a> <a id="21145" class="Symbol">to</a> <a id="21148" class="Field">_⟨$⟩_</a> <a id="21154" class="Symbol">)</a>
 <a id="21157" class="Keyword">open</a> <a id="21162" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="21169" class="Keyword">using</a> <a id="21175" class="Symbol">(</a> <a id="21177" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="21182" class="Symbol">)</a>
 <a id="21185" class="Keyword">open</a> <a id="21190" href="Demos.HSP.html#14989" class="Module">IsHom</a>
 <a id="21197" href="Demos.HSP.html#21197" class="Function">⨅-hom-co</a> <a id="21206" class="Symbol">:</a> <a id="21208" class="Symbol">(∀(</a><a id="21211" href="Demos.HSP.html#21211" class="Bound">i</a> <a id="21213" class="Symbol">:</a> <a id="21215" href="Demos.HSP.html#20890" class="Bound">I</a><a id="21216" class="Symbol">)</a> <a id="21218" class="Symbol">→</a> <a id="21220" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="21224" href="Demos.HSP.html#20902" class="Bound">𝑨</a> <a id="21226" class="Symbol">(</a><a id="21227" href="Demos.HSP.html#20920" class="Bound">ℬ</a> <a id="21229" href="Demos.HSP.html#21211" class="Bound">i</a><a id="21230" class="Symbol">))</a> <a id="21233" class="Symbol">→</a> <a id="21235" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="21239" href="Demos.HSP.html#20902" class="Bound">𝑨</a> <a id="21241" class="Symbol">(</a><a id="21242" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="21244" href="Demos.HSP.html#20920" class="Bound">ℬ</a><a id="21245" class="Symbol">)</a>
 <a id="21248" href="Demos.HSP.html#21197" class="Function">⨅-hom-co</a> <a id="21257" href="Demos.HSP.html#21257" class="Bound">𝒽</a> <a id="21259" class="Symbol">=</a> <a id="21261" href="Demos.HSP.html#21280" class="Function">h</a> <a id="21263" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21265" href="Demos.HSP.html#21359" class="Function">hhom</a>
  <a id="21272" class="Keyword">where</a>
  <a id="21280" href="Demos.HSP.html#21280" class="Function">h</a> <a id="21282" class="Symbol">:</a> <a id="21284" href="Demos.HSP.html#20995" class="Function">A</a> <a id="21286" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="21288" href="Demos.HSP.html#21101" class="Function">⨅B</a>
  <a id="21293" href="Demos.HSP.html#21148" class="Field Operator">_⟨$⟩_</a> <a id="21299" href="Demos.HSP.html#21280" class="Function">h</a> <a id="21301" class="Symbol">=</a> <a id="21303" class="Symbol">λ</a> <a id="21305" href="Demos.HSP.html#21305" class="Bound">a</a> <a id="21307" href="Demos.HSP.html#21307" class="Bound">i</a> <a id="21309" class="Symbol">→</a> <a id="21311" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="21313" href="Demos.HSP.html#21257" class="Bound">𝒽</a> <a id="21315" href="Demos.HSP.html#21307" class="Bound">i</a> <a id="21317" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="21319" href="Demos.HSP.html#21148" class="Field Operator">⟨$⟩</a> <a id="21323" href="Demos.HSP.html#21305" class="Bound">a</a>
  <a id="21327" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="21332" href="Demos.HSP.html#21280" class="Function">h</a> <a id="21334" href="Demos.HSP.html#21334" class="Bound">xy</a> <a id="21337" href="Demos.HSP.html#21337" class="Bound">i</a> <a id="21339" class="Symbol">=</a> <a id="21341" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="21346" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="21348" href="Demos.HSP.html#21257" class="Bound">𝒽</a> <a id="21350" href="Demos.HSP.html#21337" class="Bound">i</a> <a id="21352" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="21354" href="Demos.HSP.html#21334" class="Bound">xy</a>
  <a id="21359" href="Demos.HSP.html#21359" class="Function">hhom</a> <a id="21364" class="Symbol">:</a> <a id="21366" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="21372" href="Demos.HSP.html#20902" class="Bound">𝑨</a> <a id="21374" class="Symbol">(</a><a id="21375" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="21377" href="Demos.HSP.html#20920" class="Bound">ℬ</a><a id="21378" class="Symbol">)</a> <a id="21380" href="Demos.HSP.html#21280" class="Function">h</a>
  <a id="21384" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="21395" href="Demos.HSP.html#21359" class="Function">hhom</a> <a id="21400" class="Symbol">=</a> <a id="21402" class="Symbol">λ</a> <a id="21404" href="Demos.HSP.html#21404" class="Bound">i</a> <a id="21406" class="Symbol">→</a> <a id="21408" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="21419" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="21421" href="Demos.HSP.html#21257" class="Bound">𝒽</a> <a id="21423" href="Demos.HSP.html#21404" class="Bound">i</a> <a id="21425" href="Demos.HSP.html#2515" class="Function Operator">∥</a>


</pre>



### <a id="factorization-of-homomorphisms">Factorization of homomorphisms</a>

(cf. the [Homomorphisms.Func.Factor][] module of the [Agda Universal Algebra Library][].)


If `g : hom 𝑨 𝑩`, `h : hom 𝑨 𝑪`, `h` is surjective, and `ker h ⊆ ker g`, then there exists `φ : hom 𝑪 𝑩` such that `g = φ ∘ h` so the following diagram commutes:

```
𝑨 --- h -->> 𝑪
 \         .
  \       .
   g     φ
    \   .
     \ .
      V
      𝑩
```

We will prove this in case h is both surjective and injective.

<pre class="Agda">

<a id="21950" class="Keyword">module</a> <a id="21957" href="Demos.HSP.html#21957" class="Module">_</a> <a id="21959" class="Symbol">{</a><a id="21960" href="Demos.HSP.html#21960" class="Bound">𝑨</a> <a id="21962" class="Symbol">:</a> <a id="21964" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="21972" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="21974" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="21976" class="Symbol">}</a>
         <a id="21987" class="Symbol">(</a><a id="21988" href="Demos.HSP.html#21988" class="Bound">𝑩</a> <a id="21990" class="Symbol">:</a> <a id="21992" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="22000" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="22002" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="22004" class="Symbol">)</a>
         <a id="22015" class="Symbol">{</a><a id="22016" href="Demos.HSP.html#22016" class="Bound">𝑪</a> <a id="22018" class="Symbol">:</a> <a id="22020" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="22028" href="Demos.HSP.html#1511" class="Generalizable">γ</a> <a id="22030" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a><a id="22032" class="Symbol">}</a>
         <a id="22043" class="Symbol">(</a><a id="22044" href="Demos.HSP.html#22044" class="Bound">gh</a> <a id="22047" class="Symbol">:</a> <a id="22049" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="22053" href="Demos.HSP.html#21960" class="Bound">𝑨</a> <a id="22055" href="Demos.HSP.html#21988" class="Bound">𝑩</a><a id="22056" class="Symbol">)(</a><a id="22058" href="Demos.HSP.html#22058" class="Bound">hh</a> <a id="22061" class="Symbol">:</a> <a id="22063" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="22067" href="Demos.HSP.html#21960" class="Bound">𝑨</a> <a id="22069" href="Demos.HSP.html#22016" class="Bound">𝑪</a><a id="22070" class="Symbol">)</a> <a id="22072" class="Keyword">where</a>

 <a id="22080" class="Keyword">open</a> <a id="22085" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="22093" href="Demos.HSP.html#21988" class="Bound">𝑩</a> <a id="22095" class="Keyword">using</a> <a id="22101" class="Symbol">()</a> <a id="22104" class="Keyword">renaming</a> <a id="22113" class="Symbol">(</a><a id="22114" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="22121" class="Symbol">to</a> <a id="22124" class="Field">B</a> <a id="22126" class="Symbol">)</a>
 <a id="22129" class="Keyword">open</a> <a id="22134" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="22142" href="Demos.HSP.html#22016" class="Bound">𝑪</a> <a id="22144" class="Keyword">using</a> <a id="22150" class="Symbol">(</a> <a id="22152" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="22159" class="Symbol">)</a> <a id="22161" class="Keyword">renaming</a> <a id="22170" class="Symbol">(</a><a id="22171" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="22178" class="Symbol">to</a> <a id="22181" class="Field">C</a> <a id="22183" class="Symbol">)</a>
 <a id="22186" class="Keyword">open</a> <a id="22191" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="22198" href="Demos.HSP.html#22124" class="Function">B</a> <a id="22200" class="Keyword">using</a> <a id="22206" class="Symbol">()</a> <a id="22209" class="Keyword">renaming</a> <a id="22218" class="Symbol">(</a> <a id="22220" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="22224" class="Symbol">to</a> <a id="22227" class="Field Operator">_≈₂_</a> <a id="22232" class="Symbol">;</a> <a id="22234" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="22238" class="Symbol">to</a> <a id="22241" class="Function">sym₂</a> <a id="22246" class="Symbol">)</a>
 <a id="22249" class="Keyword">open</a> <a id="22254" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="22261" href="Demos.HSP.html#22181" class="Function">C</a> <a id="22263" class="Keyword">using</a> <a id="22269" class="Symbol">(</a> <a id="22271" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="22277" class="Symbol">)</a> <a id="22279" class="Keyword">renaming</a> <a id="22288" class="Symbol">(</a> <a id="22290" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="22294" class="Symbol">to</a> <a id="22297" class="Field Operator">_≈₃_</a> <a id="22302" class="Symbol">;</a> <a id="22304" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="22308" class="Symbol">to</a> <a id="22311" class="Function">sym₃</a> <a id="22316" class="Symbol">)</a>
 <a id="22319" class="Keyword">open</a> <a id="22324" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="22340" href="Demos.HSP.html#22124" class="Function">B</a>
 <a id="22343" class="Keyword">open</a> <a id="22348" href="Function.Bundles.html#1868" class="Module">Func</a> <a id="22353" class="Keyword">using</a> <a id="22359" class="Symbol">(</a> <a id="22361" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="22366" class="Symbol">)</a> <a id="22368" class="Keyword">renaming</a> <a id="22377" class="Symbol">(</a><a id="22378" href="Function.Bundles.html#1919" class="Field">f</a> <a id="22380" class="Symbol">to</a> <a id="22383" class="Field">_⟨$⟩_</a> <a id="22389" class="Symbol">)</a>

 <a id="22393" class="Keyword">private</a>
  <a id="22403" href="Demos.HSP.html#22403" class="Function">gfunc</a> <a id="22409" class="Symbol">=</a> <a id="22411" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="22413" href="Demos.HSP.html#22044" class="Bound">gh</a> <a id="22416" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="22420" href="Demos.HSP.html#22420" class="Function">hfunc</a> <a id="22426" class="Symbol">=</a> <a id="22428" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="22430" href="Demos.HSP.html#22058" class="Bound">hh</a> <a id="22433" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="22437" href="Demos.HSP.html#22437" class="Function">g</a> <a id="22439" class="Symbol">=</a> <a id="22441" href="Demos.HSP.html#22383" class="Field Operator">_⟨$⟩_</a> <a id="22447" href="Demos.HSP.html#22403" class="Function">gfunc</a>
  <a id="22455" href="Demos.HSP.html#22455" class="Function">h</a> <a id="22457" class="Symbol">=</a> <a id="22459" href="Demos.HSP.html#22383" class="Field Operator">_⟨$⟩_</a> <a id="22465" href="Demos.HSP.html#22420" class="Function">hfunc</a>

 <a id="22473" class="Keyword">open</a> <a id="22478" href="Demos.HSP.html#14989" class="Module">IsHom</a>
 <a id="22485" class="Keyword">open</a> <a id="22490" href="Demos.HSP.html#3497" class="Module Operator">Image_∋_</a>

 <a id="22501" href="Demos.HSP.html#22501" class="Function">HomFactor</a> <a id="22511" class="Symbol">:</a> <a id="22513" href="Demos.HSP.html#8299" class="Function">kernel</a> <a id="22520" href="Demos.HSP.html#22297" class="Function Operator">_≈₃_</a> <a id="22525" href="Demos.HSP.html#22455" class="Function">h</a> <a id="22527" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="22529" href="Demos.HSP.html#8299" class="Function">kernel</a> <a id="22536" href="Demos.HSP.html#22227" class="Function Operator">_≈₂_</a> <a id="22541" href="Demos.HSP.html#22437" class="Function">g</a> <a id="22543" class="Symbol">→</a> <a id="22545" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="22558" href="Demos.HSP.html#22420" class="Function">hfunc</a>
             <a id="22577" class="Comment">----------------------------------------------------</a>
  <a id="22632" class="Symbol">→</a>          <a id="22643" href="Data.Product.html#916" class="Function">Σ[</a> <a id="22646" href="Demos.HSP.html#22646" class="Bound">φ</a> <a id="22648" href="Data.Product.html#916" class="Function">∈</a> <a id="22650" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="22654" href="Demos.HSP.html#22016" class="Bound">𝑪</a> <a id="22656" href="Demos.HSP.html#21988" class="Bound">𝑩</a> <a id="22658" href="Data.Product.html#916" class="Function">]</a> <a id="22660" class="Symbol">∀</a> <a id="22662" href="Demos.HSP.html#22662" class="Bound">a</a> <a id="22664" class="Symbol">→</a> <a id="22666" class="Symbol">(</a><a id="22667" href="Demos.HSP.html#22437" class="Function">g</a> <a id="22669" href="Demos.HSP.html#22662" class="Bound">a</a><a id="22670" class="Symbol">)</a> <a id="22672" href="Demos.HSP.html#22227" class="Function Operator">≈₂</a> <a id="22675" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="22677" href="Demos.HSP.html#22646" class="Bound">φ</a> <a id="22679" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="22681" href="Demos.HSP.html#22383" class="Field Operator">⟨$⟩</a> <a id="22685" class="Symbol">(</a><a id="22686" href="Demos.HSP.html#22455" class="Function">h</a> <a id="22688" href="Demos.HSP.html#22662" class="Bound">a</a><a id="22689" class="Symbol">)</a>

 <a id="22693" href="Demos.HSP.html#22501" class="Function">HomFactor</a> <a id="22703" href="Demos.HSP.html#22703" class="Bound">Khg</a> <a id="22707" href="Demos.HSP.html#22707" class="Bound">hE</a> <a id="22710" class="Symbol">=</a> <a id="22712" class="Symbol">(</a><a id="22713" href="Demos.HSP.html#23071" class="Function">φmap</a> <a id="22718" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="22720" href="Demos.HSP.html#23635" class="Function">φhom</a><a id="22724" class="Symbol">)</a> <a id="22726" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="22728" href="Demos.HSP.html#23137" class="Function">gφh</a>
  <a id="22734" class="Keyword">where</a>
  <a id="22742" href="Demos.HSP.html#22742" class="Function">kerpres</a> <a id="22750" class="Symbol">:</a> <a id="22752" class="Symbol">∀</a> <a id="22754" href="Demos.HSP.html#22754" class="Bound">a₀</a> <a id="22757" href="Demos.HSP.html#22757" class="Bound">a₁</a> <a id="22760" class="Symbol">→</a> <a id="22762" href="Demos.HSP.html#22455" class="Function">h</a> <a id="22764" href="Demos.HSP.html#22754" class="Bound">a₀</a> <a id="22767" href="Demos.HSP.html#22297" class="Function Operator">≈₃</a> <a id="22770" href="Demos.HSP.html#22455" class="Function">h</a> <a id="22772" href="Demos.HSP.html#22757" class="Bound">a₁</a> <a id="22775" class="Symbol">→</a> <a id="22777" href="Demos.HSP.html#22437" class="Function">g</a> <a id="22779" href="Demos.HSP.html#22754" class="Bound">a₀</a> <a id="22782" href="Demos.HSP.html#22227" class="Function Operator">≈₂</a> <a id="22785" href="Demos.HSP.html#22437" class="Function">g</a> <a id="22787" href="Demos.HSP.html#22757" class="Bound">a₁</a>
  <a id="22792" href="Demos.HSP.html#22742" class="Function">kerpres</a> <a id="22800" href="Demos.HSP.html#22800" class="Bound">a₀</a> <a id="22803" href="Demos.HSP.html#22803" class="Bound">a₁</a> <a id="22806" href="Demos.HSP.html#22806" class="Bound">hyp</a> <a id="22810" class="Symbol">=</a> <a id="22812" href="Demos.HSP.html#22703" class="Bound">Khg</a> <a id="22816" href="Demos.HSP.html#22806" class="Bound">hyp</a>

  <a id="22823" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="22827" class="Symbol">:</a> <a id="22829" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="22832" href="Demos.HSP.html#22016" class="Bound">𝑪</a> <a id="22834" href="Demos.HSP.html#11032" class="Function Operator">]</a> <a id="22836" class="Symbol">→</a> <a id="22838" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="22841" href="Demos.HSP.html#21960" class="Bound">𝑨</a> <a id="22843" href="Demos.HSP.html#11032" class="Function Operator">]</a>
  <a id="22847" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="22851" class="Symbol">=</a> <a id="22853" href="Demos.HSP.html#6815" class="Function">SurjInv</a> <a id="22861" href="Demos.HSP.html#22420" class="Function">hfunc</a> <a id="22867" href="Demos.HSP.html#22707" class="Bound">hE</a>

  <a id="22873" href="Demos.HSP.html#22873" class="Function">η</a> <a id="22875" class="Symbol">:</a> <a id="22877" class="Symbol">∀</a> <a id="22879" class="Symbol">{</a><a id="22880" href="Demos.HSP.html#22880" class="Bound">c</a><a id="22881" class="Symbol">}</a> <a id="22883" class="Symbol">→</a> <a id="22885" href="Demos.HSP.html#22455" class="Function">h</a> <a id="22887" class="Symbol">(</a><a id="22888" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="22892" href="Demos.HSP.html#22880" class="Bound">c</a><a id="22893" class="Symbol">)</a> <a id="22895" href="Demos.HSP.html#22297" class="Function Operator">≈₃</a> <a id="22898" href="Demos.HSP.html#22880" class="Bound">c</a>
  <a id="22902" href="Demos.HSP.html#22873" class="Function">η</a> <a id="22904" class="Symbol">=</a> <a id="22906" href="Demos.HSP.html#7089" class="Function">SurjInvIsInverseʳ</a> <a id="22924" href="Demos.HSP.html#22420" class="Function">hfunc</a> <a id="22930" href="Demos.HSP.html#22707" class="Bound">hE</a>

  <a id="22936" href="Demos.HSP.html#22936" class="Function">ξ</a> <a id="22938" class="Symbol">:</a> <a id="22940" class="Symbol">∀</a> <a id="22942" class="Symbol">{</a><a id="22943" href="Demos.HSP.html#22943" class="Bound">a</a><a id="22944" class="Symbol">}</a> <a id="22946" class="Symbol">→</a> <a id="22948" href="Demos.HSP.html#22455" class="Function">h</a> <a id="22950" href="Demos.HSP.html#22943" class="Bound">a</a> <a id="22952" href="Demos.HSP.html#22297" class="Function Operator">≈₃</a> <a id="22955" href="Demos.HSP.html#22455" class="Function">h</a> <a id="22957" class="Symbol">(</a><a id="22958" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="22962" class="Symbol">(</a><a id="22963" href="Demos.HSP.html#22455" class="Function">h</a> <a id="22965" href="Demos.HSP.html#22943" class="Bound">a</a><a id="22966" class="Symbol">))</a>
  <a id="22971" href="Demos.HSP.html#22936" class="Function">ξ</a> <a id="22973" class="Symbol">=</a> <a id="22975" href="Demos.HSP.html#22311" class="Function">sym₃</a> <a id="22980" href="Demos.HSP.html#22873" class="Function">η</a>

  <a id="22985" href="Demos.HSP.html#22985" class="Function">ζ</a> <a id="22987" class="Symbol">:</a> <a id="22989" class="Symbol">∀{</a><a id="22991" href="Demos.HSP.html#22991" class="Bound">x</a> <a id="22993" href="Demos.HSP.html#22993" class="Bound">y</a><a id="22994" class="Symbol">}</a> <a id="22996" class="Symbol">→</a> <a id="22998" href="Demos.HSP.html#22991" class="Bound">x</a> <a id="23000" href="Demos.HSP.html#22297" class="Function Operator">≈₃</a> <a id="23003" href="Demos.HSP.html#22993" class="Bound">y</a> <a id="23005" class="Symbol">→</a> <a id="23007" href="Demos.HSP.html#22455" class="Function">h</a> <a id="23009" class="Symbol">(</a><a id="23010" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="23014" href="Demos.HSP.html#22991" class="Bound">x</a><a id="23015" class="Symbol">)</a> <a id="23017" href="Demos.HSP.html#22297" class="Function Operator">≈₃</a> <a id="23020" href="Demos.HSP.html#22455" class="Function">h</a> <a id="23022" class="Symbol">(</a><a id="23023" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="23027" href="Demos.HSP.html#22993" class="Bound">y</a><a id="23028" class="Symbol">)</a>
  <a id="23032" href="Demos.HSP.html#22985" class="Function">ζ</a> <a id="23034" href="Demos.HSP.html#23034" class="Bound">xy</a> <a id="23037" class="Symbol">=</a> <a id="23039" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="23045" href="Demos.HSP.html#22873" class="Function">η</a> <a id="23047" class="Symbol">(</a><a id="23048" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="23054" href="Demos.HSP.html#23034" class="Bound">xy</a> <a id="23057" class="Symbol">(</a><a id="23058" href="Demos.HSP.html#22311" class="Function">sym₃</a> <a id="23063" href="Demos.HSP.html#22873" class="Function">η</a><a id="23064" class="Symbol">))</a>


  <a id="23071" href="Demos.HSP.html#23071" class="Function">φmap</a> <a id="23076" class="Symbol">:</a> <a id="23078" href="Demos.HSP.html#22181" class="Function">C</a> <a id="23080" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="23082" href="Demos.HSP.html#22124" class="Function">B</a>
  <a id="23086" href="Demos.HSP.html#22383" class="Field Operator">_⟨$⟩_</a> <a id="23092" href="Demos.HSP.html#23071" class="Function">φmap</a> <a id="23097" class="Symbol">=</a> <a id="23099" href="Demos.HSP.html#22437" class="Function">g</a> <a id="23101" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="23103" href="Demos.HSP.html#22823" class="Function">h⁻¹</a>
  <a id="23109" href="Function.Bundles.html#1938" class="Field">Func.cong</a> <a id="23119" href="Demos.HSP.html#23071" class="Function">φmap</a> <a id="23124" class="Symbol">=</a> <a id="23126" href="Demos.HSP.html#22703" class="Bound">Khg</a> <a id="23130" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="23132" href="Demos.HSP.html#22985" class="Function">ζ</a>

  <a id="23137" href="Demos.HSP.html#23137" class="Function">gφh</a> <a id="23141" class="Symbol">:</a> <a id="23143" class="Symbol">(</a><a id="23144" href="Demos.HSP.html#23144" class="Bound">a</a> <a id="23146" class="Symbol">:</a> <a id="23148" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="23151" href="Demos.HSP.html#21960" class="Bound">𝑨</a> <a id="23153" href="Demos.HSP.html#11032" class="Function Operator">]</a><a id="23154" class="Symbol">)</a> <a id="23156" class="Symbol">→</a> <a id="23158" href="Demos.HSP.html#22437" class="Function">g</a> <a id="23160" href="Demos.HSP.html#23144" class="Bound">a</a> <a id="23162" href="Demos.HSP.html#22227" class="Function Operator">≈₂</a> <a id="23165" href="Demos.HSP.html#23071" class="Function">φmap</a> <a id="23170" href="Demos.HSP.html#22383" class="Field Operator">⟨$⟩</a> <a id="23174" class="Symbol">(</a><a id="23175" href="Demos.HSP.html#22455" class="Function">h</a> <a id="23177" href="Demos.HSP.html#23144" class="Bound">a</a><a id="23178" class="Symbol">)</a>
  <a id="23182" href="Demos.HSP.html#23137" class="Function">gφh</a> <a id="23186" href="Demos.HSP.html#23186" class="Bound">a</a> <a id="23188" class="Symbol">=</a> <a id="23190" href="Demos.HSP.html#22703" class="Bound">Khg</a> <a id="23194" href="Demos.HSP.html#22936" class="Function">ξ</a>


  <a id="23200" class="Keyword">open</a> <a id="23205" href="Function.Bundles.html#1868" class="Module">Func</a> <a id="23210" href="Demos.HSP.html#23071" class="Function">φmap</a> <a id="23215" class="Keyword">using</a> <a id="23221" class="Symbol">()</a> <a id="23224" class="Keyword">renaming</a> <a id="23233" class="Symbol">(</a><a id="23234" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="23239" class="Symbol">to</a> <a id="23242" class="Field">φcong</a><a id="23247" class="Symbol">)</a>
  <a id="23251" href="Demos.HSP.html#23251" class="Function">φcomp</a> <a id="23257" class="Symbol">:</a> <a id="23259" href="Demos.HSP.html#14839" class="Function">compatible-map</a> <a id="23274" href="Demos.HSP.html#22016" class="Bound">𝑪</a> <a id="23276" href="Demos.HSP.html#21988" class="Bound">𝑩</a> <a id="23278" href="Demos.HSP.html#23071" class="Function">φmap</a>
  <a id="23285" href="Demos.HSP.html#23251" class="Function">φcomp</a> <a id="23291" class="Symbol">{</a><a id="23292" href="Demos.HSP.html#23292" class="Bound">f</a><a id="23293" class="Symbol">}{</a><a id="23295" href="Demos.HSP.html#23295" class="Bound">c</a><a id="23296" class="Symbol">}</a> <a id="23298" class="Symbol">=</a>
   <a id="23303" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="23313" href="Demos.HSP.html#23071" class="Function">φmap</a> <a id="23318" href="Demos.HSP.html#22383" class="Field Operator">⟨$⟩</a> <a id="23322" class="Symbol">((</a><a id="23324" href="Demos.HSP.html#23292" class="Bound">f</a> <a id="23326" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="23328" href="Demos.HSP.html#22016" class="Bound">𝑪</a><a id="23329" class="Symbol">)</a> <a id="23331" href="Demos.HSP.html#23295" class="Bound">c</a><a id="23332" class="Symbol">)</a>              <a id="23347" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="23351" href="Demos.HSP.html#23242" class="Function">φcong</a> <a id="23357" class="Symbol">(</a><a id="23358" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="23363" class="Symbol">(</a><a id="23364" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="23371" href="Demos.HSP.html#22016" class="Bound">𝑪</a><a id="23372" class="Symbol">)</a> <a id="23374" class="Symbol">(</a><a id="23375" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="23382" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="23384" class="Symbol">(λ</a> <a id="23387" href="Demos.HSP.html#23387" class="Bound">_</a> <a id="23389" class="Symbol">→</a> <a id="23391" href="Demos.HSP.html#22873" class="Function">η</a><a id="23392" class="Symbol">)))</a> <a id="23396" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="23402" href="Demos.HSP.html#22437" class="Function">g</a> <a id="23404" class="Symbol">(</a><a id="23405" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="23409" class="Symbol">((</a><a id="23411" href="Demos.HSP.html#23292" class="Bound">f</a> <a id="23413" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="23415" href="Demos.HSP.html#22016" class="Bound">𝑪</a><a id="23416" class="Symbol">)(</a><a id="23418" href="Demos.HSP.html#22455" class="Function">h</a> <a id="23420" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="23422" class="Symbol">(</a><a id="23423" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="23427" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="23429" href="Demos.HSP.html#23295" class="Bound">c</a><a id="23430" class="Symbol">))))</a> <a id="23435" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="23439" href="Demos.HSP.html#23242" class="Function">φcong</a> <a id="23445" class="Symbol">(</a><a id="23446" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="23457" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="23459" href="Demos.HSP.html#22058" class="Bound">hh</a> <a id="23462" href="Demos.HSP.html#2515" class="Function Operator">∥</a><a id="23463" class="Symbol">)</a> <a id="23465" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="23471" href="Demos.HSP.html#22437" class="Function">g</a> <a id="23473" class="Symbol">(</a><a id="23474" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="23478" class="Symbol">(</a><a id="23479" href="Demos.HSP.html#22455" class="Function">h</a> <a id="23481" class="Symbol">((</a><a id="23483" href="Demos.HSP.html#23292" class="Bound">f</a> <a id="23485" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="23487" href="Demos.HSP.html#21960" class="Bound">𝑨</a><a id="23488" class="Symbol">)(</a><a id="23490" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="23494" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="23496" href="Demos.HSP.html#23295" class="Bound">c</a><a id="23497" class="Symbol">))))</a>   <a id="23504" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="23508" href="Demos.HSP.html#23137" class="Function">gφh</a> <a id="23512" class="Symbol">((</a><a id="23514" href="Demos.HSP.html#23292" class="Bound">f</a> <a id="23516" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="23518" href="Demos.HSP.html#21960" class="Bound">𝑨</a><a id="23519" class="Symbol">)(</a><a id="23521" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="23525" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="23527" href="Demos.HSP.html#23295" class="Bound">c</a><a id="23528" class="Symbol">))</a> <a id="23531" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="23537" href="Demos.HSP.html#22437" class="Function">g</a> <a id="23539" class="Symbol">((</a><a id="23541" href="Demos.HSP.html#23292" class="Bound">f</a> <a id="23543" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="23545" href="Demos.HSP.html#21960" class="Bound">𝑨</a><a id="23546" class="Symbol">)(</a><a id="23548" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="23552" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="23554" href="Demos.HSP.html#23295" class="Bound">c</a><a id="23555" class="Symbol">))</a>             <a id="23570" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="23573" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="23584" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="23586" href="Demos.HSP.html#22044" class="Bound">gh</a> <a id="23589" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="23591" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="23597" class="Symbol">(</a><a id="23598" href="Demos.HSP.html#23292" class="Bound">f</a> <a id="23600" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="23602" href="Demos.HSP.html#21988" class="Bound">𝑩</a><a id="23603" class="Symbol">)(</a><a id="23605" href="Demos.HSP.html#22437" class="Function">g</a> <a id="23607" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="23609" class="Symbol">(</a><a id="23610" href="Demos.HSP.html#22823" class="Function">h⁻¹</a> <a id="23614" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="23616" href="Demos.HSP.html#23295" class="Bound">c</a><a id="23617" class="Symbol">))</a>           <a id="23630" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

  <a id="23635" href="Demos.HSP.html#23635" class="Function">φhom</a> <a id="23640" class="Symbol">:</a> <a id="23642" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="23648" href="Demos.HSP.html#22016" class="Bound">𝑪</a> <a id="23650" href="Demos.HSP.html#21988" class="Bound">𝑩</a> <a id="23652" href="Demos.HSP.html#23071" class="Function">φmap</a>
  <a id="23659" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="23670" href="Demos.HSP.html#23635" class="Function">φhom</a> <a id="23675" class="Symbol">=</a> <a id="23677" href="Demos.HSP.html#23251" class="Function">φcomp</a>

</pre>



### <a id="isomorphisms">Isomorphisms</a>

(cf. the [Homomorphisms.Func.Isomorphisms] of the [Agda Universal Algebra Library][].)

Two structures are *isomorphic* provided there are homomorphisms going back and forth between them which compose to the identity map.

<pre class="Agda">

<a id="23978" class="Keyword">module</a> <a id="23985" href="Demos.HSP.html#23985" class="Module">_</a> <a id="23987" class="Symbol">(</a><a id="23988" href="Demos.HSP.html#23988" class="Bound">𝑨</a> <a id="23990" class="Symbol">:</a> <a id="23992" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="24000" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="24002" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="24004" class="Symbol">)</a> <a id="24006" class="Symbol">(</a><a id="24007" href="Demos.HSP.html#24007" class="Bound">𝑩</a> <a id="24009" class="Symbol">:</a> <a id="24011" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="24019" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="24021" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="24023" class="Symbol">)</a> <a id="24025" class="Keyword">where</a>
 <a id="24032" class="Keyword">open</a> <a id="24037" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="24044" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="24047" href="Demos.HSP.html#23988" class="Bound">𝑨</a> <a id="24049" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="24051" class="Keyword">using</a> <a id="24057" class="Symbol">(</a> <a id="24059" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24063" class="Symbol">;</a> <a id="24065" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24071" class="Symbol">)</a> <a id="24073" class="Keyword">renaming</a> <a id="24082" class="Symbol">(</a> <a id="24084" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="24088" class="Symbol">to</a> <a id="24091" class="Field Operator">_≈₁_</a> <a id="24096" class="Symbol">)</a>
 <a id="24099" class="Keyword">open</a> <a id="24104" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="24111" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="24114" href="Demos.HSP.html#24007" class="Bound">𝑩</a> <a id="24116" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="24118" class="Keyword">using</a> <a id="24124" class="Symbol">()</a> <a id="24127" class="Keyword">renaming</a> <a id="24136" class="Symbol">(</a> <a id="24138" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="24142" class="Symbol">to</a> <a id="24145" class="Field Operator">_≈₂_</a> <a id="24150" class="Symbol">;</a> <a id="24152" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24156" class="Symbol">to</a> <a id="24159" class="Function">sym₂</a> <a id="24164" class="Symbol">;</a> <a id="24166" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24172" class="Symbol">to</a> <a id="24175" class="Function">trans₂</a><a id="24181" class="Symbol">)</a>

 <a id="24185" class="Keyword">record</a> <a id="24192" href="Demos.HSP.html#24192" class="Record Operator">_≅_</a> <a id="24196" class="Symbol">:</a> <a id="24198" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="24203" class="Symbol">(</a><a id="24204" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="24206" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="24208" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="24210" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="24212" href="Demos.HSP.html#24000" class="Bound">α</a> <a id="24214" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="24216" href="Demos.HSP.html#24019" class="Bound">β</a> <a id="24218" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="24220" href="Demos.HSP.html#24002" class="Bound">ρᵃ</a> <a id="24223" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="24225" href="Demos.HSP.html#24021" class="Bound">ρᵇ</a> <a id="24228" class="Symbol">)</a> <a id="24230" class="Keyword">where</a>
  <a id="24238" class="Keyword">constructor</a> <a id="24250" href="Demos.HSP.html#24250" class="InductiveConstructor">mkiso</a>
  <a id="24258" class="Keyword">field</a>
   <a id="24267" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24270" class="Symbol">:</a> <a id="24272" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="24276" href="Demos.HSP.html#23988" class="Bound">𝑨</a> <a id="24278" href="Demos.HSP.html#24007" class="Bound">𝑩</a>
   <a id="24283" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24288" class="Symbol">:</a> <a id="24290" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="24294" href="Demos.HSP.html#24007" class="Bound">𝑩</a> <a id="24296" href="Demos.HSP.html#23988" class="Bound">𝑨</a>
   <a id="24301" href="Demos.HSP.html#24301" class="Field">to∼from</a> <a id="24309" class="Symbol">:</a> <a id="24311" class="Symbol">∀</a> <a id="24313" href="Demos.HSP.html#24313" class="Bound">b</a> <a id="24315" class="Symbol">→</a> <a id="24317" class="Symbol">(</a><a id="24318" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24320" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24323" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24325" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24329" class="Symbol">(</a><a id="24330" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24332" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24337" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24339" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24343" href="Demos.HSP.html#24313" class="Bound">b</a><a id="24344" class="Symbol">))</a> <a id="24347" href="Demos.HSP.html#24145" class="Function Operator">≈₂</a> <a id="24350" href="Demos.HSP.html#24313" class="Bound">b</a>
   <a id="24355" href="Demos.HSP.html#24355" class="Field">from∼to</a> <a id="24363" class="Symbol">:</a> <a id="24365" class="Symbol">∀</a> <a id="24367" href="Demos.HSP.html#24367" class="Bound">a</a> <a id="24369" class="Symbol">→</a> <a id="24371" class="Symbol">(</a><a id="24372" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24374" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24379" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24381" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24385" class="Symbol">(</a><a id="24386" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24388" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24391" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24393" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24397" href="Demos.HSP.html#24367" class="Bound">a</a><a id="24398" class="Symbol">))</a> <a id="24401" href="Demos.HSP.html#24091" class="Function Operator">≈₁</a> <a id="24404" href="Demos.HSP.html#24367" class="Bound">a</a>

  <a id="24409" href="Demos.HSP.html#24409" class="Function">toIsSurjective</a> <a id="24424" class="Symbol">:</a> <a id="24426" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="24439" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24441" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24444" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="24448" href="Demos.HSP.html#24409" class="Function">toIsSurjective</a> <a id="24463" class="Symbol">{</a><a id="24464" href="Demos.HSP.html#24464" class="Bound">y</a><a id="24465" class="Symbol">}</a> <a id="24467" class="Symbol">=</a> <a id="24469" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="24472" class="Symbol">(</a><a id="24473" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24475" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24480" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24482" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24486" href="Demos.HSP.html#24464" class="Bound">y</a><a id="24487" class="Symbol">)</a> <a id="24489" class="Symbol">(</a><a id="24490" href="Demos.HSP.html#24159" class="Function">sym₂</a> <a id="24495" class="Symbol">(</a><a id="24496" href="Demos.HSP.html#24301" class="Field">to∼from</a> <a id="24504" href="Demos.HSP.html#24464" class="Bound">y</a><a id="24505" class="Symbol">))</a>

  <a id="24511" href="Demos.HSP.html#24511" class="Function">toIsInjective</a> <a id="24525" class="Symbol">:</a> <a id="24527" href="Demos.HSP.html#5232" class="Function">IsInjective</a> <a id="24539" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24541" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24544" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="24548" href="Demos.HSP.html#24511" class="Function">toIsInjective</a> <a id="24562" class="Symbol">{</a><a id="24563" href="Demos.HSP.html#24563" class="Bound">x</a><a id="24564" class="Symbol">}</a> <a id="24566" class="Symbol">{</a><a id="24567" href="Demos.HSP.html#24567" class="Bound">y</a><a id="24568" class="Symbol">}</a> <a id="24570" href="Demos.HSP.html#24570" class="Bound">xy</a> <a id="24573" class="Symbol">=</a> <a id="24575" href="Demos.HSP.html#24682" class="Function">Goal</a>
   <a id="24583" class="Keyword">where</a>
   <a id="24592" href="Demos.HSP.html#24592" class="Function">ξ</a> <a id="24594" class="Symbol">:</a> <a id="24596" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24598" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24603" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24605" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24609" class="Symbol">(</a><a id="24610" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24612" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24615" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24617" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24621" href="Demos.HSP.html#24563" class="Bound">x</a><a id="24622" class="Symbol">)</a> <a id="24624" href="Demos.HSP.html#24091" class="Function Operator">≈₁</a> <a id="24627" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24629" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24634" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24636" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24640" class="Symbol">(</a><a id="24641" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24643" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24646" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24648" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24652" href="Demos.HSP.html#24567" class="Bound">y</a><a id="24653" class="Symbol">)</a>
   <a id="24658" href="Demos.HSP.html#24592" class="Function">ξ</a> <a id="24660" class="Symbol">=</a> <a id="24662" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="24667" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24669" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24674" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24676" href="Demos.HSP.html#24570" class="Bound">xy</a>
   <a id="24682" href="Demos.HSP.html#24682" class="Function">Goal</a> <a id="24687" class="Symbol">:</a> <a id="24689" href="Demos.HSP.html#24563" class="Bound">x</a> <a id="24691" href="Demos.HSP.html#24091" class="Function Operator">≈₁</a> <a id="24694" href="Demos.HSP.html#24567" class="Bound">y</a>
   <a id="24699" href="Demos.HSP.html#24682" class="Function">Goal</a> <a id="24704" class="Symbol">=</a> <a id="24706" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24712" class="Symbol">(</a><a id="24713" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24717" class="Symbol">(</a><a id="24718" href="Demos.HSP.html#24355" class="Field">from∼to</a> <a id="24726" href="Demos.HSP.html#24563" class="Bound">x</a><a id="24727" class="Symbol">))</a> <a id="24730" class="Symbol">(</a><a id="24731" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24737" href="Demos.HSP.html#24592" class="Function">ξ</a> <a id="24739" class="Symbol">(</a><a id="24740" href="Demos.HSP.html#24355" class="Field">from∼to</a> <a id="24748" href="Demos.HSP.html#24567" class="Bound">y</a><a id="24749" class="Symbol">))</a>


  <a id="24756" href="Demos.HSP.html#24756" class="Function">fromIsSurjective</a> <a id="24773" class="Symbol">:</a> <a id="24775" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="24788" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24790" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24795" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="24799" href="Demos.HSP.html#24756" class="Function">fromIsSurjective</a> <a id="24816" class="Symbol">{</a><a id="24817" href="Demos.HSP.html#24817" class="Bound">y</a><a id="24818" class="Symbol">}</a> <a id="24820" class="Symbol">=</a> <a id="24822" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="24825" class="Symbol">(</a><a id="24826" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24828" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24831" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24833" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24837" href="Demos.HSP.html#24817" class="Bound">y</a><a id="24838" class="Symbol">)</a> <a id="24840" class="Symbol">(</a><a id="24841" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24845" class="Symbol">(</a><a id="24846" href="Demos.HSP.html#24355" class="Field">from∼to</a> <a id="24854" href="Demos.HSP.html#24817" class="Bound">y</a><a id="24855" class="Symbol">))</a>

  <a id="24861" href="Demos.HSP.html#24861" class="Function">fromIsInjective</a> <a id="24877" class="Symbol">:</a> <a id="24879" href="Demos.HSP.html#5232" class="Function">IsInjective</a> <a id="24891" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24893" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24898" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="24902" href="Demos.HSP.html#24861" class="Function">fromIsInjective</a> <a id="24918" class="Symbol">{</a><a id="24919" href="Demos.HSP.html#24919" class="Bound">x</a><a id="24920" class="Symbol">}</a> <a id="24922" class="Symbol">{</a><a id="24923" href="Demos.HSP.html#24923" class="Bound">y</a><a id="24924" class="Symbol">}</a> <a id="24926" href="Demos.HSP.html#24926" class="Bound">xy</a> <a id="24929" class="Symbol">=</a> <a id="24931" href="Demos.HSP.html#25036" class="Function">Goal</a>
   <a id="24939" class="Keyword">where</a>
   <a id="24948" href="Demos.HSP.html#24948" class="Function">ξ</a> <a id="24950" class="Symbol">:</a> <a id="24952" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24954" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24957" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24959" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24963" class="Symbol">(</a><a id="24964" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24966" href="Demos.HSP.html#24283" class="Field">from</a> <a id="24971" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24973" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24977" href="Demos.HSP.html#24919" class="Bound">x</a><a id="24978" class="Symbol">)</a> <a id="24980" href="Demos.HSP.html#24145" class="Function Operator">≈₂</a> <a id="24983" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24985" href="Demos.HSP.html#24267" class="Field">to</a> <a id="24988" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24990" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="24994" class="Symbol">(</a><a id="24995" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="24997" href="Demos.HSP.html#24283" class="Field">from</a> <a id="25002" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25004" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="25008" href="Demos.HSP.html#24923" class="Bound">y</a><a id="25009" class="Symbol">)</a>
   <a id="25014" href="Demos.HSP.html#24948" class="Function">ξ</a> <a id="25016" class="Symbol">=</a> <a id="25018" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="25023" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25025" href="Demos.HSP.html#24267" class="Field">to</a> <a id="25028" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25030" href="Demos.HSP.html#24926" class="Bound">xy</a>
   <a id="25036" href="Demos.HSP.html#25036" class="Function">Goal</a> <a id="25041" class="Symbol">:</a> <a id="25043" href="Demos.HSP.html#24919" class="Bound">x</a> <a id="25045" href="Demos.HSP.html#24145" class="Function Operator">≈₂</a> <a id="25048" href="Demos.HSP.html#24923" class="Bound">y</a>
   <a id="25053" href="Demos.HSP.html#25036" class="Function">Goal</a> <a id="25058" class="Symbol">=</a> <a id="25060" href="Demos.HSP.html#24175" class="Function">trans₂</a> <a id="25067" class="Symbol">(</a><a id="25068" href="Demos.HSP.html#24159" class="Function">sym₂</a> <a id="25073" class="Symbol">(</a><a id="25074" href="Demos.HSP.html#24301" class="Field">to∼from</a> <a id="25082" href="Demos.HSP.html#24919" class="Bound">x</a><a id="25083" class="Symbol">))</a> <a id="25086" class="Symbol">(</a><a id="25087" href="Demos.HSP.html#24175" class="Function">trans₂</a> <a id="25094" href="Demos.HSP.html#24948" class="Function">ξ</a> <a id="25096" class="Symbol">(</a><a id="25097" href="Demos.HSP.html#24301" class="Field">to∼from</a> <a id="25105" href="Demos.HSP.html#24923" class="Bound">y</a><a id="25106" class="Symbol">))</a>



</pre>


#### <a id="properties-of-isomorphisms">Properties of isomorphisms</a>

<pre class="Agda">

<a id="25211" class="Keyword">open</a> <a id="25216" href="Demos.HSP.html#24192" class="Module Operator">_≅_</a>

<a id="≅-refl"></a><a id="25221" href="Demos.HSP.html#25221" class="Function">≅-refl</a> <a id="25228" class="Symbol">:</a> <a id="25230" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="25240" class="Symbol">(</a><a id="25241" href="Demos.HSP.html#24192" class="Record Operator">_≅_</a> <a id="25245" class="Symbol">{</a><a id="25246" href="Demos.HSP.html#1501" class="Generalizable">α</a><a id="25247" class="Symbol">}{</a><a id="25249" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="25251" class="Symbol">})</a>
<a id="25254" href="Demos.HSP.html#25221" class="Function">≅-refl</a> <a id="25261" class="Symbol">{</a><a id="25262" href="Demos.HSP.html#25262" class="Bound">α</a><a id="25263" class="Symbol">}{</a><a id="25265" href="Demos.HSP.html#25265" class="Bound">ρᵃ</a><a id="25267" class="Symbol">}{</a><a id="25269" href="Demos.HSP.html#25269" class="Bound">𝑨</a><a id="25270" class="Symbol">}</a> <a id="25272" class="Symbol">=</a> <a id="25274" href="Demos.HSP.html#24250" class="InductiveConstructor">mkiso</a> <a id="25280" href="Demos.HSP.html#18426" class="Function">𝒾𝒹</a> <a id="25283" href="Demos.HSP.html#18426" class="Function">𝒾𝒹</a> <a id="25286" class="Symbol">(λ</a> <a id="25289" href="Demos.HSP.html#25289" class="Bound">b</a> <a id="25291" class="Symbol">→</a> <a id="25293" href="Relation.Binary.Structures.html#1568" class="Function">refl</a><a id="25297" class="Symbol">)</a> <a id="25299" class="Symbol">λ</a> <a id="25301" href="Demos.HSP.html#25301" class="Bound">a</a> <a id="25303" class="Symbol">→</a> <a id="25305" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="25311" class="Keyword">where</a> <a id="25317" class="Keyword">open</a> <a id="25322" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="25329" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="25332" href="Demos.HSP.html#25269" class="Bound">𝑨</a> <a id="25334" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="25336" class="Keyword">using</a> <a id="25342" class="Symbol">(</a> <a id="25344" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="25349" class="Symbol">)</a>

<a id="≅-sym"></a><a id="25352" href="Demos.HSP.html#25352" class="Function">≅-sym</a> <a id="25358" class="Symbol">:</a> <a id="25360" href="Relation.Binary.Definitions.html#1424" class="Function">Sym</a> <a id="25364" class="Symbol">(</a><a id="25365" href="Demos.HSP.html#24192" class="Record Operator">_≅_</a><a id="25368" class="Symbol">{</a><a id="25369" href="Demos.HSP.html#1506" class="Generalizable">β</a><a id="25370" class="Symbol">}{</a><a id="25372" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="25374" class="Symbol">})</a> <a id="25377" class="Symbol">(</a><a id="25378" href="Demos.HSP.html#24192" class="Record Operator">_≅_</a><a id="25381" class="Symbol">{</a><a id="25382" href="Demos.HSP.html#1501" class="Generalizable">α</a><a id="25383" class="Symbol">}{</a><a id="25385" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="25387" class="Symbol">})</a>
<a id="25390" href="Demos.HSP.html#25352" class="Function">≅-sym</a> <a id="25396" href="Demos.HSP.html#25396" class="Bound">φ</a> <a id="25398" class="Symbol">=</a> <a id="25400" href="Demos.HSP.html#24250" class="InductiveConstructor">mkiso</a> <a id="25406" class="Symbol">(</a><a id="25407" href="Demos.HSP.html#24283" class="Field">from</a> <a id="25412" href="Demos.HSP.html#25396" class="Bound">φ</a><a id="25413" class="Symbol">)</a> <a id="25415" class="Symbol">(</a><a id="25416" href="Demos.HSP.html#24267" class="Field">to</a> <a id="25419" href="Demos.HSP.html#25396" class="Bound">φ</a><a id="25420" class="Symbol">)</a> <a id="25422" class="Symbol">(</a><a id="25423" href="Demos.HSP.html#24355" class="Field">from∼to</a> <a id="25431" href="Demos.HSP.html#25396" class="Bound">φ</a><a id="25432" class="Symbol">)</a> <a id="25434" class="Symbol">(</a><a id="25435" href="Demos.HSP.html#24301" class="Field">to∼from</a> <a id="25443" href="Demos.HSP.html#25396" class="Bound">φ</a><a id="25444" class="Symbol">)</a>

<a id="≅-trans"></a><a id="25447" href="Demos.HSP.html#25447" class="Function">≅-trans</a> <a id="25455" class="Symbol">:</a> <a id="25457" href="Relation.Binary.Definitions.html#1585" class="Function">Trans</a> <a id="25463" class="Symbol">(</a><a id="25464" href="Demos.HSP.html#24192" class="Record Operator">_≅_</a> <a id="25468" class="Symbol">{</a><a id="25469" href="Demos.HSP.html#1501" class="Generalizable">α</a><a id="25470" class="Symbol">}{</a><a id="25472" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="25474" class="Symbol">})(</a><a id="25477" href="Demos.HSP.html#24192" class="Record Operator">_≅_</a><a id="25480" class="Symbol">{</a><a id="25481" href="Demos.HSP.html#1506" class="Generalizable">β</a><a id="25482" class="Symbol">}{</a><a id="25484" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="25486" class="Symbol">})(</a><a id="25489" href="Demos.HSP.html#24192" class="Record Operator">_≅_</a><a id="25492" class="Symbol">{</a><a id="25493" href="Demos.HSP.html#1501" class="Generalizable">α</a><a id="25494" class="Symbol">}{</a><a id="25496" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="25498" class="Symbol">}{</a><a id="25500" href="Demos.HSP.html#1511" class="Generalizable">γ</a><a id="25501" class="Symbol">}{</a><a id="25503" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a><a id="25505" class="Symbol">})</a>
<a id="25508" href="Demos.HSP.html#25447" class="Function">≅-trans</a> <a id="25516" class="Symbol">{</a><a id="25517" class="Argument">ρᶜ</a> <a id="25520" class="Symbol">=</a> <a id="25522" href="Demos.HSP.html#25522" class="Bound">ρᶜ</a><a id="25524" class="Symbol">}{</a><a id="25526" href="Demos.HSP.html#25526" class="Bound">𝑨</a><a id="25527" class="Symbol">}{</a><a id="25529" href="Demos.HSP.html#25529" class="Bound">𝑩</a><a id="25530" class="Symbol">}{</a><a id="25532" href="Demos.HSP.html#25532" class="Bound">𝑪</a><a id="25533" class="Symbol">}</a> <a id="25535" href="Demos.HSP.html#25535" class="Bound">ab</a> <a id="25538" href="Demos.HSP.html#25538" class="Bound">bc</a> <a id="25541" class="Symbol">=</a> <a id="25543" href="Demos.HSP.html#24250" class="InductiveConstructor">mkiso</a> <a id="25549" href="Demos.HSP.html#25712" class="Function">𝑓</a> <a id="25551" href="Demos.HSP.html#25754" class="Function">𝑔</a> <a id="25553" href="Demos.HSP.html#25801" class="Function">τ</a> <a id="25555" href="Demos.HSP.html#25926" class="Function">ν</a>
 <a id="25558" class="Keyword">where</a>
  <a id="25566" class="Keyword">open</a> <a id="25571" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="25578" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="25581" href="Demos.HSP.html#25526" class="Bound">𝑨</a> <a id="25583" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="25585" class="Keyword">using</a> <a id="25591" class="Symbol">()</a> <a id="25594" class="Keyword">renaming</a> <a id="25603" class="Symbol">(</a> <a id="25605" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="25609" class="Symbol">to</a> <a id="25612" class="Field Operator">_≈₁_</a> <a id="25617" class="Symbol">;</a> <a id="25619" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="25625" class="Symbol">to</a> <a id="25628" class="Function">trans₁</a> <a id="25635" class="Symbol">)</a>
  <a id="25639" class="Keyword">open</a> <a id="25644" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="25651" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="25654" href="Demos.HSP.html#25532" class="Bound">𝑪</a> <a id="25656" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="25658" class="Keyword">using</a> <a id="25664" class="Symbol">()</a> <a id="25667" class="Keyword">renaming</a> <a id="25676" class="Symbol">(</a> <a id="25678" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="25682" class="Symbol">to</a> <a id="25685" class="Field Operator">_≈₃_</a> <a id="25690" class="Symbol">;</a> <a id="25692" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="25698" class="Symbol">to</a> <a id="25701" class="Function">trans₃</a> <a id="25708" class="Symbol">)</a>
  <a id="25712" href="Demos.HSP.html#25712" class="Function">𝑓</a> <a id="25714" class="Symbol">:</a> <a id="25716" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="25720" href="Demos.HSP.html#25526" class="Bound">𝑨</a> <a id="25722" href="Demos.HSP.html#25532" class="Bound">𝑪</a>
  <a id="25726" href="Demos.HSP.html#25712" class="Function">𝑓</a> <a id="25728" class="Symbol">=</a> <a id="25730" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="25736" class="Symbol">(</a><a id="25737" href="Demos.HSP.html#24267" class="Field">to</a> <a id="25740" href="Demos.HSP.html#25535" class="Bound">ab</a><a id="25742" class="Symbol">)</a> <a id="25744" class="Symbol">(</a><a id="25745" href="Demos.HSP.html#24267" class="Field">to</a> <a id="25748" href="Demos.HSP.html#25538" class="Bound">bc</a><a id="25750" class="Symbol">)</a>
  <a id="25754" href="Demos.HSP.html#25754" class="Function">𝑔</a> <a id="25756" class="Symbol">:</a> <a id="25758" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="25762" href="Demos.HSP.html#25532" class="Bound">𝑪</a> <a id="25764" href="Demos.HSP.html#25526" class="Bound">𝑨</a>
  <a id="25768" href="Demos.HSP.html#25754" class="Function">𝑔</a> <a id="25770" class="Symbol">=</a> <a id="25772" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="25778" class="Symbol">(</a><a id="25779" href="Demos.HSP.html#24283" class="Field">from</a> <a id="25784" href="Demos.HSP.html#25538" class="Bound">bc</a><a id="25786" class="Symbol">)</a> <a id="25788" class="Symbol">(</a><a id="25789" href="Demos.HSP.html#24283" class="Field">from</a> <a id="25794" href="Demos.HSP.html#25535" class="Bound">ab</a><a id="25796" class="Symbol">)</a>

  <a id="25801" href="Demos.HSP.html#25801" class="Function">τ</a> <a id="25803" class="Symbol">:</a> <a id="25805" class="Symbol">∀</a> <a id="25807" href="Demos.HSP.html#25807" class="Bound">b</a> <a id="25809" class="Symbol">→</a> <a id="25811" class="Symbol">(</a><a id="25812" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25814" href="Demos.HSP.html#25712" class="Function">𝑓</a> <a id="25816" href="Demos.HSP.html#2477" class="Function Operator">∣</a>  <a id="25819" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="25823" class="Symbol">(</a><a id="25824" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25826" href="Demos.HSP.html#25754" class="Function">𝑔</a> <a id="25828" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25830" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="25834" href="Demos.HSP.html#25807" class="Bound">b</a><a id="25835" class="Symbol">))</a> <a id="25838" href="Demos.HSP.html#25685" class="Function Operator">≈₃</a> <a id="25841" href="Demos.HSP.html#25807" class="Bound">b</a>
  <a id="25845" href="Demos.HSP.html#25801" class="Function">τ</a> <a id="25847" href="Demos.HSP.html#25847" class="Bound">b</a> <a id="25849" class="Symbol">=</a> <a id="25851" href="Demos.HSP.html#25701" class="Function">trans₃</a> <a id="25858" class="Symbol">(</a><a id="25859" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="25864" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25866" href="Demos.HSP.html#24267" class="Field">to</a> <a id="25869" href="Demos.HSP.html#25538" class="Bound">bc</a> <a id="25872" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25874" class="Symbol">(</a><a id="25875" href="Demos.HSP.html#24301" class="Field">to∼from</a> <a id="25883" href="Demos.HSP.html#25535" class="Bound">ab</a> <a id="25886" class="Symbol">(</a><a id="25887" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25889" href="Demos.HSP.html#24283" class="Field">from</a> <a id="25894" href="Demos.HSP.html#25538" class="Bound">bc</a> <a id="25897" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25899" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="25903" href="Demos.HSP.html#25847" class="Bound">b</a><a id="25904" class="Symbol">)))</a> <a id="25908" class="Symbol">(</a><a id="25909" href="Demos.HSP.html#24301" class="Field">to∼from</a> <a id="25917" href="Demos.HSP.html#25538" class="Bound">bc</a> <a id="25920" href="Demos.HSP.html#25847" class="Bound">b</a><a id="25921" class="Symbol">)</a>

  <a id="25926" href="Demos.HSP.html#25926" class="Function">ν</a> <a id="25928" class="Symbol">:</a> <a id="25930" class="Symbol">∀</a> <a id="25932" href="Demos.HSP.html#25932" class="Bound">a</a> <a id="25934" class="Symbol">→</a> <a id="25936" class="Symbol">(</a><a id="25937" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25939" href="Demos.HSP.html#25754" class="Function">𝑔</a> <a id="25941" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25943" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="25947" class="Symbol">(</a><a id="25948" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25950" href="Demos.HSP.html#25712" class="Function">𝑓</a> <a id="25952" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25954" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="25958" href="Demos.HSP.html#25932" class="Bound">a</a><a id="25959" class="Symbol">))</a> <a id="25962" href="Demos.HSP.html#25612" class="Function Operator">≈₁</a> <a id="25965" href="Demos.HSP.html#25932" class="Bound">a</a>
  <a id="25969" href="Demos.HSP.html#25926" class="Function">ν</a> <a id="25971" href="Demos.HSP.html#25971" class="Bound">a</a> <a id="25973" class="Symbol">=</a> <a id="25975" href="Demos.HSP.html#25628" class="Function">trans₁</a> <a id="25982" class="Symbol">(</a><a id="25983" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="25988" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="25990" href="Demos.HSP.html#24283" class="Field">from</a> <a id="25995" href="Demos.HSP.html#25535" class="Bound">ab</a> <a id="25998" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="26000" class="Symbol">(</a><a id="26001" href="Demos.HSP.html#24355" class="Field">from∼to</a> <a id="26009" href="Demos.HSP.html#25538" class="Bound">bc</a> <a id="26012" class="Symbol">(</a><a id="26013" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="26015" href="Demos.HSP.html#24267" class="Field">to</a> <a id="26018" href="Demos.HSP.html#25535" class="Bound">ab</a> <a id="26021" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="26023" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="26027" href="Demos.HSP.html#25971" class="Bound">a</a><a id="26028" class="Symbol">)))</a> <a id="26032" class="Symbol">(</a><a id="26033" href="Demos.HSP.html#24355" class="Field">from∼to</a> <a id="26041" href="Demos.HSP.html#25535" class="Bound">ab</a> <a id="26044" href="Demos.HSP.html#25971" class="Bound">a</a><a id="26045" class="Symbol">)</a>



</pre>

Fortunately, the lift operation preserves isomorphism (i.e., it's an *algebraic invariant*). As our focus is universal algebra, this is important and is what makes the lift operation a workable solution to the technical problems that arise from the noncumulativity of Agda's universe hierarchy.

<pre class="Agda">

<a id="26372" class="Keyword">module</a> <a id="26379" href="Demos.HSP.html#26379" class="Module">_</a> <a id="26381" class="Symbol">{</a><a id="26382" href="Demos.HSP.html#26382" class="Bound">𝑨</a> <a id="26384" class="Symbol">:</a> <a id="26386" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="26394" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="26396" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="26398" class="Symbol">}{</a><a id="26400" href="Demos.HSP.html#26400" class="Bound">ℓ</a> <a id="26402" class="Symbol">:</a> <a id="26404" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="26409" class="Symbol">}</a> <a id="26411" class="Keyword">where</a>
 <a id="26418" href="Demos.HSP.html#26418" class="Function">Lift-≅ˡ</a> <a id="26426" class="Symbol">:</a> <a id="26428" href="Demos.HSP.html#26382" class="Bound">𝑨</a> <a id="26430" href="Demos.HSP.html#24192" class="Record Operator">≅</a> <a id="26432" class="Symbol">(</a><a id="26433" href="Demos.HSP.html#11878" class="Function">Lift-Algˡ</a> <a id="26443" href="Demos.HSP.html#26382" class="Bound">𝑨</a> <a id="26445" href="Demos.HSP.html#26400" class="Bound">ℓ</a><a id="26446" class="Symbol">)</a>
 <a id="26449" href="Demos.HSP.html#26418" class="Function">Lift-≅ˡ</a> <a id="26457" class="Symbol">=</a> <a id="26459" href="Demos.HSP.html#24250" class="InductiveConstructor">mkiso</a> <a id="26465" href="Demos.HSP.html#18840" class="Function">ToLiftˡ</a> <a id="26473" href="Demos.HSP.html#18969" class="Function">FromLiftˡ</a> <a id="26483" class="Symbol">(</a><a id="26484" href="Demos.HSP.html#19102" class="Function">ToFromLiftˡ</a><a id="26495" class="Symbol">{</a><a id="26496" class="Argument">𝑨</a> <a id="26498" class="Symbol">=</a> <a id="26500" href="Demos.HSP.html#26382" class="Bound">𝑨</a><a id="26501" class="Symbol">})</a> <a id="26504" class="Symbol">(</a><a id="26505" href="Demos.HSP.html#19193" class="Function">FromToLiftˡ</a><a id="26516" class="Symbol">{</a><a id="26517" class="Argument">𝑨</a> <a id="26519" class="Symbol">=</a> <a id="26521" href="Demos.HSP.html#26382" class="Bound">𝑨</a><a id="26522" class="Symbol">}{</a><a id="26524" href="Demos.HSP.html#26400" class="Bound">ℓ</a><a id="26525" class="Symbol">})</a>

 <a id="26530" href="Demos.HSP.html#26530" class="Function">Lift-≅ʳ</a> <a id="26538" class="Symbol">:</a> <a id="26540" href="Demos.HSP.html#26382" class="Bound">𝑨</a> <a id="26542" href="Demos.HSP.html#24192" class="Record Operator">≅</a> <a id="26544" class="Symbol">(</a><a id="26545" href="Demos.HSP.html#12513" class="Function">Lift-Algʳ</a> <a id="26555" href="Demos.HSP.html#26382" class="Bound">𝑨</a> <a id="26557" href="Demos.HSP.html#26400" class="Bound">ℓ</a><a id="26558" class="Symbol">)</a>
 <a id="26561" href="Demos.HSP.html#26530" class="Function">Lift-≅ʳ</a> <a id="26569" class="Symbol">=</a> <a id="26571" href="Demos.HSP.html#24250" class="InductiveConstructor">mkiso</a> <a id="26577" href="Demos.HSP.html#19284" class="Function">ToLiftʳ</a> <a id="26585" href="Demos.HSP.html#19420" class="Function">FromLiftʳ</a> <a id="26595" class="Symbol">(</a><a id="26596" href="Demos.HSP.html#19545" class="Function">ToFromLiftʳ</a><a id="26607" class="Symbol">{</a><a id="26608" class="Argument">𝑨</a> <a id="26610" class="Symbol">=</a> <a id="26612" href="Demos.HSP.html#26382" class="Bound">𝑨</a><a id="26613" class="Symbol">})</a> <a id="26616" class="Symbol">(</a><a id="26617" href="Demos.HSP.html#19640" class="Function">FromToLiftʳ</a><a id="26628" class="Symbol">{</a><a id="26629" class="Argument">𝑨</a> <a id="26631" class="Symbol">=</a> <a id="26633" href="Demos.HSP.html#26382" class="Bound">𝑨</a><a id="26634" class="Symbol">}{</a><a id="26636" href="Demos.HSP.html#26400" class="Bound">ℓ</a><a id="26637" class="Symbol">})</a>

<a id="Lift-≅"></a><a id="26641" href="Demos.HSP.html#26641" class="Function">Lift-≅</a> <a id="26648" class="Symbol">:</a> <a id="26650" class="Symbol">{</a><a id="26651" href="Demos.HSP.html#26651" class="Bound">𝑨</a> <a id="26653" class="Symbol">:</a> <a id="26655" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="26663" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="26665" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="26667" class="Symbol">}{</a><a id="26669" href="Demos.HSP.html#26669" class="Bound">ℓ</a> <a id="26671" href="Demos.HSP.html#26671" class="Bound">ρ</a> <a id="26673" class="Symbol">:</a> <a id="26675" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="26680" class="Symbol">}</a> <a id="26682" class="Symbol">→</a> <a id="26684" href="Demos.HSP.html#26651" class="Bound">𝑨</a> <a id="26686" href="Demos.HSP.html#24192" class="Record Operator">≅</a> <a id="26688" class="Symbol">(</a><a id="26689" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="26698" href="Demos.HSP.html#26651" class="Bound">𝑨</a> <a id="26700" href="Demos.HSP.html#26669" class="Bound">ℓ</a> <a id="26702" href="Demos.HSP.html#26671" class="Bound">ρ</a><a id="26703" class="Symbol">)</a>
<a id="26705" href="Demos.HSP.html#26641" class="Function">Lift-≅</a> <a id="26712" class="Symbol">=</a> <a id="26714" href="Demos.HSP.html#25447" class="Function">≅-trans</a> <a id="26722" href="Demos.HSP.html#26418" class="Function">Lift-≅ˡ</a> <a id="26730" href="Demos.HSP.html#26530" class="Function">Lift-≅ʳ</a>

</pre>


### Homomorphic Images

(cf. the [Homomorphisms.Func.HomomorphicImages][] module of the [Agda Universal Algebra Library][].)

We begin with what seems, for our purposes, the most useful way to represent the class of *homomorphic images* of an algebra in dependent type theory.

<pre class="Agda">

<a id="ov"></a><a id="27044" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="27047" class="Symbol">:</a> <a id="27049" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="27055" class="Symbol">→</a> <a id="27057" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="27063" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="27066" href="Demos.HSP.html#27066" class="Bound">α</a> <a id="27068" class="Symbol">=</a> <a id="27070" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="27072" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27074" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="27076" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27078" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="27083" href="Demos.HSP.html#27066" class="Bound">α</a>

<a id="27086" class="Keyword">open</a> <a id="27091" href="Demos.HSP.html#14989" class="Module">IsHom</a>

<a id="_IsHomImageOf_"></a><a id="27098" href="Demos.HSP.html#27098" class="Function Operator">_IsHomImageOf_</a> <a id="27113" class="Symbol">:</a> <a id="27115" class="Symbol">(</a><a id="27116" href="Demos.HSP.html#27116" class="Bound">𝑩</a> <a id="27118" class="Symbol">:</a> <a id="27120" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="27128" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="27130" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="27132" class="Symbol">)(</a><a id="27134" href="Demos.HSP.html#27134" class="Bound">𝑨</a> <a id="27136" class="Symbol">:</a> <a id="27138" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="27146" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="27148" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="27150" class="Symbol">)</a> <a id="27152" class="Symbol">→</a> <a id="27154" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="27159" class="Symbol">(</a><a id="27160" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="27162" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27164" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="27166" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27168" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="27170" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27172" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="27174" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27176" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="27179" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27181" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="27183" class="Symbol">)</a>
<a id="27185" href="Demos.HSP.html#27185" class="Bound">𝑩</a> <a id="27187" href="Demos.HSP.html#27098" class="Function Operator">IsHomImageOf</a> <a id="27200" href="Demos.HSP.html#27200" class="Bound">𝑨</a> <a id="27202" class="Symbol">=</a> <a id="27204" href="Data.Product.html#916" class="Function">Σ[</a> <a id="27207" href="Demos.HSP.html#27207" class="Bound">φ</a> <a id="27209" href="Data.Product.html#916" class="Function">∈</a> <a id="27211" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="27215" href="Demos.HSP.html#27200" class="Bound">𝑨</a> <a id="27217" href="Demos.HSP.html#27185" class="Bound">𝑩</a> <a id="27219" href="Data.Product.html#916" class="Function">]</a> <a id="27221" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="27234" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="27236" href="Demos.HSP.html#27207" class="Bound">φ</a> <a id="27238" href="Demos.HSP.html#2477" class="Function Operator">∣</a>

<a id="HomImages"></a><a id="27241" href="Demos.HSP.html#27241" class="Function">HomImages</a> <a id="27251" class="Symbol">:</a> <a id="27253" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="27261" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="27263" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="27266" class="Symbol">→</a> <a id="27268" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="27273" class="Symbol">(</a><a id="27274" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="27276" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27278" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="27281" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27283" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="27286" class="Symbol">(</a><a id="27287" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="27289" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="27291" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="27293" class="Symbol">))</a>
<a id="27296" href="Demos.HSP.html#27241" class="Function">HomImages</a> <a id="27306" class="Symbol">{</a><a id="27307" class="Argument">β</a> <a id="27309" class="Symbol">=</a> <a id="27311" href="Demos.HSP.html#27311" class="Bound">β</a><a id="27312" class="Symbol">}{</a><a id="27314" class="Argument">ρᵇ</a> <a id="27317" class="Symbol">=</a> <a id="27319" href="Demos.HSP.html#27319" class="Bound">ρᵇ</a><a id="27321" class="Symbol">}</a> <a id="27323" href="Demos.HSP.html#27323" class="Bound">𝑨</a> <a id="27325" class="Symbol">=</a> <a id="27327" href="Data.Product.html#916" class="Function">Σ[</a> <a id="27330" href="Demos.HSP.html#27330" class="Bound">𝑩</a> <a id="27332" href="Data.Product.html#916" class="Function">∈</a> <a id="27334" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="27342" href="Demos.HSP.html#27311" class="Bound">β</a> <a id="27344" href="Demos.HSP.html#27319" class="Bound">ρᵇ</a> <a id="27347" href="Data.Product.html#916" class="Function">]</a> <a id="27349" href="Demos.HSP.html#27330" class="Bound">𝑩</a> <a id="27351" href="Demos.HSP.html#27098" class="Function Operator">IsHomImageOf</a> <a id="27364" href="Demos.HSP.html#27323" class="Bound">𝑨</a>

</pre>

These types should be self-explanatory, but just to be sure, let's describe the Sigma type appearing in the second definition. Given an `𝑆`-algebra `𝑨 : Algebra α ρ`, the type `HomImages 𝑨` denotes the class of algebras `𝑩 : Algebra β ρ` with a map `φ : ∣ 𝑨 ∣ → ∣ 𝑩 ∣` such that `φ` is a surjective homomorphism.


<pre class="Agda">

<a id="27708" class="Keyword">module</a> <a id="27715" href="Demos.HSP.html#27715" class="Module">_</a> <a id="27717" class="Symbol">{</a><a id="27718" href="Demos.HSP.html#27718" class="Bound">𝑨</a> <a id="27720" class="Symbol">:</a> <a id="27722" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="27730" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="27732" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="27734" class="Symbol">}{</a><a id="27736" href="Demos.HSP.html#27736" class="Bound">𝑩</a> <a id="27738" class="Symbol">:</a> <a id="27740" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="27748" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="27750" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="27752" class="Symbol">}</a> <a id="27754" class="Keyword">where</a>
 <a id="27761" class="Keyword">open</a> <a id="27766" href="Demos.HSP.html#24192" class="Module Operator">_≅_</a>
 <a id="27771" href="Demos.HSP.html#27771" class="Function">Lift-HomImage-lemma</a> <a id="27791" class="Symbol">:</a> <a id="27793" class="Symbol">∀{</a><a id="27795" href="Demos.HSP.html#27795" class="Bound">γ</a><a id="27796" class="Symbol">}</a> <a id="27798" class="Symbol">→</a> <a id="27800" class="Symbol">(</a><a id="27801" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="27810" href="Demos.HSP.html#27718" class="Bound">𝑨</a> <a id="27812" href="Demos.HSP.html#27795" class="Bound">γ</a> <a id="27814" href="Demos.HSP.html#27795" class="Bound">γ</a><a id="27815" class="Symbol">)</a> <a id="27817" href="Demos.HSP.html#27098" class="Function Operator">IsHomImageOf</a> <a id="27830" href="Demos.HSP.html#27736" class="Bound">𝑩</a> <a id="27832" class="Symbol">→</a> <a id="27834" href="Demos.HSP.html#27718" class="Bound">𝑨</a> <a id="27836" href="Demos.HSP.html#27098" class="Function Operator">IsHomImageOf</a> <a id="27849" href="Demos.HSP.html#27736" class="Bound">𝑩</a>
 <a id="27852" href="Demos.HSP.html#27771" class="Function">Lift-HomImage-lemma</a> <a id="27872" class="Symbol">{</a><a id="27873" href="Demos.HSP.html#27873" class="Bound">γ</a><a id="27874" class="Symbol">}</a> <a id="27876" href="Demos.HSP.html#27876" class="Bound">φ</a> <a id="27878" class="Symbol">=</a> <a id="27880" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="27886" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="27888" href="Demos.HSP.html#27876" class="Bound">φ</a> <a id="27890" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="27892" class="Symbol">(</a><a id="27893" href="Demos.HSP.html#24283" class="Field">from</a> <a id="27898" href="Demos.HSP.html#26641" class="Function">Lift-≅</a><a id="27904" class="Symbol">)</a> <a id="27906" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a>
                             <a id="27937" href="Demos.HSP.html#7444" class="Function">∘-IsSurjective</a> <a id="27952" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="27954" href="Demos.HSP.html#27876" class="Bound">φ</a> <a id="27956" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="27958" class="Symbol">(</a><a id="27959" href="Demos.HSP.html#24756" class="Function">fromIsSurjective</a> <a id="27976" class="Symbol">(</a><a id="27977" href="Demos.HSP.html#26641" class="Function">Lift-≅</a><a id="27983" class="Symbol">{</a><a id="27984" class="Argument">𝑨</a> <a id="27986" class="Symbol">=</a> <a id="27988" href="Demos.HSP.html#27718" class="Bound">𝑨</a><a id="27989" class="Symbol">}))</a>

<a id="27994" class="Keyword">module</a> <a id="28001" href="Demos.HSP.html#28001" class="Module">_</a> <a id="28003" class="Symbol">{</a><a id="28004" href="Demos.HSP.html#28004" class="Bound">𝑨</a> <a id="28006" href="Demos.HSP.html#28006" class="Bound">𝑨&#39;</a> <a id="28009" class="Symbol">:</a> <a id="28011" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28019" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="28021" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="28023" class="Symbol">}{</a><a id="28025" href="Demos.HSP.html#28025" class="Bound">𝑩</a> <a id="28027" class="Symbol">:</a> <a id="28029" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28037" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="28039" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="28041" class="Symbol">}</a> <a id="28043" class="Keyword">where</a>
 <a id="28050" class="Keyword">open</a> <a id="28055" href="Demos.HSP.html#24192" class="Module Operator">_≅_</a>
 <a id="28060" href="Demos.HSP.html#28060" class="Function">HomImage-≅</a> <a id="28071" class="Symbol">:</a> <a id="28073" href="Demos.HSP.html#28004" class="Bound">𝑨</a> <a id="28075" href="Demos.HSP.html#27098" class="Function Operator">IsHomImageOf</a> <a id="28088" href="Demos.HSP.html#28006" class="Bound">𝑨&#39;</a> <a id="28091" class="Symbol">→</a> <a id="28093" href="Demos.HSP.html#28004" class="Bound">𝑨</a> <a id="28095" href="Demos.HSP.html#24192" class="Record Operator">≅</a> <a id="28097" href="Demos.HSP.html#28025" class="Bound">𝑩</a> <a id="28099" class="Symbol">→</a> <a id="28101" href="Demos.HSP.html#28025" class="Bound">𝑩</a> <a id="28103" href="Demos.HSP.html#27098" class="Function Operator">IsHomImageOf</a> <a id="28116" href="Demos.HSP.html#28006" class="Bound">𝑨&#39;</a>
 <a id="28120" href="Demos.HSP.html#28060" class="Function">HomImage-≅</a> <a id="28131" href="Demos.HSP.html#28131" class="Bound">φ</a> <a id="28133" href="Demos.HSP.html#28133" class="Bound">A≅B</a> <a id="28137" class="Symbol">=</a> <a id="28139" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="28145" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="28147" href="Demos.HSP.html#28131" class="Bound">φ</a> <a id="28149" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="28151" class="Symbol">(</a><a id="28152" href="Demos.HSP.html#24267" class="Field">to</a> <a id="28155" href="Demos.HSP.html#28133" class="Bound">A≅B</a><a id="28158" class="Symbol">)</a> <a id="28160" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="28162" href="Demos.HSP.html#7444" class="Function">∘-IsSurjective</a> <a id="28177" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="28179" href="Demos.HSP.html#28131" class="Bound">φ</a> <a id="28181" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="28183" class="Symbol">(</a><a id="28184" href="Demos.HSP.html#24409" class="Function">toIsSurjective</a> <a id="28199" href="Demos.HSP.html#28133" class="Bound">A≅B</a><a id="28202" class="Symbol">)</a>

</pre>






## <a id="subalgebras">Subalgebras</a>

### <a id="subalgebras-basic-definitions">Basic definitions</a>

<pre class="Agda">

<a id="_≤_"></a><a id="28341" href="Demos.HSP.html#28341" class="Function Operator">_≤_</a>  <a id="28346" class="Comment">-- (alias for subalgebra relation))</a>
 <a id="_IsSubalgebraOf_"></a><a id="28383" href="Demos.HSP.html#28383" class="Function Operator">_IsSubalgebraOf_</a> <a id="28400" class="Symbol">:</a> <a id="28402" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28410" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="28412" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="28415" class="Symbol">→</a> <a id="28417" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28425" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="28427" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a> <a id="28430" class="Symbol">→</a> <a id="28432" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="28437" class="Symbol">(</a><a id="28438" href="Demos.HSP.html#383" class="Bound">𝓞</a> <a id="28440" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="28442" href="Demos.HSP.html#385" class="Bound">𝓥</a> <a id="28444" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="28446" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="28448" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="28450" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="28453" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="28455" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="28457" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="28459" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="28461" class="Symbol">)</a>
<a id="28463" href="Demos.HSP.html#28463" class="Bound">𝑨</a> <a id="28465" href="Demos.HSP.html#28383" class="Function Operator">IsSubalgebraOf</a> <a id="28480" href="Demos.HSP.html#28480" class="Bound">𝑩</a> <a id="28482" class="Symbol">=</a> <a id="28484" href="Data.Product.html#916" class="Function">Σ[</a> <a id="28487" href="Demos.HSP.html#28487" class="Bound">h</a> <a id="28489" href="Data.Product.html#916" class="Function">∈</a> <a id="28491" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="28495" href="Demos.HSP.html#28463" class="Bound">𝑨</a> <a id="28497" href="Demos.HSP.html#28480" class="Bound">𝑩</a> <a id="28499" href="Data.Product.html#916" class="Function">]</a> <a id="28501" href="Demos.HSP.html#5232" class="Function">IsInjective</a> <a id="28513" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="28515" href="Demos.HSP.html#28487" class="Bound">h</a> <a id="28517" href="Demos.HSP.html#2477" class="Function Operator">∣</a>

<a id="28520" class="Comment">-- Syntactic sugar for the subalgebra relation.</a>
<a id="28568" href="Demos.HSP.html#28568" class="Bound">𝑨</a> <a id="28570" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="28572" href="Demos.HSP.html#28572" class="Bound">𝑩</a> <a id="28574" class="Symbol">=</a> <a id="28576" href="Demos.HSP.html#28568" class="Bound">𝑨</a> <a id="28578" href="Demos.HSP.html#28383" class="Function Operator">IsSubalgebraOf</a> <a id="28593" href="Demos.HSP.html#28572" class="Bound">𝑩</a>

</pre>

### <a id="subalgebras-basic-properties">Basic properties</a>

<pre class="Agda">

<a id="≤-reflexive"></a><a id="28685" href="Demos.HSP.html#28685" class="Function">≤-reflexive</a> <a id="28697" class="Symbol">:</a> <a id="28699" class="Symbol">{</a><a id="28700" href="Demos.HSP.html#28700" class="Bound">𝑨</a> <a id="28702" class="Symbol">:</a> <a id="28704" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28712" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="28714" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="28716" class="Symbol">}</a> <a id="28718" class="Symbol">→</a> <a id="28720" href="Demos.HSP.html#28700" class="Bound">𝑨</a> <a id="28722" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="28724" href="Demos.HSP.html#28700" class="Bound">𝑨</a>
<a id="28726" href="Demos.HSP.html#28685" class="Function">≤-reflexive</a> <a id="28738" class="Symbol">{</a><a id="28739" class="Argument">𝑨</a> <a id="28741" class="Symbol">=</a> <a id="28743" href="Demos.HSP.html#28743" class="Bound">𝑨</a><a id="28744" class="Symbol">}</a> <a id="28746" class="Symbol">=</a> <a id="28748" href="Demos.HSP.html#18426" class="Function">𝒾𝒹</a> <a id="28751" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="28753" href="Function.Base.html#615" class="Function">id</a>

<a id="mon→≤"></a><a id="28757" href="Demos.HSP.html#28757" class="Function">mon→≤</a> <a id="28763" class="Symbol">:</a> <a id="28765" class="Symbol">{</a><a id="28766" href="Demos.HSP.html#28766" class="Bound">𝑨</a> <a id="28768" class="Symbol">:</a> <a id="28770" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28778" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="28780" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="28782" class="Symbol">}{</a><a id="28784" href="Demos.HSP.html#28784" class="Bound">𝑩</a> <a id="28786" class="Symbol">:</a> <a id="28788" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28796" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="28798" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="28800" class="Symbol">}</a> <a id="28802" class="Symbol">→</a> <a id="28804" href="Demos.HSP.html#15420" class="Function">mon</a> <a id="28808" href="Demos.HSP.html#28766" class="Bound">𝑨</a> <a id="28810" href="Demos.HSP.html#28784" class="Bound">𝑩</a> <a id="28812" class="Symbol">→</a> <a id="28814" href="Demos.HSP.html#28766" class="Bound">𝑨</a> <a id="28816" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="28818" href="Demos.HSP.html#28784" class="Bound">𝑩</a>
<a id="28820" href="Demos.HSP.html#28757" class="Function">mon→≤</a> <a id="28826" class="Symbol">{</a><a id="28827" class="Argument">𝑨</a> <a id="28829" class="Symbol">=</a> <a id="28831" href="Demos.HSP.html#28831" class="Bound">𝑨</a><a id="28832" class="Symbol">}{</a><a id="28834" href="Demos.HSP.html#28834" class="Bound">𝑩</a><a id="28835" class="Symbol">}</a> <a id="28837" href="Demos.HSP.html#28837" class="Bound">x</a> <a id="28839" class="Symbol">=</a> <a id="28841" href="Demos.HSP.html#15905" class="Function">mon→intohom</a> <a id="28853" href="Demos.HSP.html#28831" class="Bound">𝑨</a> <a id="28855" href="Demos.HSP.html#28834" class="Bound">𝑩</a> <a id="28857" href="Demos.HSP.html#28837" class="Bound">x</a>

<a id="28860" class="Keyword">module</a> <a id="28867" href="Demos.HSP.html#28867" class="Module">_</a> <a id="28869" class="Symbol">{</a><a id="28870" href="Demos.HSP.html#28870" class="Bound">𝑨</a> <a id="28872" class="Symbol">:</a> <a id="28874" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28882" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="28884" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="28886" class="Symbol">}{</a><a id="28888" href="Demos.HSP.html#28888" class="Bound">𝑩</a> <a id="28890" class="Symbol">:</a> <a id="28892" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28900" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="28902" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="28904" class="Symbol">}{</a><a id="28906" href="Demos.HSP.html#28906" class="Bound">𝑪</a> <a id="28908" class="Symbol">:</a> <a id="28910" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="28918" href="Demos.HSP.html#1511" class="Generalizable">γ</a> <a id="28920" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a><a id="28922" class="Symbol">}</a> <a id="28924" class="Keyword">where</a>
 <a id="28931" class="Keyword">open</a> <a id="28936" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="28943" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="28946" href="Demos.HSP.html#28870" class="Bound">𝑨</a> <a id="28948" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="28950" class="Keyword">using</a> <a id="28956" class="Symbol">()</a> <a id="28959" class="Keyword">renaming</a> <a id="28968" class="Symbol">(</a> <a id="28970" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="28974" class="Symbol">to</a> <a id="28977" class="Field Operator">_≈₁_</a> <a id="28982" class="Symbol">;</a> <a id="28984" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="28992" class="Symbol">to</a> <a id="28995" class="Field">∣A∣</a> <a id="28999" class="Symbol">)</a>
 <a id="29002" class="Keyword">open</a> <a id="29007" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="29014" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="29017" href="Demos.HSP.html#28888" class="Bound">𝑩</a> <a id="29019" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="29021" class="Keyword">using</a> <a id="29027" class="Symbol">()</a> <a id="29030" class="Keyword">renaming</a> <a id="29039" class="Symbol">(</a> <a id="29041" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="29045" class="Symbol">to</a> <a id="29048" class="Field Operator">_≈₂_</a> <a id="29053" class="Symbol">;</a> <a id="29055" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="29063" class="Symbol">to</a> <a id="29066" class="Field">∣B∣</a> <a id="29070" class="Symbol">)</a>
 <a id="29073" class="Keyword">open</a> <a id="29078" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="29085" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="29088" href="Demos.HSP.html#28906" class="Bound">𝑪</a> <a id="29090" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="29092" class="Keyword">using</a> <a id="29098" class="Symbol">()</a> <a id="29101" class="Keyword">renaming</a> <a id="29110" class="Symbol">(</a> <a id="29112" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="29116" class="Symbol">to</a> <a id="29119" class="Field Operator">_≈₃_</a> <a id="29124" class="Symbol">;</a> <a id="29126" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="29134" class="Symbol">to</a> <a id="29137" class="Field">∣C∣</a> <a id="29141" class="Symbol">)</a>
 <a id="29144" class="Keyword">open</a> <a id="29149" href="Demos.HSP.html#5321" class="Module">compose</a> <a id="29157" class="Symbol">{</a><a id="29158" class="Argument">A</a> <a id="29160" class="Symbol">=</a> <a id="29162" href="Demos.HSP.html#28995" class="Function">∣A∣</a><a id="29165" class="Symbol">}{</a><a id="29167" class="Argument">B</a> <a id="29169" class="Symbol">=</a> <a id="29171" href="Demos.HSP.html#29066" class="Function">∣B∣</a><a id="29174" class="Symbol">}{</a><a id="29176" class="Argument">C</a> <a id="29178" class="Symbol">=</a> <a id="29180" href="Demos.HSP.html#29137" class="Function">∣C∣</a><a id="29183" class="Symbol">}</a> <a id="29185" href="Demos.HSP.html#28977" class="Function Operator">_≈₁_</a> <a id="29190" href="Demos.HSP.html#29048" class="Function Operator">_≈₂_</a> <a id="29195" href="Demos.HSP.html#29119" class="Function Operator">_≈₃_</a> <a id="29200" class="Keyword">using</a> <a id="29206" class="Symbol">(</a> <a id="29208" href="Demos.HSP.html#5780" class="Function">∘-injective-func</a> <a id="29225" class="Symbol">)</a>

 <a id="29229" href="Demos.HSP.html#29229" class="Function">≤-trans</a> <a id="29237" class="Symbol">:</a> <a id="29239" href="Demos.HSP.html#28870" class="Bound">𝑨</a> <a id="29241" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="29243" href="Demos.HSP.html#28888" class="Bound">𝑩</a> <a id="29245" class="Symbol">→</a> <a id="29247" href="Demos.HSP.html#28888" class="Bound">𝑩</a> <a id="29249" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="29251" href="Demos.HSP.html#28906" class="Bound">𝑪</a> <a id="29253" class="Symbol">→</a> <a id="29255" href="Demos.HSP.html#28870" class="Bound">𝑨</a> <a id="29257" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="29259" href="Demos.HSP.html#28906" class="Bound">𝑪</a>
 <a id="29262" href="Demos.HSP.html#29229" class="Function">≤-trans</a> <a id="29270" href="Demos.HSP.html#29270" class="Bound">A≤B</a> <a id="29274" href="Demos.HSP.html#29274" class="Bound">B≤C</a> <a id="29278" class="Symbol">=</a> <a id="29280" class="Symbol">(</a><a id="29281" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="29287" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="29289" href="Demos.HSP.html#29270" class="Bound">A≤B</a> <a id="29293" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="29295" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="29297" href="Demos.HSP.html#29274" class="Bound">B≤C</a> <a id="29301" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="29303" class="Symbol">)</a> <a id="29305" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29307" href="Demos.HSP.html#5780" class="Function">∘-injective-func</a> <a id="29324" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="29326" href="Demos.HSP.html#29270" class="Bound">A≤B</a> <a id="29330" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="29332" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="29334" href="Demos.HSP.html#29274" class="Bound">B≤C</a> <a id="29338" href="Demos.HSP.html#2515" class="Function Operator">∥</a>
 <a id="29341" class="Keyword">open</a> <a id="29346" href="Demos.HSP.html#24192" class="Module Operator">_≅_</a> <a id="29350" class="Keyword">using</a> <a id="29356" class="Symbol">()</a> <a id="29359" class="Keyword">renaming</a> <a id="29368" class="Symbol">(</a> <a id="29370" href="Demos.HSP.html#24267" class="Field">to</a> <a id="29373" class="Symbol">to</a> <a id="29376" class="Field">𝑡𝑜</a> <a id="29379" class="Symbol">)</a>

 <a id="29383" href="Demos.HSP.html#29383" class="Function">≅-trans-≤</a> <a id="29393" class="Symbol">:</a> <a id="29395" href="Demos.HSP.html#28870" class="Bound">𝑨</a> <a id="29397" href="Demos.HSP.html#24192" class="Record Operator">≅</a> <a id="29399" href="Demos.HSP.html#28888" class="Bound">𝑩</a> <a id="29401" class="Symbol">→</a> <a id="29403" href="Demos.HSP.html#28888" class="Bound">𝑩</a> <a id="29405" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="29407" href="Demos.HSP.html#28906" class="Bound">𝑪</a> <a id="29409" class="Symbol">→</a> <a id="29411" href="Demos.HSP.html#28870" class="Bound">𝑨</a> <a id="29413" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="29415" href="Demos.HSP.html#28906" class="Bound">𝑪</a>
 <a id="29418" href="Demos.HSP.html#29383" class="Function">≅-trans-≤</a> <a id="29428" href="Demos.HSP.html#29428" class="Bound">A≅B</a> <a id="29432" class="Symbol">(</a><a id="29433" href="Demos.HSP.html#29433" class="Bound">h</a> <a id="29435" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29437" href="Demos.HSP.html#29437" class="Bound">hinj</a><a id="29441" class="Symbol">)</a> <a id="29443" class="Symbol">=</a> <a id="29445" class="Symbol">(</a><a id="29446" href="Demos.HSP.html#17460" class="Function">∘-hom</a> <a id="29452" class="Symbol">(</a><a id="29453" href="Demos.HSP.html#29376" class="Field">𝑡𝑜</a> <a id="29456" href="Demos.HSP.html#29428" class="Bound">A≅B</a><a id="29459" class="Symbol">)</a> <a id="29461" href="Demos.HSP.html#29433" class="Bound">h</a><a id="29462" class="Symbol">)</a> <a id="29464" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29466" class="Symbol">(</a><a id="29467" href="Demos.HSP.html#5780" class="Function">∘-injective-func</a> <a id="29484" class="Symbol">(</a><a id="29485" href="Demos.HSP.html#24511" class="Function">toIsInjective</a> <a id="29499" href="Demos.HSP.html#29428" class="Bound">A≅B</a><a id="29502" class="Symbol">)</a> <a id="29504" href="Demos.HSP.html#29437" class="Bound">hinj</a><a id="29508" class="Symbol">)</a>

</pre>

### <a id="products-of-subalgebras">Products of subalgebras</a>

<pre class="Agda">

<a id="29602" class="Keyword">module</a> <a id="29609" href="Demos.HSP.html#29609" class="Module">_</a> <a id="29611" class="Symbol">{</a><a id="29612" href="Demos.HSP.html#29612" class="Bound">ι</a> <a id="29614" class="Symbol">:</a> <a id="29616" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="29621" class="Symbol">}</a> <a id="29623" class="Symbol">{</a><a id="29624" href="Demos.HSP.html#29624" class="Bound">I</a> <a id="29626" class="Symbol">:</a> <a id="29628" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="29633" href="Demos.HSP.html#29612" class="Bound">ι</a><a id="29634" class="Symbol">}{</a><a id="29636" href="Demos.HSP.html#29636" class="Bound">𝒜</a> <a id="29638" class="Symbol">:</a> <a id="29640" href="Demos.HSP.html#29624" class="Bound">I</a> <a id="29642" class="Symbol">→</a> <a id="29644" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="29652" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="29654" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="29656" class="Symbol">}{</a><a id="29658" href="Demos.HSP.html#29658" class="Bound">ℬ</a> <a id="29660" class="Symbol">:</a> <a id="29662" href="Demos.HSP.html#29624" class="Bound">I</a> <a id="29664" class="Symbol">→</a> <a id="29666" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="29674" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="29676" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="29678" class="Symbol">}</a> <a id="29680" class="Keyword">where</a>

 <a id="29688" class="Keyword">open</a> <a id="29693" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="29701" class="Symbol">(</a><a id="29702" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="29704" href="Demos.HSP.html#29636" class="Bound">𝒜</a><a id="29705" class="Symbol">)</a> <a id="29707" class="Keyword">using</a> <a id="29713" class="Symbol">()</a> <a id="29716" class="Keyword">renaming</a> <a id="29725" class="Symbol">(</a> <a id="29727" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="29734" class="Symbol">to</a> <a id="29737" class="Field">⨅A</a> <a id="29740" class="Symbol">)</a>
 <a id="29743" class="Keyword">open</a> <a id="29748" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="29756" class="Symbol">(</a><a id="29757" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="29759" href="Demos.HSP.html#29658" class="Bound">ℬ</a><a id="29760" class="Symbol">)</a> <a id="29762" class="Keyword">using</a> <a id="29768" class="Symbol">()</a> <a id="29771" class="Keyword">renaming</a> <a id="29780" class="Symbol">(</a> <a id="29782" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="29789" class="Symbol">to</a> <a id="29792" class="Field">⨅B</a> <a id="29795" class="Symbol">)</a>
 <a id="29798" class="Keyword">open</a> <a id="29803" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="29810" href="Demos.HSP.html#29737" class="Function">⨅A</a> <a id="29813" class="Keyword">using</a> <a id="29819" class="Symbol">(</a> <a id="29821" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="29826" class="Symbol">)</a>
 <a id="29829" class="Keyword">open</a> <a id="29834" href="Demos.HSP.html#14989" class="Module">IsHom</a>
 <a id="29841" href="Demos.HSP.html#29841" class="Function">⨅-≤</a> <a id="29845" class="Symbol">:</a> <a id="29847" class="Symbol">(∀</a> <a id="29850" href="Demos.HSP.html#29850" class="Bound">i</a> <a id="29852" class="Symbol">→</a> <a id="29854" href="Demos.HSP.html#29658" class="Bound">ℬ</a> <a id="29856" href="Demos.HSP.html#29850" class="Bound">i</a> <a id="29858" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="29860" href="Demos.HSP.html#29636" class="Bound">𝒜</a> <a id="29862" href="Demos.HSP.html#29850" class="Bound">i</a><a id="29863" class="Symbol">)</a> <a id="29865" class="Symbol">→</a> <a id="29867" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="29869" href="Demos.HSP.html#29658" class="Bound">ℬ</a> <a id="29871" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="29873" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="29875" href="Demos.HSP.html#29636" class="Bound">𝒜</a>
 <a id="29878" href="Demos.HSP.html#29841" class="Function">⨅-≤</a> <a id="29882" href="Demos.HSP.html#29882" class="Bound">B≤A</a> <a id="29886" class="Symbol">=</a> <a id="29888" href="Demos.HSP.html#29905" class="Function">h</a> <a id="29890" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29892" href="Demos.HSP.html#30193" class="Function">hM</a>
  <a id="29897" class="Keyword">where</a>
  <a id="29905" href="Demos.HSP.html#29905" class="Function">h</a> <a id="29907" class="Symbol">:</a> <a id="29909" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="29913" class="Symbol">(</a><a id="29914" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="29916" href="Demos.HSP.html#29658" class="Bound">ℬ</a><a id="29917" class="Symbol">)</a> <a id="29919" class="Symbol">(</a><a id="29920" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="29922" href="Demos.HSP.html#29636" class="Bound">𝒜</a><a id="29923" class="Symbol">)</a>
  <a id="29927" href="Demos.HSP.html#29905" class="Function">h</a> <a id="29929" class="Symbol">=</a> <a id="29931" href="Demos.HSP.html#30007" class="Function">hfunc</a> <a id="29937" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29939" href="Demos.HSP.html#30112" class="Function">hhom</a>
   <a id="29947" class="Keyword">where</a>
   <a id="29956" href="Demos.HSP.html#29956" class="Function">hi</a> <a id="29959" class="Symbol">:</a> <a id="29961" class="Symbol">∀</a> <a id="29963" href="Demos.HSP.html#29963" class="Bound">i</a> <a id="29965" class="Symbol">→</a> <a id="29967" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="29971" class="Symbol">(</a><a id="29972" href="Demos.HSP.html#29658" class="Bound">ℬ</a> <a id="29974" href="Demos.HSP.html#29963" class="Bound">i</a><a id="29975" class="Symbol">)</a> <a id="29977" class="Symbol">(</a><a id="29978" href="Demos.HSP.html#29636" class="Bound">𝒜</a> <a id="29980" href="Demos.HSP.html#29963" class="Bound">i</a><a id="29981" class="Symbol">)</a>
   <a id="29986" href="Demos.HSP.html#29956" class="Function">hi</a> <a id="29989" href="Demos.HSP.html#29989" class="Bound">i</a> <a id="29991" class="Symbol">=</a> <a id="29993" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="29995" href="Demos.HSP.html#29882" class="Bound">B≤A</a> <a id="29999" href="Demos.HSP.html#29989" class="Bound">i</a> <a id="30001" href="Demos.HSP.html#2477" class="Function Operator">∣</a>

   <a id="30007" href="Demos.HSP.html#30007" class="Function">hfunc</a> <a id="30013" class="Symbol">:</a> <a id="30015" href="Demos.HSP.html#29792" class="Function">⨅B</a> <a id="30018" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="30020" href="Demos.HSP.html#29737" class="Function">⨅A</a>
   <a id="30026" class="Symbol">(</a><a id="30027" href="Demos.HSP.html#30007" class="Function">hfunc</a> <a id="30033" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="30037" href="Demos.HSP.html#30037" class="Bound">x</a><a id="30038" class="Symbol">)</a> <a id="30040" href="Demos.HSP.html#30040" class="Bound">i</a> <a id="30042" class="Symbol">=</a> <a id="30044" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="30046" href="Demos.HSP.html#29956" class="Function">hi</a> <a id="30049" href="Demos.HSP.html#30040" class="Bound">i</a> <a id="30051" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="30053" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="30057" class="Symbol">(</a><a id="30058" href="Demos.HSP.html#30037" class="Bound">x</a> <a id="30060" href="Demos.HSP.html#30040" class="Bound">i</a><a id="30061" class="Symbol">)</a>
   <a id="30066" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30071" href="Demos.HSP.html#30007" class="Function">hfunc</a> <a id="30077" class="Symbol">=</a> <a id="30079" class="Symbol">λ</a> <a id="30081" href="Demos.HSP.html#30081" class="Bound">xy</a> <a id="30084" href="Demos.HSP.html#30084" class="Bound">i</a> <a id="30086" class="Symbol">→</a> <a id="30088" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30093" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="30095" href="Demos.HSP.html#29956" class="Function">hi</a> <a id="30098" href="Demos.HSP.html#30084" class="Bound">i</a> <a id="30100" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="30102" class="Symbol">(</a><a id="30103" href="Demos.HSP.html#30081" class="Bound">xy</a> <a id="30106" href="Demos.HSP.html#30084" class="Bound">i</a><a id="30107" class="Symbol">)</a>
   <a id="30112" href="Demos.HSP.html#30112" class="Function">hhom</a> <a id="30117" class="Symbol">:</a> <a id="30119" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="30125" class="Symbol">(</a><a id="30126" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="30128" href="Demos.HSP.html#29658" class="Bound">ℬ</a><a id="30129" class="Symbol">)</a> <a id="30131" class="Symbol">(</a><a id="30132" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="30134" href="Demos.HSP.html#29636" class="Bound">𝒜</a><a id="30135" class="Symbol">)</a> <a id="30137" href="Demos.HSP.html#30007" class="Function">hfunc</a>
   <a id="30146" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="30157" href="Demos.HSP.html#30112" class="Function">hhom</a> <a id="30162" class="Symbol">=</a> <a id="30164" class="Symbol">λ</a> <a id="30166" href="Demos.HSP.html#30166" class="Bound">i</a> <a id="30168" class="Symbol">→</a> <a id="30170" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="30181" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="30183" href="Demos.HSP.html#29956" class="Function">hi</a> <a id="30186" href="Demos.HSP.html#30166" class="Bound">i</a> <a id="30188" href="Demos.HSP.html#2515" class="Function Operator">∥</a>

  <a id="30193" href="Demos.HSP.html#30193" class="Function">hM</a> <a id="30196" class="Symbol">:</a> <a id="30198" href="Demos.HSP.html#5232" class="Function">IsInjective</a> <a id="30210" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="30212" href="Demos.HSP.html#29905" class="Function">h</a> <a id="30214" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="30218" href="Demos.HSP.html#30193" class="Function">hM</a> <a id="30221" class="Symbol">=</a> <a id="30223" class="Symbol">λ</a> <a id="30225" href="Demos.HSP.html#30225" class="Bound">xy</a> <a id="30228" href="Demos.HSP.html#30228" class="Bound">i</a> <a id="30230" class="Symbol">→</a> <a id="30232" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="30234" href="Demos.HSP.html#29882" class="Bound">B≤A</a> <a id="30238" href="Demos.HSP.html#30228" class="Bound">i</a> <a id="30240" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="30242" class="Symbol">(</a><a id="30243" href="Demos.HSP.html#30225" class="Bound">xy</a> <a id="30246" href="Demos.HSP.html#30228" class="Bound">i</a><a id="30247" class="Symbol">)</a>

</pre>


## Terms

### <a id="terms-basic-definitions">Basic definitions</a>

Fix a signature `𝑆` and let `X` denote an arbitrary nonempty collection of variable symbols. Assume the symbols in `X` are distinct from the operation symbols of `𝑆`, that is `X ∩ ∣ 𝑆 ∣ = ∅`.

By a *word* in the language of `𝑆`, we mean a nonempty, finite sequence of members of `X ∪ ∣ 𝑆 ∣`. We denote the concatenation of such sequences by simple juxtaposition.

Let `S₀` denote the set of nullary operation symbols of `𝑆`. We define by induction on `n` the sets `𝑇ₙ` of *words* over `X ∪ ∣ 𝑆 ∣` as follows (cf. [Bergman (2012)][] Def. 4.19):

`𝑇₀ := X ∪ S₀` and `𝑇ₙ₊₁ := 𝑇ₙ ∪ 𝒯ₙ`

where `𝒯ₙ` is the collection of all `f t` such that `f : ∣ 𝑆 ∣` and `t : ∥ 𝑆 ∥ f → 𝑇ₙ`. (Recall, `∥ 𝑆 ∥ f` is the arity of the operation symbol f.)

We define the collection of *terms* in the signature `𝑆` over `X` by `Term X := ⋃ₙ 𝑇ₙ`. By an 𝑆-*term* we mean a term in the language of `𝑆`.

The definition of `Term X` is recursive, indicating that an inductive type could be used to represent the semantic notion of terms in type theory. Indeed, such a representation is given by the following inductive type.

<pre class="Agda">

<a id="31441" class="Keyword">data</a> <a id="Term"></a><a id="31446" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="31451" class="Symbol">(</a><a id="31452" href="Demos.HSP.html#31452" class="Bound">X</a> <a id="31454" class="Symbol">:</a> <a id="31456" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="31461" href="Demos.HSP.html#1521" class="Generalizable">χ</a> <a id="31463" class="Symbol">)</a> <a id="31465" class="Symbol">:</a> <a id="31467" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="31472" class="Symbol">(</a><a id="31473" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="31476" href="Demos.HSP.html#31461" class="Bound">χ</a><a id="31477" class="Symbol">)</a>  <a id="31480" class="Keyword">where</a>
 <a id="Term.ℊ"></a><a id="31487" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="31489" class="Symbol">:</a> <a id="31491" href="Demos.HSP.html#31452" class="Bound">X</a> <a id="31493" class="Symbol">→</a> <a id="31495" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="31500" href="Demos.HSP.html#31452" class="Bound">X</a>    <a id="31505" class="Comment">-- (ℊ for &quot;generator&quot;)</a>
 <a id="Term.node"></a><a id="31529" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="31534" class="Symbol">:</a> <a id="31536" class="Symbol">(</a><a id="31537" href="Demos.HSP.html#31537" class="Bound">f</a> <a id="31539" class="Symbol">:</a> <a id="31541" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="31543" href="Demos.HSP.html#369" class="Bound">𝑆</a> <a id="31545" href="Demos.HSP.html#2477" class="Function Operator">∣</a><a id="31546" class="Symbol">)(</a><a id="31548" href="Demos.HSP.html#31548" class="Bound">t</a> <a id="31550" class="Symbol">:</a> <a id="31552" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="31554" href="Demos.HSP.html#369" class="Bound">𝑆</a> <a id="31556" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="31558" href="Demos.HSP.html#31537" class="Bound">f</a> <a id="31560" class="Symbol">→</a> <a id="31562" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="31567" href="Demos.HSP.html#31452" class="Bound">X</a><a id="31568" class="Symbol">)</a> <a id="31570" class="Symbol">→</a> <a id="31572" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="31577" href="Demos.HSP.html#31452" class="Bound">X</a>

<a id="31580" class="Keyword">open</a> <a id="31585" href="Demos.HSP.html#31446" class="Module">Term</a>

</pre>

This is a very basic inductive type that represents each term as a tree with an operation symbol at each `node` and a variable symbol at each leaf (`generator`).

**Notation**. As usual, the type `X` represents an arbitrary collection of variable symbols. Recall, `ov χ` is our shorthand notation for the universe level `𝓞 ⊔ 𝓥 ⊔ lsuc χ`.


### <a id="equality-of-terms">Equality of terms</a>

We take a different approach here, using Setoids instead of quotient types.
That is, we will define the collection of terms in a signature as a setoid
with a particular equality-of-terms relation, which we must define.
Ultimately we will use this to define the (absolutely free) term algebra
as a Algebra whose carrier is the setoid of terms.

<pre class="Agda">

<a id="32354" class="Keyword">module</a> <a id="32361" href="Demos.HSP.html#32361" class="Module">_</a> <a id="32363" class="Symbol">{</a><a id="32364" href="Demos.HSP.html#32364" class="Bound">X</a> <a id="32366" class="Symbol">:</a> <a id="32368" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="32373" href="Demos.HSP.html#1521" class="Generalizable">χ</a> <a id="32375" class="Symbol">}</a> <a id="32377" class="Keyword">where</a>

 <a id="32385" class="Comment">-- Equality of terms as an inductive datatype</a>
 <a id="32432" class="Keyword">data</a> <a id="32437" href="Demos.HSP.html#32437" class="Datatype Operator">_≐_</a> <a id="32441" class="Symbol">:</a> <a id="32443" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="32448" href="Demos.HSP.html#32364" class="Bound">X</a> <a id="32450" class="Symbol">→</a> <a id="32452" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="32457" href="Demos.HSP.html#32364" class="Bound">X</a> <a id="32459" class="Symbol">→</a> <a id="32461" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="32466" class="Symbol">(</a><a id="32467" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="32470" href="Demos.HSP.html#32373" class="Bound">χ</a><a id="32471" class="Symbol">)</a> <a id="32473" class="Keyword">where</a>
  <a id="32481" href="Demos.HSP.html#32481" class="InductiveConstructor">rfl</a> <a id="32485" class="Symbol">:</a> <a id="32487" class="Symbol">{</a><a id="32488" href="Demos.HSP.html#32488" class="Bound">x</a> <a id="32490" href="Demos.HSP.html#32490" class="Bound">y</a> <a id="32492" class="Symbol">:</a> <a id="32494" href="Demos.HSP.html#32364" class="Bound">X</a><a id="32495" class="Symbol">}</a> <a id="32497" class="Symbol">→</a> <a id="32499" href="Demos.HSP.html#32488" class="Bound">x</a> <a id="32501" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="32503" href="Demos.HSP.html#32490" class="Bound">y</a> <a id="32505" class="Symbol">→</a> <a id="32507" class="Symbol">(</a><a id="32508" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="32510" href="Demos.HSP.html#32488" class="Bound">x</a><a id="32511" class="Symbol">)</a> <a id="32513" href="Demos.HSP.html#32437" class="Datatype Operator">≐</a> <a id="32515" class="Symbol">(</a><a id="32516" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="32518" href="Demos.HSP.html#32490" class="Bound">y</a><a id="32519" class="Symbol">)</a>
  <a id="32523" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="32527" class="Symbol">:</a> <a id="32529" class="Symbol">∀</a> <a id="32531" class="Symbol">{</a><a id="32532" href="Demos.HSP.html#32532" class="Bound">f</a><a id="32533" class="Symbol">}{</a><a id="32535" href="Demos.HSP.html#32535" class="Bound">s</a> <a id="32537" href="Demos.HSP.html#32537" class="Bound">t</a> <a id="32539" class="Symbol">:</a> <a id="32541" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="32543" href="Demos.HSP.html#369" class="Bound">𝑆</a> <a id="32545" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="32547" href="Demos.HSP.html#32532" class="Bound">f</a> <a id="32549" class="Symbol">→</a> <a id="32551" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="32556" href="Demos.HSP.html#32364" class="Bound">X</a><a id="32557" class="Symbol">}</a> <a id="32559" class="Symbol">→</a> <a id="32561" class="Symbol">(∀</a> <a id="32564" href="Demos.HSP.html#32564" class="Bound">i</a> <a id="32566" class="Symbol">→</a> <a id="32568" class="Symbol">(</a><a id="32569" href="Demos.HSP.html#32535" class="Bound">s</a> <a id="32571" href="Demos.HSP.html#32564" class="Bound">i</a><a id="32572" class="Symbol">)</a> <a id="32574" href="Demos.HSP.html#32437" class="Datatype Operator">≐</a> <a id="32576" class="Symbol">(</a><a id="32577" href="Demos.HSP.html#32537" class="Bound">t</a> <a id="32579" href="Demos.HSP.html#32564" class="Bound">i</a><a id="32580" class="Symbol">))</a> <a id="32583" class="Symbol">→</a> <a id="32585" class="Symbol">(</a><a id="32586" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="32591" href="Demos.HSP.html#32532" class="Bound">f</a> <a id="32593" href="Demos.HSP.html#32535" class="Bound">s</a><a id="32594" class="Symbol">)</a> <a id="32596" href="Demos.HSP.html#32437" class="Datatype Operator">≐</a> <a id="32598" class="Symbol">(</a><a id="32599" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="32604" href="Demos.HSP.html#32532" class="Bound">f</a> <a id="32606" href="Demos.HSP.html#32537" class="Bound">t</a><a id="32607" class="Symbol">)</a>

 <a id="32611" class="Comment">-- Equality of terms is an equivalence relation</a>
 <a id="32660" class="Keyword">open</a> <a id="32665" href="Level.html" class="Module">Level</a>
 <a id="32672" href="Demos.HSP.html#32672" class="Function">≐-isRefl</a> <a id="32681" class="Symbol">:</a> <a id="32683" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="32693" href="Demos.HSP.html#32437" class="Datatype Operator">_≐_</a>
 <a id="32698" href="Demos.HSP.html#32672" class="Function">≐-isRefl</a> <a id="32707" class="Symbol">{</a><a id="32708" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="32710" class="Symbol">_}</a> <a id="32713" class="Symbol">=</a> <a id="32715" href="Demos.HSP.html#32481" class="InductiveConstructor">rfl</a> <a id="32719" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a>
 <a id="32727" href="Demos.HSP.html#32672" class="Function">≐-isRefl</a> <a id="32736" class="Symbol">{</a><a id="32737" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="32742" class="Symbol">_</a> <a id="32744" class="Symbol">_}</a> <a id="32747" class="Symbol">=</a> <a id="32749" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="32753" class="Symbol">(λ</a> <a id="32756" href="Demos.HSP.html#32756" class="Bound">_</a> <a id="32758" class="Symbol">→</a> <a id="32760" href="Demos.HSP.html#32672" class="Function">≐-isRefl</a><a id="32768" class="Symbol">)</a>

 <a id="32772" href="Demos.HSP.html#32772" class="Function">≐-isSym</a> <a id="32780" class="Symbol">:</a> <a id="32782" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="32792" href="Demos.HSP.html#32437" class="Datatype Operator">_≐_</a>
 <a id="32797" href="Demos.HSP.html#32772" class="Function">≐-isSym</a> <a id="32805" class="Symbol">(</a><a id="32806" href="Demos.HSP.html#32481" class="InductiveConstructor">rfl</a> <a id="32810" href="Demos.HSP.html#32810" class="Bound">x</a><a id="32811" class="Symbol">)</a> <a id="32813" class="Symbol">=</a> <a id="32815" href="Demos.HSP.html#32481" class="InductiveConstructor">rfl</a> <a id="32819" class="Symbol">(</a><a id="32820" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">≡.sym</a> <a id="32826" href="Demos.HSP.html#32810" class="Bound">x</a><a id="32827" class="Symbol">)</a>
 <a id="32830" href="Demos.HSP.html#32772" class="Function">≐-isSym</a> <a id="32838" class="Symbol">(</a><a id="32839" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="32843" href="Demos.HSP.html#32843" class="Bound">x</a><a id="32844" class="Symbol">)</a> <a id="32846" class="Symbol">=</a> <a id="32848" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="32852" class="Symbol">(λ</a> <a id="32855" href="Demos.HSP.html#32855" class="Bound">i</a> <a id="32857" class="Symbol">→</a> <a id="32859" href="Demos.HSP.html#32772" class="Function">≐-isSym</a> <a id="32867" class="Symbol">(</a><a id="32868" href="Demos.HSP.html#32843" class="Bound">x</a> <a id="32870" href="Demos.HSP.html#32855" class="Bound">i</a><a id="32871" class="Symbol">))</a>

 <a id="32876" href="Demos.HSP.html#32876" class="Function">≐-isTrans</a> <a id="32886" class="Symbol">:</a> <a id="32888" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="32899" href="Demos.HSP.html#32437" class="Datatype Operator">_≐_</a>
 <a id="32904" href="Demos.HSP.html#32876" class="Function">≐-isTrans</a> <a id="32914" class="Symbol">(</a><a id="32915" href="Demos.HSP.html#32481" class="InductiveConstructor">rfl</a> <a id="32919" href="Demos.HSP.html#32919" class="Bound">x</a><a id="32920" class="Symbol">)</a> <a id="32922" class="Symbol">(</a><a id="32923" href="Demos.HSP.html#32481" class="InductiveConstructor">rfl</a> <a id="32927" href="Demos.HSP.html#32927" class="Bound">y</a><a id="32928" class="Symbol">)</a> <a id="32930" class="Symbol">=</a> <a id="32932" href="Demos.HSP.html#32481" class="InductiveConstructor">rfl</a> <a id="32936" class="Symbol">(</a><a id="32937" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">≡.trans</a> <a id="32945" href="Demos.HSP.html#32919" class="Bound">x</a> <a id="32947" href="Demos.HSP.html#32927" class="Bound">y</a><a id="32948" class="Symbol">)</a>
 <a id="32951" href="Demos.HSP.html#32876" class="Function">≐-isTrans</a> <a id="32961" class="Symbol">(</a><a id="32962" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="32966" href="Demos.HSP.html#32966" class="Bound">x</a><a id="32967" class="Symbol">)</a> <a id="32969" class="Symbol">(</a><a id="32970" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="32974" href="Demos.HSP.html#32974" class="Bound">y</a><a id="32975" class="Symbol">)</a> <a id="32977" class="Symbol">=</a> <a id="32979" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="32983" class="Symbol">(λ</a> <a id="32986" href="Demos.HSP.html#32986" class="Bound">i</a> <a id="32988" class="Symbol">→</a> <a id="32990" href="Demos.HSP.html#32876" class="Function">≐-isTrans</a> <a id="33000" class="Symbol">(</a><a id="33001" href="Demos.HSP.html#32966" class="Bound">x</a> <a id="33003" href="Demos.HSP.html#32986" class="Bound">i</a><a id="33004" class="Symbol">)</a> <a id="33006" class="Symbol">(</a><a id="33007" href="Demos.HSP.html#32974" class="Bound">y</a> <a id="33009" href="Demos.HSP.html#32986" class="Bound">i</a><a id="33010" class="Symbol">))</a>

 <a id="33015" href="Demos.HSP.html#33015" class="Function">≐-isEquiv</a> <a id="33025" class="Symbol">:</a> <a id="33027" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="33041" href="Demos.HSP.html#32437" class="Datatype Operator">_≐_</a>
 <a id="33046" href="Demos.HSP.html#33015" class="Function">≐-isEquiv</a> <a id="33056" class="Symbol">=</a> <a id="33058" class="Keyword">record</a> <a id="33065" class="Symbol">{</a> <a id="33067" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="33072" class="Symbol">=</a> <a id="33074" href="Demos.HSP.html#32672" class="Function">≐-isRefl</a> <a id="33083" class="Symbol">;</a> <a id="33085" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="33089" class="Symbol">=</a> <a id="33091" href="Demos.HSP.html#32772" class="Function">≐-isSym</a> <a id="33099" class="Symbol">;</a> <a id="33101" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="33107" class="Symbol">=</a> <a id="33109" href="Demos.HSP.html#32876" class="Function">≐-isTrans</a> <a id="33119" class="Symbol">}</a>

</pre>


### <a id="the-term-algebra">The term algebra</a>

For a given signature `𝑆`, if the type `Term X` is nonempty (equivalently, if `X` or `∣ 𝑆 ∣` is nonempty), then we can define an algebraic structure, denoted by `𝑻 X` and called the *term algebra in the signature* `𝑆` *over* `X`.  Terms are viewed as acting on other terms, so both the domain and basic operations of the algebra are the terms themselves.


+ For each operation symbol `f : ∣ 𝑆 ∣`, denote by `f ̂ (𝑻 X)` the operation on `Term X` that maps a tuple `t : ∥ 𝑆 ∥ f → ∣ 𝑻 X ∣` to the formal term `f t`.
+ Define `𝑻 X` to be the algebra with universe `∣ 𝑻 X ∣ := Term X` and operations `f ̂ (𝑻 X)`, one for each symbol `f` in `∣ 𝑆 ∣`.

In [Agda][] the term algebra can be defined as simply as one might hope.

<pre class="Agda">

<a id="TermSetoid"></a><a id="33920" href="Demos.HSP.html#33920" class="Function">TermSetoid</a> <a id="33931" class="Symbol">:</a> <a id="33933" class="Symbol">(</a><a id="33934" href="Demos.HSP.html#33934" class="Bound">X</a> <a id="33936" class="Symbol">:</a> <a id="33938" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="33943" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="33944" class="Symbol">)</a> <a id="33946" class="Symbol">→</a> <a id="33948" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="33955" class="Symbol">(</a><a id="33956" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="33959" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="33960" class="Symbol">)</a> <a id="33962" class="Symbol">(</a><a id="33963" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="33966" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="33967" class="Symbol">)</a>
<a id="33969" href="Demos.HSP.html#33920" class="Function">TermSetoid</a> <a id="33980" href="Demos.HSP.html#33980" class="Bound">X</a> <a id="33982" class="Symbol">=</a> <a id="33984" class="Keyword">record</a> <a id="33991" class="Symbol">{</a> <a id="33993" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="34001" class="Symbol">=</a> <a id="34003" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="34008" href="Demos.HSP.html#33980" class="Bound">X</a> <a id="34010" class="Symbol">;</a> <a id="34012" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="34016" class="Symbol">=</a> <a id="34018" href="Demos.HSP.html#32437" class="Datatype Operator">_≐_</a> <a id="34022" class="Symbol">;</a> <a id="34024" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="34038" class="Symbol">=</a> <a id="34040" href="Demos.HSP.html#33015" class="Function">≐-isEquiv</a> <a id="34050" class="Symbol">}</a>

<a id="𝑻"></a><a id="34053" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="34055" class="Symbol">:</a> <a id="34057" class="Symbol">(</a><a id="34058" href="Demos.HSP.html#34058" class="Bound">X</a> <a id="34060" class="Symbol">:</a> <a id="34062" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="34067" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="34068" class="Symbol">)</a> <a id="34070" class="Symbol">→</a> <a id="34072" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="34080" class="Symbol">(</a><a id="34081" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="34084" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="34085" class="Symbol">)</a> <a id="34087" class="Symbol">(</a><a id="34088" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="34091" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="34092" class="Symbol">)</a>
<a id="34094" href="Demos.HSP.html#10334" class="Field">Algebra.Domain</a> <a id="34109" class="Symbol">(</a><a id="34110" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="34112" href="Demos.HSP.html#34112" class="Bound">X</a><a id="34113" class="Symbol">)</a> <a id="34115" class="Symbol">=</a> <a id="34117" href="Demos.HSP.html#33920" class="Function">TermSetoid</a> <a id="34128" href="Demos.HSP.html#34112" class="Bound">X</a>
<a id="34130" href="Demos.HSP.html#10356" class="Field">Algebra.Interp</a> <a id="34145" class="Symbol">(</a><a id="34146" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="34148" href="Demos.HSP.html#34148" class="Bound">X</a><a id="34149" class="Symbol">)</a> <a id="34151" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="34155" class="Symbol">(</a><a id="34156" href="Demos.HSP.html#34156" class="Bound">f</a> <a id="34158" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="34160" href="Demos.HSP.html#34160" class="Bound">ts</a><a id="34162" class="Symbol">)</a> <a id="34164" class="Symbol">=</a> <a id="34166" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="34171" href="Demos.HSP.html#34156" class="Bound">f</a> <a id="34173" href="Demos.HSP.html#34160" class="Bound">ts</a>
<a id="34176" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="34181" class="Symbol">(</a><a id="34182" href="Demos.HSP.html#10356" class="Field">Algebra.Interp</a> <a id="34197" class="Symbol">(</a><a id="34198" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="34200" href="Demos.HSP.html#34200" class="Bound">X</a><a id="34201" class="Symbol">))</a> <a id="34204" class="Symbol">(</a><a id="34205" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="34212" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="34214" href="Demos.HSP.html#34214" class="Bound">ss≐ts</a><a id="34219" class="Symbol">)</a> <a id="34221" class="Symbol">=</a> <a id="34223" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="34227" href="Demos.HSP.html#34214" class="Bound">ss≐ts</a>

</pre>

### <a id="interpretation-of-terms">Interpretation of terms</a>

The approach to terms and their interpretation in this module was inspired by
[Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).

A substitution from `X` to `Y` associates a term in `X` with each variable in `Y`.

<pre class="Agda">

<a id="34617" class="Comment">-- Parallel substitutions.</a>
<a id="Sub"></a><a id="34644" href="Demos.HSP.html#34644" class="Function">Sub</a> <a id="34648" class="Symbol">:</a> <a id="34650" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="34655" href="Demos.HSP.html#1521" class="Generalizable">χ</a> <a id="34657" class="Symbol">→</a> <a id="34659" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="34664" href="Demos.HSP.html#1521" class="Generalizable">χ</a> <a id="34666" class="Symbol">→</a> <a id="34668" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="34673" class="Symbol">(</a><a id="34674" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="34677" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="34678" class="Symbol">)</a>
<a id="34680" href="Demos.HSP.html#34644" class="Function">Sub</a> <a id="34684" href="Demos.HSP.html#34684" class="Bound">X</a> <a id="34686" href="Demos.HSP.html#34686" class="Bound">Y</a> <a id="34688" class="Symbol">=</a> <a id="34690" class="Symbol">(</a><a id="34691" href="Demos.HSP.html#34691" class="Bound">y</a> <a id="34693" class="Symbol">:</a> <a id="34695" href="Demos.HSP.html#34686" class="Bound">Y</a><a id="34696" class="Symbol">)</a> <a id="34698" class="Symbol">→</a> <a id="34700" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="34705" href="Demos.HSP.html#34684" class="Bound">X</a>

<a id="34708" class="Comment">-- Application of a substitution.</a>
<a id="_[_]"></a><a id="34742" href="Demos.HSP.html#34742" class="Function Operator">_[_]</a> <a id="34747" class="Symbol">:</a> <a id="34749" class="Symbol">{</a><a id="34750" href="Demos.HSP.html#34750" class="Bound">X</a> <a id="34752" href="Demos.HSP.html#34752" class="Bound">Y</a> <a id="34754" class="Symbol">:</a> <a id="34756" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="34761" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="34762" class="Symbol">}(</a><a id="34764" href="Demos.HSP.html#34764" class="Bound">t</a> <a id="34766" class="Symbol">:</a> <a id="34768" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="34773" href="Demos.HSP.html#34752" class="Bound">Y</a><a id="34774" class="Symbol">)</a> <a id="34776" class="Symbol">(</a><a id="34777" href="Demos.HSP.html#34777" class="Bound">σ</a> <a id="34779" class="Symbol">:</a> <a id="34781" href="Demos.HSP.html#34644" class="Function">Sub</a> <a id="34785" href="Demos.HSP.html#34750" class="Bound">X</a> <a id="34787" href="Demos.HSP.html#34752" class="Bound">Y</a><a id="34788" class="Symbol">)</a> <a id="34790" class="Symbol">→</a> <a id="34792" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="34797" href="Demos.HSP.html#34750" class="Bound">X</a>
<a id="34799" class="Symbol">(</a><a id="34800" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="34802" href="Demos.HSP.html#34802" class="Bound">x</a><a id="34803" class="Symbol">)</a> <a id="34805" href="Demos.HSP.html#34742" class="Function Operator">[</a> <a id="34807" href="Demos.HSP.html#34807" class="Bound">σ</a> <a id="34809" href="Demos.HSP.html#34742" class="Function Operator">]</a> <a id="34811" class="Symbol">=</a> <a id="34813" href="Demos.HSP.html#34807" class="Bound">σ</a> <a id="34815" href="Demos.HSP.html#34802" class="Bound">x</a>
<a id="34817" class="Symbol">(</a><a id="34818" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="34823" href="Demos.HSP.html#34823" class="Bound">f</a> <a id="34825" href="Demos.HSP.html#34825" class="Bound">ts</a><a id="34827" class="Symbol">)</a> <a id="34829" href="Demos.HSP.html#34742" class="Function Operator">[</a> <a id="34831" href="Demos.HSP.html#34831" class="Bound">σ</a> <a id="34833" href="Demos.HSP.html#34742" class="Function Operator">]</a> <a id="34835" class="Symbol">=</a> <a id="34837" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="34842" href="Demos.HSP.html#34823" class="Bound">f</a> <a id="34844" class="Symbol">(λ</a> <a id="34847" href="Demos.HSP.html#34847" class="Bound">i</a> <a id="34849" class="Symbol">→</a> <a id="34851" href="Demos.HSP.html#34825" class="Bound">ts</a> <a id="34854" href="Demos.HSP.html#34847" class="Bound">i</a> <a id="34856" href="Demos.HSP.html#34742" class="Function Operator">[</a> <a id="34858" href="Demos.HSP.html#34831" class="Bound">σ</a> <a id="34860" href="Demos.HSP.html#34742" class="Function Operator">]</a><a id="34861" class="Symbol">)</a>

</pre>

An environment for `Γ` maps each variable `x : Γ` to an element of `A`, and equality of environments is defined pointwise.

<pre class="Agda">

<a id="35014" class="Keyword">module</a> <a id="Environment"></a><a id="35021" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="35033" class="Symbol">(</a><a id="35034" href="Demos.HSP.html#35034" class="Bound">𝑨</a> <a id="35036" class="Symbol">:</a> <a id="35038" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="35046" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="35048" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="35049" class="Symbol">)</a> <a id="35051" class="Keyword">where</a>
 <a id="35058" class="Keyword">open</a> <a id="35063" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="35071" href="Demos.HSP.html#35034" class="Bound">𝑨</a> <a id="35073" class="Keyword">using</a> <a id="35079" class="Symbol">(</a> <a id="35081" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="35088" class="Symbol">)</a> <a id="35090" class="Keyword">renaming</a> <a id="35099" class="Symbol">(</a> <a id="35101" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="35108" class="Symbol">to</a> <a id="35111" class="Field">A</a> <a id="35113" class="Symbol">)</a>
 <a id="35116" class="Keyword">open</a> <a id="35121" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="35128" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="35131" href="Demos.HSP.html#35034" class="Bound">𝑨</a> <a id="35133" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="35135" class="Keyword">using</a> <a id="35141" class="Symbol">(</a> <a id="35143" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="35148" class="Symbol">;</a> <a id="35150" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="35154" class="Symbol">;</a> <a id="35156" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="35162" class="Symbol">)</a> <a id="35164" class="Keyword">renaming</a> <a id="35173" class="Symbol">(</a> <a id="35175" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="35179" class="Symbol">to</a> <a id="35182" class="Field Operator">_≈ₐ_</a> <a id="35187" class="Symbol">;</a> <a id="35189" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="35197" class="Symbol">to</a> <a id="35200" class="Field">∣A∣</a> <a id="35204" class="Symbol">)</a>
 <a id="Environment.Env"></a><a id="35207" href="Demos.HSP.html#35207" class="Function">Env</a> <a id="35211" class="Symbol">:</a> <a id="35213" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="35218" href="Demos.HSP.html#1521" class="Generalizable">χ</a> <a id="35220" class="Symbol">→</a> <a id="35222" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="35229" class="Symbol">_</a> <a id="35231" class="Symbol">_</a>
 <a id="35234" href="Demos.HSP.html#35207" class="Function">Env</a> <a id="35238" href="Demos.HSP.html#35238" class="Bound">X</a> <a id="35240" class="Symbol">=</a> <a id="35242" class="Keyword">record</a> <a id="35249" class="Symbol">{</a> <a id="35251" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="35259" class="Symbol">=</a> <a id="35261" href="Demos.HSP.html#35238" class="Bound">X</a> <a id="35263" class="Symbol">→</a> <a id="35265" href="Demos.HSP.html#35200" class="Function">∣A∣</a>
                <a id="35285" class="Symbol">;</a> <a id="35287" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="35291" class="Symbol">=</a> <a id="35293" class="Symbol">λ</a> <a id="35295" href="Demos.HSP.html#35295" class="Bound">ρ</a> <a id="35297" href="Demos.HSP.html#35297" class="Bound">ρ&#39;</a> <a id="35300" class="Symbol">→</a> <a id="35302" class="Symbol">(</a><a id="35303" href="Demos.HSP.html#35303" class="Bound">x</a> <a id="35305" class="Symbol">:</a> <a id="35307" href="Demos.HSP.html#35238" class="Bound">X</a><a id="35308" class="Symbol">)</a> <a id="35310" class="Symbol">→</a> <a id="35312" href="Demos.HSP.html#35295" class="Bound">ρ</a> <a id="35314" href="Demos.HSP.html#35303" class="Bound">x</a> <a id="35316" href="Demos.HSP.html#35182" class="Function Operator">≈ₐ</a> <a id="35319" href="Demos.HSP.html#35297" class="Bound">ρ&#39;</a> <a id="35322" href="Demos.HSP.html#35303" class="Bound">x</a>
                <a id="35340" class="Symbol">;</a> <a id="35342" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="35356" class="Symbol">=</a>
                   <a id="35377" class="Keyword">record</a> <a id="35384" class="Symbol">{</a> <a id="35386" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="35391" class="Symbol">=</a> <a id="35393" class="Symbol">λ</a> <a id="35395" href="Demos.HSP.html#35395" class="Bound">_</a> <a id="35397" class="Symbol">→</a> <a id="35399" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
                          <a id="35430" class="Symbol">;</a> <a id="35432" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="35436" class="Symbol">=</a> <a id="35438" class="Symbol">λ</a> <a id="35440" href="Demos.HSP.html#35440" class="Bound">h</a> <a id="35442" href="Demos.HSP.html#35442" class="Bound">x</a> <a id="35444" class="Symbol">→</a> <a id="35446" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="35450" class="Symbol">(</a><a id="35451" href="Demos.HSP.html#35440" class="Bound">h</a> <a id="35453" href="Demos.HSP.html#35442" class="Bound">x</a><a id="35454" class="Symbol">)</a>
                          <a id="35482" class="Symbol">;</a> <a id="35484" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="35490" class="Symbol">=</a> <a id="35492" class="Symbol">λ</a> <a id="35494" href="Demos.HSP.html#35494" class="Bound">g</a> <a id="35496" href="Demos.HSP.html#35496" class="Bound">h</a> <a id="35498" href="Demos.HSP.html#35498" class="Bound">x</a> <a id="35500" class="Symbol">→</a> <a id="35502" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="35508" class="Symbol">(</a><a id="35509" href="Demos.HSP.html#35494" class="Bound">g</a> <a id="35511" href="Demos.HSP.html#35498" class="Bound">x</a><a id="35512" class="Symbol">)</a> <a id="35514" class="Symbol">(</a><a id="35515" href="Demos.HSP.html#35496" class="Bound">h</a> <a id="35517" href="Demos.HSP.html#35498" class="Bound">x</a><a id="35518" class="Symbol">)</a>
                          <a id="35546" class="Symbol">}</a>
                <a id="35564" class="Symbol">}</a>

 <a id="Environment.⟦_⟧"></a><a id="35568" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="35572" class="Symbol">:</a> <a id="35574" class="Symbol">{</a><a id="35575" href="Demos.HSP.html#35575" class="Bound">X</a> <a id="35577" class="Symbol">:</a> <a id="35579" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="35584" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="35585" class="Symbol">}(</a><a id="35587" href="Demos.HSP.html#35587" class="Bound">t</a> <a id="35589" class="Symbol">:</a> <a id="35591" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="35596" href="Demos.HSP.html#35575" class="Bound">X</a><a id="35597" class="Symbol">)</a> <a id="35599" class="Symbol">→</a> <a id="35601" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="35606" class="Symbol">(</a><a id="35607" href="Demos.HSP.html#35207" class="Function">Env</a> <a id="35611" href="Demos.HSP.html#35575" class="Bound">X</a><a id="35612" class="Symbol">)</a> <a id="35614" href="Demos.HSP.html#35111" class="Field">A</a>
 <a id="35617" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="35619" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="35621" href="Demos.HSP.html#35621" class="Bound">x</a> <a id="35623" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="35625" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="35629" href="Demos.HSP.html#35629" class="Bound">ρ</a> <a id="35631" class="Symbol">=</a> <a id="35633" href="Demos.HSP.html#35629" class="Bound">ρ</a> <a id="35635" href="Demos.HSP.html#35621" class="Bound">x</a>
 <a id="35638" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="35640" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="35645" href="Demos.HSP.html#35645" class="Bound">f</a> <a id="35647" href="Demos.HSP.html#35647" class="Bound">args</a> <a id="35652" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="35654" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="35658" href="Demos.HSP.html#35658" class="Bound">ρ</a> <a id="35660" class="Symbol">=</a> <a id="35662" class="Symbol">(</a><a id="35663" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="35670" href="Demos.HSP.html#35034" class="Bound">𝑨</a><a id="35671" class="Symbol">)</a> <a id="35673" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="35677" class="Symbol">(</a><a id="35678" href="Demos.HSP.html#35645" class="Bound">f</a> <a id="35680" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="35682" class="Symbol">λ</a> <a id="35684" href="Demos.HSP.html#35684" class="Bound">i</a> <a id="35686" class="Symbol">→</a> <a id="35688" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="35690" href="Demos.HSP.html#35647" class="Bound">args</a> <a id="35695" href="Demos.HSP.html#35684" class="Bound">i</a> <a id="35697" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="35699" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="35703" href="Demos.HSP.html#35658" class="Bound">ρ</a><a id="35704" class="Symbol">)</a>
 <a id="35707" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="35712" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="35714" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="35716" href="Demos.HSP.html#35716" class="Bound">x</a> <a id="35718" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="35720" href="Demos.HSP.html#35720" class="Bound">u≈v</a> <a id="35724" class="Symbol">=</a> <a id="35726" href="Demos.HSP.html#35720" class="Bound">u≈v</a> <a id="35730" href="Demos.HSP.html#35716" class="Bound">x</a>
 <a id="35733" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="35738" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="35740" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="35745" href="Demos.HSP.html#35745" class="Bound">f</a> <a id="35747" href="Demos.HSP.html#35747" class="Bound">args</a> <a id="35752" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="35754" href="Demos.HSP.html#35754" class="Bound">x≈y</a> <a id="35758" class="Symbol">=</a> <a id="35760" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="35765" class="Symbol">(</a><a id="35766" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="35773" href="Demos.HSP.html#35034" class="Bound">𝑨</a><a id="35774" class="Symbol">)(</a><a id="35776" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="35783" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="35785" class="Symbol">λ</a> <a id="35787" href="Demos.HSP.html#35787" class="Bound">i</a> <a id="35789" class="Symbol">→</a> <a id="35791" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="35796" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="35798" href="Demos.HSP.html#35747" class="Bound">args</a> <a id="35803" href="Demos.HSP.html#35787" class="Bound">i</a> <a id="35805" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="35807" href="Demos.HSP.html#35754" class="Bound">x≈y</a> <a id="35811" class="Symbol">)</a>

</pre>

An equality between two terms holds in a model if the two terms are equal under all valuations of their free variables (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf)).


<pre class="Agda">

 <a id="Environment.Equal"></a><a id="36097" href="Demos.HSP.html#36097" class="Function">Equal</a> <a id="36103" class="Symbol">:</a> <a id="36105" class="Symbol">∀</a> <a id="36107" class="Symbol">{</a><a id="36108" href="Demos.HSP.html#36108" class="Bound">X</a> <a id="36110" class="Symbol">:</a> <a id="36112" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="36117" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="36118" class="Symbol">}</a> <a id="36120" class="Symbol">(</a><a id="36121" href="Demos.HSP.html#36121" class="Bound">s</a> <a id="36123" href="Demos.HSP.html#36123" class="Bound">t</a> <a id="36125" class="Symbol">:</a> <a id="36127" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="36132" href="Demos.HSP.html#36108" class="Bound">X</a><a id="36133" class="Symbol">)</a> <a id="36135" class="Symbol">→</a> <a id="36137" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="36142" class="Symbol">_</a>
 <a id="36145" href="Demos.HSP.html#36097" class="Function">Equal</a> <a id="36151" class="Symbol">{</a><a id="36152" class="Argument">X</a> <a id="36154" class="Symbol">=</a> <a id="36156" href="Demos.HSP.html#36156" class="Bound">X</a><a id="36157" class="Symbol">}</a> <a id="36159" href="Demos.HSP.html#36159" class="Bound">s</a> <a id="36161" href="Demos.HSP.html#36161" class="Bound">t</a> <a id="36163" class="Symbol">=</a> <a id="36165" class="Symbol">∀</a> <a id="36167" class="Symbol">(</a><a id="36168" href="Demos.HSP.html#36168" class="Bound">ρ</a> <a id="36170" class="Symbol">:</a> <a id="36172" href="Relation.Binary.Bundles.html#1072" class="Field">Setoid.Carrier</a> <a id="36187" class="Symbol">(</a><a id="36188" href="Demos.HSP.html#35207" class="Function">Env</a> <a id="36192" href="Demos.HSP.html#36156" class="Bound">X</a><a id="36193" class="Symbol">))</a> <a id="36196" class="Symbol">→</a>  <a id="36199" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="36201" href="Demos.HSP.html#36159" class="Bound">s</a> <a id="36203" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="36205" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="36209" href="Demos.HSP.html#36168" class="Bound">ρ</a> <a id="36211" href="Demos.HSP.html#35182" class="Function Operator">≈ₐ</a> <a id="36214" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="36216" href="Demos.HSP.html#36161" class="Bound">t</a> <a id="36218" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="36220" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="36224" href="Demos.HSP.html#36168" class="Bound">ρ</a>

 <a id="Environment.≐→Equal"></a><a id="36228" href="Demos.HSP.html#36228" class="Function">≐→Equal</a> <a id="36236" class="Symbol">:</a> <a id="36238" class="Symbol">{</a><a id="36239" href="Demos.HSP.html#36239" class="Bound">X</a> <a id="36241" class="Symbol">:</a> <a id="36243" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="36248" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="36249" class="Symbol">}(</a><a id="36251" href="Demos.HSP.html#36251" class="Bound">s</a> <a id="36253" href="Demos.HSP.html#36253" class="Bound">t</a> <a id="36255" class="Symbol">:</a> <a id="36257" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="36262" href="Demos.HSP.html#36239" class="Bound">X</a><a id="36263" class="Symbol">)</a> <a id="36265" class="Symbol">→</a> <a id="36267" href="Demos.HSP.html#36251" class="Bound">s</a> <a id="36269" href="Demos.HSP.html#32437" class="Datatype Operator">≐</a> <a id="36271" href="Demos.HSP.html#36253" class="Bound">t</a> <a id="36273" class="Symbol">→</a> <a id="36275" href="Demos.HSP.html#36097" class="Function">Equal</a> <a id="36281" href="Demos.HSP.html#36251" class="Bound">s</a> <a id="36283" href="Demos.HSP.html#36253" class="Bound">t</a>
 <a id="36286" href="Demos.HSP.html#36228" class="Function">≐→Equal</a> <a id="36294" class="DottedPattern Symbol">.(</a><a id="36296" href="Demos.HSP.html#31487" class="DottedPattern InductiveConstructor">ℊ</a> <a id="36298" class="DottedPattern Symbol">_)</a> <a id="36301" class="DottedPattern Symbol">.(</a><a id="36303" href="Demos.HSP.html#31487" class="DottedPattern InductiveConstructor">ℊ</a> <a id="36305" class="DottedPattern Symbol">_)</a> <a id="36308" class="Symbol">(</a><a id="36309" href="Demos.HSP.html#32481" class="InductiveConstructor">rfl</a> <a id="36313" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a><a id="36319" class="Symbol">)</a> <a id="36321" class="Symbol">=</a> <a id="36323" class="Symbol">λ</a> <a id="36325" href="Demos.HSP.html#36325" class="Bound">_</a> <a id="36327" class="Symbol">→</a> <a id="36329" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="36335" href="Demos.HSP.html#36228" class="Function">≐→Equal</a> <a id="36343" class="Symbol">(</a><a id="36344" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="36349" class="Symbol">_</a> <a id="36351" href="Demos.HSP.html#36351" class="Bound">s</a><a id="36352" class="Symbol">)(</a><a id="36354" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="36359" class="Symbol">_</a> <a id="36361" href="Demos.HSP.html#36361" class="Bound">t</a><a id="36362" class="Symbol">)(</a><a id="36364" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="36368" href="Demos.HSP.html#36368" class="Bound">x</a><a id="36369" class="Symbol">)</a> <a id="36371" class="Symbol">=</a>
  <a id="36375" class="Symbol">λ</a> <a id="36377" href="Demos.HSP.html#36377" class="Bound">ρ</a> <a id="36379" class="Symbol">→</a> <a id="36381" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="36386" class="Symbol">(</a><a id="36387" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="36394" href="Demos.HSP.html#35034" class="Bound">𝑨</a><a id="36395" class="Symbol">)(</a><a id="36397" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="36404" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="36406" class="Symbol">λ</a> <a id="36408" href="Demos.HSP.html#36408" class="Bound">i</a> <a id="36410" class="Symbol">→</a> <a id="36412" href="Demos.HSP.html#36228" class="Function">≐→Equal</a><a id="36419" class="Symbol">(</a><a id="36420" href="Demos.HSP.html#36351" class="Bound">s</a> <a id="36422" href="Demos.HSP.html#36408" class="Bound">i</a><a id="36423" class="Symbol">)(</a><a id="36425" href="Demos.HSP.html#36361" class="Bound">t</a> <a id="36427" href="Demos.HSP.html#36408" class="Bound">i</a><a id="36428" class="Symbol">)(</a><a id="36430" href="Demos.HSP.html#36368" class="Bound">x</a> <a id="36432" href="Demos.HSP.html#36408" class="Bound">i</a><a id="36433" class="Symbol">)</a><a id="36434" href="Demos.HSP.html#36377" class="Bound">ρ</a> <a id="36436" class="Symbol">)</a>

</pre>

`Equal` is an equivalence relation.

<pre class="Agda">

 <a id="Environment.EqualIsEquiv"></a><a id="36503" href="Demos.HSP.html#36503" class="Function">EqualIsEquiv</a> <a id="36516" class="Symbol">:</a> <a id="36518" class="Symbol">{</a><a id="36519" href="Demos.HSP.html#36519" class="Bound">Γ</a> <a id="36521" class="Symbol">:</a> <a id="36523" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="36528" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="36529" class="Symbol">}</a> <a id="36531" class="Symbol">→</a> <a id="36533" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="36547" class="Symbol">(</a><a id="36548" href="Demos.HSP.html#36097" class="Function">Equal</a> <a id="36554" class="Symbol">{</a><a id="36555" class="Argument">X</a> <a id="36557" class="Symbol">=</a> <a id="36559" href="Demos.HSP.html#36519" class="Bound">Γ</a><a id="36560" class="Symbol">})</a>
 <a id="36564" href="Relation.Binary.Structures.html#1568" class="Field">IsEquivalence.refl</a>  <a id="36584" href="Demos.HSP.html#36503" class="Function">EqualIsEquiv</a> <a id="36597" class="Symbol">=</a> <a id="36599" class="Symbol">λ</a> <a id="36601" href="Demos.HSP.html#36601" class="Bound">_</a> <a id="36603" class="Symbol">→</a> <a id="36605" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="36611" href="Relation.Binary.Structures.html#1594" class="Field">IsEquivalence.sym</a>   <a id="36631" href="Demos.HSP.html#36503" class="Function">EqualIsEquiv</a> <a id="36644" class="Symbol">=</a> <a id="36646" class="Symbol">λ</a> <a id="36648" href="Demos.HSP.html#36648" class="Bound">x=y</a> <a id="36652" href="Demos.HSP.html#36652" class="Bound">ρ</a> <a id="36654" class="Symbol">→</a> <a id="36656" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="36660" class="Symbol">(</a><a id="36661" href="Demos.HSP.html#36648" class="Bound">x=y</a> <a id="36665" href="Demos.HSP.html#36652" class="Bound">ρ</a><a id="36666" class="Symbol">)</a>
 <a id="36669" href="Relation.Binary.Structures.html#1620" class="Field">IsEquivalence.trans</a> <a id="36689" href="Demos.HSP.html#36503" class="Function">EqualIsEquiv</a> <a id="36702" class="Symbol">=</a> <a id="36704" class="Symbol">λ</a> <a id="36706" href="Demos.HSP.html#36706" class="Bound">ij</a> <a id="36709" href="Demos.HSP.html#36709" class="Bound">jk</a> <a id="36712" href="Demos.HSP.html#36712" class="Bound">ρ</a> <a id="36714" class="Symbol">→</a> <a id="36716" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="36722" class="Symbol">(</a><a id="36723" href="Demos.HSP.html#36706" class="Bound">ij</a> <a id="36726" href="Demos.HSP.html#36712" class="Bound">ρ</a><a id="36727" class="Symbol">)</a> <a id="36729" class="Symbol">(</a><a id="36730" href="Demos.HSP.html#36709" class="Bound">jk</a> <a id="36733" href="Demos.HSP.html#36712" class="Bound">ρ</a><a id="36734" class="Symbol">)</a>

</pre>

Evaluation of a substitution gives an environment (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf))

<pre class="Agda">

 <a id="Environment.⟦_⟧s"></a><a id="36949" href="Demos.HSP.html#36949" class="Function Operator">⟦_⟧s</a> <a id="36954" class="Symbol">:</a> <a id="36956" class="Symbol">{</a><a id="36957" href="Demos.HSP.html#36957" class="Bound">X</a> <a id="36959" href="Demos.HSP.html#36959" class="Bound">Y</a> <a id="36961" class="Symbol">:</a> <a id="36963" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="36968" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="36969" class="Symbol">}</a> <a id="36971" class="Symbol">→</a> <a id="36973" href="Demos.HSP.html#34644" class="Function">Sub</a> <a id="36977" href="Demos.HSP.html#36957" class="Bound">X</a> <a id="36979" href="Demos.HSP.html#36959" class="Bound">Y</a> <a id="36981" class="Symbol">→</a> <a id="36983" href="Relation.Binary.Bundles.html#1072" class="Field">Setoid.Carrier</a><a id="36997" class="Symbol">(</a><a id="36998" href="Demos.HSP.html#35207" class="Function">Env</a> <a id="37002" href="Demos.HSP.html#36957" class="Bound">X</a><a id="37003" class="Symbol">)</a> <a id="37005" class="Symbol">→</a> <a id="37007" href="Relation.Binary.Bundles.html#1072" class="Field">Setoid.Carrier</a> <a id="37022" class="Symbol">(</a><a id="37023" href="Demos.HSP.html#35207" class="Function">Env</a> <a id="37027" href="Demos.HSP.html#36959" class="Bound">Y</a><a id="37028" class="Symbol">)</a>
 <a id="37031" href="Demos.HSP.html#36949" class="Function Operator">⟦</a> <a id="37033" href="Demos.HSP.html#37033" class="Bound">σ</a> <a id="37035" href="Demos.HSP.html#36949" class="Function Operator">⟧s</a> <a id="37038" href="Demos.HSP.html#37038" class="Bound">ρ</a> <a id="37040" href="Demos.HSP.html#37040" class="Bound">x</a> <a id="37042" class="Symbol">=</a> <a id="37044" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="37046" href="Demos.HSP.html#37033" class="Bound">σ</a> <a id="37048" href="Demos.HSP.html#37040" class="Bound">x</a> <a id="37050" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="37052" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="37056" href="Demos.HSP.html#37038" class="Bound">ρ</a>

</pre>

### Substitution lemma

We prove that ⟦t[σ]⟧ρ ≃ ⟦t⟧⟦σ⟧ρ (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf)).

<pre class="Agda">

 <a id="Environment.substitution"></a><a id="37278" href="Demos.HSP.html#37278" class="Function">substitution</a> <a id="37291" class="Symbol">:</a> <a id="37293" class="Symbol">{</a><a id="37294" href="Demos.HSP.html#37294" class="Bound">X</a> <a id="37296" href="Demos.HSP.html#37296" class="Bound">Y</a> <a id="37298" class="Symbol">:</a> <a id="37300" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="37305" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="37306" class="Symbol">}</a> <a id="37308" class="Symbol">→</a> <a id="37310" class="Symbol">(</a><a id="37311" href="Demos.HSP.html#37311" class="Bound">t</a> <a id="37313" class="Symbol">:</a> <a id="37315" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="37320" href="Demos.HSP.html#37296" class="Bound">Y</a><a id="37321" class="Symbol">)</a> <a id="37323" class="Symbol">(</a><a id="37324" href="Demos.HSP.html#37324" class="Bound">σ</a> <a id="37326" class="Symbol">:</a> <a id="37328" href="Demos.HSP.html#34644" class="Function">Sub</a> <a id="37332" href="Demos.HSP.html#37294" class="Bound">X</a> <a id="37334" href="Demos.HSP.html#37296" class="Bound">Y</a><a id="37335" class="Symbol">)</a> <a id="37337" class="Symbol">(</a><a id="37338" href="Demos.HSP.html#37338" class="Bound">ρ</a> <a id="37340" class="Symbol">:</a> <a id="37342" href="Relation.Binary.Bundles.html#1072" class="Field">Setoid.Carrier</a><a id="37356" class="Symbol">(</a> <a id="37358" href="Demos.HSP.html#35207" class="Function">Env</a> <a id="37362" href="Demos.HSP.html#37294" class="Bound">X</a> <a id="37364" class="Symbol">)</a> <a id="37366" class="Symbol">)</a>
  <a id="37370" class="Symbol">→</a>             <a id="37384" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="37386" href="Demos.HSP.html#37311" class="Bound">t</a> <a id="37388" href="Demos.HSP.html#34742" class="Function Operator">[</a> <a id="37390" href="Demos.HSP.html#37324" class="Bound">σ</a> <a id="37392" href="Demos.HSP.html#34742" class="Function Operator">]</a> <a id="37394" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="37396" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="37400" href="Demos.HSP.html#37338" class="Bound">ρ</a>  <a id="37403" href="Demos.HSP.html#35182" class="Function Operator">≈ₐ</a>  <a id="37407" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="37409" href="Demos.HSP.html#37311" class="Bound">t</a> <a id="37411" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="37413" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="37417" class="Symbol">(</a><a id="37418" href="Demos.HSP.html#36949" class="Function Operator">⟦</a> <a id="37420" href="Demos.HSP.html#37324" class="Bound">σ</a> <a id="37422" href="Demos.HSP.html#36949" class="Function Operator">⟧s</a> <a id="37425" href="Demos.HSP.html#37338" class="Bound">ρ</a><a id="37426" class="Symbol">)</a>
 <a id="37429" href="Demos.HSP.html#37278" class="Function">substitution</a> <a id="37442" class="Symbol">(</a><a id="37443" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="37445" href="Demos.HSP.html#37445" class="Bound">x</a><a id="37446" class="Symbol">)</a> <a id="37448" href="Demos.HSP.html#37448" class="Bound">σ</a> <a id="37450" href="Demos.HSP.html#37450" class="Bound">ρ</a> <a id="37452" class="Symbol">=</a> <a id="37454" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="37460" href="Demos.HSP.html#37278" class="Function">substitution</a> <a id="37473" class="Symbol">(</a><a id="37474" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="37479" href="Demos.HSP.html#37479" class="Bound">f</a> <a id="37481" href="Demos.HSP.html#37481" class="Bound">ts</a><a id="37483" class="Symbol">)</a> <a id="37485" href="Demos.HSP.html#37485" class="Bound">σ</a> <a id="37487" href="Demos.HSP.html#37487" class="Bound">ρ</a> <a id="37489" class="Symbol">=</a> <a id="37491" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="37496" class="Symbol">(</a><a id="37497" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="37504" href="Demos.HSP.html#35034" class="Bound">𝑨</a><a id="37505" class="Symbol">)(</a><a id="37507" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="37514" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="37516" class="Symbol">λ</a> <a id="37518" href="Demos.HSP.html#37518" class="Bound">i</a> <a id="37520" class="Symbol">→</a> <a id="37522" href="Demos.HSP.html#37278" class="Function">substitution</a> <a id="37535" class="Symbol">(</a><a id="37536" href="Demos.HSP.html#37481" class="Bound">ts</a> <a id="37539" href="Demos.HSP.html#37518" class="Bound">i</a><a id="37540" class="Symbol">)</a> <a id="37542" href="Demos.HSP.html#37485" class="Bound">σ</a> <a id="37544" href="Demos.HSP.html#37487" class="Bound">ρ</a><a id="37545" class="Symbol">)</a>

</pre>


### <a id="compatibility-of-terms">Compatibility of terms</a>

We now prove two important facts about term operations.  The first of these, which is used very often in the sequel, asserts that every term commutes with every homomorphism.

<pre class="Agda">

<a id="37814" class="Keyword">module</a> <a id="37821" href="Demos.HSP.html#37821" class="Module">_</a> <a id="37823" class="Symbol">{</a><a id="37824" href="Demos.HSP.html#37824" class="Bound">X</a> <a id="37826" class="Symbol">:</a> <a id="37828" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="37833" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="37834" class="Symbol">}{</a><a id="37836" href="Demos.HSP.html#37836" class="Bound">𝑨</a> <a id="37838" class="Symbol">:</a> <a id="37840" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="37848" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="37850" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="37852" class="Symbol">}{</a><a id="37854" href="Demos.HSP.html#37854" class="Bound">𝑩</a> <a id="37856" class="Symbol">:</a> <a id="37858" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="37866" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="37868" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="37870" class="Symbol">}(</a><a id="37872" href="Demos.HSP.html#37872" class="Bound">hh</a> <a id="37875" class="Symbol">:</a> <a id="37877" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="37881" href="Demos.HSP.html#37836" class="Bound">𝑨</a> <a id="37883" href="Demos.HSP.html#37854" class="Bound">𝑩</a><a id="37884" class="Symbol">)</a> <a id="37886" class="Keyword">where</a>
 <a id="37893" class="Keyword">open</a> <a id="37898" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="37906" href="Demos.HSP.html#37836" class="Bound">𝑨</a> <a id="37908" class="Keyword">using</a> <a id="37914" class="Symbol">()</a> <a id="37917" class="Keyword">renaming</a> <a id="37926" class="Symbol">(</a><a id="37927" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="37934" class="Symbol">to</a> <a id="37937" class="Field">A</a> <a id="37939" class="Symbol">;</a> <a id="37941" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="37948" class="Symbol">to</a> <a id="37951" class="Field">Interp₁</a> <a id="37959" class="Symbol">)</a>
 <a id="37962" class="Keyword">open</a> <a id="37967" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="37974" href="Demos.HSP.html#37937" class="Function">A</a> <a id="37976" class="Keyword">using</a> <a id="37982" class="Symbol">()</a> <a id="37985" class="Keyword">renaming</a> <a id="37994" class="Symbol">(</a> <a id="37996" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="38000" class="Symbol">to</a> <a id="38003" class="Field Operator">_≈₁_</a> <a id="38008" class="Symbol">;</a> <a id="38010" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="38018" class="Symbol">to</a> <a id="38021" class="Field">∣A∣</a> <a id="38025" class="Symbol">)</a>

 <a id="38029" class="Keyword">open</a> <a id="38034" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="38042" href="Demos.HSP.html#37854" class="Bound">𝑩</a> <a id="38044" class="Keyword">using</a> <a id="38050" class="Symbol">()</a> <a id="38053" class="Keyword">renaming</a> <a id="38062" class="Symbol">(</a><a id="38063" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="38070" class="Symbol">to</a> <a id="38073" class="Field">B</a> <a id="38075" class="Symbol">;</a> <a id="38077" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="38084" class="Symbol">to</a> <a id="38087" class="Field">Interp₂</a> <a id="38095" class="Symbol">)</a>
 <a id="38098" class="Keyword">open</a> <a id="38103" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="38110" href="Demos.HSP.html#38073" class="Function">B</a> <a id="38112" class="Keyword">using</a> <a id="38118" class="Symbol">(</a> <a id="38120" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="38124" class="Symbol">;</a> <a id="38126" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="38130" class="Symbol">;</a> <a id="38132" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="38137" class="Symbol">)</a>

 <a id="38141" class="Keyword">open</a> <a id="38146" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="38162" href="Demos.HSP.html#38073" class="Function">B</a>

 <a id="38166" class="Keyword">private</a>
  <a id="38176" href="Demos.HSP.html#38176" class="Function">hfunc</a> <a id="38182" class="Symbol">=</a> <a id="38184" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="38186" href="Demos.HSP.html#37872" class="Bound">hh</a> <a id="38189" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="38193" href="Demos.HSP.html#38193" class="Function">h</a> <a id="38195" class="Symbol">=</a> <a id="38197" href="Demos.HSP.html#1474" class="Field Operator">_⟨$⟩_</a> <a id="38203" href="Demos.HSP.html#38176" class="Function">hfunc</a>

 <a id="38211" class="Keyword">open</a> <a id="38216" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="38228" href="Demos.HSP.html#37836" class="Bound">𝑨</a> <a id="38230" class="Keyword">using</a> <a id="38236" class="Symbol">()</a> <a id="38239" class="Keyword">renaming</a> <a id="38248" class="Symbol">(</a> <a id="38250" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="38254" class="Symbol">to</a> <a id="38257" class="Function Operator">⟦_⟧₁</a> <a id="38262" class="Symbol">)</a>
 <a id="38265" class="Keyword">open</a> <a id="38270" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="38282" href="Demos.HSP.html#37854" class="Bound">𝑩</a> <a id="38284" class="Keyword">using</a> <a id="38290" class="Symbol">()</a> <a id="38293" class="Keyword">renaming</a> <a id="38302" class="Symbol">(</a> <a id="38304" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="38308" class="Symbol">to</a> <a id="38311" class="Function Operator">⟦_⟧₂</a> <a id="38316" class="Symbol">)</a>
 <a id="38319" class="Keyword">open</a> <a id="38324" href="Demos.HSP.html#14989" class="Module">IsHom</a>
 <a id="38331" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="38345" class="Symbol">:</a> <a id="38347" class="Symbol">(</a><a id="38348" href="Demos.HSP.html#38348" class="Bound">t</a> <a id="38350" class="Symbol">:</a> <a id="38352" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="38357" href="Demos.HSP.html#37824" class="Bound">X</a><a id="38358" class="Symbol">)</a> <a id="38360" class="Symbol">(</a><a id="38361" href="Demos.HSP.html#38361" class="Bound">a</a> <a id="38363" class="Symbol">:</a> <a id="38365" href="Demos.HSP.html#37824" class="Bound">X</a> <a id="38367" class="Symbol">→</a> <a id="38369" href="Demos.HSP.html#38021" class="Function">∣A∣</a><a id="38372" class="Symbol">)</a>
                <a id="38390" class="Comment">-----------------------------------------</a>
  <a id="38434" class="Symbol">→</a>             <a id="38448" href="Demos.HSP.html#38193" class="Function">h</a> <a id="38450" class="Symbol">(</a><a id="38451" href="Demos.HSP.html#38257" class="Function Operator">⟦</a> <a id="38453" href="Demos.HSP.html#38348" class="Bound">t</a> <a id="38455" href="Demos.HSP.html#38257" class="Function Operator">⟧₁</a> <a id="38458" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="38462" href="Demos.HSP.html#38361" class="Bound">a</a><a id="38463" class="Symbol">)</a> <a id="38465" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="38467" href="Demos.HSP.html#38311" class="Function Operator">⟦</a> <a id="38469" href="Demos.HSP.html#38348" class="Bound">t</a> <a id="38471" href="Demos.HSP.html#38311" class="Function Operator">⟧₂</a> <a id="38474" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="38478" class="Symbol">(</a><a id="38479" href="Demos.HSP.html#38193" class="Function">h</a> <a id="38481" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="38483" href="Demos.HSP.html#38361" class="Bound">a</a><a id="38484" class="Symbol">)</a>

 <a id="38488" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="38502" class="Symbol">(</a><a id="38503" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="38505" href="Demos.HSP.html#38505" class="Bound">x</a><a id="38506" class="Symbol">)</a> <a id="38508" href="Demos.HSP.html#38508" class="Bound">a</a> <a id="38510" class="Symbol">=</a> <a id="38512" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="38518" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="38532" class="Symbol">(</a><a id="38533" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="38538" href="Demos.HSP.html#38538" class="Bound">f</a> <a id="38540" href="Demos.HSP.html#38540" class="Bound">t</a><a id="38541" class="Symbol">)</a> <a id="38543" href="Demos.HSP.html#38543" class="Bound">a</a> <a id="38545" class="Symbol">=</a> <a id="38547" href="Demos.HSP.html#38562" class="Function">goal</a>
  <a id="38554" class="Keyword">where</a>
  <a id="38562" href="Demos.HSP.html#38562" class="Function">goal</a> <a id="38567" class="Symbol">:</a> <a id="38569" href="Demos.HSP.html#38193" class="Function">h</a> <a id="38571" class="Symbol">(</a><a id="38572" href="Demos.HSP.html#38257" class="Function Operator">⟦</a> <a id="38574" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="38579" href="Demos.HSP.html#38538" class="Bound">f</a> <a id="38581" href="Demos.HSP.html#38540" class="Bound">t</a> <a id="38583" href="Demos.HSP.html#38257" class="Function Operator">⟧₁</a> <a id="38586" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="38590" href="Demos.HSP.html#38543" class="Bound">a</a><a id="38591" class="Symbol">)</a> <a id="38593" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="38595" class="Symbol">(</a><a id="38596" href="Demos.HSP.html#38311" class="Function Operator">⟦</a> <a id="38598" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="38603" href="Demos.HSP.html#38538" class="Bound">f</a> <a id="38605" href="Demos.HSP.html#38540" class="Bound">t</a> <a id="38607" href="Demos.HSP.html#38311" class="Function Operator">⟧₂</a> <a id="38610" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="38614" class="Symbol">(</a><a id="38615" href="Demos.HSP.html#38193" class="Function">h</a> <a id="38617" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="38619" href="Demos.HSP.html#38543" class="Bound">a</a><a id="38620" class="Symbol">))</a>
  <a id="38625" href="Demos.HSP.html#38562" class="Function">goal</a> <a id="38630" class="Symbol">=</a>
   <a id="38635" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="38645" href="Demos.HSP.html#38193" class="Function">h</a> <a id="38647" class="Symbol">(</a><a id="38648" href="Demos.HSP.html#38257" class="Function Operator">⟦</a> <a id="38650" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="38655" href="Demos.HSP.html#38538" class="Bound">f</a> <a id="38657" href="Demos.HSP.html#38540" class="Bound">t</a> <a id="38659" href="Demos.HSP.html#38257" class="Function Operator">⟧₁</a> <a id="38662" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="38666" href="Demos.HSP.html#38543" class="Bound">a</a><a id="38667" class="Symbol">)</a>             <a id="38681" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="38684" class="Symbol">(</a><a id="38685" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="38696" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="38698" href="Demos.HSP.html#37872" class="Bound">hh</a> <a id="38701" href="Demos.HSP.html#2515" class="Function Operator">∥</a><a id="38702" class="Symbol">)</a> <a id="38704" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="38710" class="Symbol">(</a><a id="38711" href="Demos.HSP.html#38538" class="Bound">f</a> <a id="38713" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="38715" href="Demos.HSP.html#37854" class="Bound">𝑩</a><a id="38716" class="Symbol">)(λ</a> <a id="38720" href="Demos.HSP.html#38720" class="Bound">i</a> <a id="38722" class="Symbol">→</a> <a id="38724" href="Demos.HSP.html#38193" class="Function">h</a> <a id="38726" class="Symbol">(</a><a id="38727" href="Demos.HSP.html#38257" class="Function Operator">⟦</a> <a id="38729" href="Demos.HSP.html#38540" class="Bound">t</a> <a id="38731" href="Demos.HSP.html#38720" class="Bound">i</a> <a id="38733" href="Demos.HSP.html#38257" class="Function Operator">⟧₁</a> <a id="38736" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="38740" href="Demos.HSP.html#38543" class="Bound">a</a><a id="38741" class="Symbol">))</a>   <a id="38746" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="38749" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="38754" href="Demos.HSP.html#38087" class="Function">Interp₂</a> <a id="38762" class="Symbol">(</a><a id="38763" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="38770" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="38772" class="Symbol">λ</a> <a id="38774" href="Demos.HSP.html#38774" class="Bound">i</a> <a id="38776" class="Symbol">→</a> <a id="38778" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="38792" class="Symbol">(</a><a id="38793" href="Demos.HSP.html#38540" class="Bound">t</a> <a id="38795" href="Demos.HSP.html#38774" class="Bound">i</a><a id="38796" class="Symbol">)</a> <a id="38798" href="Demos.HSP.html#38543" class="Bound">a</a><a id="38799" class="Symbol">)</a> <a id="38801" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="38807" class="Symbol">(</a><a id="38808" href="Demos.HSP.html#38538" class="Bound">f</a> <a id="38810" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="38812" href="Demos.HSP.html#37854" class="Bound">𝑩</a><a id="38813" class="Symbol">)(λ</a> <a id="38817" href="Demos.HSP.html#38817" class="Bound">i</a> <a id="38819" class="Symbol">→</a> <a id="38821" href="Demos.HSP.html#38311" class="Function Operator">⟦</a> <a id="38823" href="Demos.HSP.html#38540" class="Bound">t</a> <a id="38825" href="Demos.HSP.html#38817" class="Bound">i</a> <a id="38827" href="Demos.HSP.html#38311" class="Function Operator">⟧₂</a> <a id="38830" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="38834" class="Symbol">(</a><a id="38835" href="Demos.HSP.html#38193" class="Function">h</a> <a id="38837" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="38839" href="Demos.HSP.html#38543" class="Bound">a</a><a id="38840" class="Symbol">))</a> <a id="38843" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="38846" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="38851" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="38857" class="Symbol">(</a><a id="38858" href="Demos.HSP.html#38311" class="Function Operator">⟦</a> <a id="38860" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="38865" href="Demos.HSP.html#38538" class="Bound">f</a> <a id="38867" href="Demos.HSP.html#38540" class="Bound">t</a> <a id="38869" href="Demos.HSP.html#38311" class="Function Operator">⟧₂</a> <a id="38872" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="38876" class="Symbol">(</a><a id="38877" href="Demos.HSP.html#38193" class="Function">h</a> <a id="38879" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="38881" href="Demos.HSP.html#38543" class="Bound">a</a><a id="38882" class="Symbol">))</a>
   <a id="38888" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

</pre>



### <a id="interpretation-of-terms-in-product-algebras">Interpretation of terms in product algebras</a>

<pre class="Agda">

<a id="39024" class="Keyword">module</a> <a id="39031" href="Demos.HSP.html#39031" class="Module">_</a> <a id="39033" class="Symbol">{</a><a id="39034" href="Demos.HSP.html#39034" class="Bound">X</a> <a id="39036" class="Symbol">:</a> <a id="39038" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="39043" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="39044" class="Symbol">}{</a><a id="39046" href="Demos.HSP.html#39046" class="Bound">ι</a> <a id="39048" class="Symbol">:</a> <a id="39050" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="39055" class="Symbol">}</a> <a id="39057" class="Symbol">{</a><a id="39058" href="Demos.HSP.html#39058" class="Bound">I</a> <a id="39060" class="Symbol">:</a> <a id="39062" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="39067" href="Demos.HSP.html#39046" class="Bound">ι</a><a id="39068" class="Symbol">}</a>
         <a id="39079" class="Symbol">(</a><a id="39080" href="Demos.HSP.html#39080" class="Bound">𝒜</a> <a id="39082" class="Symbol">:</a> <a id="39084" href="Demos.HSP.html#39058" class="Bound">I</a> <a id="39086" class="Symbol">→</a> <a id="39088" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="39096" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="39098" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="39100" class="Symbol">)</a> <a id="39102" class="Keyword">where</a>
 <a id="39109" class="Keyword">open</a> <a id="39114" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="39122" class="Symbol">(</a><a id="39123" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="39125" href="Demos.HSP.html#39080" class="Bound">𝒜</a><a id="39126" class="Symbol">)</a> <a id="39128" class="Keyword">using</a> <a id="39134" class="Symbol">()</a> <a id="39137" class="Keyword">renaming</a> <a id="39146" class="Symbol">(</a> <a id="39148" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="39155" class="Symbol">to</a> <a id="39158" class="Field">⨅A</a> <a id="39161" class="Symbol">;</a> <a id="39163" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="39170" class="Symbol">to</a> <a id="39173" class="Field">⨅Interp</a> <a id="39181" class="Symbol">)</a>
 <a id="39184" class="Keyword">open</a> <a id="39189" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="39196" href="Demos.HSP.html#39158" class="Function">⨅A</a> <a id="39199" class="Keyword">using</a> <a id="39205" class="Symbol">(</a> <a id="39207" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="39211" class="Symbol">;</a> <a id="39213" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="39218" class="Symbol">)</a>
 <a id="39221" class="Keyword">open</a> <a id="39226" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="39238" class="Symbol">(</a><a id="39239" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="39241" href="Demos.HSP.html#39080" class="Bound">𝒜</a><a id="39242" class="Symbol">)</a> <a id="39244" class="Keyword">using</a> <a id="39250" class="Symbol">()</a> <a id="39253" class="Keyword">renaming</a> <a id="39262" class="Symbol">(</a> <a id="39264" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="39268" class="Symbol">to</a> <a id="39271" class="Function Operator">⟦_⟧₁</a> <a id="39276" class="Symbol">)</a>
 <a id="39279" class="Keyword">open</a> <a id="39284" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="39296" class="Keyword">using</a> <a id="39302" class="Symbol">(</a> <a id="39304" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="39308" class="Symbol">;</a> <a id="39310" href="Demos.HSP.html#36228" class="Function">≐→Equal</a> <a id="39318" class="Symbol">)</a>

 <a id="39322" href="Demos.HSP.html#39322" class="Function">interp-prod</a> <a id="39334" class="Symbol">:</a> <a id="39336" class="Symbol">(</a><a id="39337" href="Demos.HSP.html#39337" class="Bound">p</a> <a id="39339" class="Symbol">:</a> <a id="39341" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="39346" href="Demos.HSP.html#39034" class="Bound">X</a><a id="39347" class="Symbol">)</a>
  <a id="39351" class="Symbol">→</a>            <a id="39364" class="Symbol">∀</a> <a id="39366" href="Demos.HSP.html#39366" class="Bound">ρ</a> <a id="39368" class="Symbol">→</a> <a id="39370" href="Demos.HSP.html#39271" class="Function Operator">⟦</a> <a id="39372" href="Demos.HSP.html#39337" class="Bound">p</a> <a id="39374" href="Demos.HSP.html#39271" class="Function Operator">⟧₁</a> <a id="39377" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="39381" href="Demos.HSP.html#39366" class="Bound">ρ</a> <a id="39383" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="39385" class="Symbol">(λ</a> <a id="39388" href="Demos.HSP.html#39388" class="Bound">i</a> <a id="39390" class="Symbol">→</a> <a id="39392" class="Symbol">(</a><a id="39393" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="39395" href="Demos.HSP.html#39080" class="Bound">𝒜</a> <a id="39397" href="Demos.HSP.html#39388" class="Bound">i</a> <a id="39399" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="39401" href="Demos.HSP.html#39337" class="Bound">p</a><a id="39402" class="Symbol">)</a> <a id="39404" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="39408" class="Symbol">(λ</a> <a id="39411" href="Demos.HSP.html#39411" class="Bound">x</a> <a id="39413" class="Symbol">→</a> <a id="39415" class="Symbol">(</a><a id="39416" href="Demos.HSP.html#39366" class="Bound">ρ</a> <a id="39418" href="Demos.HSP.html#39411" class="Bound">x</a><a id="39419" class="Symbol">)</a> <a id="39421" href="Demos.HSP.html#39388" class="Bound">i</a><a id="39422" class="Symbol">))</a>
 <a id="39426" href="Demos.HSP.html#39322" class="Function">interp-prod</a> <a id="39438" class="Symbol">(</a><a id="39439" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="39441" href="Demos.HSP.html#39441" class="Bound">x</a><a id="39442" class="Symbol">)</a> <a id="39444" class="Symbol">=</a> <a id="39446" class="Symbol">λ</a> <a id="39448" href="Demos.HSP.html#39448" class="Bound">ρ</a> <a id="39450" href="Demos.HSP.html#39450" class="Bound">i</a> <a id="39452" class="Symbol">→</a> <a id="39454" href="Demos.HSP.html#36228" class="Function">≐→Equal</a> <a id="39462" class="Symbol">(</a><a id="39463" href="Demos.HSP.html#39080" class="Bound">𝒜</a> <a id="39465" href="Demos.HSP.html#39450" class="Bound">i</a><a id="39466" class="Symbol">)</a> <a id="39468" class="Symbol">(</a><a id="39469" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="39471" href="Demos.HSP.html#39441" class="Bound">x</a><a id="39472" class="Symbol">)</a> <a id="39474" class="Symbol">(</a><a id="39475" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="39477" href="Demos.HSP.html#39441" class="Bound">x</a><a id="39478" class="Symbol">)</a> <a id="39480" href="Demos.HSP.html#32672" class="Function">≐-isRefl</a> <a id="39489" class="Symbol">λ</a> <a id="39491" href="Demos.HSP.html#39491" class="Bound">x&#39;</a> <a id="39494" class="Symbol">→</a> <a id="39496" class="Symbol">(</a><a id="39497" href="Demos.HSP.html#39448" class="Bound">ρ</a> <a id="39499" href="Demos.HSP.html#39441" class="Bound">x</a><a id="39500" class="Symbol">)</a> <a id="39502" href="Demos.HSP.html#39450" class="Bound">i</a>
 <a id="39505" href="Demos.HSP.html#39322" class="Function">interp-prod</a> <a id="39517" class="Symbol">(</a><a id="39518" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="39523" href="Demos.HSP.html#39523" class="Bound">f</a> <a id="39525" href="Demos.HSP.html#39525" class="Bound">t</a><a id="39526" class="Symbol">)</a> <a id="39528" class="Symbol">=</a> <a id="39530" class="Symbol">λ</a> <a id="39532" href="Demos.HSP.html#39532" class="Bound">ρ</a> <a id="39534" href="Demos.HSP.html#39534" class="Bound">i</a> <a id="39536" class="Symbol">→</a> <a id="39538" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="39543" href="Demos.HSP.html#39173" class="Function">⨅Interp</a> <a id="39551" class="Symbol">(</a><a id="39552" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="39559" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39561" class="Symbol">(λ</a> <a id="39564" href="Demos.HSP.html#39564" class="Bound">j</a> <a id="39566" href="Demos.HSP.html#39566" class="Bound">k</a> <a id="39568" class="Symbol">→</a> <a id="39570" href="Demos.HSP.html#39322" class="Function">interp-prod</a> <a id="39582" class="Symbol">(</a><a id="39583" href="Demos.HSP.html#39525" class="Bound">t</a> <a id="39585" href="Demos.HSP.html#39564" class="Bound">j</a><a id="39586" class="Symbol">)</a> <a id="39588" href="Demos.HSP.html#39532" class="Bound">ρ</a> <a id="39590" href="Demos.HSP.html#39566" class="Bound">k</a><a id="39591" class="Symbol">))</a> <a id="39594" href="Demos.HSP.html#39534" class="Bound">i</a>
 
</pre>





## <a id="model-theory-and-equational-logic">Model Theory and Equational Logic</a>

(cf. the [Varieties.Func.SoundAndComplete][] module of the [Agda Universal Algebra Library][])

### <a id="model-theory-basic-definitions">Basic definitions</a>

Let `𝑆` be a signature. By an *identity* or *equation* in `𝑆` we mean an ordered pair of terms in a given context.  For instance, if the context happens to be the type `X : Type χ`, then an equation will be a pair of inhabitants of the domain of term algebra `𝑻 X`.

We define an equation in Agda using the following record type with fields denoting the left-hand and right-hand sides of the equation, along with an equation "context" representing the underlying collection of variable symbols (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf)).

<pre class="Agda">

<a id="40504" class="Keyword">record</a> <a id="Eq"></a><a id="40511" href="Demos.HSP.html#40511" class="Record">Eq</a> <a id="40514" class="Symbol">:</a> <a id="40516" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="40521" class="Symbol">(</a><a id="40522" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="40525" href="Demos.HSP.html#40525" class="Bound">χ</a><a id="40526" class="Symbol">)</a> <a id="40528" class="Keyword">where</a>
 <a id="40535" class="Keyword">constructor</a> <a id="_≈̇_"></a><a id="40547" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">_≈̇_</a>
 <a id="40553" class="Keyword">field</a>
  <a id="40561" class="Symbol">{</a><a id="Eq.cxt"></a><a id="40562" href="Demos.HSP.html#40562" class="Field">cxt</a><a id="40565" class="Symbol">}</a> <a id="40567" class="Symbol">:</a> <a id="40569" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="40574" href="Demos.HSP.html#40525" class="Bound">χ</a>
  <a id="Eq.lhs"></a><a id="40578" href="Demos.HSP.html#40578" class="Field">lhs</a>   <a id="40584" class="Symbol">:</a> <a id="40586" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="40591" href="Demos.HSP.html#40562" class="Field">cxt</a>
  <a id="Eq.rhs"></a><a id="40597" href="Demos.HSP.html#40597" class="Field">rhs</a>   <a id="40603" class="Symbol">:</a> <a id="40605" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="40610" href="Demos.HSP.html#40562" class="Field">cxt</a>

<a id="40615" class="Keyword">open</a> <a id="40620" href="Demos.HSP.html#40511" class="Module">Eq</a> <a id="40623" class="Keyword">public</a>

</pre>

We now define a type representing the notion of an equation `p ≈̇ q` holding (when `p` and `q` are interpreted) in algebra `𝑨`.

If `𝑨` is an `𝑆`-algebra we say that `𝑨` *satisfies* `p ≈ q` provided for all environments `ρ : X → ∣ 𝑨 ∣` (assigning values in the domain of `𝑨` to variable symbols in `X`) we have `⟦ p ⟧⟨$⟩ ρ ≈ ⟦ q ⟧ ⟨$⟩ ρ`.  In this situation, we write `𝑨 ⊧ (p ≈̇ q)` and say that `𝑨` *models* the identity `p ≈ q`.

If `𝒦` is a class of algebras, all of the same signature, we write `𝒦 ⊫ (p ≈̇ q) if, for every `𝑨 ∈ 𝒦`, we have `𝑨 ⊧ (p ≈̇ q)`.

Because a class of structures has a different type than a single structure, we must use a slightly different syntax to avoid overloading the relations `⊧` and `≈`. As a reasonable alternative to what we would normally express informally as `𝒦 ⊧ p ≈ q`, we have settled on `𝒦 ⊫ (p ≈̇ q)` to denote this relation.  To reiterate, if `𝒦` is a class of `𝑆`-algebras, we write `𝒦 ⊫ (p ≈̇ q)` provided every `𝑨 ∈ 𝒦` satisfies `𝑨 ⊧ (p ≈̇ q)`.

<pre class="Agda">

<a id="_⊧_"></a><a id="41654" href="Demos.HSP.html#41654" class="Function Operator">_⊧_</a> <a id="41658" class="Symbol">:</a> <a id="41660" class="Symbol">(</a><a id="41661" href="Demos.HSP.html#41661" class="Bound">𝑨</a> <a id="41663" class="Symbol">:</a> <a id="41665" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="41673" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="41675" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="41677" class="Symbol">)(</a><a id="41679" href="Demos.HSP.html#41679" class="Bound">term-identity</a> <a id="41693" class="Symbol">:</a> <a id="41695" href="Demos.HSP.html#40511" class="Record">Eq</a><a id="41697" class="Symbol">{</a><a id="41698" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="41699" class="Symbol">})</a> <a id="41702" class="Symbol">→</a> <a id="41704" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="41709" class="Symbol">_</a>
<a id="41711" href="Demos.HSP.html#41711" class="Bound">𝑨</a> <a id="41713" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="41715" class="Symbol">(</a><a id="41716" href="Demos.HSP.html#41716" class="Bound">p</a> <a id="41718" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="41721" href="Demos.HSP.html#41721" class="Bound">q</a><a id="41722" class="Symbol">)</a> <a id="41724" class="Symbol">=</a> <a id="41726" href="Demos.HSP.html#36097" class="Function">Equal</a> <a id="41732" href="Demos.HSP.html#41716" class="Bound">p</a> <a id="41734" href="Demos.HSP.html#41721" class="Bound">q</a> <a id="41736" class="Keyword">where</a> <a id="41742" class="Keyword">open</a> <a id="41747" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="41759" href="Demos.HSP.html#41711" class="Bound">𝑨</a>

<a id="_⊫_"></a><a id="41762" href="Demos.HSP.html#41762" class="Function Operator">_⊫_</a> <a id="41766" class="Symbol">:</a> <a id="41768" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="41773" class="Symbol">(</a><a id="41774" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="41782" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="41784" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="41786" class="Symbol">)</a> <a id="41788" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a> <a id="41790" class="Symbol">→</a> <a id="41792" href="Demos.HSP.html#40511" class="Record">Eq</a><a id="41794" class="Symbol">{</a><a id="41795" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="41796" class="Symbol">}</a> <a id="41798" class="Symbol">→</a> <a id="41800" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="41805" class="Symbol">(</a><a id="41806" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a> <a id="41808" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="41810" href="Demos.HSP.html#1521" class="Generalizable">χ</a> <a id="41812" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="41814" href="Demos.HSP.html#27044" class="Function">ov</a><a id="41816" class="Symbol">(</a><a id="41817" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="41819" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="41821" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="41823" class="Symbol">))</a>
<a id="41826" href="Demos.HSP.html#41826" class="Bound">𝒦</a> <a id="41828" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="41830" href="Demos.HSP.html#41830" class="Bound">equ</a> <a id="41834" class="Symbol">=</a> <a id="41836" class="Symbol">∀</a> <a id="41838" href="Demos.HSP.html#41838" class="Bound">𝑨</a> <a id="41840" class="Symbol">→</a> <a id="41842" href="Demos.HSP.html#41826" class="Bound">𝒦</a> <a id="41844" href="Demos.HSP.html#41838" class="Bound">𝑨</a> <a id="41846" class="Symbol">→</a> <a id="41848" href="Demos.HSP.html#41838" class="Bound">𝑨</a> <a id="41850" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="41852" href="Demos.HSP.html#41830" class="Bound">equ</a>

</pre>

We denote by `𝑨 ⊨ ℰ` the assertion that the algebra 𝑨 models every equation in a collection `ℰ` of equations.

<pre class="Agda">

<a id="_⊨_"></a><a id="41994" href="Demos.HSP.html#41994" class="Function Operator">_⊨_</a> <a id="41998" class="Symbol">:</a> <a id="42000" class="Symbol">(</a><a id="42001" href="Demos.HSP.html#42001" class="Bound">𝑨</a> <a id="42003" class="Symbol">:</a> <a id="42005" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="42013" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="42015" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="42017" class="Symbol">)</a> <a id="42019" class="Symbol">→</a> <a id="42021" class="Symbol">{</a><a id="42022" href="Demos.HSP.html#42022" class="Bound">ι</a> <a id="42024" class="Symbol">:</a> <a id="42026" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="42031" class="Symbol">}{</a><a id="42033" href="Demos.HSP.html#42033" class="Bound">I</a> <a id="42035" class="Symbol">:</a> <a id="42037" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="42042" href="Demos.HSP.html#42022" class="Bound">ι</a><a id="42043" class="Symbol">}</a> <a id="42045" class="Symbol">→</a> <a id="42047" class="Symbol">(</a><a id="42048" href="Demos.HSP.html#42033" class="Bound">I</a> <a id="42050" class="Symbol">→</a> <a id="42052" href="Demos.HSP.html#40511" class="Record">Eq</a><a id="42054" class="Symbol">{</a><a id="42055" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="42056" class="Symbol">})</a> <a id="42059" class="Symbol">→</a> <a id="42061" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="42066" class="Symbol">_</a>
<a id="42068" href="Demos.HSP.html#42068" class="Bound">𝑨</a> <a id="42070" href="Demos.HSP.html#41994" class="Function Operator">⊨</a> <a id="42072" href="Demos.HSP.html#42072" class="Bound">ℰ</a> <a id="42074" class="Symbol">=</a> <a id="42076" class="Symbol">∀</a> <a id="42078" href="Demos.HSP.html#42078" class="Bound">i</a> <a id="42080" class="Symbol">→</a> <a id="42082" href="Demos.HSP.html#36097" class="Function">Equal</a> <a id="42088" class="Symbol">(</a><a id="42089" href="Demos.HSP.html#40578" class="Field">lhs</a> <a id="42093" class="Symbol">(</a><a id="42094" href="Demos.HSP.html#42072" class="Bound">ℰ</a> <a id="42096" href="Demos.HSP.html#42078" class="Bound">i</a><a id="42097" class="Symbol">))(</a><a id="42100" href="Demos.HSP.html#40597" class="Field">rhs</a> <a id="42104" class="Symbol">(</a><a id="42105" href="Demos.HSP.html#42072" class="Bound">ℰ</a> <a id="42107" href="Demos.HSP.html#42078" class="Bound">i</a><a id="42108" class="Symbol">))</a> <a id="42111" class="Keyword">where</a> <a id="42117" class="Keyword">open</a> <a id="42122" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="42134" href="Demos.HSP.html#42068" class="Bound">𝑨</a>  <a id="42137" class="Comment">--   (</a>

<a id="42145" class="Comment">-- Unicode Hints</a>
<a id="42162" class="Comment">-- type `\~~\^.` to get `≈̇`;  `\models` to get `⊧`;  `\||=` to get `⊫`;  `\|=` to get `⊨`.</a>

</pre>

### <a id="equational-theories-and-models">Equational theories and models</a>

If `𝒦` denotes a class of structures, then `Th 𝒦` represents the set of identities
modeled by the members of `𝒦`.

<pre class="Agda">

<a id="Th"></a><a id="42475" href="Demos.HSP.html#42475" class="Function">Th</a> <a id="42478" class="Symbol">:</a> <a id="42480" class="Symbol">{</a><a id="42481" href="Demos.HSP.html#42481" class="Bound">X</a> <a id="42483" class="Symbol">:</a> <a id="42485" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="42490" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="42491" class="Symbol">}</a> <a id="42493" class="Symbol">→</a> <a id="42495" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="42500" class="Symbol">(</a><a id="42501" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="42509" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="42511" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="42513" class="Symbol">)</a> <a id="42515" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a> <a id="42517" class="Symbol">→</a> <a id="42519" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="42523" class="Symbol">(</a><a id="42524" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="42529" href="Demos.HSP.html#42481" class="Bound">X</a> <a id="42531" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="42533" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="42538" href="Demos.HSP.html#42481" class="Bound">X</a><a id="42539" class="Symbol">)</a> <a id="42541" class="Symbol">_</a>
<a id="42543" href="Demos.HSP.html#42475" class="Function">Th</a> <a id="42546" href="Demos.HSP.html#42546" class="Bound">𝒦</a> <a id="42548" class="Symbol">=</a> <a id="42550" class="Symbol">λ</a> <a id="42552" class="Symbol">(</a><a id="42553" href="Demos.HSP.html#42553" class="Bound">p</a> <a id="42555" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="42557" href="Demos.HSP.html#42557" class="Bound">q</a><a id="42558" class="Symbol">)</a> <a id="42560" class="Symbol">→</a> <a id="42562" href="Demos.HSP.html#42546" class="Bound">𝒦</a> <a id="42564" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="42566" class="Symbol">(</a><a id="42567" href="Demos.HSP.html#42553" class="Bound">p</a> <a id="42569" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="42572" href="Demos.HSP.html#42557" class="Bound">q</a><a id="42573" class="Symbol">)</a>

<a id="Mod"></a><a id="42576" href="Demos.HSP.html#42576" class="Function">Mod</a> <a id="42580" class="Symbol">:</a> <a id="42582" class="Symbol">{</a><a id="42583" href="Demos.HSP.html#42583" class="Bound">X</a> <a id="42585" class="Symbol">:</a> <a id="42587" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="42592" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="42593" class="Symbol">}</a> <a id="42595" class="Symbol">→</a> <a id="42597" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="42601" class="Symbol">(</a><a id="42602" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="42607" href="Demos.HSP.html#42583" class="Bound">X</a> <a id="42609" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="42611" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="42616" href="Demos.HSP.html#42583" class="Bound">X</a><a id="42617" class="Symbol">)</a> <a id="42619" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a> <a id="42621" class="Symbol">→</a> <a id="42623" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="42628" class="Symbol">(</a><a id="42629" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="42637" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="42639" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="42641" class="Symbol">)</a> <a id="42643" class="Symbol">_</a>
<a id="42645" href="Demos.HSP.html#42576" class="Function">Mod</a> <a id="42649" href="Demos.HSP.html#42649" class="Bound">ℰ</a> <a id="42651" href="Demos.HSP.html#42651" class="Bound">𝑨</a> <a id="42653" class="Symbol">=</a> <a id="42655" class="Symbol">∀</a> <a id="42657" class="Symbol">{</a><a id="42658" href="Demos.HSP.html#42658" class="Bound">p</a> <a id="42660" href="Demos.HSP.html#42660" class="Bound">q</a><a id="42661" class="Symbol">}</a> <a id="42663" class="Symbol">→</a> <a id="42665" class="Symbol">(</a><a id="42666" href="Demos.HSP.html#42658" class="Bound">p</a> <a id="42668" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="42670" href="Demos.HSP.html#42660" class="Bound">q</a><a id="42671" class="Symbol">)</a> <a id="42673" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="42675" href="Demos.HSP.html#42649" class="Bound">ℰ</a> <a id="42677" class="Symbol">→</a> <a id="42679" href="Demos.HSP.html#36097" class="Function">Equal</a> <a id="42685" href="Demos.HSP.html#42658" class="Bound">p</a> <a id="42687" href="Demos.HSP.html#42660" class="Bound">q</a> <a id="42689" class="Keyword">where</a> <a id="42695" class="Keyword">open</a> <a id="42700" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="42712" href="Demos.HSP.html#42651" class="Bound">𝑨</a>

</pre>

### <a id="the-entailment-relation">The entailment relation</a>

Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="42952" class="Keyword">module</a> <a id="42959" href="Demos.HSP.html#42959" class="Module">_</a> <a id="42961" class="Symbol">{</a><a id="42962" href="Demos.HSP.html#42962" class="Bound">χ</a> <a id="42964" href="Demos.HSP.html#42964" class="Bound">ι</a> <a id="42966" class="Symbol">:</a> <a id="42968" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="42973" class="Symbol">}</a> <a id="42975" class="Keyword">where</a>

 <a id="42983" class="Keyword">data</a> <a id="42988" href="Demos.HSP.html#42988" class="Datatype Operator">_⊢_▹_≈_</a> <a id="42996" class="Symbol">{</a><a id="42997" href="Demos.HSP.html#42997" class="Bound">I</a> <a id="42999" class="Symbol">:</a> <a id="43001" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="43006" href="Demos.HSP.html#42964" class="Bound">ι</a><a id="43007" class="Symbol">}(</a><a id="43009" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43011" class="Symbol">:</a> <a id="43013" href="Demos.HSP.html#42997" class="Bound">I</a> <a id="43015" class="Symbol">→</a> <a id="43017" href="Demos.HSP.html#40511" class="Record">Eq</a><a id="43019" class="Symbol">)</a> <a id="43021" class="Symbol">:</a> <a id="43023" class="Symbol">(</a><a id="43024" href="Demos.HSP.html#43024" class="Bound">X</a> <a id="43026" class="Symbol">:</a> <a id="43028" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="43033" href="Demos.HSP.html#42962" class="Bound">χ</a><a id="43034" class="Symbol">)(</a><a id="43036" href="Demos.HSP.html#43036" class="Bound">p</a> <a id="43038" href="Demos.HSP.html#43038" class="Bound">q</a> <a id="43040" class="Symbol">:</a> <a id="43042" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="43047" href="Demos.HSP.html#43024" class="Bound">X</a><a id="43048" class="Symbol">)</a> <a id="43050" class="Symbol">→</a> <a id="43052" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="43057" class="Symbol">(</a><a id="43058" href="Demos.HSP.html#42964" class="Bound">ι</a> <a id="43060" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="43062" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="43065" href="Demos.HSP.html#42962" class="Bound">χ</a><a id="43066" class="Symbol">)</a> <a id="43068" class="Keyword">where</a>
  <a id="43076" href="Demos.HSP.html#43076" class="InductiveConstructor">hyp</a>   <a id="43082" class="Symbol">:</a> <a id="43084" class="Symbol">∀</a> <a id="43086" href="Demos.HSP.html#43086" class="Bound">i</a> <a id="43088" class="Symbol">→</a> <a id="43090" class="Keyword">let</a> <a id="43094" href="Demos.HSP.html#43094" class="Bound">p</a> <a id="43096" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="43099" href="Demos.HSP.html#43099" class="Bound">q</a> <a id="43101" class="Symbol">=</a> <a id="43103" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43105" href="Demos.HSP.html#43086" class="Bound">i</a> <a id="43107" class="Keyword">in</a> <a id="43110" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43112" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43114" class="Symbol">_</a> <a id="43116" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43118" href="Demos.HSP.html#43094" class="Bound">p</a> <a id="43120" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43122" href="Demos.HSP.html#43099" class="Bound">q</a>
  <a id="43126" href="Demos.HSP.html#43126" class="InductiveConstructor">app</a>   <a id="43132" class="Symbol">:</a> <a id="43134" class="Symbol">∀</a> <a id="43136" class="Symbol">{</a><a id="43137" href="Demos.HSP.html#43137" class="Bound">ps</a> <a id="43140" href="Demos.HSP.html#43140" class="Bound">qs</a><a id="43142" class="Symbol">}</a> <a id="43144" class="Symbol">→</a> <a id="43146" class="Symbol">(∀</a> <a id="43149" href="Demos.HSP.html#43149" class="Bound">i</a> <a id="43151" class="Symbol">→</a> <a id="43153" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43155" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43157" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43159" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43161" href="Demos.HSP.html#43137" class="Bound">ps</a> <a id="43164" href="Demos.HSP.html#43149" class="Bound">i</a> <a id="43166" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43168" href="Demos.HSP.html#43140" class="Bound">qs</a> <a id="43171" href="Demos.HSP.html#43149" class="Bound">i</a><a id="43172" class="Symbol">)</a> <a id="43174" class="Symbol">→</a> <a id="43176" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43178" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43180" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43182" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43184" class="Symbol">(</a><a id="43185" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="43190" href="Demos.HSP.html#1548" class="Generalizable">f</a> <a id="43192" href="Demos.HSP.html#43137" class="Bound">ps</a><a id="43194" class="Symbol">)</a> <a id="43196" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43198" class="Symbol">(</a><a id="43199" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="43204" href="Demos.HSP.html#1548" class="Generalizable">f</a> <a id="43206" href="Demos.HSP.html#43140" class="Bound">qs</a><a id="43208" class="Symbol">)</a>
  <a id="43212" href="Demos.HSP.html#43212" class="InductiveConstructor">sub</a>   <a id="43218" class="Symbol">:</a> <a id="43220" class="Symbol">∀</a> <a id="43222" class="Symbol">{</a><a id="43223" href="Demos.HSP.html#43223" class="Bound">p</a> <a id="43225" href="Demos.HSP.html#43225" class="Bound">q</a><a id="43226" class="Symbol">}</a> <a id="43228" class="Symbol">→</a> <a id="43230" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43232" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43234" href="Demos.HSP.html#1536" class="Generalizable">Δ</a> <a id="43236" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43238" href="Demos.HSP.html#43223" class="Bound">p</a> <a id="43240" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43242" href="Demos.HSP.html#43225" class="Bound">q</a> <a id="43244" class="Symbol">→</a> <a id="43246" class="Symbol">∀</a> <a id="43248" class="Symbol">(</a><a id="43249" href="Demos.HSP.html#43249" class="Bound">σ</a> <a id="43251" class="Symbol">:</a> <a id="43253" href="Demos.HSP.html#34644" class="Function">Sub</a> <a id="43257" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43259" href="Demos.HSP.html#1536" class="Generalizable">Δ</a><a id="43260" class="Symbol">)</a> <a id="43262" class="Symbol">→</a> <a id="43264" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43266" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43268" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43270" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43272" class="Symbol">(</a><a id="43273" href="Demos.HSP.html#43223" class="Bound">p</a> <a id="43275" href="Demos.HSP.html#34742" class="Function Operator">[</a> <a id="43277" href="Demos.HSP.html#43249" class="Bound">σ</a> <a id="43279" href="Demos.HSP.html#34742" class="Function Operator">]</a><a id="43280" class="Symbol">)</a> <a id="43282" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43284" class="Symbol">(</a><a id="43285" href="Demos.HSP.html#43225" class="Bound">q</a> <a id="43287" href="Demos.HSP.html#34742" class="Function Operator">[</a> <a id="43289" href="Demos.HSP.html#43249" class="Bound">σ</a> <a id="43291" href="Demos.HSP.html#34742" class="Function Operator">]</a><a id="43292" class="Symbol">)</a>

  <a id="43297" href="Demos.HSP.html#43297" class="InductiveConstructor">⊢refl</a>  <a id="43304" class="Symbol">:</a> <a id="43306" class="Symbol">∀</a> <a id="43308" class="Symbol">{</a><a id="43309" href="Demos.HSP.html#43309" class="Bound">p</a><a id="43310" class="Symbol">}</a>              <a id="43325" class="Symbol">→</a> <a id="43327" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43329" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43331" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43333" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43335" href="Demos.HSP.html#43309" class="Bound">p</a> <a id="43337" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43339" href="Demos.HSP.html#43309" class="Bound">p</a>
  <a id="43343" href="Demos.HSP.html#43343" class="InductiveConstructor">⊢sym</a>   <a id="43350" class="Symbol">:</a> <a id="43352" class="Symbol">∀</a> <a id="43354" class="Symbol">{</a><a id="43355" href="Demos.HSP.html#43355" class="Bound">p</a> <a id="43357" href="Demos.HSP.html#43357" class="Bound">q</a> <a id="43359" class="Symbol">:</a> <a id="43361" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="43366" href="Demos.HSP.html#1534" class="Generalizable">Γ</a><a id="43367" class="Symbol">}</a>   <a id="43371" class="Symbol">→</a> <a id="43373" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43375" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43377" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43379" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43381" href="Demos.HSP.html#43355" class="Bound">p</a> <a id="43383" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43385" href="Demos.HSP.html#43357" class="Bound">q</a> <a id="43387" class="Symbol">→</a> <a id="43389" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43391" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43393" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43395" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43397" href="Demos.HSP.html#43357" class="Bound">q</a> <a id="43399" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43401" href="Demos.HSP.html#43355" class="Bound">p</a>
  <a id="43405" href="Demos.HSP.html#43405" class="InductiveConstructor">⊢trans</a> <a id="43412" class="Symbol">:</a> <a id="43414" class="Symbol">∀</a> <a id="43416" class="Symbol">{</a><a id="43417" href="Demos.HSP.html#43417" class="Bound">p</a> <a id="43419" href="Demos.HSP.html#43419" class="Bound">q</a> <a id="43421" href="Demos.HSP.html#43421" class="Bound">r</a> <a id="43423" class="Symbol">:</a> <a id="43425" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="43430" href="Demos.HSP.html#1534" class="Generalizable">Γ</a><a id="43431" class="Symbol">}</a> <a id="43433" class="Symbol">→</a> <a id="43435" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43437" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43439" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43441" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43443" href="Demos.HSP.html#43417" class="Bound">p</a> <a id="43445" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43447" href="Demos.HSP.html#43419" class="Bound">q</a> <a id="43449" class="Symbol">→</a> <a id="43451" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43453" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43455" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43457" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43459" href="Demos.HSP.html#43419" class="Bound">q</a> <a id="43461" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43463" href="Demos.HSP.html#43421" class="Bound">r</a> <a id="43465" class="Symbol">→</a> <a id="43467" href="Demos.HSP.html#43009" class="Bound">ℰ</a> <a id="43469" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43471" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="43473" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="43475" href="Demos.HSP.html#43417" class="Bound">p</a> <a id="43477" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="43479" href="Demos.HSP.html#43421" class="Bound">r</a>

 <a id="43483" href="Demos.HSP.html#43483" class="Function">⊢▹≈IsEquiv</a> <a id="43494" class="Symbol">:</a> <a id="43496" class="Symbol">{</a><a id="43497" href="Demos.HSP.html#43497" class="Bound">X</a> <a id="43499" class="Symbol">:</a> <a id="43501" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="43506" href="Demos.HSP.html#42962" class="Bound">χ</a><a id="43507" class="Symbol">}{</a><a id="43509" href="Demos.HSP.html#43509" class="Bound">I</a> <a id="43511" class="Symbol">:</a> <a id="43513" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="43518" href="Demos.HSP.html#42964" class="Bound">ι</a><a id="43519" class="Symbol">}{</a><a id="43521" href="Demos.HSP.html#43521" class="Bound">ℰ</a> <a id="43523" class="Symbol">:</a> <a id="43525" href="Demos.HSP.html#43509" class="Bound">I</a> <a id="43527" class="Symbol">→</a> <a id="43529" href="Demos.HSP.html#40511" class="Record">Eq</a><a id="43531" class="Symbol">}</a> <a id="43533" class="Symbol">→</a> <a id="43535" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="43549" class="Symbol">(</a><a id="43550" href="Demos.HSP.html#43521" class="Bound">ℰ</a> <a id="43552" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="43554" href="Demos.HSP.html#43497" class="Bound">X</a> <a id="43556" href="Demos.HSP.html#42988" class="Datatype Operator">▹_≈_</a><a id="43560" class="Symbol">)</a>
 <a id="43563" href="Demos.HSP.html#43483" class="Function">⊢▹≈IsEquiv</a> <a id="43574" class="Symbol">=</a> <a id="43576" class="Keyword">record</a> <a id="43583" class="Symbol">{</a> <a id="43585" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="43590" class="Symbol">=</a> <a id="43592" href="Demos.HSP.html#43297" class="InductiveConstructor">⊢refl</a> <a id="43598" class="Symbol">;</a> <a id="43600" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="43604" class="Symbol">=</a> <a id="43606" href="Demos.HSP.html#43343" class="InductiveConstructor">⊢sym</a> <a id="43611" class="Symbol">;</a> <a id="43613" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="43619" class="Symbol">=</a> <a id="43621" href="Demos.HSP.html#43405" class="InductiveConstructor">⊢trans</a> <a id="43628" class="Symbol">}</a>


</pre>

### <a id="soundness">Soundness</a>

In any model 𝑨 that satisfies the equations ℰ, derived equality is actual equality
(cf. [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="43920" class="Keyword">module</a> <a id="Soundness"></a><a id="43927" href="Demos.HSP.html#43927" class="Module">Soundness</a> <a id="43937" class="Symbol">{</a><a id="43938" href="Demos.HSP.html#43938" class="Bound">χ</a> <a id="43940" href="Demos.HSP.html#43940" class="Bound">α</a> <a id="43942" href="Demos.HSP.html#43942" class="Bound">ι</a> <a id="43944" class="Symbol">:</a> <a id="43946" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="43951" class="Symbol">}{</a><a id="43953" href="Demos.HSP.html#43953" class="Bound">I</a> <a id="43955" class="Symbol">:</a> <a id="43957" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="43962" href="Demos.HSP.html#43942" class="Bound">ι</a><a id="43963" class="Symbol">}</a> <a id="43965" class="Symbol">(</a><a id="43966" href="Demos.HSP.html#43966" class="Bound">ℰ</a> <a id="43968" class="Symbol">:</a> <a id="43970" href="Demos.HSP.html#43953" class="Bound">I</a> <a id="43972" class="Symbol">→</a> <a id="43974" href="Demos.HSP.html#40511" class="Record">Eq</a><a id="43976" class="Symbol">{</a><a id="43977" href="Demos.HSP.html#43938" class="Bound">χ</a><a id="43978" class="Symbol">})</a>
                 <a id="43998" class="Symbol">(</a><a id="43999" href="Demos.HSP.html#43999" class="Bound">𝑨</a> <a id="44001" class="Symbol">:</a> <a id="44003" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="44011" href="Demos.HSP.html#43940" class="Bound">α</a> <a id="44013" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="44015" class="Symbol">)</a>     <a id="44021" class="Comment">-- We assume an algebra 𝑨</a>
                 <a id="44064" class="Symbol">(</a><a id="44065" href="Demos.HSP.html#44065" class="Bound">V</a> <a id="44067" class="Symbol">:</a> <a id="44069" href="Demos.HSP.html#43999" class="Bound">𝑨</a> <a id="44071" href="Demos.HSP.html#41994" class="Function Operator">⊨</a> <a id="44073" href="Demos.HSP.html#43966" class="Bound">ℰ</a><a id="44074" class="Symbol">)</a>         <a id="44084" class="Comment">-- that models all equations in ℰ.</a>
                 <a id="44136" class="Keyword">where</a>


 <a id="44145" class="Keyword">open</a> <a id="44150" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="44158" href="Demos.HSP.html#43999" class="Bound">𝑨</a> <a id="44160" class="Keyword">using</a> <a id="44166" class="Symbol">()</a> <a id="44169" class="Keyword">renaming</a> <a id="44178" class="Symbol">(</a><a id="44179" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="44186" class="Symbol">to</a> <a id="44189" class="Field">A</a> <a id="44191" class="Symbol">;</a> <a id="44193" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="44200" class="Symbol">to</a> <a id="44203" class="Field">InterpA</a><a id="44210" class="Symbol">)</a>
 <a id="44213" class="Keyword">open</a> <a id="44218" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="44234" href="Demos.HSP.html#44189" class="Function">A</a>
 <a id="44237" class="Keyword">open</a> <a id="44242" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="44254" href="Demos.HSP.html#43999" class="Bound">𝑨</a> <a id="44256" class="Keyword">renaming</a> <a id="44265" class="Symbol">(</a> <a id="44267" href="Demos.HSP.html#36949" class="Function Operator">⟦_⟧s</a> <a id="44272" class="Symbol">to</a> <a id="44275" class="Function Operator">⟪_⟫</a> <a id="44279" class="Symbol">)</a>
 <a id="44282" class="Keyword">open</a> <a id="44287" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="44301" class="Keyword">using</a> <a id="44307" class="Symbol">(</a> <a id="44309" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="44314" class="Symbol">;</a> <a id="44316" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="44320" class="Symbol">;</a> <a id="44322" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="44328" class="Symbol">)</a>

 <a id="Soundness.sound"></a><a id="44332" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44338" class="Symbol">:</a> <a id="44340" class="Symbol">∀</a> <a id="44342" class="Symbol">{</a><a id="44343" href="Demos.HSP.html#44343" class="Bound">p</a> <a id="44345" href="Demos.HSP.html#44345" class="Bound">q</a><a id="44346" class="Symbol">}</a> <a id="44348" class="Symbol">→</a> <a id="44350" href="Demos.HSP.html#43966" class="Bound">ℰ</a> <a id="44352" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="44354" href="Demos.HSP.html#1534" class="Generalizable">Γ</a> <a id="44356" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="44358" href="Demos.HSP.html#44343" class="Bound">p</a> <a id="44360" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="44362" href="Demos.HSP.html#44345" class="Bound">q</a> <a id="44364" class="Symbol">→</a> <a id="44366" href="Demos.HSP.html#43999" class="Bound">𝑨</a> <a id="44368" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="44370" class="Symbol">(</a><a id="44371" href="Demos.HSP.html#44343" class="Bound">p</a> <a id="44373" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="44376" href="Demos.HSP.html#44345" class="Bound">q</a><a id="44377" class="Symbol">)</a>
 <a id="44380" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44386" class="Symbol">(</a><a id="44387" href="Demos.HSP.html#43076" class="InductiveConstructor">hyp</a> <a id="44391" href="Demos.HSP.html#44391" class="Bound">i</a><a id="44392" class="Symbol">)</a>                      <a id="44415" class="Symbol">=</a> <a id="44417" href="Demos.HSP.html#44065" class="Bound">V</a> <a id="44419" href="Demos.HSP.html#44391" class="Bound">i</a>
 <a id="44422" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44428" class="Symbol">(</a><a id="44429" href="Demos.HSP.html#43126" class="InductiveConstructor">app</a> <a id="44433" class="Symbol">{</a><a id="44434" class="Argument">f</a> <a id="44436" class="Symbol">=</a> <a id="44438" href="Demos.HSP.html#44438" class="Bound">f</a><a id="44439" class="Symbol">}</a> <a id="44441" href="Demos.HSP.html#44441" class="Bound">es</a><a id="44443" class="Symbol">)</a> <a id="44445" href="Demos.HSP.html#44445" class="Bound">ρ</a>           <a id="44457" class="Symbol">=</a> <a id="44459" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="44464" href="Demos.HSP.html#44203" class="Function">InterpA</a> <a id="44472" class="Symbol">(</a><a id="44473" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="44480" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="44482" class="Symbol">λ</a> <a id="44484" href="Demos.HSP.html#44484" class="Bound">i</a> <a id="44486" class="Symbol">→</a> <a id="44488" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44494" class="Symbol">(</a><a id="44495" href="Demos.HSP.html#44441" class="Bound">es</a> <a id="44498" href="Demos.HSP.html#44484" class="Bound">i</a><a id="44499" class="Symbol">)</a> <a id="44501" href="Demos.HSP.html#44445" class="Bound">ρ</a><a id="44502" class="Symbol">)</a>
 <a id="44505" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44511" class="Symbol">(</a><a id="44512" href="Demos.HSP.html#43212" class="InductiveConstructor">sub</a> <a id="44516" class="Symbol">{</a><a id="44517" class="Argument">p</a> <a id="44519" class="Symbol">=</a> <a id="44521" href="Demos.HSP.html#44521" class="Bound">p</a><a id="44522" class="Symbol">}</a> <a id="44524" class="Symbol">{</a><a id="44525" href="Demos.HSP.html#44525" class="Bound">q</a><a id="44526" class="Symbol">}</a> <a id="44528" href="Demos.HSP.html#44528" class="Bound">Epq</a> <a id="44532" href="Demos.HSP.html#44532" class="Bound">σ</a><a id="44533" class="Symbol">)</a> <a id="44535" href="Demos.HSP.html#44535" class="Bound">ρ</a>    <a id="44540" class="Symbol">=</a>
  <a id="44544" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
   <a id="44553" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="44555" href="Demos.HSP.html#44521" class="Bound">p</a> <a id="44557" href="Demos.HSP.html#34742" class="Function Operator">[</a> <a id="44559" href="Demos.HSP.html#44532" class="Bound">σ</a> <a id="44561" href="Demos.HSP.html#34742" class="Function Operator">]</a> <a id="44563" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="44565" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a>       <a id="44575" href="Demos.HSP.html#44535" class="Bound">ρ</a> <a id="44577" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="44580" href="Demos.HSP.html#37278" class="Function">substitution</a> <a id="44593" href="Demos.HSP.html#44521" class="Bound">p</a> <a id="44595" href="Demos.HSP.html#44532" class="Bound">σ</a> <a id="44597" href="Demos.HSP.html#44535" class="Bound">ρ</a> <a id="44599" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="44604" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="44606" href="Demos.HSP.html#44521" class="Bound">p</a>       <a id="44614" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="44616" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="44620" href="Demos.HSP.html#44275" class="Function Operator">⟪</a> <a id="44622" href="Demos.HSP.html#44532" class="Bound">σ</a> <a id="44624" href="Demos.HSP.html#44275" class="Function Operator">⟫</a> <a id="44626" href="Demos.HSP.html#44535" class="Bound">ρ</a> <a id="44628" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="44631" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44637" href="Demos.HSP.html#44528" class="Bound">Epq</a> <a id="44641" class="Symbol">(</a><a id="44642" href="Demos.HSP.html#44275" class="Function Operator">⟪</a> <a id="44644" href="Demos.HSP.html#44532" class="Bound">σ</a> <a id="44646" href="Demos.HSP.html#44275" class="Function Operator">⟫</a> <a id="44648" href="Demos.HSP.html#44535" class="Bound">ρ</a><a id="44649" class="Symbol">)</a>  <a id="44652" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="44657" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="44659" href="Demos.HSP.html#44525" class="Bound">q</a>       <a id="44667" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="44669" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="44673" href="Demos.HSP.html#44275" class="Function Operator">⟪</a> <a id="44675" href="Demos.HSP.html#44532" class="Bound">σ</a> <a id="44677" href="Demos.HSP.html#44275" class="Function Operator">⟫</a> <a id="44679" href="Demos.HSP.html#44535" class="Bound">ρ</a> <a id="44681" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="44685" href="Demos.HSP.html#37278" class="Function">substitution</a>  <a id="44699" href="Demos.HSP.html#44525" class="Bound">q</a> <a id="44701" href="Demos.HSP.html#44532" class="Bound">σ</a> <a id="44703" href="Demos.HSP.html#44535" class="Bound">ρ</a> <a id="44705" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
   <a id="44710" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="44712" href="Demos.HSP.html#44525" class="Bound">q</a> <a id="44714" href="Demos.HSP.html#34742" class="Function Operator">[</a> <a id="44716" href="Demos.HSP.html#44532" class="Bound">σ</a> <a id="44718" href="Demos.HSP.html#34742" class="Function Operator">]</a> <a id="44720" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="44722" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a>       <a id="44732" href="Demos.HSP.html#44535" class="Bound">ρ</a> <a id="44734" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

 <a id="44738" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44744" class="Symbol">(</a><a id="44745" href="Demos.HSP.html#43297" class="InductiveConstructor">⊢refl</a> <a id="44751" class="Symbol">{</a><a id="44752" class="Argument">p</a> <a id="44754" class="Symbol">=</a> <a id="44756" href="Demos.HSP.html#44756" class="Bound">p</a><a id="44757" class="Symbol">})</a>               <a id="44774" class="Symbol">=</a> <a id="44776" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>  <a id="44782" href="Demos.HSP.html#36503" class="Function">EqualIsEquiv</a> <a id="44795" class="Symbol">{</a><a id="44796" class="Argument">x</a> <a id="44798" class="Symbol">=</a> <a id="44800" href="Demos.HSP.html#44756" class="Bound">p</a><a id="44801" class="Symbol">}</a>
 <a id="44804" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44810" class="Symbol">(</a><a id="44811" href="Demos.HSP.html#43343" class="InductiveConstructor">⊢sym</a> <a id="44816" class="Symbol">{</a><a id="44817" class="Argument">p</a> <a id="44819" class="Symbol">=</a> <a id="44821" href="Demos.HSP.html#44821" class="Bound">p</a><a id="44822" class="Symbol">}</a> <a id="44824" class="Symbol">{</a><a id="44825" href="Demos.HSP.html#44825" class="Bound">q</a><a id="44826" class="Symbol">}</a> <a id="44828" href="Demos.HSP.html#44828" class="Bound">Epq</a><a id="44831" class="Symbol">)</a>        <a id="44840" class="Symbol">=</a> <a id="44842" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>   <a id="44848" href="Demos.HSP.html#36503" class="Function">EqualIsEquiv</a> <a id="44861" class="Symbol">{</a><a id="44862" class="Argument">x</a> <a id="44864" class="Symbol">=</a> <a id="44866" href="Demos.HSP.html#44821" class="Bound">p</a><a id="44867" class="Symbol">}{</a><a id="44869" href="Demos.HSP.html#44825" class="Bound">q</a><a id="44870" class="Symbol">}</a>   <a id="44874" class="Symbol">(</a><a id="44875" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44881" href="Demos.HSP.html#44828" class="Bound">Epq</a><a id="44884" class="Symbol">)</a>
 <a id="44887" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44893" class="Symbol">(</a><a id="44894" href="Demos.HSP.html#43405" class="InductiveConstructor">⊢trans</a><a id="44900" class="Symbol">{</a><a id="44901" class="Argument">p</a> <a id="44903" class="Symbol">=</a> <a id="44905" href="Demos.HSP.html#44905" class="Bound">p</a><a id="44906" class="Symbol">}{</a><a id="44908" href="Demos.HSP.html#44908" class="Bound">q</a><a id="44909" class="Symbol">}{</a><a id="44911" href="Demos.HSP.html#44911" class="Bound">r</a><a id="44912" class="Symbol">}</a> <a id="44914" href="Demos.HSP.html#44914" class="Bound">Epq</a> <a id="44918" href="Demos.HSP.html#44918" class="Bound">Eqr</a><a id="44921" class="Symbol">)</a> <a id="44923" class="Symbol">=</a> <a id="44925" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="44931" href="Demos.HSP.html#36503" class="Function">EqualIsEquiv</a> <a id="44944" class="Symbol">{</a><a id="44945" class="Argument">i</a> <a id="44947" class="Symbol">=</a> <a id="44949" href="Demos.HSP.html#44905" class="Bound">p</a><a id="44950" class="Symbol">}{</a><a id="44952" href="Demos.HSP.html#44908" class="Bound">q</a><a id="44953" class="Symbol">}{</a><a id="44955" href="Demos.HSP.html#44911" class="Bound">r</a><a id="44956" class="Symbol">}(</a><a id="44958" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44964" href="Demos.HSP.html#44914" class="Bound">Epq</a><a id="44967" class="Symbol">)(</a><a id="44969" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="44975" href="Demos.HSP.html#44918" class="Bound">Eqr</a><a id="44978" class="Symbol">)</a>

</pre>


## <a id="the-closure-operators-h-s-p-and-v">The Closure Operators H, S, P and V</a>

Fix a signature `𝑆`, let `𝒦` be a class of `𝑆`-algebras, and define

* `H 𝒦` = algebras isomorphic to a homomorphic image of a member of `𝒦`;
* S 𝒦 = algebras isomorphic to a subalgebra of a member of 𝒦;
* P 𝒦 = algebras isomorphic to a product of members of 𝒦.

A straight-forward verification confirms that `H`, `S`, and `P` are *closure operators* (expansive, monotone, and idempotent).  A class `𝒦` of `𝑆`-algebras is said to be *closed under the taking of homomorphic images* provided `H 𝒦 ⊆ 𝒦`. Similarly, `𝒦` is *closed under the taking of subalgebras* (resp., *arbitrary products*) provided `S 𝒦 ⊆ 𝒦` (resp., `P 𝒦 ⊆ 𝒦`). The operators `H`, `S`, and `P` can be composed with one another repeatedly, forming yet more closure operators.

An algebra is a homomorphic image (resp., subalgebra; resp., product) of every algebra to which it is isomorphic. Thus, the class `H 𝒦` (resp., `S 𝒦`; resp., `P 𝒦`) is closed under isomorphism.

A *variety* is a class of `𝑆`-algebras that is closed under the taking of homomorphic images, subalgebras, and arbitrary products.  To represent varieties we define types for the closure operators `H`, `S`, and `P` that are composable.  Separately, we define a type `V` which represents closure under all three operators, `H`, `S`, and `P`.


### <a id="closure-basic-definitions">Basic definitions</a>

We now define the type `H` to represent classes of algebras that include all homomorphic images of algebras in the class---i.e., classes that are closed under the taking of homomorphic images---the type `S` to represent classes of algebras that closed under the taking of subalgebras, and the type `P` to represent classes of algebras closed under the taking of arbitrary products.

<pre class="Agda">

<a id="H"></a><a id="46819" href="Demos.HSP.html#46819" class="Function">H</a> <a id="46821" class="Symbol">:</a> <a id="46823" class="Symbol">∀</a> <a id="46825" href="Demos.HSP.html#46825" class="Bound">ℓ</a> <a id="46827" class="Symbol">→</a> <a id="46829" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="46833" class="Symbol">(</a><a id="46834" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="46842" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="46844" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="46846" class="Symbol">)</a> <a id="46848" class="Symbol">(</a><a id="46849" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="46851" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="46853" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="46856" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="46858" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="46861" href="Demos.HSP.html#46825" class="Bound">ℓ</a><a id="46862" class="Symbol">)</a> <a id="46864" class="Symbol">→</a> <a id="46866" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="46870" class="Symbol">(</a><a id="46871" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="46879" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="46881" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="46883" class="Symbol">)</a> <a id="46885" class="Symbol">(</a><a id="46886" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="46888" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="46890" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a> <a id="46893" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="46895" href="Demos.HSP.html#27044" class="Function">ov</a><a id="46897" class="Symbol">(</a><a id="46898" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="46900" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="46902" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="46905" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="46907" href="Demos.HSP.html#46825" class="Bound">ℓ</a><a id="46908" class="Symbol">))</a>
<a id="46911" href="Demos.HSP.html#46819" class="Function">H</a> <a id="46913" class="Symbol">{</a><a id="46914" href="Demos.HSP.html#46914" class="Bound">α</a><a id="46915" class="Symbol">}{</a><a id="46917" href="Demos.HSP.html#46917" class="Bound">ρᵃ</a><a id="46919" class="Symbol">}</a> <a id="46921" class="Symbol">_</a> <a id="46923" href="Demos.HSP.html#46923" class="Bound">𝒦</a> <a id="46925" href="Demos.HSP.html#46925" class="Bound">𝑩</a> <a id="46927" class="Symbol">=</a> <a id="46929" href="Data.Product.html#916" class="Function">Σ[</a> <a id="46932" href="Demos.HSP.html#46932" class="Bound">𝑨</a> <a id="46934" href="Data.Product.html#916" class="Function">∈</a> <a id="46936" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="46944" href="Demos.HSP.html#46914" class="Bound">α</a> <a id="46946" href="Demos.HSP.html#46917" class="Bound">ρᵃ</a> <a id="46949" href="Data.Product.html#916" class="Function">]</a> <a id="46951" href="Demos.HSP.html#46932" class="Bound">𝑨</a> <a id="46953" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="46955" href="Demos.HSP.html#46923" class="Bound">𝒦</a> <a id="46957" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="46959" href="Demos.HSP.html#46925" class="Bound">𝑩</a> <a id="46961" href="Demos.HSP.html#27098" class="Function Operator">IsHomImageOf</a> <a id="46974" href="Demos.HSP.html#46932" class="Bound">𝑨</a>

<a id="S"></a><a id="46977" href="Demos.HSP.html#46977" class="Function">S</a> <a id="46979" class="Symbol">:</a> <a id="46981" class="Symbol">∀</a> <a id="46983" href="Demos.HSP.html#46983" class="Bound">ℓ</a> <a id="46985" class="Symbol">→</a> <a id="46987" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="46991" class="Symbol">(</a><a id="46992" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47000" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="47002" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="47004" class="Symbol">)</a> <a id="47006" class="Symbol">(</a><a id="47007" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="47009" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47011" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="47014" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47016" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="47019" href="Demos.HSP.html#46983" class="Bound">ℓ</a><a id="47020" class="Symbol">)</a> <a id="47022" class="Symbol">→</a> <a id="47024" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="47028" class="Symbol">(</a><a id="47029" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47037" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="47039" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="47041" class="Symbol">)</a> <a id="47043" class="Symbol">(</a><a id="47044" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="47046" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47048" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a> <a id="47051" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47053" href="Demos.HSP.html#27044" class="Function">ov</a><a id="47055" class="Symbol">(</a><a id="47056" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="47058" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47060" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="47063" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47065" href="Demos.HSP.html#46983" class="Bound">ℓ</a><a id="47066" class="Symbol">))</a>
<a id="47069" href="Demos.HSP.html#46977" class="Function">S</a> <a id="47071" class="Symbol">{</a><a id="47072" href="Demos.HSP.html#47072" class="Bound">α</a><a id="47073" class="Symbol">}{</a><a id="47075" href="Demos.HSP.html#47075" class="Bound">ρᵃ</a><a id="47077" class="Symbol">}</a> <a id="47079" class="Symbol">_</a> <a id="47081" href="Demos.HSP.html#47081" class="Bound">𝒦</a> <a id="47083" href="Demos.HSP.html#47083" class="Bound">𝑩</a> <a id="47085" class="Symbol">=</a> <a id="47087" href="Data.Product.html#916" class="Function">Σ[</a> <a id="47090" href="Demos.HSP.html#47090" class="Bound">𝑨</a> <a id="47092" href="Data.Product.html#916" class="Function">∈</a> <a id="47094" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47102" href="Demos.HSP.html#47072" class="Bound">α</a> <a id="47104" href="Demos.HSP.html#47075" class="Bound">ρᵃ</a> <a id="47107" href="Data.Product.html#916" class="Function">]</a> <a id="47109" href="Demos.HSP.html#47090" class="Bound">𝑨</a> <a id="47111" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="47113" href="Demos.HSP.html#47081" class="Bound">𝒦</a> <a id="47115" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="47117" href="Demos.HSP.html#47083" class="Bound">𝑩</a> <a id="47119" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="47121" href="Demos.HSP.html#47090" class="Bound">𝑨</a>

<a id="P"></a><a id="47124" href="Demos.HSP.html#47124" class="Function">P</a> <a id="47126" class="Symbol">:</a> <a id="47128" class="Symbol">∀</a> <a id="47130" href="Demos.HSP.html#47130" class="Bound">ℓ</a> <a id="47132" href="Demos.HSP.html#47132" class="Bound">ι</a> <a id="47134" class="Symbol">→</a> <a id="47136" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="47140" class="Symbol">(</a><a id="47141" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47149" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="47151" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="47153" class="Symbol">)</a> <a id="47155" class="Symbol">(</a><a id="47156" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="47158" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47160" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="47163" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47165" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="47168" href="Demos.HSP.html#47130" class="Bound">ℓ</a><a id="47169" class="Symbol">)</a> <a id="47171" class="Symbol">→</a> <a id="47173" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="47177" class="Symbol">(</a><a id="47178" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47186" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="47188" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="47190" class="Symbol">)</a> <a id="47192" class="Symbol">(</a><a id="47193" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="47195" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47197" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a> <a id="47200" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47202" href="Demos.HSP.html#27044" class="Function">ov</a><a id="47204" class="Symbol">(</a><a id="47205" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="47207" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47209" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="47212" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47214" href="Demos.HSP.html#47130" class="Bound">ℓ</a> <a id="47216" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47218" href="Demos.HSP.html#47132" class="Bound">ι</a><a id="47219" class="Symbol">))</a>
<a id="47222" href="Demos.HSP.html#47124" class="Function">P</a> <a id="47224" class="Symbol">{</a><a id="47225" href="Demos.HSP.html#47225" class="Bound">α</a><a id="47226" class="Symbol">}{</a><a id="47228" href="Demos.HSP.html#47228" class="Bound">ρᵃ</a><a id="47230" class="Symbol">}</a> <a id="47232" class="Symbol">_</a> <a id="47234" href="Demos.HSP.html#47234" class="Bound">ι</a> <a id="47236" href="Demos.HSP.html#47236" class="Bound">𝒦</a> <a id="47238" href="Demos.HSP.html#47238" class="Bound">𝑩</a> <a id="47240" class="Symbol">=</a> <a id="47242" href="Data.Product.html#916" class="Function">Σ[</a> <a id="47245" href="Demos.HSP.html#47245" class="Bound">I</a> <a id="47247" href="Data.Product.html#916" class="Function">∈</a> <a id="47249" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="47254" href="Demos.HSP.html#47234" class="Bound">ι</a> <a id="47256" href="Data.Product.html#916" class="Function">]</a> <a id="47258" class="Symbol">(</a><a id="47259" href="Data.Product.html#916" class="Function">Σ[</a> <a id="47262" href="Demos.HSP.html#47262" class="Bound">𝒜</a> <a id="47264" href="Data.Product.html#916" class="Function">∈</a> <a id="47266" class="Symbol">(</a><a id="47267" href="Demos.HSP.html#47245" class="Bound">I</a> <a id="47269" class="Symbol">→</a> <a id="47271" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47279" href="Demos.HSP.html#47225" class="Bound">α</a> <a id="47281" href="Demos.HSP.html#47228" class="Bound">ρᵃ</a><a id="47283" class="Symbol">)</a> <a id="47285" href="Data.Product.html#916" class="Function">]</a> <a id="47287" class="Symbol">(∀</a> <a id="47290" href="Demos.HSP.html#47290" class="Bound">i</a> <a id="47292" class="Symbol">→</a> <a id="47294" href="Demos.HSP.html#47262" class="Bound">𝒜</a> <a id="47296" href="Demos.HSP.html#47290" class="Bound">i</a> <a id="47298" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="47300" href="Demos.HSP.html#47236" class="Bound">𝒦</a><a id="47301" class="Symbol">)</a> <a id="47303" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="47305" class="Symbol">(</a><a id="47306" href="Demos.HSP.html#47238" class="Bound">𝑩</a> <a id="47308" href="Demos.HSP.html#24192" class="Record Operator">≅</a> <a id="47310" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="47312" href="Demos.HSP.html#47262" class="Bound">𝒜</a><a id="47313" class="Symbol">))</a>

</pre>

A class `𝒦` of `𝑆`-algebras is called a *variety* if it is closed under each of the closure operators `H`, `S`, and `P` defined above. The corresponding closure operator is often denoted `𝕍` or `𝒱`, but we will denote it by `V`.

<pre class="Agda">

<a id="47573" class="Keyword">module</a> <a id="47580" href="Demos.HSP.html#47580" class="Module">_</a>  <a id="47583" class="Symbol">{</a><a id="47584" href="Demos.HSP.html#47584" class="Bound">α</a> <a id="47586" href="Demos.HSP.html#47586" class="Bound">ρᵃ</a> <a id="47589" href="Demos.HSP.html#47589" class="Bound">β</a> <a id="47591" href="Demos.HSP.html#47591" class="Bound">ρᵇ</a> <a id="47594" href="Demos.HSP.html#47594" class="Bound">γ</a> <a id="47596" href="Demos.HSP.html#47596" class="Bound">ρᶜ</a> <a id="47599" href="Demos.HSP.html#47599" class="Bound">δ</a> <a id="47601" href="Demos.HSP.html#47601" class="Bound">ρᵈ</a> <a id="47604" class="Symbol">:</a> <a id="47606" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="47611" class="Symbol">}</a> <a id="47613" class="Keyword">where</a>

 <a id="47621" class="Keyword">private</a> <a id="47629" href="Demos.HSP.html#47629" class="Function">a</a> <a id="47631" class="Symbol">=</a> <a id="47633" href="Demos.HSP.html#47584" class="Bound">α</a> <a id="47635" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47637" href="Demos.HSP.html#47586" class="Bound">ρᵃ</a> <a id="47640" class="Symbol">;</a> <a id="47642" href="Demos.HSP.html#47642" class="Function">b</a> <a id="47644" class="Symbol">=</a> <a id="47646" href="Demos.HSP.html#47589" class="Bound">β</a> <a id="47648" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47650" href="Demos.HSP.html#47591" class="Bound">ρᵇ</a> <a id="47653" class="Symbol">;</a> <a id="47655" href="Demos.HSP.html#47655" class="Function">c</a> <a id="47657" class="Symbol">=</a> <a id="47659" href="Demos.HSP.html#47594" class="Bound">γ</a> <a id="47661" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47663" href="Demos.HSP.html#47596" class="Bound">ρᶜ</a> <a id="47666" class="Symbol">;</a> <a id="47668" href="Demos.HSP.html#47668" class="Function">d</a> <a id="47670" class="Symbol">=</a> <a id="47672" href="Demos.HSP.html#47599" class="Bound">δ</a> <a id="47674" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47676" href="Demos.HSP.html#47601" class="Bound">ρᵈ</a>

 <a id="47681" href="Demos.HSP.html#47681" class="Function">V</a> <a id="47683" class="Symbol">:</a> <a id="47685" class="Symbol">∀</a> <a id="47687" href="Demos.HSP.html#47687" class="Bound">ℓ</a> <a id="47689" href="Demos.HSP.html#47689" class="Bound">ι</a> <a id="47691" class="Symbol">→</a> <a id="47693" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="47697" class="Symbol">(</a><a id="47698" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47706" href="Demos.HSP.html#47584" class="Bound">α</a> <a id="47708" href="Demos.HSP.html#47586" class="Bound">ρᵃ</a><a id="47710" class="Symbol">)</a> <a id="47712" class="Symbol">(</a><a id="47713" href="Demos.HSP.html#47629" class="Function">a</a> <a id="47715" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47717" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="47720" href="Demos.HSP.html#47687" class="Bound">ℓ</a><a id="47721" class="Symbol">)</a> <a id="47723" class="Symbol">→</a>  <a id="47726" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="47730" class="Symbol">(</a><a id="47731" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47739" href="Demos.HSP.html#47599" class="Bound">δ</a> <a id="47741" href="Demos.HSP.html#47601" class="Bound">ρᵈ</a><a id="47743" class="Symbol">)</a> <a id="47745" class="Symbol">(</a><a id="47746" href="Demos.HSP.html#47668" class="Function">d</a> <a id="47748" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47750" href="Demos.HSP.html#27044" class="Function">ov</a><a id="47752" class="Symbol">(</a><a id="47753" href="Demos.HSP.html#47629" class="Function">a</a> <a id="47755" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47757" href="Demos.HSP.html#47642" class="Function">b</a> <a id="47759" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47761" href="Demos.HSP.html#47655" class="Function">c</a> <a id="47763" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47765" href="Demos.HSP.html#47687" class="Bound">ℓ</a> <a id="47767" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47769" href="Demos.HSP.html#47689" class="Bound">ι</a><a id="47770" class="Symbol">))</a>
 <a id="47774" href="Demos.HSP.html#47681" class="Function">V</a> <a id="47776" href="Demos.HSP.html#47776" class="Bound">ℓ</a> <a id="47778" href="Demos.HSP.html#47778" class="Bound">ι</a> <a id="47780" href="Demos.HSP.html#47780" class="Bound">𝒦</a> <a id="47782" class="Symbol">=</a> <a id="47784" href="Demos.HSP.html#46819" class="Function">H</a><a id="47785" class="Symbol">{</a><a id="47786" href="Demos.HSP.html#47594" class="Bound">γ</a><a id="47787" class="Symbol">}{</a><a id="47789" href="Demos.HSP.html#47596" class="Bound">ρᶜ</a><a id="47791" class="Symbol">}{</a><a id="47793" href="Demos.HSP.html#47599" class="Bound">δ</a><a id="47794" class="Symbol">}{</a><a id="47796" href="Demos.HSP.html#47601" class="Bound">ρᵈ</a><a id="47798" class="Symbol">}</a> <a id="47800" class="Symbol">(</a><a id="47801" href="Demos.HSP.html#47629" class="Function">a</a> <a id="47803" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47805" href="Demos.HSP.html#47642" class="Function">b</a> <a id="47807" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47809" href="Demos.HSP.html#47776" class="Bound">ℓ</a> <a id="47811" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47813" href="Demos.HSP.html#47778" class="Bound">ι</a><a id="47814" class="Symbol">)</a> <a id="47816" class="Symbol">(</a><a id="47817" href="Demos.HSP.html#46977" class="Function">S</a><a id="47818" class="Symbol">{</a><a id="47819" href="Demos.HSP.html#47589" class="Bound">β</a><a id="47820" class="Symbol">}{</a><a id="47822" href="Demos.HSP.html#47591" class="Bound">ρᵇ</a><a id="47824" class="Symbol">}</a> <a id="47826" class="Symbol">(</a><a id="47827" href="Demos.HSP.html#47629" class="Function">a</a> <a id="47829" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47831" href="Demos.HSP.html#47776" class="Bound">ℓ</a> <a id="47833" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47835" href="Demos.HSP.html#47778" class="Bound">ι</a><a id="47836" class="Symbol">)</a> <a id="47838" class="Symbol">(</a><a id="47839" href="Demos.HSP.html#47124" class="Function">P</a> <a id="47841" href="Demos.HSP.html#47776" class="Bound">ℓ</a> <a id="47843" href="Demos.HSP.html#47778" class="Bound">ι</a> <a id="47845" href="Demos.HSP.html#47780" class="Bound">𝒦</a><a id="47846" class="Symbol">))</a>


<a id="47851" class="Keyword">module</a> <a id="47858" href="Demos.HSP.html#47858" class="Module">_</a> <a id="47860" class="Symbol">{</a><a id="47861" href="Demos.HSP.html#47861" class="Bound">α</a> <a id="47863" href="Demos.HSP.html#47863" class="Bound">ρᵃ</a> <a id="47866" href="Demos.HSP.html#47866" class="Bound">ℓ</a> <a id="47868" class="Symbol">:</a> <a id="47870" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="47875" class="Symbol">}</a>
         <a id="47886" class="Symbol">(</a><a id="47887" href="Demos.HSP.html#47887" class="Bound">𝒦</a> <a id="47889" class="Symbol">:</a> <a id="47891" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="47895" class="Symbol">(</a><a id="47896" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47904" href="Demos.HSP.html#47861" class="Bound">α</a> <a id="47906" href="Demos.HSP.html#47863" class="Bound">ρᵃ</a><a id="47908" class="Symbol">)</a> <a id="47910" class="Symbol">(</a><a id="47911" href="Demos.HSP.html#47861" class="Bound">α</a> <a id="47913" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47915" href="Demos.HSP.html#47863" class="Bound">ρᵃ</a> <a id="47918" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47920" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="47923" href="Demos.HSP.html#47866" class="Bound">ℓ</a><a id="47924" class="Symbol">))</a>
         <a id="47936" class="Symbol">(</a><a id="47937" href="Demos.HSP.html#47937" class="Bound">𝑨</a> <a id="47939" class="Symbol">:</a> <a id="47941" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="47949" class="Symbol">(</a><a id="47950" href="Demos.HSP.html#47861" class="Bound">α</a> <a id="47952" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47954" href="Demos.HSP.html#47863" class="Bound">ρᵃ</a> <a id="47957" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47959" href="Demos.HSP.html#47866" class="Bound">ℓ</a><a id="47960" class="Symbol">)</a> <a id="47962" class="Symbol">(</a><a id="47963" href="Demos.HSP.html#47861" class="Bound">α</a> <a id="47965" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47967" href="Demos.HSP.html#47863" class="Bound">ρᵃ</a> <a id="47970" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="47972" href="Demos.HSP.html#47866" class="Bound">ℓ</a><a id="47973" class="Symbol">))</a> <a id="47976" class="Keyword">where</a>

 <a id="47984" class="Keyword">private</a> <a id="47992" href="Demos.HSP.html#47992" class="Function">ι</a> <a id="47994" class="Symbol">=</a> <a id="47996" href="Demos.HSP.html#27044" class="Function">ov</a><a id="47998" class="Symbol">(</a><a id="47999" href="Demos.HSP.html#47861" class="Bound">α</a> <a id="48001" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="48003" href="Demos.HSP.html#47863" class="Bound">ρᵃ</a> <a id="48006" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="48008" href="Demos.HSP.html#47866" class="Bound">ℓ</a><a id="48009" class="Symbol">)</a>

 <a id="48013" href="Demos.HSP.html#48013" class="Function">V-≅-lc</a> <a id="48020" class="Symbol">:</a> <a id="48022" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="48031" href="Demos.HSP.html#47937" class="Bound">𝑨</a> <a id="48033" href="Demos.HSP.html#47992" class="Function">ι</a> <a id="48035" href="Demos.HSP.html#47992" class="Function">ι</a> <a id="48037" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="48039" href="Demos.HSP.html#47681" class="Function">V</a><a id="48040" class="Symbol">{</a><a id="48041" class="Argument">β</a> <a id="48043" class="Symbol">=</a> <a id="48045" href="Demos.HSP.html#47992" class="Function">ι</a><a id="48046" class="Symbol">}{</a><a id="48048" href="Demos.HSP.html#47992" class="Function">ι</a><a id="48049" class="Symbol">}</a> <a id="48051" href="Demos.HSP.html#47866" class="Bound">ℓ</a> <a id="48053" href="Demos.HSP.html#47992" class="Function">ι</a> <a id="48055" href="Demos.HSP.html#47887" class="Bound">𝒦</a>
  <a id="48059" class="Symbol">→</a>       <a id="48067" href="Demos.HSP.html#47937" class="Bound">𝑨</a> <a id="48069" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="48071" href="Demos.HSP.html#47681" class="Function">V</a><a id="48072" class="Symbol">{</a><a id="48073" class="Argument">γ</a> <a id="48075" class="Symbol">=</a> <a id="48077" href="Demos.HSP.html#47992" class="Function">ι</a><a id="48078" class="Symbol">}{</a><a id="48080" href="Demos.HSP.html#47992" class="Function">ι</a><a id="48081" class="Symbol">}</a> <a id="48083" href="Demos.HSP.html#47866" class="Bound">ℓ</a> <a id="48085" href="Demos.HSP.html#47992" class="Function">ι</a> <a id="48087" href="Demos.HSP.html#47887" class="Bound">𝒦</a>

 <a id="48091" href="Demos.HSP.html#48013" class="Function">V-≅-lc</a> <a id="48098" class="Symbol">(</a><a id="48099" href="Demos.HSP.html#48099" class="Bound">𝑨&#39;</a> <a id="48102" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48104" href="Demos.HSP.html#48104" class="Bound">spA&#39;</a> <a id="48109" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48111" href="Demos.HSP.html#48111" class="Bound">lAimgA&#39;</a><a id="48118" class="Symbol">)</a> <a id="48120" class="Symbol">=</a> <a id="48122" href="Demos.HSP.html#48099" class="Bound">𝑨&#39;</a> <a id="48125" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48127" class="Symbol">(</a><a id="48128" href="Demos.HSP.html#48104" class="Bound">spA&#39;</a> <a id="48133" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48135" href="Demos.HSP.html#48153" class="Function">AimgA&#39;</a><a id="48141" class="Symbol">)</a>
  <a id="48145" class="Keyword">where</a>
  <a id="48153" href="Demos.HSP.html#48153" class="Function">AimgA&#39;</a> <a id="48160" class="Symbol">:</a> <a id="48162" href="Demos.HSP.html#47937" class="Bound">𝑨</a> <a id="48164" href="Demos.HSP.html#27098" class="Function Operator">IsHomImageOf</a> <a id="48177" href="Demos.HSP.html#48099" class="Bound">𝑨&#39;</a>
  <a id="48182" href="Demos.HSP.html#48153" class="Function">AimgA&#39;</a> <a id="48189" class="Symbol">=</a> <a id="48191" href="Demos.HSP.html#27771" class="Function">Lift-HomImage-lemma</a> <a id="48211" href="Demos.HSP.html#48111" class="Bound">lAimgA&#39;</a>


</pre>


### <a id="properties">Properties</a>

#### <a id="idempotence-of-s">Idempotence of S</a>

`S` is a closure operator.  The facts that S is monotone and expansive won't be needed, so we omit the proof of these facts.  However, we will make use of idempotence of `S`, so we prove that property as follows.

<pre class="Agda">

<a id="S-idem"></a><a id="48553" href="Demos.HSP.html#48553" class="Function">S-idem</a> <a id="48560" class="Symbol">:</a> <a id="48562" class="Symbol">{</a><a id="48563" href="Demos.HSP.html#48563" class="Bound">𝒦</a> <a id="48565" class="Symbol">:</a> <a id="48567" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="48572" class="Symbol">(</a><a id="48573" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="48581" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="48583" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="48585" class="Symbol">)(</a><a id="48587" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="48589" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="48591" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="48594" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="48596" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="48599" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="48600" class="Symbol">)}</a>
 <a id="48604" class="Symbol">→</a>       <a id="48612" href="Demos.HSP.html#46977" class="Function">S</a><a id="48613" class="Symbol">{</a><a id="48614" class="Argument">β</a> <a id="48616" class="Symbol">=</a> <a id="48618" href="Demos.HSP.html#1511" class="Generalizable">γ</a><a id="48619" class="Symbol">}{</a><a id="48621" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a><a id="48623" class="Symbol">}</a> <a id="48625" class="Symbol">(</a><a id="48626" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="48628" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="48630" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a>  <a id="48634" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="48636" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="48637" class="Symbol">)</a> <a id="48639" class="Symbol">(</a><a id="48640" href="Demos.HSP.html#46977" class="Function">S</a><a id="48641" class="Symbol">{</a><a id="48642" class="Argument">β</a> <a id="48644" class="Symbol">=</a> <a id="48646" href="Demos.HSP.html#1506" class="Generalizable">β</a><a id="48647" class="Symbol">}{</a><a id="48649" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="48651" class="Symbol">}</a> <a id="48653" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a> <a id="48655" href="Demos.HSP.html#48563" class="Bound">𝒦</a><a id="48656" class="Symbol">)</a> <a id="48658" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="48660" href="Demos.HSP.html#46977" class="Function">S</a><a id="48661" class="Symbol">{</a><a id="48662" class="Argument">β</a> <a id="48664" class="Symbol">=</a> <a id="48666" href="Demos.HSP.html#1511" class="Generalizable">γ</a><a id="48667" class="Symbol">}{</a><a id="48669" href="Demos.HSP.html#1513" class="Generalizable">ρᶜ</a><a id="48671" class="Symbol">}</a> <a id="48673" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a> <a id="48675" href="Demos.HSP.html#48563" class="Bound">𝒦</a>

<a id="48678" href="Demos.HSP.html#48553" class="Function">S-idem</a> <a id="48685" class="Symbol">(</a><a id="48686" href="Demos.HSP.html#48686" class="Bound">𝑨</a> <a id="48688" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48690" class="Symbol">(</a><a id="48691" href="Demos.HSP.html#48691" class="Bound">𝑩</a> <a id="48693" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48695" href="Demos.HSP.html#48695" class="Bound">sB</a> <a id="48698" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48700" href="Demos.HSP.html#48700" class="Bound">A≤B</a><a id="48703" class="Symbol">)</a> <a id="48705" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48707" href="Demos.HSP.html#48707" class="Bound">x≤A</a><a id="48710" class="Symbol">)</a> <a id="48712" class="Symbol">=</a> <a id="48714" href="Demos.HSP.html#48691" class="Bound">𝑩</a> <a id="48716" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48718" class="Symbol">(</a><a id="48719" href="Demos.HSP.html#48695" class="Bound">sB</a> <a id="48722" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48724" href="Demos.HSP.html#29229" class="Function">≤-trans</a> <a id="48732" href="Demos.HSP.html#48707" class="Bound">x≤A</a> <a id="48736" href="Demos.HSP.html#48700" class="Bound">A≤B</a><a id="48739" class="Symbol">)</a>

</pre>

#### <a id="algebraic-invariance-of-models">Algebraic invariance of ⊧</a>

The binary relation `⊧` would be practically useless if it were not an *algebraic invariant* (i.e., invariant under isomorphism). Let us now verify that the models relation we defined above has this essential property.

<pre class="Agda">

<a id="49063" class="Keyword">module</a> <a id="49070" href="Demos.HSP.html#49070" class="Module">_</a> <a id="49072" class="Symbol">{</a><a id="49073" href="Demos.HSP.html#49073" class="Bound">X</a> <a id="49075" class="Symbol">:</a> <a id="49077" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="49082" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="49083" class="Symbol">}{</a><a id="49085" href="Demos.HSP.html#49085" class="Bound">𝑨</a> <a id="49087" class="Symbol">:</a> <a id="49089" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="49097" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="49099" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="49101" class="Symbol">}</a>
         <a id="49112" class="Symbol">(</a><a id="49113" href="Demos.HSP.html#49113" class="Bound">𝑩</a> <a id="49115" class="Symbol">:</a> <a id="49117" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="49125" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="49127" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="49129" class="Symbol">)(</a><a id="49131" href="Demos.HSP.html#49131" class="Bound">p</a> <a id="49133" href="Demos.HSP.html#49133" class="Bound">q</a> <a id="49135" class="Symbol">:</a> <a id="49137" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="49142" href="Demos.HSP.html#49073" class="Bound">X</a><a id="49143" class="Symbol">)</a> <a id="49145" class="Keyword">where</a>
 <a id="49152" class="Keyword">open</a> <a id="49157" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="49169" href="Demos.HSP.html#49085" class="Bound">𝑨</a>     <a id="49175" class="Keyword">using</a> <a id="49181" class="Symbol">()</a> <a id="49184" class="Keyword">renaming</a> <a id="49193" class="Symbol">(</a> <a id="49195" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a>   <a id="49201" class="Symbol">to</a> <a id="49204" class="Function Operator">⟦_⟧₁</a> <a id="49209" class="Symbol">)</a>
 <a id="49212" class="Keyword">open</a> <a id="49217" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="49229" href="Demos.HSP.html#49113" class="Bound">𝑩</a>     <a id="49235" class="Keyword">using</a> <a id="49241" class="Symbol">()</a> <a id="49244" class="Keyword">renaming</a> <a id="49253" class="Symbol">(</a> <a id="49255" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a>   <a id="49261" class="Symbol">to</a> <a id="49264" class="Function Operator">⟦_⟧₂</a> <a id="49269" class="Symbol">)</a>
 <a id="49272" class="Keyword">open</a> <a id="49277" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="49284" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="49287" href="Demos.HSP.html#49085" class="Bound">𝑨</a> <a id="49289" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="49291" class="Keyword">using</a> <a id="49297" class="Symbol">()</a> <a id="49300" class="Keyword">renaming</a> <a id="49309" class="Symbol">(</a> <a id="49311" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a>   <a id="49317" class="Symbol">to</a> <a id="49320" class="Field Operator">_≈₁_</a> <a id="49325" class="Symbol">)</a>
 <a id="49328" class="Keyword">open</a> <a id="49333" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="49340" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="49343" href="Demos.HSP.html#49113" class="Bound">𝑩</a> <a id="49345" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="49347" class="Keyword">using</a> <a id="49353" class="Symbol">(</a> <a id="49355" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="49359" class="Symbol">;</a> <a id="49361" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="49365" class="Symbol">)</a>
 <a id="49368" class="Keyword">open</a> <a id="49373" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="49389" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="49392" href="Demos.HSP.html#49113" class="Bound">𝑩</a> <a id="49394" href="Demos.HSP.html#11098" class="Function Operator">]</a>

 <a id="49398" href="Demos.HSP.html#49398" class="Function">⊧-I-invar</a> <a id="49408" class="Symbol">:</a> <a id="49410" href="Demos.HSP.html#49085" class="Bound">𝑨</a> <a id="49412" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="49414" class="Symbol">(</a><a id="49415" href="Demos.HSP.html#49131" class="Bound">p</a> <a id="49417" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="49420" href="Demos.HSP.html#49133" class="Bound">q</a><a id="49421" class="Symbol">)</a>  <a id="49424" class="Symbol">→</a>  <a id="49427" href="Demos.HSP.html#49085" class="Bound">𝑨</a> <a id="49429" href="Demos.HSP.html#24192" class="Record Operator">≅</a> <a id="49431" href="Demos.HSP.html#49113" class="Bound">𝑩</a>  <a id="49434" class="Symbol">→</a>  <a id="49437" href="Demos.HSP.html#49113" class="Bound">𝑩</a> <a id="49439" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="49441" class="Symbol">(</a><a id="49442" href="Demos.HSP.html#49131" class="Bound">p</a> <a id="49444" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="49447" href="Demos.HSP.html#49133" class="Bound">q</a><a id="49448" class="Symbol">)</a>
 <a id="49451" href="Demos.HSP.html#49398" class="Function">⊧-I-invar</a> <a id="49461" href="Demos.HSP.html#49461" class="Bound">Apq</a> <a id="49465" class="Symbol">(</a><a id="49466" href="Demos.HSP.html#24250" class="InductiveConstructor">mkiso</a> <a id="49472" href="Demos.HSP.html#49472" class="Bound">fh</a> <a id="49475" href="Demos.HSP.html#49475" class="Bound">gh</a> <a id="49478" href="Demos.HSP.html#49478" class="Bound">f∼g</a> <a id="49482" href="Demos.HSP.html#49482" class="Bound">g∼f</a><a id="49485" class="Symbol">)</a> <a id="49487" href="Demos.HSP.html#49487" class="Bound">ρ</a> <a id="49489" class="Symbol">=</a>
  <a id="49493" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
   <a id="49502" href="Demos.HSP.html#49264" class="Function Operator">⟦</a> <a id="49504" href="Demos.HSP.html#49131" class="Bound">p</a> <a id="49506" href="Demos.HSP.html#49264" class="Function Operator">⟧₂</a> <a id="49509" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="49513" href="Demos.HSP.html#49487" class="Bound">ρ</a>             <a id="49527" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="49531" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="49536" href="Demos.HSP.html#49264" class="Function Operator">⟦</a> <a id="49538" href="Demos.HSP.html#49131" class="Bound">p</a> <a id="49540" href="Demos.HSP.html#49264" class="Function Operator">⟧₂</a> <a id="49543" class="Symbol">(λ</a> <a id="49546" href="Demos.HSP.html#49546" class="Bound">x</a> <a id="49548" class="Symbol">→</a> <a id="49550" href="Demos.HSP.html#49478" class="Bound">f∼g</a> <a id="49554" class="Symbol">(</a><a id="49555" href="Demos.HSP.html#49487" class="Bound">ρ</a> <a id="49557" href="Demos.HSP.html#49546" class="Bound">x</a><a id="49558" class="Symbol">))</a> <a id="49561" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
   <a id="49566" href="Demos.HSP.html#49264" class="Function Operator">⟦</a> <a id="49568" href="Demos.HSP.html#49131" class="Bound">p</a> <a id="49570" href="Demos.HSP.html#49264" class="Function Operator">⟧₂</a> <a id="49573" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="49577" class="Symbol">(</a><a id="49578" href="Demos.HSP.html#49856" class="Function">ff</a> <a id="49581" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="49583" class="Symbol">(</a><a id="49584" href="Demos.HSP.html#49876" class="Function">g</a> <a id="49586" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="49588" href="Demos.HSP.html#49487" class="Bound">ρ</a><a id="49589" class="Symbol">))</a> <a id="49592" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="49596" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="49610" href="Demos.HSP.html#49472" class="Bound">fh</a> <a id="49613" href="Demos.HSP.html#49131" class="Bound">p</a> <a id="49615" class="Symbol">(</a><a id="49616" href="Demos.HSP.html#49876" class="Function">g</a> <a id="49618" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="49620" href="Demos.HSP.html#49487" class="Bound">ρ</a><a id="49621" class="Symbol">)</a> <a id="49623" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
   <a id="49628" href="Demos.HSP.html#49856" class="Function">ff</a> <a id="49631" class="Symbol">(</a><a id="49632" href="Demos.HSP.html#49204" class="Function Operator">⟦</a> <a id="49634" href="Demos.HSP.html#49131" class="Bound">p</a> <a id="49636" href="Demos.HSP.html#49204" class="Function Operator">⟧₁</a> <a id="49639" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="49643" class="Symbol">(</a><a id="49644" href="Demos.HSP.html#49876" class="Function">g</a> <a id="49646" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="49648" href="Demos.HSP.html#49487" class="Bound">ρ</a><a id="49649" class="Symbol">))</a>   <a id="49654" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="49657" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="49662" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="49664" href="Demos.HSP.html#49472" class="Bound">fh</a> <a id="49667" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="49669" class="Symbol">(</a><a id="49670" href="Demos.HSP.html#49461" class="Bound">Apq</a> <a id="49674" class="Symbol">(</a><a id="49675" href="Demos.HSP.html#49876" class="Function">g</a> <a id="49677" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="49679" href="Demos.HSP.html#49487" class="Bound">ρ</a><a id="49680" class="Symbol">))</a> <a id="49683" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="49688" href="Demos.HSP.html#49856" class="Function">ff</a> <a id="49691" class="Symbol">(</a><a id="49692" href="Demos.HSP.html#49204" class="Function Operator">⟦</a> <a id="49694" href="Demos.HSP.html#49133" class="Bound">q</a> <a id="49696" href="Demos.HSP.html#49204" class="Function Operator">⟧₁</a> <a id="49699" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="49703" class="Symbol">(</a><a id="49704" href="Demos.HSP.html#49876" class="Function">g</a> <a id="49706" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="49708" href="Demos.HSP.html#49487" class="Bound">ρ</a><a id="49709" class="Symbol">))</a>   <a id="49714" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="49717" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="49731" href="Demos.HSP.html#49472" class="Bound">fh</a> <a id="49734" href="Demos.HSP.html#49133" class="Bound">q</a> <a id="49736" class="Symbol">(</a><a id="49737" href="Demos.HSP.html#49876" class="Function">g</a> <a id="49739" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="49741" href="Demos.HSP.html#49487" class="Bound">ρ</a><a id="49742" class="Symbol">)</a> <a id="49744" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="49749" href="Demos.HSP.html#49264" class="Function Operator">⟦</a> <a id="49751" href="Demos.HSP.html#49133" class="Bound">q</a> <a id="49753" href="Demos.HSP.html#49264" class="Function Operator">⟧₂</a> <a id="49756" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="49760" class="Symbol">(</a><a id="49761" href="Demos.HSP.html#49856" class="Function">ff</a> <a id="49764" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="49766" class="Symbol">(</a><a id="49767" href="Demos.HSP.html#49876" class="Function">g</a> <a id="49769" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="49771" href="Demos.HSP.html#49487" class="Bound">ρ</a><a id="49772" class="Symbol">))</a> <a id="49775" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="49778" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="49783" href="Demos.HSP.html#49264" class="Function Operator">⟦</a> <a id="49785" href="Demos.HSP.html#49133" class="Bound">q</a> <a id="49787" href="Demos.HSP.html#49264" class="Function Operator">⟧₂</a> <a id="49790" class="Symbol">(λ</a> <a id="49793" href="Demos.HSP.html#49793" class="Bound">x</a> <a id="49795" class="Symbol">→</a> <a id="49797" href="Demos.HSP.html#49478" class="Bound">f∼g</a> <a id="49801" class="Symbol">(</a><a id="49802" href="Demos.HSP.html#49487" class="Bound">ρ</a> <a id="49804" href="Demos.HSP.html#49793" class="Bound">x</a><a id="49805" class="Symbol">))</a> <a id="49808" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="49813" href="Demos.HSP.html#49264" class="Function Operator">⟦</a> <a id="49815" href="Demos.HSP.html#49133" class="Bound">q</a> <a id="49817" href="Demos.HSP.html#49264" class="Function Operator">⟧₂</a> <a id="49820" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="49824" href="Demos.HSP.html#49487" class="Bound">ρ</a>             <a id="49838" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>
  <a id="49842" class="Keyword">where</a> <a id="49848" class="Keyword">private</a> <a id="49856" href="Demos.HSP.html#49856" class="Function">ff</a> <a id="49859" class="Symbol">=</a> <a id="49861" href="Demos.HSP.html#1474" class="Field Operator">_⟨$⟩_</a> <a id="49867" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="49869" href="Demos.HSP.html#49472" class="Bound">fh</a> <a id="49872" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="49874" class="Symbol">;</a> <a id="49876" href="Demos.HSP.html#49876" class="Function">g</a> <a id="49878" class="Symbol">=</a> <a id="49880" href="Demos.HSP.html#1474" class="Field Operator">_⟨$⟩_</a> <a id="49886" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="49888" href="Demos.HSP.html#49475" class="Bound">gh</a> <a id="49891" href="Demos.HSP.html#2477" class="Function Operator">∣</a>

</pre>

#### <a id="subalgebraic-invariance-of-models">Subalgebraic invariance of ⊧</a>
Identities modeled by an algebra `𝑨` are also modeled by every subalgebra of `𝑨`, which fact can be formalized as follows.

<pre class="Agda">

<a id="50124" class="Keyword">module</a> <a id="50131" href="Demos.HSP.html#50131" class="Module">_</a> <a id="50133" class="Symbol">{</a><a id="50134" href="Demos.HSP.html#50134" class="Bound">X</a> <a id="50136" class="Symbol">:</a> <a id="50138" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="50143" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="50144" class="Symbol">}</a>
         <a id="50155" class="Symbol">{</a><a id="50156" href="Demos.HSP.html#50156" class="Bound">𝑨</a> <a id="50158" class="Symbol">:</a> <a id="50160" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="50168" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="50170" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="50172" class="Symbol">}</a>
         <a id="50183" class="Symbol">{</a><a id="50184" href="Demos.HSP.html#50184" class="Bound">𝑩</a> <a id="50186" class="Symbol">:</a> <a id="50188" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="50196" href="Demos.HSP.html#1506" class="Generalizable">β</a> <a id="50198" href="Demos.HSP.html#1508" class="Generalizable">ρᵇ</a><a id="50200" class="Symbol">}</a>
         <a id="50211" class="Symbol">{</a><a id="50212" href="Demos.HSP.html#50212" class="Bound">p</a> <a id="50214" href="Demos.HSP.html#50214" class="Bound">q</a> <a id="50216" class="Symbol">:</a> <a id="50218" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="50223" href="Demos.HSP.html#50134" class="Bound">X</a><a id="50224" class="Symbol">}</a> <a id="50226" class="Keyword">where</a>

 <a id="50234" class="Keyword">open</a> <a id="50239" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="50251" href="Demos.HSP.html#50156" class="Bound">𝑨</a> <a id="50253" class="Keyword">using</a> <a id="50259" class="Symbol">()</a> <a id="50262" class="Keyword">renaming</a> <a id="50271" class="Symbol">(</a> <a id="50273" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="50277" class="Symbol">to</a> <a id="50280" class="Function Operator">⟦_⟧₁</a> <a id="50285" class="Symbol">)</a>
 <a id="50288" class="Keyword">open</a> <a id="50293" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="50305" href="Demos.HSP.html#50184" class="Bound">𝑩</a> <a id="50307" class="Keyword">using</a> <a id="50313" class="Symbol">()</a> <a id="50316" class="Keyword">renaming</a> <a id="50325" class="Symbol">(</a> <a id="50327" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="50331" class="Symbol">to</a> <a id="50334" class="Function Operator">⟦_⟧₂</a> <a id="50339" class="Symbol">)</a>
 <a id="50342" class="Keyword">open</a> <a id="50347" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="50354" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="50357" href="Demos.HSP.html#50156" class="Bound">𝑨</a> <a id="50359" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="50361" class="Keyword">using</a> <a id="50367" class="Symbol">(</a> <a id="50369" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="50373" class="Symbol">)</a>
 <a id="50376" class="Keyword">open</a> <a id="50381" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="50388" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="50391" href="Demos.HSP.html#50184" class="Bound">𝑩</a> <a id="50393" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="50395" class="Keyword">using</a> <a id="50401" class="Symbol">()</a> <a id="50404" class="Keyword">renaming</a> <a id="50413" class="Symbol">(</a> <a id="50415" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="50419" class="Symbol">to</a> <a id="50422" class="Field Operator">_≈₂_</a> <a id="50427" class="Symbol">)</a>
 <a id="50430" class="Keyword">open</a> <a id="50435" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="50451" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="50454" href="Demos.HSP.html#50156" class="Bound">𝑨</a> <a id="50456" href="Demos.HSP.html#11098" class="Function Operator">]</a>

 <a id="50460" href="Demos.HSP.html#50460" class="Function">⊧-S-invar</a> <a id="50470" class="Symbol">:</a> <a id="50472" href="Demos.HSP.html#50156" class="Bound">𝑨</a> <a id="50474" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="50476" class="Symbol">(</a><a id="50477" href="Demos.HSP.html#50212" class="Bound">p</a> <a id="50479" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="50482" href="Demos.HSP.html#50214" class="Bound">q</a><a id="50483" class="Symbol">)</a> <a id="50485" class="Symbol">→</a>  <a id="50488" href="Demos.HSP.html#50184" class="Bound">𝑩</a> <a id="50490" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="50492" href="Demos.HSP.html#50156" class="Bound">𝑨</a>  <a id="50495" class="Symbol">→</a>  <a id="50498" href="Demos.HSP.html#50184" class="Bound">𝑩</a> <a id="50500" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="50502" class="Symbol">(</a><a id="50503" href="Demos.HSP.html#50212" class="Bound">p</a> <a id="50505" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="50508" href="Demos.HSP.html#50214" class="Bound">q</a><a id="50509" class="Symbol">)</a>
 <a id="50512" href="Demos.HSP.html#50460" class="Function">⊧-S-invar</a> <a id="50522" href="Demos.HSP.html#50522" class="Bound">Apq</a> <a id="50526" href="Demos.HSP.html#50526" class="Bound">B≤A</a> <a id="50530" href="Demos.HSP.html#50530" class="Bound">b</a> <a id="50532" class="Symbol">=</a> <a id="50534" href="Demos.HSP.html#50844" class="Function">goal</a>
  <a id="50541" class="Keyword">where</a>
  <a id="50549" href="Demos.HSP.html#50549" class="Function">hh</a> <a id="50552" class="Symbol">:</a> <a id="50554" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="50558" href="Demos.HSP.html#50184" class="Bound">𝑩</a> <a id="50560" href="Demos.HSP.html#50156" class="Bound">𝑨</a>
  <a id="50564" href="Demos.HSP.html#50549" class="Function">hh</a> <a id="50567" class="Symbol">=</a> <a id="50569" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="50571" href="Demos.HSP.html#50526" class="Bound">B≤A</a> <a id="50575" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="50579" href="Demos.HSP.html#50579" class="Function">h</a> <a id="50581" class="Symbol">=</a> <a id="50583" href="Demos.HSP.html#1474" class="Field Operator">_⟨$⟩_</a> <a id="50589" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="50591" href="Demos.HSP.html#50549" class="Function">hh</a> <a id="50594" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="50598" href="Demos.HSP.html#50598" class="Function">ξ</a> <a id="50600" class="Symbol">:</a> <a id="50602" class="Symbol">∀</a> <a id="50604" href="Demos.HSP.html#50604" class="Bound">b</a> <a id="50606" class="Symbol">→</a> <a id="50608" href="Demos.HSP.html#50579" class="Function">h</a> <a id="50610" class="Symbol">(</a><a id="50611" href="Demos.HSP.html#50334" class="Function Operator">⟦</a> <a id="50613" href="Demos.HSP.html#50212" class="Bound">p</a> <a id="50615" href="Demos.HSP.html#50334" class="Function Operator">⟧₂</a> <a id="50618" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="50622" href="Demos.HSP.html#50604" class="Bound">b</a><a id="50623" class="Symbol">)</a> <a id="50625" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="50627" href="Demos.HSP.html#50579" class="Function">h</a> <a id="50629" class="Symbol">(</a><a id="50630" href="Demos.HSP.html#50334" class="Function Operator">⟦</a> <a id="50632" href="Demos.HSP.html#50214" class="Bound">q</a> <a id="50634" href="Demos.HSP.html#50334" class="Function Operator">⟧₂</a> <a id="50637" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="50641" href="Demos.HSP.html#50604" class="Bound">b</a><a id="50642" class="Symbol">)</a>
  <a id="50646" href="Demos.HSP.html#50598" class="Function">ξ</a> <a id="50648" href="Demos.HSP.html#50648" class="Bound">b</a> <a id="50650" class="Symbol">=</a> <a id="50652" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
         <a id="50667" href="Demos.HSP.html#50579" class="Function">h</a> <a id="50669" class="Symbol">(</a><a id="50670" href="Demos.HSP.html#50334" class="Function Operator">⟦</a> <a id="50672" href="Demos.HSP.html#50212" class="Bound">p</a> <a id="50674" href="Demos.HSP.html#50334" class="Function Operator">⟧₂</a> <a id="50677" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="50681" href="Demos.HSP.html#50648" class="Bound">b</a><a id="50682" class="Symbol">)</a>   <a id="50686" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="50689" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="50703" href="Demos.HSP.html#50549" class="Function">hh</a> <a id="50706" href="Demos.HSP.html#50212" class="Bound">p</a> <a id="50708" href="Demos.HSP.html#50648" class="Bound">b</a> <a id="50710" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
         <a id="50721" href="Demos.HSP.html#50280" class="Function Operator">⟦</a> <a id="50723" href="Demos.HSP.html#50212" class="Bound">p</a> <a id="50725" href="Demos.HSP.html#50280" class="Function Operator">⟧₁</a> <a id="50728" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="50732" class="Symbol">(</a><a id="50733" href="Demos.HSP.html#50579" class="Function">h</a> <a id="50735" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="50737" href="Demos.HSP.html#50648" class="Bound">b</a><a id="50738" class="Symbol">)</a> <a id="50740" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="50743" href="Demos.HSP.html#50522" class="Bound">Apq</a> <a id="50747" class="Symbol">(</a><a id="50748" href="Demos.HSP.html#50579" class="Function">h</a> <a id="50750" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="50752" href="Demos.HSP.html#50648" class="Bound">b</a><a id="50753" class="Symbol">)</a> <a id="50755" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
         <a id="50766" href="Demos.HSP.html#50280" class="Function Operator">⟦</a> <a id="50768" href="Demos.HSP.html#50214" class="Bound">q</a> <a id="50770" href="Demos.HSP.html#50280" class="Function Operator">⟧₁</a> <a id="50773" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="50777" class="Symbol">(</a><a id="50778" href="Demos.HSP.html#50579" class="Function">h</a> <a id="50780" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="50782" href="Demos.HSP.html#50648" class="Bound">b</a><a id="50783" class="Symbol">)</a> <a id="50785" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="50789" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="50803" href="Demos.HSP.html#50549" class="Function">hh</a> <a id="50806" href="Demos.HSP.html#50214" class="Bound">q</a> <a id="50808" href="Demos.HSP.html#50648" class="Bound">b</a> <a id="50810" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
         <a id="50821" href="Demos.HSP.html#50579" class="Function">h</a> <a id="50823" class="Symbol">(</a><a id="50824" href="Demos.HSP.html#50334" class="Function Operator">⟦</a> <a id="50826" href="Demos.HSP.html#50214" class="Bound">q</a> <a id="50828" href="Demos.HSP.html#50334" class="Function Operator">⟧₂</a> <a id="50831" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="50835" href="Demos.HSP.html#50648" class="Bound">b</a><a id="50836" class="Symbol">)</a>   <a id="50840" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>
  <a id="50844" href="Demos.HSP.html#50844" class="Function">goal</a> <a id="50849" class="Symbol">:</a> <a id="50851" href="Demos.HSP.html#50334" class="Function Operator">⟦</a> <a id="50853" href="Demos.HSP.html#50212" class="Bound">p</a> <a id="50855" href="Demos.HSP.html#50334" class="Function Operator">⟧₂</a> <a id="50858" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="50862" href="Demos.HSP.html#50530" class="Bound">b</a> <a id="50864" href="Demos.HSP.html#50422" class="Function Operator">≈₂</a> <a id="50867" href="Demos.HSP.html#50334" class="Function Operator">⟦</a> <a id="50869" href="Demos.HSP.html#50214" class="Bound">q</a> <a id="50871" href="Demos.HSP.html#50334" class="Function Operator">⟧₂</a> <a id="50874" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="50878" href="Demos.HSP.html#50530" class="Bound">b</a>
  <a id="50882" href="Demos.HSP.html#50844" class="Function">goal</a> <a id="50887" class="Symbol">=</a> <a id="50889" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="50891" href="Demos.HSP.html#50526" class="Bound">B≤A</a> <a id="50895" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="50897" class="Symbol">(</a><a id="50898" href="Demos.HSP.html#50598" class="Function">ξ</a> <a id="50900" href="Demos.HSP.html#50530" class="Bound">b</a><a id="50901" class="Symbol">)</a>

</pre>

#### <a id="product-invariance-of-models">Product invariance of ⊧</a>
An identity satisfied by all algebras in an indexed collection is also satisfied by the product of algebras in that collection.

 <pre class="Agda">


<a id="51131" class="Keyword">module</a> <a id="51138" href="Demos.HSP.html#51138" class="Module">_</a> <a id="51140" class="Symbol">{</a><a id="51141" href="Demos.HSP.html#51141" class="Bound">X</a> <a id="51143" class="Symbol">:</a> <a id="51145" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="51150" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="51151" class="Symbol">}{</a><a id="51153" href="Demos.HSP.html#51153" class="Bound">I</a> <a id="51155" class="Symbol">:</a> <a id="51157" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="51162" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="51163" class="Symbol">}(</a><a id="51165" href="Demos.HSP.html#51165" class="Bound">𝒜</a> <a id="51167" class="Symbol">:</a> <a id="51169" href="Demos.HSP.html#51153" class="Bound">I</a> <a id="51171" class="Symbol">→</a> <a id="51173" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="51181" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="51183" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="51185" class="Symbol">)</a>
         <a id="51196" class="Symbol">{</a><a id="51197" href="Demos.HSP.html#51197" class="Bound">p</a> <a id="51199" href="Demos.HSP.html#51199" class="Bound">q</a> <a id="51201" class="Symbol">:</a> <a id="51203" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="51208" href="Demos.HSP.html#51141" class="Bound">X</a><a id="51209" class="Symbol">}</a> <a id="51211" class="Keyword">where</a>

 <a id="51219" href="Demos.HSP.html#51219" class="Function">⊧-P-invar</a> <a id="51229" class="Symbol">:</a> <a id="51231" class="Symbol">(∀</a> <a id="51234" href="Demos.HSP.html#51234" class="Bound">i</a> <a id="51236" class="Symbol">→</a> <a id="51238" href="Demos.HSP.html#51165" class="Bound">𝒜</a> <a id="51240" href="Demos.HSP.html#51234" class="Bound">i</a> <a id="51242" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="51244" class="Symbol">(</a><a id="51245" href="Demos.HSP.html#51197" class="Bound">p</a> <a id="51247" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="51250" href="Demos.HSP.html#51199" class="Bound">q</a><a id="51251" class="Symbol">))</a> <a id="51254" class="Symbol">→</a> <a id="51256" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="51258" href="Demos.HSP.html#51165" class="Bound">𝒜</a> <a id="51260" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="51262" class="Symbol">(</a><a id="51263" href="Demos.HSP.html#51197" class="Bound">p</a> <a id="51265" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="51268" href="Demos.HSP.html#51199" class="Bound">q</a><a id="51269" class="Symbol">)</a>
 <a id="51272" href="Demos.HSP.html#51219" class="Function">⊧-P-invar</a> <a id="51282" href="Demos.HSP.html#51282" class="Bound">𝒜pq</a> <a id="51286" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51288" class="Symbol">=</a> <a id="51290" href="Demos.HSP.html#51637" class="Function">goal</a>
  <a id="51297" class="Keyword">where</a>
  <a id="51305" class="Keyword">open</a> <a id="51310" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="51318" class="Symbol">(</a><a id="51319" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="51321" href="Demos.HSP.html#51165" class="Bound">𝒜</a><a id="51322" class="Symbol">)</a> <a id="51324" class="Keyword">using</a> <a id="51330" class="Symbol">()</a> <a id="51333" class="Keyword">renaming</a> <a id="51342" class="Symbol">(</a> <a id="51344" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="51351" class="Symbol">to</a> <a id="51354" class="Field">⨅A</a> <a id="51357" class="Symbol">)</a>
  <a id="51361" class="Keyword">open</a> <a id="51366" href="Demos.HSP.html#35021" class="Module">Environment</a>   <a id="51380" class="Symbol">(</a><a id="51381" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="51383" href="Demos.HSP.html#51165" class="Bound">𝒜</a><a id="51384" class="Symbol">)</a> <a id="51386" class="Keyword">using</a> <a id="51392" class="Symbol">()</a> <a id="51395" class="Keyword">renaming</a> <a id="51404" class="Symbol">(</a> <a id="51406" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="51410" class="Symbol">to</a> <a id="51413" class="Function Operator">⟦_⟧₁</a> <a id="51418" class="Symbol">)</a>
  <a id="51422" class="Keyword">open</a> <a id="51427" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="51439" class="Keyword">using</a> <a id="51445" class="Symbol">(</a> <a id="51447" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="51451" class="Symbol">)</a>
  <a id="51455" class="Keyword">open</a> <a id="51460" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="51467" href="Demos.HSP.html#51354" class="Function">⨅A</a>   <a id="51472" class="Keyword">using</a> <a id="51478" class="Symbol">(</a> <a id="51480" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="51484" class="Symbol">)</a>
  <a id="51488" class="Keyword">open</a> <a id="51493" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="51509" href="Demos.HSP.html#51354" class="Function">⨅A</a>

  <a id="51515" href="Demos.HSP.html#51515" class="Function">ξ</a> <a id="51517" class="Symbol">:</a> <a id="51519" class="Symbol">(λ</a> <a id="51522" href="Demos.HSP.html#51522" class="Bound">i</a> <a id="51524" class="Symbol">→</a> <a id="51526" class="Symbol">(</a><a id="51527" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="51529" href="Demos.HSP.html#51165" class="Bound">𝒜</a> <a id="51531" href="Demos.HSP.html#51522" class="Bound">i</a> <a id="51533" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="51535" href="Demos.HSP.html#51197" class="Bound">p</a><a id="51536" class="Symbol">)</a> <a id="51538" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="51542" class="Symbol">(λ</a> <a id="51545" href="Demos.HSP.html#51545" class="Bound">x</a> <a id="51547" class="Symbol">→</a> <a id="51549" class="Symbol">(</a><a id="51550" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51552" href="Demos.HSP.html#51545" class="Bound">x</a><a id="51553" class="Symbol">)</a> <a id="51555" href="Demos.HSP.html#51522" class="Bound">i</a><a id="51556" class="Symbol">))</a> <a id="51559" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="51561" class="Symbol">(λ</a> <a id="51564" href="Demos.HSP.html#51564" class="Bound">i</a> <a id="51566" class="Symbol">→</a> <a id="51568" class="Symbol">(</a><a id="51569" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="51571" href="Demos.HSP.html#51165" class="Bound">𝒜</a> <a id="51573" href="Demos.HSP.html#51564" class="Bound">i</a> <a id="51575" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="51577" href="Demos.HSP.html#51199" class="Bound">q</a><a id="51578" class="Symbol">)</a> <a id="51580" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="51584" class="Symbol">(λ</a> <a id="51587" href="Demos.HSP.html#51587" class="Bound">x</a> <a id="51589" class="Symbol">→</a> <a id="51591" class="Symbol">(</a><a id="51592" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51594" href="Demos.HSP.html#51587" class="Bound">x</a><a id="51595" class="Symbol">)</a> <a id="51597" href="Demos.HSP.html#51564" class="Bound">i</a><a id="51598" class="Symbol">))</a>
  <a id="51603" href="Demos.HSP.html#51515" class="Function">ξ</a> <a id="51605" class="Symbol">=</a> <a id="51607" class="Symbol">λ</a> <a id="51609" href="Demos.HSP.html#51609" class="Bound">i</a> <a id="51611" class="Symbol">→</a> <a id="51613" href="Demos.HSP.html#51282" class="Bound">𝒜pq</a> <a id="51617" href="Demos.HSP.html#51609" class="Bound">i</a> <a id="51619" class="Symbol">(λ</a> <a id="51622" href="Demos.HSP.html#51622" class="Bound">x</a> <a id="51624" class="Symbol">→</a> <a id="51626" class="Symbol">(</a><a id="51627" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51629" href="Demos.HSP.html#51622" class="Bound">x</a><a id="51630" class="Symbol">)</a> <a id="51632" href="Demos.HSP.html#51609" class="Bound">i</a><a id="51633" class="Symbol">)</a>
  <a id="51637" href="Demos.HSP.html#51637" class="Function">goal</a> <a id="51642" class="Symbol">:</a> <a id="51644" href="Demos.HSP.html#51413" class="Function Operator">⟦</a> <a id="51646" href="Demos.HSP.html#51197" class="Bound">p</a> <a id="51648" href="Demos.HSP.html#51413" class="Function Operator">⟧₁</a> <a id="51651" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="51655" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51657" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="51659" href="Demos.HSP.html#51413" class="Function Operator">⟦</a> <a id="51661" href="Demos.HSP.html#51199" class="Bound">q</a> <a id="51663" href="Demos.HSP.html#51413" class="Function Operator">⟧₁</a> <a id="51666" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="51670" href="Demos.HSP.html#51286" class="Bound">a</a>
  <a id="51674" href="Demos.HSP.html#51637" class="Function">goal</a> <a id="51679" class="Symbol">=</a> <a id="51681" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
          <a id="51697" href="Demos.HSP.html#51413" class="Function Operator">⟦</a> <a id="51699" href="Demos.HSP.html#51197" class="Bound">p</a> <a id="51701" href="Demos.HSP.html#51413" class="Function Operator">⟧₁</a> <a id="51704" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="51708" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51710" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="51713" href="Demos.HSP.html#39322" class="Function">interp-prod</a> <a id="51725" href="Demos.HSP.html#51165" class="Bound">𝒜</a> <a id="51727" href="Demos.HSP.html#51197" class="Bound">p</a> <a id="51729" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51731" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
          <a id="51743" class="Symbol">(λ</a> <a id="51746" href="Demos.HSP.html#51746" class="Bound">i</a> <a id="51748" class="Symbol">→</a> <a id="51750" class="Symbol">(</a><a id="51751" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="51753" href="Demos.HSP.html#51165" class="Bound">𝒜</a> <a id="51755" href="Demos.HSP.html#51746" class="Bound">i</a> <a id="51757" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="51759" href="Demos.HSP.html#51197" class="Bound">p</a><a id="51760" class="Symbol">)</a> <a id="51762" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="51766" class="Symbol">(λ</a> <a id="51769" href="Demos.HSP.html#51769" class="Bound">x</a> <a id="51771" class="Symbol">→</a> <a id="51773" class="Symbol">(</a><a id="51774" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51776" href="Demos.HSP.html#51769" class="Bound">x</a><a id="51777" class="Symbol">)</a> <a id="51779" href="Demos.HSP.html#51746" class="Bound">i</a><a id="51780" class="Symbol">))</a> <a id="51783" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="51786" href="Demos.HSP.html#51515" class="Function">ξ</a> <a id="51788" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
          <a id="51800" class="Symbol">(λ</a> <a id="51803" href="Demos.HSP.html#51803" class="Bound">i</a> <a id="51805" class="Symbol">→</a> <a id="51807" class="Symbol">(</a><a id="51808" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="51810" href="Demos.HSP.html#51165" class="Bound">𝒜</a> <a id="51812" href="Demos.HSP.html#51803" class="Bound">i</a> <a id="51814" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="51816" href="Demos.HSP.html#51199" class="Bound">q</a><a id="51817" class="Symbol">)</a> <a id="51819" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="51823" class="Symbol">(λ</a> <a id="51826" href="Demos.HSP.html#51826" class="Bound">x</a> <a id="51828" class="Symbol">→</a> <a id="51830" class="Symbol">(</a><a id="51831" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51833" href="Demos.HSP.html#51826" class="Bound">x</a><a id="51834" class="Symbol">)</a> <a id="51836" href="Demos.HSP.html#51803" class="Bound">i</a><a id="51837" class="Symbol">))</a> <a id="51840" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="51844" href="Demos.HSP.html#39322" class="Function">interp-prod</a> <a id="51856" href="Demos.HSP.html#51165" class="Bound">𝒜</a> <a id="51858" href="Demos.HSP.html#51199" class="Bound">q</a> <a id="51860" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51862" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
          <a id="51874" href="Demos.HSP.html#51413" class="Function Operator">⟦</a> <a id="51876" href="Demos.HSP.html#51199" class="Bound">q</a> <a id="51878" href="Demos.HSP.html#51413" class="Function Operator">⟧₁</a> <a id="51881" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="51885" href="Demos.HSP.html#51286" class="Bound">a</a> <a id="51887" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

</pre>


#### <a id="PS-subset-SP">PS ⊆ SP</a>

Another important fact we will need about the operators `S` and `P` is that a product of subalgebras of algebras in a class `𝒦` is a subalgebra of a product of algebras in `𝒦`. We denote this inclusion by `PS⊆SP`, which we state and prove as follows.

<pre class="Agda">

<a id="52208" class="Keyword">module</a> <a id="52215" href="Demos.HSP.html#52215" class="Module">_</a>  <a id="52218" class="Symbol">{</a><a id="52219" href="Demos.HSP.html#52219" class="Bound">𝒦</a> <a id="52221" class="Symbol">:</a> <a id="52223" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="52227" class="Symbol">(</a><a id="52228" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="52236" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="52238" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="52240" class="Symbol">)</a> <a id="52242" class="Symbol">(</a><a id="52243" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="52245" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="52247" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="52250" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="52252" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="52255" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="52256" class="Symbol">)}</a> <a id="52259" class="Keyword">where</a>

 <a id="52267" class="Keyword">private</a>
  <a id="52277" href="Demos.HSP.html#52277" class="Function">a</a> <a id="52279" class="Symbol">=</a> <a id="52281" href="Demos.HSP.html#52236" class="Bound">α</a> <a id="52283" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="52285" href="Demos.HSP.html#52238" class="Bound">ρᵃ</a>
  <a id="52290" href="Demos.HSP.html#52290" class="Function">oaℓ</a> <a id="52294" class="Symbol">=</a> <a id="52296" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="52299" class="Symbol">(</a><a id="52300" href="Demos.HSP.html#52277" class="Function">a</a> <a id="52302" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="52304" href="Demos.HSP.html#52255" class="Bound">ℓ</a><a id="52305" class="Symbol">)</a>

 <a id="52309" href="Demos.HSP.html#52309" class="Function">PS⊆SP</a> <a id="52315" class="Symbol">:</a> <a id="52317" href="Demos.HSP.html#47124" class="Function">P</a> <a id="52319" class="Symbol">(</a><a id="52320" href="Demos.HSP.html#52277" class="Function">a</a> <a id="52322" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="52324" href="Demos.HSP.html#52255" class="Bound">ℓ</a><a id="52325" class="Symbol">)</a> <a id="52327" href="Demos.HSP.html#52290" class="Function">oaℓ</a> <a id="52331" class="Symbol">(</a><a id="52332" href="Demos.HSP.html#46977" class="Function">S</a><a id="52333" class="Symbol">{</a><a id="52334" class="Argument">β</a> <a id="52336" class="Symbol">=</a> <a id="52338" href="Demos.HSP.html#52236" class="Bound">α</a><a id="52339" class="Symbol">}{</a><a id="52341" href="Demos.HSP.html#52238" class="Bound">ρᵃ</a><a id="52343" class="Symbol">}</a> <a id="52345" href="Demos.HSP.html#52255" class="Bound">ℓ</a> <a id="52347" href="Demos.HSP.html#52219" class="Bound">𝒦</a><a id="52348" class="Symbol">)</a> <a id="52350" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="52352" href="Demos.HSP.html#46977" class="Function">S</a> <a id="52354" href="Demos.HSP.html#52290" class="Function">oaℓ</a> <a id="52358" class="Symbol">(</a><a id="52359" href="Demos.HSP.html#47124" class="Function">P</a> <a id="52361" href="Demos.HSP.html#52255" class="Bound">ℓ</a> <a id="52363" href="Demos.HSP.html#52290" class="Function">oaℓ</a> <a id="52367" href="Demos.HSP.html#52219" class="Bound">𝒦</a><a id="52368" class="Symbol">)</a>

 <a id="52372" href="Demos.HSP.html#52309" class="Function">PS⊆SP</a> <a id="52378" class="Symbol">{</a><a id="52379" href="Demos.HSP.html#52379" class="Bound">𝑩</a><a id="52380" class="Symbol">}</a> <a id="52382" class="Symbol">(</a><a id="52383" href="Demos.HSP.html#52383" class="Bound">I</a> <a id="52385" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52387" class="Symbol">(</a> <a id="52389" href="Demos.HSP.html#52389" class="Bound">𝒜</a> <a id="52391" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52393" href="Demos.HSP.html#52393" class="Bound">sA</a> <a id="52396" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52398" href="Demos.HSP.html#52398" class="Bound">B≅⨅A</a> <a id="52403" class="Symbol">))</a> <a id="52406" class="Symbol">=</a> <a id="52408" href="Demos.HSP.html#52564" class="Function">Goal</a>
  <a id="52415" class="Keyword">where</a>
  <a id="52423" href="Demos.HSP.html#52423" class="Function">ℬ</a> <a id="52425" class="Symbol">:</a> <a id="52427" href="Demos.HSP.html#52383" class="Bound">I</a> <a id="52429" class="Symbol">→</a> <a id="52431" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="52439" href="Demos.HSP.html#52236" class="Bound">α</a> <a id="52441" href="Demos.HSP.html#52238" class="Bound">ρᵃ</a>
  <a id="52446" href="Demos.HSP.html#52423" class="Function">ℬ</a> <a id="52448" href="Demos.HSP.html#52448" class="Bound">i</a> <a id="52450" class="Symbol">=</a> <a id="52452" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="52454" href="Demos.HSP.html#52393" class="Bound">sA</a> <a id="52457" href="Demos.HSP.html#52448" class="Bound">i</a> <a id="52459" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="52463" href="Demos.HSP.html#52463" class="Function">kB</a> <a id="52466" class="Symbol">:</a> <a id="52468" class="Symbol">(</a><a id="52469" href="Demos.HSP.html#52469" class="Bound">i</a> <a id="52471" class="Symbol">:</a> <a id="52473" href="Demos.HSP.html#52383" class="Bound">I</a><a id="52474" class="Symbol">)</a> <a id="52476" class="Symbol">→</a> <a id="52478" href="Demos.HSP.html#52423" class="Function">ℬ</a> <a id="52480" href="Demos.HSP.html#52469" class="Bound">i</a> <a id="52482" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="52484" href="Demos.HSP.html#52219" class="Bound">𝒦</a>
  <a id="52488" href="Demos.HSP.html#52463" class="Function">kB</a> <a id="52491" href="Demos.HSP.html#52491" class="Bound">i</a> <a id="52493" class="Symbol">=</a>  <a id="52496" href="Demos.HSP.html#762" class="Field">fst</a> <a id="52500" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="52502" href="Demos.HSP.html#52393" class="Bound">sA</a> <a id="52505" href="Demos.HSP.html#52491" class="Bound">i</a> <a id="52507" href="Demos.HSP.html#2515" class="Function Operator">∥</a>
  <a id="52511" href="Demos.HSP.html#52511" class="Function">⨅A≤⨅B</a> <a id="52517" class="Symbol">:</a> <a id="52519" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="52521" href="Demos.HSP.html#52389" class="Bound">𝒜</a> <a id="52523" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="52525" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="52527" href="Demos.HSP.html#52423" class="Function">ℬ</a>
  <a id="52531" href="Demos.HSP.html#52511" class="Function">⨅A≤⨅B</a> <a id="52537" class="Symbol">=</a> <a id="52539" href="Demos.HSP.html#29841" class="Function">⨅-≤</a> <a id="52543" class="Symbol">λ</a> <a id="52545" href="Demos.HSP.html#52545" class="Bound">i</a> <a id="52547" class="Symbol">→</a> <a id="52549" href="Demos.HSP.html#777" class="Field">snd</a> <a id="52553" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="52555" href="Demos.HSP.html#52393" class="Bound">sA</a> <a id="52558" href="Demos.HSP.html#52545" class="Bound">i</a> <a id="52560" href="Demos.HSP.html#2515" class="Function Operator">∥</a>
  <a id="52564" href="Demos.HSP.html#52564" class="Function">Goal</a> <a id="52569" class="Symbol">:</a> <a id="52571" href="Demos.HSP.html#52379" class="Bound">𝑩</a> <a id="52573" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="52575" href="Demos.HSP.html#46977" class="Function">S</a><a id="52576" class="Symbol">{</a><a id="52577" class="Argument">β</a> <a id="52579" class="Symbol">=</a> <a id="52581" href="Demos.HSP.html#52290" class="Function">oaℓ</a><a id="52584" class="Symbol">}{</a><a id="52586" href="Demos.HSP.html#52290" class="Function">oaℓ</a><a id="52589" class="Symbol">}</a><a id="52590" href="Demos.HSP.html#52290" class="Function">oaℓ</a> <a id="52594" class="Symbol">(</a><a id="52595" href="Demos.HSP.html#47124" class="Function">P</a> <a id="52597" class="Symbol">{</a><a id="52598" class="Argument">β</a> <a id="52600" class="Symbol">=</a> <a id="52602" href="Demos.HSP.html#52290" class="Function">oaℓ</a><a id="52605" class="Symbol">}{</a><a id="52607" href="Demos.HSP.html#52290" class="Function">oaℓ</a><a id="52610" class="Symbol">}</a> <a id="52612" href="Demos.HSP.html#52255" class="Bound">ℓ</a> <a id="52614" href="Demos.HSP.html#52290" class="Function">oaℓ</a> <a id="52618" href="Demos.HSP.html#52219" class="Bound">𝒦</a><a id="52619" class="Symbol">)</a>
  <a id="52623" href="Demos.HSP.html#52564" class="Function">Goal</a> <a id="52628" class="Symbol">=</a> <a id="52630" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="52632" href="Demos.HSP.html#52423" class="Function">ℬ</a> <a id="52634" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52636" class="Symbol">(</a><a id="52637" href="Demos.HSP.html#52383" class="Bound">I</a> <a id="52639" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52641" class="Symbol">(</a><a id="52642" href="Demos.HSP.html#52423" class="Function">ℬ</a> <a id="52644" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52646" class="Symbol">(</a><a id="52647" href="Demos.HSP.html#52463" class="Function">kB</a> <a id="52650" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52652" href="Demos.HSP.html#25221" class="Function">≅-refl</a><a id="52658" class="Symbol">)))</a> <a id="52662" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52664" class="Symbol">(</a><a id="52665" href="Demos.HSP.html#29383" class="Function">≅-trans-≤</a> <a id="52675" href="Demos.HSP.html#52398" class="Bound">B≅⨅A</a> <a id="52680" href="Demos.HSP.html#52511" class="Function">⨅A≤⨅B</a><a id="52685" class="Symbol">)</a>


</pre>

### <a id="identity-preservation">Identity preservation</a>

The classes `H 𝒦`, `S 𝒦`, `P 𝒦`, and `V 𝒦` all satisfy the same set of equations.  We will only use a subset of the inclusions used to prove this fact. (For a complete proof, see the
[Varieties.Func.Preservation][] module of the [Agda Universal Algebra Library][].)


#### <a id="h-preserves-identities">H preserves identities</a>

First we prove that the closure operator H is compatible with identities that hold in the given class.

<pre class="Agda">

<a id="53212" class="Keyword">module</a> <a id="53219" href="Demos.HSP.html#53219" class="Module">_</a>  <a id="53222" class="Symbol">{</a><a id="53223" href="Demos.HSP.html#53223" class="Bound">X</a> <a id="53225" class="Symbol">:</a> <a id="53227" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="53232" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="53233" class="Symbol">}{</a><a id="53235" href="Demos.HSP.html#53235" class="Bound">𝒦</a> <a id="53237" class="Symbol">:</a> <a id="53239" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="53243" class="Symbol">(</a><a id="53244" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="53252" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="53254" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="53256" class="Symbol">)</a> <a id="53258" class="Symbol">(</a><a id="53259" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="53261" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="53263" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="53266" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="53268" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="53271" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="53272" class="Symbol">)}</a>
          <a id="53285" class="Symbol">{</a><a id="53286" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="53288" href="Demos.HSP.html#53288" class="Bound">q</a> <a id="53290" class="Symbol">:</a> <a id="53292" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="53297" href="Demos.HSP.html#53223" class="Bound">X</a><a id="53298" class="Symbol">}</a> <a id="53300" class="Keyword">where</a>

 <a id="53308" href="Demos.HSP.html#53308" class="Function">H-id1</a> <a id="53314" class="Symbol">:</a> <a id="53316" href="Demos.HSP.html#53235" class="Bound">𝒦</a> <a id="53318" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="53320" class="Symbol">(</a><a id="53321" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="53323" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="53326" href="Demos.HSP.html#53288" class="Bound">q</a><a id="53327" class="Symbol">)</a> <a id="53329" class="Symbol">→</a> <a id="53331" class="Symbol">(</a><a id="53332" href="Demos.HSP.html#46819" class="Function">H</a> <a id="53334" class="Symbol">{</a><a id="53335" class="Argument">β</a> <a id="53337" class="Symbol">=</a> <a id="53339" href="Demos.HSP.html#53252" class="Bound">α</a><a id="53340" class="Symbol">}{</a><a id="53342" href="Demos.HSP.html#53254" class="Bound">ρᵃ</a><a id="53344" class="Symbol">}</a><a id="53345" href="Demos.HSP.html#53271" class="Bound">ℓ</a> <a id="53347" href="Demos.HSP.html#53235" class="Bound">𝒦</a><a id="53348" class="Symbol">)</a> <a id="53350" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="53352" class="Symbol">(</a><a id="53353" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="53355" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="53358" href="Demos.HSP.html#53288" class="Bound">q</a><a id="53359" class="Symbol">)</a>
 <a id="53362" href="Demos.HSP.html#53308" class="Function">H-id1</a> <a id="53368" href="Demos.HSP.html#53368" class="Bound">σ</a> <a id="53370" href="Demos.HSP.html#53370" class="Bound">𝑩</a> <a id="53372" class="Symbol">(</a><a id="53373" href="Demos.HSP.html#53373" class="Bound">𝑨</a> <a id="53375" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="53377" href="Demos.HSP.html#53377" class="Bound">kA</a> <a id="53380" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="53382" href="Demos.HSP.html#53382" class="Bound">BimgOfA</a><a id="53389" class="Symbol">)</a> <a id="53391" href="Demos.HSP.html#53391" class="Bound">ρ</a> <a id="53393" class="Symbol">=</a> <a id="53395" href="Demos.HSP.html#53817" class="Function">B⊧pq</a>
  <a id="53402" class="Keyword">where</a>
  <a id="53410" href="Demos.HSP.html#53410" class="Function">IH</a> <a id="53413" class="Symbol">:</a> <a id="53415" href="Demos.HSP.html#53373" class="Bound">𝑨</a> <a id="53417" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="53419" class="Symbol">(</a><a id="53420" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="53422" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="53425" href="Demos.HSP.html#53288" class="Bound">q</a><a id="53426" class="Symbol">)</a>
  <a id="53430" href="Demos.HSP.html#53410" class="Function">IH</a> <a id="53433" class="Symbol">=</a> <a id="53435" href="Demos.HSP.html#53368" class="Bound">σ</a> <a id="53437" href="Demos.HSP.html#53373" class="Bound">𝑨</a> <a id="53439" href="Demos.HSP.html#53377" class="Bound">kA</a>
  <a id="53444" class="Keyword">open</a> <a id="53449" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="53461" href="Demos.HSP.html#53373" class="Bound">𝑨</a>     <a id="53467" class="Keyword">using</a> <a id="53473" class="Symbol">()</a> <a id="53476" class="Keyword">renaming</a> <a id="53485" class="Symbol">(</a> <a id="53487" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="53491" class="Symbol">to</a> <a id="53494" class="Function Operator">⟦_⟧₁</a><a id="53498" class="Symbol">)</a>
  <a id="53502" class="Keyword">open</a> <a id="53507" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="53519" href="Demos.HSP.html#53370" class="Bound">𝑩</a>     <a id="53525" class="Keyword">using</a> <a id="53531" class="Symbol">(</a> <a id="53533" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="53537" class="Symbol">)</a>
  <a id="53541" class="Keyword">open</a> <a id="53546" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="53553" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="53556" href="Demos.HSP.html#53370" class="Bound">𝑩</a> <a id="53558" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="53560" class="Keyword">using</a> <a id="53566" class="Symbol">(</a> <a id="53568" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="53572" class="Symbol">)</a>
  <a id="53576" class="Keyword">open</a> <a id="53581" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="53597" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="53600" href="Demos.HSP.html#53370" class="Bound">𝑩</a> <a id="53602" href="Demos.HSP.html#11098" class="Function Operator">]</a>

  <a id="53607" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="53609" class="Symbol">:</a> <a id="53611" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="53615" href="Demos.HSP.html#53373" class="Bound">𝑨</a> <a id="53617" href="Demos.HSP.html#53370" class="Bound">𝑩</a>
  <a id="53621" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="53623" class="Symbol">=</a> <a id="53625" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53627" href="Demos.HSP.html#53382" class="Bound">BimgOfA</a> <a id="53635" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="53639" href="Demos.HSP.html#53639" class="Function">φE</a> <a id="53642" class="Symbol">:</a> <a id="53644" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="53657" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53659" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="53661" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="53665" href="Demos.HSP.html#53639" class="Function">φE</a> <a id="53668" class="Symbol">=</a> <a id="53670" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="53672" href="Demos.HSP.html#53382" class="Bound">BimgOfA</a> <a id="53680" href="Demos.HSP.html#2515" class="Function Operator">∥</a>
  <a id="53684" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="53688" class="Symbol">:</a> <a id="53690" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="53693" href="Demos.HSP.html#53370" class="Bound">𝑩</a> <a id="53695" href="Demos.HSP.html#11032" class="Function Operator">]</a> <a id="53697" class="Symbol">→</a> <a id="53699" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="53702" href="Demos.HSP.html#53373" class="Bound">𝑨</a> <a id="53704" href="Demos.HSP.html#11032" class="Function Operator">]</a>
  <a id="53708" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="53712" class="Symbol">=</a> <a id="53714" href="Demos.HSP.html#6815" class="Function">SurjInv</a> <a id="53722" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53724" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="53726" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53728" href="Demos.HSP.html#53639" class="Function">φE</a>

  <a id="53734" href="Demos.HSP.html#53734" class="Function">ζ</a> <a id="53736" class="Symbol">:</a> <a id="53738" class="Symbol">∀</a> <a id="53740" href="Demos.HSP.html#53740" class="Bound">x</a> <a id="53742" class="Symbol">→</a> <a id="53744" class="Symbol">(</a><a id="53745" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53747" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="53749" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53751" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="53755" class="Symbol">(</a><a id="53756" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="53760" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="53762" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="53763" class="Symbol">)</a> <a id="53765" href="Demos.HSP.html#53740" class="Bound">x</a> <a id="53767" class="Symbol">)</a> <a id="53769" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="53771" href="Demos.HSP.html#53391" class="Bound">ρ</a> <a id="53773" href="Demos.HSP.html#53740" class="Bound">x</a>
  <a id="53777" href="Demos.HSP.html#53734" class="Function">ζ</a> <a id="53779" class="Symbol">=</a> <a id="53781" class="Symbol">λ</a> <a id="53783" href="Demos.HSP.html#53783" class="Bound">_</a> <a id="53785" class="Symbol">→</a> <a id="53787" href="Demos.HSP.html#7089" class="Function">SurjInvIsInverseʳ</a> <a id="53805" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53807" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="53809" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53811" href="Demos.HSP.html#53639" class="Function">φE</a>

  <a id="53817" href="Demos.HSP.html#53817" class="Function">B⊧pq</a> <a id="53822" class="Symbol">:</a> <a id="53824" class="Symbol">(</a><a id="53825" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="53827" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="53829" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="53831" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="53835" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="53836" class="Symbol">)</a> <a id="53838" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="53840" class="Symbol">(</a><a id="53841" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="53843" href="Demos.HSP.html#53288" class="Bound">q</a> <a id="53845" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="53847" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="53851" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="53852" class="Symbol">)</a>
  <a id="53856" href="Demos.HSP.html#53817" class="Function">B⊧pq</a> <a id="53861" class="Symbol">=</a> <a id="53863" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
           <a id="53880" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="53882" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="53884" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="53886" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="53890" href="Demos.HSP.html#53391" class="Bound">ρ</a>                               <a id="53922" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="53926" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="53931" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="53933" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="53935" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="53937" href="Demos.HSP.html#53734" class="Function">ζ</a> <a id="53939" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
           <a id="53952" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="53954" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="53956" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="53958" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="53962" class="Symbol">(λ</a> <a id="53965" href="Demos.HSP.html#53965" class="Bound">x</a> <a id="53967" class="Symbol">→</a> <a id="53969" class="Symbol">(</a><a id="53970" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53972" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="53974" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="53976" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="53980" class="Symbol">(</a><a id="53981" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="53985" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="53987" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="53988" class="Symbol">)</a> <a id="53990" href="Demos.HSP.html#53965" class="Bound">x</a><a id="53991" class="Symbol">))</a> <a id="53994" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="53998" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="54012" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="54014" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="54016" class="Symbol">(</a><a id="54017" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="54021" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="54023" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="54024" class="Symbol">)</a> <a id="54026" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
           <a id="54039" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="54041" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="54043" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="54045" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a>  <a id="54050" class="Symbol">(</a><a id="54051" href="Demos.HSP.html#53494" class="Function Operator">⟦</a> <a id="54053" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="54055" href="Demos.HSP.html#53494" class="Function Operator">⟧₁</a> <a id="54058" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="54062" class="Symbol">(</a><a id="54063" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="54067" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="54069" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="54070" class="Symbol">))</a>         <a id="54081" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="54084" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="54089" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="54091" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="54093" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="54095" class="Symbol">(</a><a id="54096" href="Demos.HSP.html#53410" class="Function">IH</a> <a id="54099" class="Symbol">(</a><a id="54100" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="54104" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="54106" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="54107" class="Symbol">))</a> <a id="54110" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
           <a id="54123" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="54125" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="54127" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="54129" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a>  <a id="54134" class="Symbol">(</a><a id="54135" href="Demos.HSP.html#53494" class="Function Operator">⟦</a> <a id="54137" href="Demos.HSP.html#53288" class="Bound">q</a> <a id="54139" href="Demos.HSP.html#53494" class="Function Operator">⟧₁</a> <a id="54142" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="54146" class="Symbol">(</a><a id="54147" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="54151" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="54153" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="54154" class="Symbol">))</a>         <a id="54165" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="54168" href="Demos.HSP.html#38331" class="Function">comm-hom-term</a> <a id="54182" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="54184" href="Demos.HSP.html#53288" class="Bound">q</a> <a id="54186" class="Symbol">(</a><a id="54187" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="54191" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="54193" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="54194" class="Symbol">)</a> <a id="54196" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
           <a id="54209" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="54211" href="Demos.HSP.html#53288" class="Bound">q</a> <a id="54213" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="54215" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="54219" class="Symbol">(λ</a> <a id="54222" href="Demos.HSP.html#54222" class="Bound">x</a> <a id="54224" class="Symbol">→</a> <a id="54226" class="Symbol">(</a><a id="54227" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="54229" href="Demos.HSP.html#53607" class="Function">φ</a> <a id="54231" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="54233" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="54237" class="Symbol">(</a><a id="54238" href="Demos.HSP.html#53684" class="Function">φ⁻¹</a> <a id="54242" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="54244" href="Demos.HSP.html#53391" class="Bound">ρ</a><a id="54245" class="Symbol">)</a> <a id="54247" href="Demos.HSP.html#54222" class="Bound">x</a><a id="54248" class="Symbol">))</a> <a id="54251" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="54254" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="54259" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="54261" href="Demos.HSP.html#53288" class="Bound">q</a> <a id="54263" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="54265" href="Demos.HSP.html#53734" class="Function">ζ</a> <a id="54267" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
           <a id="54280" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="54282" href="Demos.HSP.html#53288" class="Bound">q</a> <a id="54284" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="54286" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="54290" href="Demos.HSP.html#53391" class="Bound">ρ</a>                               <a id="54322" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

</pre>


#### <a id="s-preserves-identities">S preserves identities</a>

<pre class="Agda">

 <a id="54417" href="Demos.HSP.html#54417" class="Function">S-id1</a> <a id="54423" class="Symbol">:</a> <a id="54425" href="Demos.HSP.html#53235" class="Bound">𝒦</a> <a id="54427" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="54429" class="Symbol">(</a><a id="54430" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="54432" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="54435" href="Demos.HSP.html#53288" class="Bound">q</a><a id="54436" class="Symbol">)</a> <a id="54438" class="Symbol">→</a> <a id="54440" class="Symbol">(</a><a id="54441" href="Demos.HSP.html#46977" class="Function">S</a> <a id="54443" class="Symbol">{</a><a id="54444" class="Argument">β</a> <a id="54446" class="Symbol">=</a> <a id="54448" href="Demos.HSP.html#53252" class="Bound">α</a><a id="54449" class="Symbol">}{</a><a id="54451" href="Demos.HSP.html#53254" class="Bound">ρᵃ</a><a id="54453" class="Symbol">}</a> <a id="54455" href="Demos.HSP.html#53271" class="Bound">ℓ</a> <a id="54457" href="Demos.HSP.html#53235" class="Bound">𝒦</a><a id="54458" class="Symbol">)</a> <a id="54460" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="54462" class="Symbol">(</a><a id="54463" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="54465" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="54468" href="Demos.HSP.html#53288" class="Bound">q</a><a id="54469" class="Symbol">)</a>
 <a id="54472" href="Demos.HSP.html#54417" class="Function">S-id1</a> <a id="54478" href="Demos.HSP.html#54478" class="Bound">σ</a> <a id="54480" href="Demos.HSP.html#54480" class="Bound">𝑩</a> <a id="54482" class="Symbol">(</a><a id="54483" href="Demos.HSP.html#54483" class="Bound">𝑨</a> <a id="54485" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="54487" href="Demos.HSP.html#54487" class="Bound">kA</a> <a id="54490" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="54492" href="Demos.HSP.html#54492" class="Bound">B≤A</a><a id="54495" class="Symbol">)</a> <a id="54497" class="Symbol">=</a> <a id="54499" href="Demos.HSP.html#50460" class="Function">⊧-S-invar</a><a id="54508" class="Symbol">{</a><a id="54509" class="Argument">p</a> <a id="54511" class="Symbol">=</a> <a id="54513" href="Demos.HSP.html#53286" class="Bound">p</a><a id="54514" class="Symbol">}{</a><a id="54516" href="Demos.HSP.html#53288" class="Bound">q</a><a id="54517" class="Symbol">}</a> <a id="54519" class="Symbol">(</a><a id="54520" href="Demos.HSP.html#54478" class="Bound">σ</a> <a id="54522" href="Demos.HSP.html#54483" class="Bound">𝑨</a> <a id="54524" href="Demos.HSP.html#54487" class="Bound">kA</a><a id="54526" class="Symbol">)</a> <a id="54528" href="Demos.HSP.html#54492" class="Bound">B≤A</a>

</pre>

The obvious converse is barely worth the bits needed to formalize it, but we will use it below, so let's prove it now.

<pre class="Agda">

 <a id="54680" href="Demos.HSP.html#54680" class="Function">S-id2</a> <a id="54686" class="Symbol">:</a> <a id="54688" href="Demos.HSP.html#46977" class="Function">S</a> <a id="54690" href="Demos.HSP.html#53271" class="Bound">ℓ</a> <a id="54692" href="Demos.HSP.html#53235" class="Bound">𝒦</a> <a id="54694" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="54696" class="Symbol">(</a><a id="54697" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="54699" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="54702" href="Demos.HSP.html#53288" class="Bound">q</a><a id="54703" class="Symbol">)</a> <a id="54705" class="Symbol">→</a> <a id="54707" href="Demos.HSP.html#53235" class="Bound">𝒦</a> <a id="54709" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="54711" class="Symbol">(</a><a id="54712" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="54714" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="54717" href="Demos.HSP.html#53288" class="Bound">q</a><a id="54718" class="Symbol">)</a>
 <a id="54721" href="Demos.HSP.html#54680" class="Function">S-id2</a> <a id="54727" href="Demos.HSP.html#54727" class="Bound">Spq</a> <a id="54731" href="Demos.HSP.html#54731" class="Bound">𝑨</a> <a id="54733" href="Demos.HSP.html#54733" class="Bound">kA</a> <a id="54736" class="Symbol">=</a> <a id="54738" href="Demos.HSP.html#54727" class="Bound">Spq</a> <a id="54742" href="Demos.HSP.html#54731" class="Bound">𝑨</a> <a id="54744" class="Symbol">(</a><a id="54745" href="Demos.HSP.html#54731" class="Bound">𝑨</a> <a id="54747" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="54749" class="Symbol">(</a><a id="54750" href="Demos.HSP.html#54733" class="Bound">kA</a> <a id="54753" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="54755" href="Demos.HSP.html#28685" class="Function">≤-reflexive</a><a id="54766" class="Symbol">))</a>

</pre>


#### <a id="p-preserves-identities">P preserves identities</a>

<pre class="Agda">

 <a id="54862" href="Demos.HSP.html#54862" class="Function">P-id1</a> <a id="54868" class="Symbol">:</a> <a id="54870" class="Symbol">∀{</a><a id="54872" href="Demos.HSP.html#54872" class="Bound">ι</a><a id="54873" class="Symbol">}</a> <a id="54875" class="Symbol">→</a> <a id="54877" href="Demos.HSP.html#53235" class="Bound">𝒦</a> <a id="54879" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="54881" class="Symbol">(</a><a id="54882" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="54884" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="54887" href="Demos.HSP.html#53288" class="Bound">q</a><a id="54888" class="Symbol">)</a> <a id="54890" class="Symbol">→</a> <a id="54892" href="Demos.HSP.html#47124" class="Function">P</a> <a id="54894" class="Symbol">{</a><a id="54895" class="Argument">β</a> <a id="54897" class="Symbol">=</a> <a id="54899" href="Demos.HSP.html#53252" class="Bound">α</a><a id="54900" class="Symbol">}{</a><a id="54902" href="Demos.HSP.html#53254" class="Bound">ρᵃ</a><a id="54904" class="Symbol">}</a><a id="54905" href="Demos.HSP.html#53271" class="Bound">ℓ</a> <a id="54907" href="Demos.HSP.html#54872" class="Bound">ι</a> <a id="54909" href="Demos.HSP.html#53235" class="Bound">𝒦</a> <a id="54911" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="54913" class="Symbol">(</a><a id="54914" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="54916" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="54919" href="Demos.HSP.html#53288" class="Bound">q</a><a id="54920" class="Symbol">)</a>
 <a id="54923" href="Demos.HSP.html#54862" class="Function">P-id1</a> <a id="54929" href="Demos.HSP.html#54929" class="Bound">σ</a> <a id="54931" href="Demos.HSP.html#54931" class="Bound">𝑨</a> <a id="54933" class="Symbol">(</a><a id="54934" href="Demos.HSP.html#54934" class="Bound">I</a> <a id="54936" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="54938" href="Demos.HSP.html#54938" class="Bound">𝒜</a> <a id="54940" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="54942" href="Demos.HSP.html#54942" class="Bound">kA</a> <a id="54945" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="54947" href="Demos.HSP.html#54947" class="Bound">A≅⨅A</a><a id="54951" class="Symbol">)</a> <a id="54953" class="Symbol">=</a> <a id="54955" href="Demos.HSP.html#49398" class="Function">⊧-I-invar</a> <a id="54965" href="Demos.HSP.html#54931" class="Bound">𝑨</a> <a id="54967" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="54969" href="Demos.HSP.html#53288" class="Bound">q</a> <a id="54971" href="Demos.HSP.html#55049" class="Function">IH</a> <a id="54974" class="Symbol">(</a><a id="54975" href="Demos.HSP.html#25352" class="Function">≅-sym</a> <a id="54981" href="Demos.HSP.html#54947" class="Bound">A≅⨅A</a><a id="54985" class="Symbol">)</a>
  <a id="54989" class="Keyword">where</a>
  <a id="54997" href="Demos.HSP.html#54997" class="Function">ih</a> <a id="55000" class="Symbol">:</a> <a id="55002" class="Symbol">∀</a> <a id="55004" href="Demos.HSP.html#55004" class="Bound">i</a> <a id="55006" class="Symbol">→</a> <a id="55008" href="Demos.HSP.html#54938" class="Bound">𝒜</a> <a id="55010" href="Demos.HSP.html#55004" class="Bound">i</a> <a id="55012" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="55014" class="Symbol">(</a><a id="55015" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="55017" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="55020" href="Demos.HSP.html#53288" class="Bound">q</a><a id="55021" class="Symbol">)</a>
  <a id="55025" href="Demos.HSP.html#54997" class="Function">ih</a> <a id="55028" href="Demos.HSP.html#55028" class="Bound">i</a> <a id="55030" class="Symbol">=</a> <a id="55032" href="Demos.HSP.html#54929" class="Bound">σ</a> <a id="55034" class="Symbol">(</a><a id="55035" href="Demos.HSP.html#54938" class="Bound">𝒜</a> <a id="55037" href="Demos.HSP.html#55028" class="Bound">i</a><a id="55038" class="Symbol">)</a> <a id="55040" class="Symbol">(</a><a id="55041" href="Demos.HSP.html#54942" class="Bound">kA</a> <a id="55044" href="Demos.HSP.html#55028" class="Bound">i</a><a id="55045" class="Symbol">)</a>
  <a id="55049" href="Demos.HSP.html#55049" class="Function">IH</a> <a id="55052" class="Symbol">:</a> <a id="55054" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="55056" href="Demos.HSP.html#54938" class="Bound">𝒜</a> <a id="55058" href="Demos.HSP.html#41654" class="Function Operator">⊧</a> <a id="55060" class="Symbol">(</a><a id="55061" href="Demos.HSP.html#53286" class="Bound">p</a> <a id="55063" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="55066" href="Demos.HSP.html#53288" class="Bound">q</a><a id="55067" class="Symbol">)</a>
  <a id="55071" href="Demos.HSP.html#55049" class="Function">IH</a> <a id="55074" class="Symbol">=</a> <a id="55076" href="Demos.HSP.html#51219" class="Function">⊧-P-invar</a> <a id="55086" href="Demos.HSP.html#54938" class="Bound">𝒜</a> <a id="55088" class="Symbol">{</a><a id="55089" href="Demos.HSP.html#53286" class="Bound">p</a><a id="55090" class="Symbol">}{</a><a id="55092" href="Demos.HSP.html#53288" class="Bound">q</a><a id="55093" class="Symbol">}</a> <a id="55095" href="Demos.HSP.html#54997" class="Function">ih</a>

</pre>


#### <a id="v-preserves-identities">V preserves identities</a>

Finally, we prove the analogous preservation lemmas for the closure operator `V`.

<pre class="Agda">

<a id="55273" class="Keyword">module</a> <a id="55280" href="Demos.HSP.html#55280" class="Module">_</a>  <a id="55283" class="Symbol">{</a><a id="55284" href="Demos.HSP.html#55284" class="Bound">X</a> <a id="55286" class="Symbol">:</a> <a id="55288" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="55293" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="55294" class="Symbol">}{</a><a id="55296" href="Demos.HSP.html#55296" class="Bound">ι</a> <a id="55298" class="Symbol">:</a> <a id="55300" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="55305" class="Symbol">}{</a><a id="55307" href="Demos.HSP.html#55307" class="Bound">𝒦</a> <a id="55309" class="Symbol">:</a> <a id="55311" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="55315" class="Symbol">(</a><a id="55316" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="55324" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="55326" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="55328" class="Symbol">)</a> <a id="55330" class="Symbol">(</a><a id="55331" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="55333" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="55335" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="55338" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="55340" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="55343" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="55344" class="Symbol">)}</a>
          <a id="55357" class="Symbol">{</a><a id="55358" href="Demos.HSP.html#55358" class="Bound">p</a> <a id="55360" href="Demos.HSP.html#55360" class="Bound">q</a> <a id="55362" class="Symbol">:</a> <a id="55364" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="55369" href="Demos.HSP.html#55284" class="Bound">X</a><a id="55370" class="Symbol">}</a> <a id="55372" class="Keyword">where</a>

 <a id="55380" class="Keyword">private</a>
  <a id="55390" href="Demos.HSP.html#55390" class="Function">aℓι</a> <a id="55394" class="Symbol">=</a> <a id="55396" href="Demos.HSP.html#55324" class="Bound">α</a> <a id="55398" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="55400" href="Demos.HSP.html#55326" class="Bound">ρᵃ</a> <a id="55403" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="55405" href="Demos.HSP.html#55343" class="Bound">ℓ</a> <a id="55407" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="55409" href="Demos.HSP.html#55296" class="Bound">ι</a>

 <a id="55413" href="Demos.HSP.html#55413" class="Function">V-id1</a> <a id="55419" class="Symbol">:</a> <a id="55421" href="Demos.HSP.html#55307" class="Bound">𝒦</a> <a id="55423" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="55425" class="Symbol">(</a><a id="55426" href="Demos.HSP.html#55358" class="Bound">p</a> <a id="55428" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="55431" href="Demos.HSP.html#55360" class="Bound">q</a><a id="55432" class="Symbol">)</a> <a id="55434" class="Symbol">→</a> <a id="55436" href="Demos.HSP.html#47681" class="Function">V</a> <a id="55438" href="Demos.HSP.html#55343" class="Bound">ℓ</a> <a id="55440" href="Demos.HSP.html#55296" class="Bound">ι</a> <a id="55442" href="Demos.HSP.html#55307" class="Bound">𝒦</a> <a id="55444" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="55446" class="Symbol">(</a><a id="55447" href="Demos.HSP.html#55358" class="Bound">p</a> <a id="55449" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="55452" href="Demos.HSP.html#55360" class="Bound">q</a><a id="55453" class="Symbol">)</a>
 <a id="55456" href="Demos.HSP.html#55413" class="Function">V-id1</a> <a id="55462" href="Demos.HSP.html#55462" class="Bound">σ</a> <a id="55464" href="Demos.HSP.html#55464" class="Bound">𝑩</a> <a id="55466" class="Symbol">(</a><a id="55467" href="Demos.HSP.html#55467" class="Bound">𝑨</a> <a id="55469" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="55471" class="Symbol">(</a><a id="55472" href="Demos.HSP.html#55472" class="Bound">⨅A</a> <a id="55475" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="55477" href="Demos.HSP.html#55477" class="Bound">p⨅A</a> <a id="55481" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="55483" href="Demos.HSP.html#55483" class="Bound">A≤⨅A</a><a id="55487" class="Symbol">)</a> <a id="55489" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="55491" href="Demos.HSP.html#55491" class="Bound">BimgA</a><a id="55496" class="Symbol">)</a> <a id="55498" class="Symbol">=</a>
  <a id="55502" href="Demos.HSP.html#53308" class="Function">H-id1</a><a id="55507" class="Symbol">{</a><a id="55508" class="Argument">ℓ</a> <a id="55510" class="Symbol">=</a> <a id="55512" href="Demos.HSP.html#55390" class="Function">aℓι</a><a id="55515" class="Symbol">}{</a><a id="55517" class="Argument">𝒦</a> <a id="55519" class="Symbol">=</a> <a id="55521" href="Demos.HSP.html#46977" class="Function">S</a> <a id="55523" href="Demos.HSP.html#55390" class="Function">aℓι</a> <a id="55527" class="Symbol">(</a><a id="55528" href="Demos.HSP.html#47124" class="Function">P</a> <a id="55530" class="Symbol">{</a><a id="55531" class="Argument">β</a> <a id="55533" class="Symbol">=</a> <a id="55535" href="Demos.HSP.html#55324" class="Bound">α</a><a id="55536" class="Symbol">}{</a><a id="55538" href="Demos.HSP.html#55326" class="Bound">ρᵃ</a><a id="55540" class="Symbol">}</a><a id="55541" href="Demos.HSP.html#55343" class="Bound">ℓ</a> <a id="55543" href="Demos.HSP.html#55296" class="Bound">ι</a> <a id="55545" href="Demos.HSP.html#55307" class="Bound">𝒦</a><a id="55546" class="Symbol">)}{</a><a id="55549" class="Argument">p</a> <a id="55551" class="Symbol">=</a> <a id="55553" href="Demos.HSP.html#55358" class="Bound">p</a><a id="55554" class="Symbol">}{</a><a id="55556" href="Demos.HSP.html#55360" class="Bound">q</a><a id="55557" class="Symbol">}</a> <a id="55559" href="Demos.HSP.html#55667" class="Function">spK⊧pq</a> <a id="55566" href="Demos.HSP.html#55464" class="Bound">𝑩</a> <a id="55568" class="Symbol">(</a><a id="55569" href="Demos.HSP.html#55467" class="Bound">𝑨</a> <a id="55571" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="55573" class="Symbol">(</a><a id="55574" href="Demos.HSP.html#55600" class="Function">spA</a> <a id="55578" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="55580" href="Demos.HSP.html#55491" class="Bound">BimgA</a><a id="55585" class="Symbol">))</a>
   <a id="55591" class="Keyword">where</a>
   <a id="55600" href="Demos.HSP.html#55600" class="Function">spA</a> <a id="55604" class="Symbol">:</a> <a id="55606" href="Demos.HSP.html#55467" class="Bound">𝑨</a> <a id="55608" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="55610" href="Demos.HSP.html#46977" class="Function">S</a> <a id="55612" href="Demos.HSP.html#55390" class="Function">aℓι</a> <a id="55616" class="Symbol">(</a><a id="55617" href="Demos.HSP.html#47124" class="Function">P</a> <a id="55619" class="Symbol">{</a><a id="55620" class="Argument">β</a> <a id="55622" class="Symbol">=</a> <a id="55624" href="Demos.HSP.html#55324" class="Bound">α</a><a id="55625" class="Symbol">}{</a><a id="55627" href="Demos.HSP.html#55326" class="Bound">ρᵃ</a><a id="55629" class="Symbol">}</a><a id="55630" href="Demos.HSP.html#55343" class="Bound">ℓ</a> <a id="55632" href="Demos.HSP.html#55296" class="Bound">ι</a> <a id="55634" href="Demos.HSP.html#55307" class="Bound">𝒦</a><a id="55635" class="Symbol">)</a>
   <a id="55640" href="Demos.HSP.html#55600" class="Function">spA</a> <a id="55644" class="Symbol">=</a> <a id="55646" href="Demos.HSP.html#55472" class="Bound">⨅A</a> <a id="55649" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="55651" class="Symbol">(</a><a id="55652" href="Demos.HSP.html#55477" class="Bound">p⨅A</a> <a id="55656" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="55658" href="Demos.HSP.html#55483" class="Bound">A≤⨅A</a><a id="55662" class="Symbol">)</a>
   <a id="55667" href="Demos.HSP.html#55667" class="Function">spK⊧pq</a> <a id="55674" class="Symbol">:</a> <a id="55676" href="Demos.HSP.html#46977" class="Function">S</a> <a id="55678" href="Demos.HSP.html#55390" class="Function">aℓι</a> <a id="55682" class="Symbol">(</a><a id="55683" href="Demos.HSP.html#47124" class="Function">P</a> <a id="55685" href="Demos.HSP.html#55343" class="Bound">ℓ</a> <a id="55687" href="Demos.HSP.html#55296" class="Bound">ι</a> <a id="55689" href="Demos.HSP.html#55307" class="Bound">𝒦</a><a id="55690" class="Symbol">)</a> <a id="55692" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="55694" class="Symbol">(</a><a id="55695" href="Demos.HSP.html#55358" class="Bound">p</a> <a id="55697" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="55700" href="Demos.HSP.html#55360" class="Bound">q</a><a id="55701" class="Symbol">)</a>
   <a id="55706" href="Demos.HSP.html#55667" class="Function">spK⊧pq</a> <a id="55713" class="Symbol">=</a> <a id="55715" href="Demos.HSP.html#54417" class="Function">S-id1</a><a id="55720" class="Symbol">{</a><a id="55721" class="Argument">ℓ</a> <a id="55723" class="Symbol">=</a> <a id="55725" href="Demos.HSP.html#55390" class="Function">aℓι</a><a id="55728" class="Symbol">}{</a><a id="55730" class="Argument">p</a> <a id="55732" class="Symbol">=</a> <a id="55734" href="Demos.HSP.html#55358" class="Bound">p</a><a id="55735" class="Symbol">}{</a><a id="55737" href="Demos.HSP.html#55360" class="Bound">q</a><a id="55738" class="Symbol">}</a> <a id="55740" class="Symbol">(</a><a id="55741" href="Demos.HSP.html#54862" class="Function">P-id1</a><a id="55746" class="Symbol">{</a><a id="55747" class="Argument">ℓ</a> <a id="55749" class="Symbol">=</a> <a id="55751" href="Demos.HSP.html#55343" class="Bound">ℓ</a><a id="55752" class="Symbol">}</a> <a id="55754" class="Symbol">{</a><a id="55755" class="Argument">𝒦</a> <a id="55757" class="Symbol">=</a> <a id="55759" href="Demos.HSP.html#55307" class="Bound">𝒦</a><a id="55760" class="Symbol">}{</a><a id="55762" class="Argument">p</a> <a id="55764" class="Symbol">=</a> <a id="55766" href="Demos.HSP.html#55358" class="Bound">p</a><a id="55767" class="Symbol">}{</a><a id="55769" href="Demos.HSP.html#55360" class="Bound">q</a><a id="55770" class="Symbol">}</a> <a id="55772" href="Demos.HSP.html#55462" class="Bound">σ</a><a id="55773" class="Symbol">)</a>

</pre>

#### <a id="th-k-subset-th-v">Th 𝒦 ⊆ Th (V 𝒦)</a>

From `V-id1` it follows that if 𝒦 is a class of algebras, then the set of identities modeled by the algebras in `𝒦` is contained in the set of identities modeled by the algebras in `V 𝒦`.  In other terms, `Th 𝒦 ⊆ Th (V 𝒦)`.  We formalize this observation as follows.

<pre class="Agda">

 <a id="56122" href="Demos.HSP.html#56122" class="Function">classIds-⊆-VIds</a> <a id="56138" class="Symbol">:</a> <a id="56140" href="Demos.HSP.html#55307" class="Bound">𝒦</a> <a id="56142" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="56144" class="Symbol">(</a><a id="56145" href="Demos.HSP.html#55358" class="Bound">p</a> <a id="56147" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="56150" href="Demos.HSP.html#55360" class="Bound">q</a><a id="56151" class="Symbol">)</a>  <a id="56154" class="Symbol">→</a> <a id="56156" class="Symbol">(</a><a id="56157" href="Demos.HSP.html#55358" class="Bound">p</a> <a id="56159" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="56161" href="Demos.HSP.html#55360" class="Bound">q</a><a id="56162" class="Symbol">)</a> <a id="56164" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="56166" href="Demos.HSP.html#42475" class="Function">Th</a> <a id="56169" class="Symbol">(</a><a id="56170" href="Demos.HSP.html#47681" class="Function">V</a> <a id="56172" href="Demos.HSP.html#55343" class="Bound">ℓ</a> <a id="56174" href="Demos.HSP.html#55296" class="Bound">ι</a> <a id="56176" href="Demos.HSP.html#55307" class="Bound">𝒦</a><a id="56177" class="Symbol">)</a>
 <a id="56180" href="Demos.HSP.html#56122" class="Function">classIds-⊆-VIds</a> <a id="56196" href="Demos.HSP.html#56196" class="Bound">pKq</a> <a id="56200" href="Demos.HSP.html#56200" class="Bound">𝑨</a> <a id="56202" class="Symbol">=</a> <a id="56204" href="Demos.HSP.html#55413" class="Function">V-id1</a> <a id="56210" href="Demos.HSP.html#56196" class="Bound">pKq</a> <a id="56214" href="Demos.HSP.html#56200" class="Bound">𝑨</a>

</pre>

## <a id="free-algebras">Free Algebras</a>

### <a id="the-absolutely-free-algebra-tx">The absolutely free algebra 𝑻 X</a>

The term algebra `𝑻 X` is *absolutely free* (or *universal*, or *initial*) for algebras in the signature `𝑆`. That is, for every 𝑆-algebra `𝑨`, the following hold.

1. Every function from `𝑋` to `∣ 𝑨 ∣` lifts to a homomorphism from `𝑻 X` to `𝑨`.
2. The homomorphism that exists by item 1 is unique.

We now prove this in [Agda][], starting with the fact that every map from `X` to `∣ 𝑨 ∣` lifts to a map from `∣ 𝑻 X ∣` to `∣ 𝑨 ∣` in a natural way, by induction on the structure of the given term.

<pre class="Agda">

<a id="56865" class="Keyword">module</a> <a id="56872" href="Demos.HSP.html#56872" class="Module">_</a> <a id="56874" class="Symbol">{</a><a id="56875" href="Demos.HSP.html#56875" class="Bound">X</a> <a id="56877" class="Symbol">:</a> <a id="56879" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="56884" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="56885" class="Symbol">}{</a><a id="56887" href="Demos.HSP.html#56887" class="Bound">𝑨</a> <a id="56889" class="Symbol">:</a> <a id="56891" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="56899" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="56901" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="56903" class="Symbol">}(</a><a id="56905" href="Demos.HSP.html#56905" class="Bound">h</a> <a id="56907" class="Symbol">:</a> <a id="56909" href="Demos.HSP.html#56875" class="Bound">X</a> <a id="56911" class="Symbol">→</a> <a id="56913" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="56916" href="Demos.HSP.html#56887" class="Bound">𝑨</a> <a id="56918" href="Demos.HSP.html#11032" class="Function Operator">]</a><a id="56919" class="Symbol">)</a> <a id="56921" class="Keyword">where</a>
 <a id="56928" class="Keyword">open</a> <a id="56933" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="56941" href="Demos.HSP.html#56887" class="Bound">𝑨</a> <a id="56943" class="Keyword">using</a> <a id="56949" class="Symbol">()</a> <a id="56952" class="Keyword">renaming</a> <a id="56961" class="Symbol">(</a> <a id="56963" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="56970" class="Symbol">to</a> <a id="56973" class="Field">A</a> <a id="56975" class="Symbol">;</a> <a id="56977" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="56984" class="Symbol">to</a> <a id="56987" class="Field">InterpA</a><a id="56994" class="Symbol">)</a>
 <a id="56997" class="Keyword">open</a> <a id="57002" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="57009" href="Demos.HSP.html#56973" class="Function">A</a> <a id="57011" class="Keyword">using</a> <a id="57017" class="Symbol">(</a> <a id="57019" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="57023" class="Symbol">;</a> <a id="57025" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="57035" class="Symbol">;</a> <a id="57037" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="57042" class="Symbol">;</a> <a id="57044" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="57050" class="Symbol">)</a> <a id="57052" class="Keyword">renaming</a> <a id="57061" class="Symbol">(</a> <a id="57063" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="57071" class="Symbol">to</a> <a id="57074" class="Field">∣A∣</a> <a id="57078" class="Symbol">)</a>
 <a id="57081" class="Keyword">open</a> <a id="57086" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="57094" class="Symbol">(</a><a id="57095" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="57097" href="Demos.HSP.html#56875" class="Bound">X</a><a id="57098" class="Symbol">)</a> <a id="57100" class="Keyword">using</a> <a id="57106" class="Symbol">()</a> <a id="57109" class="Keyword">renaming</a> <a id="57118" class="Symbol">(</a> <a id="57120" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="57127" class="Symbol">to</a> <a id="57130" class="Field">TX</a> <a id="57133" class="Symbol">)</a>
 <a id="57136" class="Keyword">open</a> <a id="57141" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="57148" href="Demos.HSP.html#57130" class="Function">TX</a> <a id="57151" class="Keyword">using</a> <a id="57157" class="Symbol">()</a> <a id="57160" class="Keyword">renaming</a> <a id="57169" class="Symbol">(</a> <a id="57171" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="57179" class="Symbol">to</a> <a id="57182" class="Field">∣TX∣</a> <a id="57187" class="Symbol">)</a>

 <a id="57191" href="Demos.HSP.html#57191" class="Function">free-lift</a> <a id="57201" class="Symbol">:</a> <a id="57203" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="57206" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="57208" href="Demos.HSP.html#56875" class="Bound">X</a> <a id="57210" href="Demos.HSP.html#11032" class="Function Operator">]</a> <a id="57212" class="Symbol">→</a> <a id="57214" href="Demos.HSP.html#11032" class="Function Operator">𝕌[</a> <a id="57217" href="Demos.HSP.html#56887" class="Bound">𝑨</a> <a id="57219" href="Demos.HSP.html#11032" class="Function Operator">]</a>
 <a id="57222" href="Demos.HSP.html#57191" class="Function">free-lift</a> <a id="57232" class="Symbol">(</a><a id="57233" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="57235" href="Demos.HSP.html#57235" class="Bound">x</a><a id="57236" class="Symbol">)</a> <a id="57238" class="Symbol">=</a> <a id="57240" href="Demos.HSP.html#56905" class="Bound">h</a> <a id="57242" href="Demos.HSP.html#57235" class="Bound">x</a>
 <a id="57245" href="Demos.HSP.html#57191" class="Function">free-lift</a> <a id="57255" class="Symbol">(</a><a id="57256" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="57261" href="Demos.HSP.html#57261" class="Bound">f</a> <a id="57263" href="Demos.HSP.html#57263" class="Bound">t</a><a id="57264" class="Symbol">)</a> <a id="57266" class="Symbol">=</a> <a id="57268" class="Symbol">(</a><a id="57269" href="Demos.HSP.html#57261" class="Bound">f</a> <a id="57271" href="Demos.HSP.html#11444" class="Function Operator">̂</a> <a id="57273" href="Demos.HSP.html#56887" class="Bound">𝑨</a><a id="57274" class="Symbol">)</a> <a id="57276" class="Symbol">(λ</a> <a id="57279" href="Demos.HSP.html#57279" class="Bound">i</a> <a id="57281" class="Symbol">→</a> <a id="57283" href="Demos.HSP.html#57191" class="Function">free-lift</a> <a id="57293" class="Symbol">(</a><a id="57294" href="Demos.HSP.html#57263" class="Bound">t</a> <a id="57296" href="Demos.HSP.html#57279" class="Bound">i</a><a id="57297" class="Symbol">))</a>

 <a id="57302" href="Demos.HSP.html#57302" class="Function">free-lift-func</a> <a id="57317" class="Symbol">:</a> <a id="57319" href="Demos.HSP.html#57130" class="Function">TX</a> <a id="57322" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="57324" href="Demos.HSP.html#56973" class="Function">A</a>
 <a id="57327" href="Demos.HSP.html#57302" class="Function">free-lift-func</a> <a id="57342" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="57346" href="Demos.HSP.html#57346" class="Bound">x</a> <a id="57348" class="Symbol">=</a> <a id="57350" href="Demos.HSP.html#57191" class="Function">free-lift</a> <a id="57360" href="Demos.HSP.html#57346" class="Bound">x</a>
 <a id="57363" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="57368" href="Demos.HSP.html#57302" class="Function">free-lift-func</a> <a id="57383" class="Symbol">=</a> <a id="57385" href="Demos.HSP.html#57402" class="Function">flcong</a>
  <a id="57394" class="Keyword">where</a>
  <a id="57402" href="Demos.HSP.html#57402" class="Function">flcong</a> <a id="57409" class="Symbol">:</a> <a id="57411" class="Symbol">∀</a> <a id="57413" class="Symbol">{</a><a id="57414" href="Demos.HSP.html#57414" class="Bound">s</a> <a id="57416" href="Demos.HSP.html#57416" class="Bound">t</a><a id="57417" class="Symbol">}</a> <a id="57419" class="Symbol">→</a> <a id="57421" href="Demos.HSP.html#57414" class="Bound">s</a> <a id="57423" href="Demos.HSP.html#32437" class="Datatype Operator">≐</a> <a id="57425" href="Demos.HSP.html#57416" class="Bound">t</a> <a id="57427" class="Symbol">→</a>  <a id="57430" href="Demos.HSP.html#57191" class="Function">free-lift</a> <a id="57440" href="Demos.HSP.html#57414" class="Bound">s</a> <a id="57442" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="57444" href="Demos.HSP.html#57191" class="Function">free-lift</a> <a id="57454" href="Demos.HSP.html#57416" class="Bound">t</a>
  <a id="57458" href="Demos.HSP.html#57402" class="Function">flcong</a> <a id="57465" class="Symbol">(</a><a id="57466" href="Demos.HSP.html#32481" class="InductiveConstructor">_≐_.rfl</a> <a id="57474" href="Demos.HSP.html#57474" class="Bound">x</a><a id="57475" class="Symbol">)</a> <a id="57477" class="Symbol">=</a> <a id="57479" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="57489" class="Symbol">(</a><a id="57490" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">≡.cong</a> <a id="57497" href="Demos.HSP.html#56905" class="Bound">h</a> <a id="57499" href="Demos.HSP.html#57474" class="Bound">x</a><a id="57500" class="Symbol">)</a>
  <a id="57504" href="Demos.HSP.html#57402" class="Function">flcong</a> <a id="57511" class="Symbol">(</a><a id="57512" href="Demos.HSP.html#32523" class="InductiveConstructor">_≐_.gnl</a> <a id="57520" href="Demos.HSP.html#57520" class="Bound">x</a><a id="57521" class="Symbol">)</a> <a id="57523" class="Symbol">=</a> <a id="57525" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="57530" href="Demos.HSP.html#56987" class="Function">InterpA</a> <a id="57538" class="Symbol">(</a><a id="57539" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="57546" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="57548" class="Symbol">(λ</a> <a id="57551" href="Demos.HSP.html#57551" class="Bound">i</a> <a id="57553" class="Symbol">→</a> <a id="57555" href="Demos.HSP.html#57402" class="Function">flcong</a> <a id="57562" class="Symbol">(</a><a id="57563" href="Demos.HSP.html#57520" class="Bound">x</a> <a id="57565" href="Demos.HSP.html#57551" class="Bound">i</a><a id="57566" class="Symbol">)))</a>


</pre>

Naturally, at the base step of the induction, when the term has the form `generator`
x, the free lift of `h` agrees with `h`.  For the inductive step, when the
given term has the form `node f t`, the free lift is defined as
follows: Assuming (the induction hypothesis) that we know the image of each
subterm `t i` under the free lift of `h`, define the free lift at the
full term by applying `f ̂ 𝑨` to the images of the subterms.

The free lift so defined is a homomorphism by construction. Indeed, here is the trivial proof.

<pre class="Agda">

 <a id="58127" href="Demos.HSP.html#58127" class="Function">lift-hom</a> <a id="58136" class="Symbol">:</a> <a id="58138" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="58142" class="Symbol">(</a><a id="58143" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="58145" href="Demos.HSP.html#56875" class="Bound">X</a><a id="58146" class="Symbol">)</a> <a id="58148" href="Demos.HSP.html#56887" class="Bound">𝑨</a>
 <a id="58151" href="Demos.HSP.html#58127" class="Function">lift-hom</a> <a id="58160" class="Symbol">=</a> <a id="58162" href="Demos.HSP.html#57302" class="Function">free-lift-func</a> <a id="58177" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58179" href="Demos.HSP.html#58371" class="Function">hhom</a>
  <a id="58186" class="Keyword">where</a>
  <a id="58194" href="Demos.HSP.html#58194" class="Function">hfunc</a> <a id="58200" class="Symbol">:</a> <a id="58202" href="Demos.HSP.html#57130" class="Function">TX</a> <a id="58205" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="58207" href="Demos.HSP.html#56973" class="Function">A</a>
  <a id="58211" href="Demos.HSP.html#58194" class="Function">hfunc</a> <a id="58217" class="Symbol">=</a> <a id="58219" href="Demos.HSP.html#57302" class="Function">free-lift-func</a>

  <a id="58237" href="Demos.HSP.html#58237" class="Function">hcomp</a> <a id="58243" class="Symbol">:</a> <a id="58245" href="Demos.HSP.html#14839" class="Function">compatible-map</a> <a id="58260" class="Symbol">(</a><a id="58261" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="58263" href="Demos.HSP.html#56875" class="Bound">X</a><a id="58264" class="Symbol">)</a> <a id="58266" href="Demos.HSP.html#56887" class="Bound">𝑨</a> <a id="58268" href="Demos.HSP.html#57302" class="Function">free-lift-func</a>
  <a id="58285" href="Demos.HSP.html#58237" class="Function">hcomp</a> <a id="58291" class="Symbol">{</a><a id="58292" href="Demos.HSP.html#58292" class="Bound">f</a><a id="58293" class="Symbol">}{</a><a id="58295" href="Demos.HSP.html#58295" class="Bound">a</a><a id="58296" class="Symbol">}</a> <a id="58298" class="Symbol">=</a> <a id="58300" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="58305" href="Demos.HSP.html#56987" class="Function">InterpA</a> <a id="58313" class="Symbol">(</a><a id="58314" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="58321" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58323" class="Symbol">(λ</a> <a id="58326" href="Demos.HSP.html#58326" class="Bound">i</a> <a id="58328" class="Symbol">→</a> <a id="58330" class="Symbol">(</a><a id="58331" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="58336" href="Demos.HSP.html#57302" class="Function">free-lift-func</a><a id="58350" class="Symbol">){</a><a id="58352" href="Demos.HSP.html#58295" class="Bound">a</a> <a id="58354" href="Demos.HSP.html#58326" class="Bound">i</a><a id="58355" class="Symbol">}</a> <a id="58357" href="Demos.HSP.html#32672" class="Function">≐-isRefl</a><a id="58365" class="Symbol">))</a>

  <a id="58371" href="Demos.HSP.html#58371" class="Function">hhom</a> <a id="58376" class="Symbol">:</a> <a id="58378" href="Demos.HSP.html#14989" class="Record">IsHom</a> <a id="58384" class="Symbol">(</a><a id="58385" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="58387" href="Demos.HSP.html#56875" class="Bound">X</a><a id="58388" class="Symbol">)</a> <a id="58390" href="Demos.HSP.html#56887" class="Bound">𝑨</a> <a id="58392" href="Demos.HSP.html#58194" class="Function">hfunc</a>
  <a id="58400" href="Demos.HSP.html#58371" class="Function">hhom</a> <a id="58405" class="Symbol">=</a> <a id="58407" class="Keyword">record</a> <a id="58414" class="Symbol">{</a> <a id="58416" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="58427" class="Symbol">=</a> <a id="58429" class="Symbol">λ{</a><a id="58431" href="Demos.HSP.html#58431" class="Bound">f</a><a id="58432" class="Symbol">}{</a><a id="58434" href="Demos.HSP.html#58434" class="Bound">a</a><a id="58435" class="Symbol">}</a> <a id="58437" class="Symbol">→</a> <a id="58439" href="Demos.HSP.html#58237" class="Function">hcomp</a><a id="58444" class="Symbol">{</a><a id="58445" href="Demos.HSP.html#58431" class="Bound">f</a><a id="58446" class="Symbol">}{</a><a id="58448" href="Demos.HSP.html#58434" class="Bound">a</a><a id="58449" class="Symbol">}</a> <a id="58451" class="Symbol">}</a>


<a id="58455" class="Keyword">module</a> <a id="58462" href="Demos.HSP.html#58462" class="Module">_</a> <a id="58464" class="Symbol">{</a><a id="58465" href="Demos.HSP.html#58465" class="Bound">X</a> <a id="58467" class="Symbol">:</a> <a id="58469" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="58474" href="Demos.HSP.html#1521" class="Generalizable">χ</a><a id="58475" class="Symbol">}{</a><a id="58477" href="Demos.HSP.html#58477" class="Bound">𝑨</a> <a id="58479" class="Symbol">:</a> <a id="58481" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="58489" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="58491" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="58493" class="Symbol">}</a> <a id="58495" class="Keyword">where</a>
 <a id="58502" class="Keyword">open</a> <a id="58507" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="58515" href="Demos.HSP.html#58477" class="Bound">𝑨</a> <a id="58517" class="Keyword">using</a> <a id="58523" class="Symbol">()</a> <a id="58526" class="Keyword">renaming</a> <a id="58535" class="Symbol">(</a> <a id="58537" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="58544" class="Symbol">to</a> <a id="58547" class="Field">A</a> <a id="58549" class="Symbol">;</a> <a id="58551" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="58558" class="Symbol">to</a> <a id="58561" class="Field">InterpA</a> <a id="58569" class="Symbol">)</a>
 <a id="58572" class="Keyword">open</a> <a id="58577" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="58584" href="Demos.HSP.html#58547" class="Field">A</a> <a id="58586" class="Keyword">using</a> <a id="58592" class="Symbol">(</a> <a id="58594" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="58598" class="Symbol">;</a> <a id="58600" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="58605" class="Symbol">)</a> <a id="58607" class="Keyword">renaming</a> <a id="58616" class="Symbol">(</a> <a id="58618" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="58626" class="Symbol">to</a> <a id="58629" class="Field">∣A∣</a> <a id="58633" class="Symbol">)</a>
 <a id="58636" class="Keyword">open</a> <a id="58641" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="58653" href="Demos.HSP.html#58477" class="Bound">𝑨</a> <a id="58655" class="Keyword">using</a> <a id="58661" class="Symbol">(</a> <a id="58663" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="58667" class="Symbol">)</a>

 <a id="58671" href="Demos.HSP.html#58671" class="Function">free-lift-interp</a> <a id="58688" class="Symbol">:</a> <a id="58690" class="Symbol">(</a><a id="58691" href="Demos.HSP.html#58691" class="Bound">η</a> <a id="58693" class="Symbol">:</a> <a id="58695" href="Demos.HSP.html#58465" class="Bound">X</a> <a id="58697" class="Symbol">→</a> <a id="58699" href="Demos.HSP.html#58629" class="Function">∣A∣</a><a id="58702" class="Symbol">)(</a><a id="58704" href="Demos.HSP.html#58704" class="Bound">p</a> <a id="58706" class="Symbol">:</a> <a id="58708" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="58713" href="Demos.HSP.html#58465" class="Bound">X</a><a id="58714" class="Symbol">)</a>
  <a id="58718" class="Symbol">→</a>                 <a id="58736" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="58738" href="Demos.HSP.html#58704" class="Bound">p</a> <a id="58740" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="58742" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="58746" href="Demos.HSP.html#58691" class="Bound">η</a> <a id="58748" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="58750" class="Symbol">(</a><a id="58751" href="Demos.HSP.html#57191" class="Function">free-lift</a> <a id="58761" class="Symbol">{</a><a id="58762" class="Argument">𝑨</a> <a id="58764" class="Symbol">=</a> <a id="58766" href="Demos.HSP.html#58477" class="Bound">𝑨</a><a id="58767" class="Symbol">}</a> <a id="58769" href="Demos.HSP.html#58691" class="Bound">η</a><a id="58770" class="Symbol">)</a> <a id="58772" href="Demos.HSP.html#58704" class="Bound">p</a>

 <a id="58776" href="Demos.HSP.html#58671" class="Function">free-lift-interp</a> <a id="58793" href="Demos.HSP.html#58793" class="Bound">η</a> <a id="58795" class="Symbol">(</a><a id="58796" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="58798" href="Demos.HSP.html#58798" class="Bound">x</a><a id="58799" class="Symbol">)</a> <a id="58801" class="Symbol">=</a> <a id="58803" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="58809" href="Demos.HSP.html#58671" class="Function">free-lift-interp</a> <a id="58826" href="Demos.HSP.html#58826" class="Bound">η</a> <a id="58828" class="Symbol">(</a><a id="58829" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="58834" href="Demos.HSP.html#58834" class="Bound">f</a> <a id="58836" href="Demos.HSP.html#58836" class="Bound">t</a><a id="58837" class="Symbol">)</a> <a id="58839" class="Symbol">=</a> <a id="58841" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="58846" href="Demos.HSP.html#58561" class="Field">InterpA</a> <a id="58854" class="Symbol">(</a><a id="58855" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="58862" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58864" class="Symbol">(</a><a id="58865" href="Demos.HSP.html#58671" class="Function">free-lift-interp</a> <a id="58882" href="Demos.HSP.html#58826" class="Bound">η</a><a id="58883" class="Symbol">)</a> <a id="58885" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="58887" href="Demos.HSP.html#58836" class="Bound">t</a><a id="58888" class="Symbol">)</a>

</pre>

### <a id="the-relatively-free-algebra-f">The relatively free algebra 𝔽</a>

We now define the algebra `𝔽[ X ]`, which plays the role of the relatively free algebra, along with the natural epimorphism `epi𝔽 : epi (𝑻 X) 𝔽[ X ]` from `𝑻 X` to `𝔽[ X ]`.

<pre class="Agda">

<a id="59169" class="Keyword">module</a> <a id="FreeAlgebra"></a><a id="59176" href="Demos.HSP.html#59176" class="Module">FreeAlgebra</a> <a id="59188" class="Symbol">{</a><a id="59189" href="Demos.HSP.html#59189" class="Bound">χ</a> <a id="59191" class="Symbol">:</a> <a id="59193" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="59198" class="Symbol">}{</a><a id="59200" href="Demos.HSP.html#59200" class="Bound">ι</a> <a id="59202" class="Symbol">:</a> <a id="59204" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="59209" class="Symbol">}{</a><a id="59211" href="Demos.HSP.html#59211" class="Bound">I</a> <a id="59213" class="Symbol">:</a> <a id="59215" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="59220" href="Demos.HSP.html#59200" class="Bound">ι</a><a id="59221" class="Symbol">}(</a><a id="59223" href="Demos.HSP.html#59223" class="Bound">ℰ</a> <a id="59225" class="Symbol">:</a> <a id="59227" href="Demos.HSP.html#59211" class="Bound">I</a> <a id="59229" class="Symbol">→</a> <a id="59231" href="Demos.HSP.html#40511" class="Record">Eq</a><a id="59233" class="Symbol">)</a> <a id="59235" class="Keyword">where</a>
 <a id="59242" class="Keyword">open</a> <a id="59247" href="Demos.HSP.html#10277" class="Module">Algebra</a>

 <a id="59257" class="Comment">-- Domain of the relatively free algebra.</a>
 <a id="FreeAlgebra.FreeDomain"></a><a id="59300" href="Demos.HSP.html#59300" class="Function">FreeDomain</a> <a id="59311" class="Symbol">:</a> <a id="59313" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="59318" href="Demos.HSP.html#59189" class="Bound">χ</a> <a id="59320" class="Symbol">→</a> <a id="59322" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="59329" class="Symbol">_</a> <a id="59331" class="Symbol">_</a>
 <a id="59334" href="Demos.HSP.html#59300" class="Function">FreeDomain</a> <a id="59345" href="Demos.HSP.html#59345" class="Bound">X</a> <a id="59347" class="Symbol">=</a> <a id="59349" class="Keyword">record</a> <a id="59356" class="Symbol">{</a> <a id="59358" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a>       <a id="59372" class="Symbol">=</a> <a id="59374" href="Demos.HSP.html#31446" class="Datatype">Term</a> <a id="59379" href="Demos.HSP.html#59345" class="Bound">X</a>
                       <a id="59404" class="Symbol">;</a> <a id="59406" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a>           <a id="59420" class="Symbol">=</a> <a id="59422" href="Demos.HSP.html#59223" class="Bound">ℰ</a> <a id="59424" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="59426" href="Demos.HSP.html#59345" class="Bound">X</a> <a id="59428" href="Demos.HSP.html#42988" class="Datatype Operator">▹_≈_</a>
                       <a id="59456" class="Symbol">;</a> <a id="59458" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="59472" class="Symbol">=</a> <a id="59474" href="Demos.HSP.html#43483" class="Function">⊢▹≈IsEquiv</a>
                       <a id="59508" class="Symbol">}</a>
</pre>

The interpretation of an operation is simply the operation itself.
This works since `ℰ ⊢ X ▹_≈_` is a congruence.

<pre class="Agda">

 <a id="FreeAlgebra.FreeInterp"></a><a id="59652" href="Demos.HSP.html#59652" class="Function">FreeInterp</a> <a id="59663" class="Symbol">:</a> <a id="59665" class="Symbol">∀</a> <a id="59667" class="Symbol">{</a><a id="59668" href="Demos.HSP.html#59668" class="Bound">X</a><a id="59669" class="Symbol">}</a> <a id="59671" class="Symbol">→</a> <a id="59673" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="59678" class="Symbol">(</a><a id="59679" href="Demos.HSP.html#9523" class="Function Operator">⟨</a> <a id="59681" href="Demos.HSP.html#369" class="Bound">𝑆</a> <a id="59683" href="Demos.HSP.html#9523" class="Function Operator">⟩</a> <a id="59685" class="Symbol">(</a><a id="59686" href="Demos.HSP.html#59300" class="Function">FreeDomain</a> <a id="59697" href="Demos.HSP.html#59668" class="Bound">X</a><a id="59698" class="Symbol">))</a> <a id="59701" class="Symbol">(</a><a id="59702" href="Demos.HSP.html#59300" class="Function">FreeDomain</a> <a id="59713" href="Demos.HSP.html#59668" class="Bound">X</a><a id="59714" class="Symbol">)</a>
 <a id="59717" href="Demos.HSP.html#59652" class="Function">FreeInterp</a> <a id="59728" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="59732" class="Symbol">(</a><a id="59733" href="Demos.HSP.html#59733" class="Bound">f</a> <a id="59735" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="59737" href="Demos.HSP.html#59737" class="Bound">ts</a><a id="59739" class="Symbol">)</a> <a id="59741" class="Symbol">=</a> <a id="59743" href="Demos.HSP.html#31529" class="InductiveConstructor">node</a> <a id="59748" href="Demos.HSP.html#59733" class="Bound">f</a> <a id="59750" href="Demos.HSP.html#59737" class="Bound">ts</a>
 <a id="59754" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="59759" href="Demos.HSP.html#59652" class="Function">FreeInterp</a> <a id="59770" class="Symbol">(</a><a id="59771" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="59778" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="59780" href="Demos.HSP.html#59780" class="Bound">h</a><a id="59781" class="Symbol">)</a> <a id="59783" class="Symbol">=</a> <a id="59785" href="Demos.HSP.html#43126" class="InductiveConstructor">app</a> <a id="59789" href="Demos.HSP.html#59780" class="Bound">h</a>

 <a id="59793" class="Comment">-- The relatively free algebra</a>
 <a id="FreeAlgebra.𝔽[_]"></a><a id="59825" href="Demos.HSP.html#59825" class="Function Operator">𝔽[_]</a> <a id="59830" class="Symbol">:</a> <a id="59832" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="59837" href="Demos.HSP.html#59189" class="Bound">χ</a> <a id="59839" class="Symbol">→</a> <a id="59841" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="59849" class="Symbol">(</a><a id="59850" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="59853" href="Demos.HSP.html#59189" class="Bound">χ</a><a id="59854" class="Symbol">)</a> <a id="59856" class="Symbol">(</a><a id="59857" href="Demos.HSP.html#59200" class="Bound">ι</a> <a id="59859" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="59861" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="59864" href="Demos.HSP.html#59189" class="Bound">χ</a><a id="59865" class="Symbol">)</a>
 <a id="59868" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="59875" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="59878" href="Demos.HSP.html#59878" class="Bound">X</a> <a id="59880" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="59882" class="Symbol">=</a> <a id="59884" href="Demos.HSP.html#59300" class="Function">FreeDomain</a> <a id="59895" href="Demos.HSP.html#59878" class="Bound">X</a>
 <a id="59898" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="59905" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="59908" href="Demos.HSP.html#59908" class="Bound">X</a> <a id="59910" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="59912" class="Symbol">=</a> <a id="59914" href="Demos.HSP.html#59652" class="Function">FreeInterp</a>

</pre>

### <a id="basic-properties-of-free-algebras">Basic properties of free algebras</a>

In the code below, `X` will play the role of an arbitrary collection of variables; it would suffice to take `X` to be the cardinality of the largest algebra in 𝒦, but since we don't know that cardinality, we leave `X` aribtrary for now.

Alternatively, we could let `X` be the product of all algebras in the class `𝒦`, like so.

`𝕏 : Type oα`  
`𝕏 = Carrier ( Domain (⨅ (𝔄{𝒦 = S 𝒦})) )`

<pre class="Agda">

<a id="60425" class="Keyword">module</a> <a id="FreeHom"></a><a id="60432" href="Demos.HSP.html#60432" class="Module">FreeHom</a> <a id="60440" class="Symbol">(</a><a id="60441" href="Demos.HSP.html#60441" class="Bound">χ</a> <a id="60443" class="Symbol">:</a> <a id="60445" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="60450" class="Symbol">)</a>
               <a id="60467" class="Symbol">{</a><a id="60468" href="Demos.HSP.html#60468" class="Bound">𝒦</a> <a id="60470" class="Symbol">:</a> <a id="60472" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="60476" class="Symbol">(</a><a id="60477" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="60485" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="60487" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="60489" class="Symbol">)</a> <a id="60491" class="Symbol">(</a><a id="60492" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="60494" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="60496" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="60499" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="60501" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="60504" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="60505" class="Symbol">)}</a> <a id="60508" class="Keyword">where</a>
 <a id="60515" class="Keyword">private</a>
  <a id="FreeHom.ι"></a><a id="60525" href="Demos.HSP.html#60525" class="Function">ι</a> <a id="60527" class="Symbol">=</a> <a id="60529" href="Demos.HSP.html#27044" class="Function">ov</a><a id="60531" class="Symbol">(</a><a id="60532" href="Demos.HSP.html#60441" class="Bound">χ</a> <a id="60534" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="60536" href="Demos.HSP.html#60485" class="Bound">α</a> <a id="60538" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="60540" href="Demos.HSP.html#60487" class="Bound">ρᵃ</a> <a id="60543" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="60545" href="Demos.HSP.html#60504" class="Bound">ℓ</a><a id="60546" class="Symbol">)</a>

 <a id="60550" class="Keyword">open</a> <a id="60555" href="Demos.HSP.html#40511" class="Module">Eq</a>

 <a id="60560" class="Comment">-- ℐ indexes the collection of equations modeled by 𝒦</a>
 <a id="FreeHom.ℐ"></a><a id="60615" href="Demos.HSP.html#60615" class="Function">ℐ</a> <a id="60617" class="Symbol">:</a> <a id="60619" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="60624" href="Demos.HSP.html#60525" class="Function">ι</a>
 <a id="60627" href="Demos.HSP.html#60615" class="Function">ℐ</a> <a id="60629" class="Symbol">=</a> <a id="60631" href="Data.Product.html#916" class="Function">Σ[</a> <a id="60634" href="Demos.HSP.html#60634" class="Bound">eq</a> <a id="60637" href="Data.Product.html#916" class="Function">∈</a> <a id="60639" href="Demos.HSP.html#40511" class="Record">Eq</a><a id="60641" class="Symbol">{</a><a id="60642" href="Demos.HSP.html#60441" class="Bound">χ</a><a id="60643" class="Symbol">}</a> <a id="60645" href="Data.Product.html#916" class="Function">]</a> <a id="60647" href="Demos.HSP.html#60468" class="Bound">𝒦</a> <a id="60649" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="60651" class="Symbol">((</a><a id="60653" href="Demos.HSP.html#40578" class="Field">lhs</a> <a id="60657" href="Demos.HSP.html#60634" class="Bound">eq</a><a id="60659" class="Symbol">)</a> <a id="60661" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="60664" class="Symbol">(</a><a id="60665" href="Demos.HSP.html#40597" class="Field">rhs</a> <a id="60669" href="Demos.HSP.html#60634" class="Bound">eq</a><a id="60671" class="Symbol">))</a>

 <a id="FreeHom.ℰ"></a><a id="60676" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="60678" class="Symbol">:</a> <a id="60680" href="Demos.HSP.html#60615" class="Function">ℐ</a> <a id="60682" class="Symbol">→</a> <a id="60684" href="Demos.HSP.html#40511" class="Record">Eq</a>
 <a id="60688" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="60690" class="Symbol">(</a><a id="60691" href="Demos.HSP.html#60691" class="Bound">eqv</a> <a id="60695" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="60697" href="Demos.HSP.html#60697" class="Bound">p</a><a id="60698" class="Symbol">)</a> <a id="60700" class="Symbol">=</a> <a id="60702" href="Demos.HSP.html#60691" class="Bound">eqv</a>

 <a id="FreeHom.ℰ⊢[_]▹Th𝒦"></a><a id="60708" href="Demos.HSP.html#60708" class="Function Operator">ℰ⊢[_]▹Th𝒦</a> <a id="60718" class="Symbol">:</a> <a id="60720" class="Symbol">(</a><a id="60721" href="Demos.HSP.html#60721" class="Bound">X</a> <a id="60723" class="Symbol">:</a> <a id="60725" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="60730" href="Demos.HSP.html#60441" class="Bound">χ</a><a id="60731" class="Symbol">)</a> <a id="60733" class="Symbol">→</a> <a id="60735" class="Symbol">∀{</a><a id="60737" href="Demos.HSP.html#60737" class="Bound">p</a> <a id="60739" href="Demos.HSP.html#60739" class="Bound">q</a><a id="60740" class="Symbol">}</a> <a id="60742" class="Symbol">→</a> <a id="60744" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="60746" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="60748" href="Demos.HSP.html#60721" class="Bound">X</a> <a id="60750" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="60752" href="Demos.HSP.html#60737" class="Bound">p</a> <a id="60754" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="60756" href="Demos.HSP.html#60739" class="Bound">q</a> <a id="60758" class="Symbol">→</a> <a id="60760" href="Demos.HSP.html#60468" class="Bound">𝒦</a> <a id="60762" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="60764" class="Symbol">(</a><a id="60765" href="Demos.HSP.html#60737" class="Bound">p</a> <a id="60767" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="60770" href="Demos.HSP.html#60739" class="Bound">q</a><a id="60771" class="Symbol">)</a>
 <a id="60774" href="Demos.HSP.html#60708" class="Function Operator">ℰ⊢[</a> <a id="60778" href="Demos.HSP.html#60778" class="Bound">X</a> <a id="60780" href="Demos.HSP.html#60708" class="Function Operator">]▹Th𝒦</a> <a id="60786" href="Demos.HSP.html#60786" class="Bound">x</a> <a id="60788" href="Demos.HSP.html#60788" class="Bound">𝑨</a> <a id="60790" href="Demos.HSP.html#60790" class="Bound">kA</a> <a id="60793" class="Symbol">=</a> <a id="60795" href="Demos.HSP.html#44332" class="Function">sound</a> <a id="60801" class="Symbol">(λ</a> <a id="60804" href="Demos.HSP.html#60804" class="Bound">i</a> <a id="60806" href="Demos.HSP.html#60806" class="Bound">ρ</a> <a id="60808" class="Symbol">→</a> <a id="60810" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="60812" href="Demos.HSP.html#60804" class="Bound">i</a> <a id="60814" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="60816" href="Demos.HSP.html#60788" class="Bound">𝑨</a> <a id="60818" href="Demos.HSP.html#60790" class="Bound">kA</a> <a id="60821" href="Demos.HSP.html#60806" class="Bound">ρ</a><a id="60822" class="Symbol">)</a> <a id="60824" href="Demos.HSP.html#60786" class="Bound">x</a>
  <a id="60828" class="Keyword">where</a> <a id="60834" class="Keyword">open</a> <a id="60839" href="Demos.HSP.html#43927" class="Module">Soundness</a> <a id="60849" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="60851" href="Demos.HSP.html#60788" class="Bound">𝑨</a>

 <a id="60855" class="Keyword">open</a> <a id="60860" href="Demos.HSP.html#59176" class="Module">FreeAlgebra</a> <a id="60872" class="Symbol">{</a><a id="60873" class="Argument">ι</a> <a id="60875" class="Symbol">=</a> <a id="60877" href="Demos.HSP.html#60525" class="Function">ι</a><a id="60878" class="Symbol">}{</a><a id="60880" class="Argument">I</a> <a id="60882" class="Symbol">=</a> <a id="60884" href="Demos.HSP.html#60615" class="Function">ℐ</a><a id="60885" class="Symbol">}</a> <a id="60887" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="60889" class="Keyword">using</a> <a id="60895" class="Symbol">(</a> <a id="60897" href="Demos.HSP.html#59825" class="Function Operator">𝔽[_]</a> <a id="60902" class="Symbol">)</a>

</pre>


#### <a id="the-natural-epimorphism-from-tx-to-f">The natural epimorphism from 𝑻 X to 𝔽[ X ]</a>
Next we define an epimorphism from `𝑻 X` onto the relatively free algebra `𝔽[ X ]`.  Of course, the kernel of this epimorphism will be the congruence of `𝑻 X` defined by identities modeled by (`S 𝒦`, hence) `𝒦`.

<pre class="Agda">

 <a id="FreeHom.epi𝔽[_]"></a><a id="61243" href="Demos.HSP.html#61243" class="Function Operator">epi𝔽[_]</a> <a id="61251" class="Symbol">:</a> <a id="61253" class="Symbol">(</a><a id="61254" href="Demos.HSP.html#61254" class="Bound">X</a> <a id="61256" class="Symbol">:</a> <a id="61258" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="61263" href="Demos.HSP.html#60441" class="Bound">χ</a><a id="61264" class="Symbol">)</a> <a id="61266" class="Symbol">→</a> <a id="61268" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="61272" class="Symbol">(</a><a id="61273" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="61275" href="Demos.HSP.html#61254" class="Bound">X</a><a id="61276" class="Symbol">)</a> <a id="61278" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="61281" href="Demos.HSP.html#61254" class="Bound">X</a> <a id="61283" href="Demos.HSP.html#59825" class="Function Operator">]</a>
 <a id="61286" href="Demos.HSP.html#61243" class="Function Operator">epi𝔽[</a> <a id="61292" href="Demos.HSP.html#61292" class="Bound">X</a> <a id="61294" href="Demos.HSP.html#61243" class="Function Operator">]</a> <a id="61296" class="Symbol">=</a> <a id="61298" href="Demos.HSP.html#61745" class="Function">h</a> <a id="61300" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="61302" href="Demos.HSP.html#61794" class="Function">hepi</a>
  <a id="61309" class="Keyword">where</a>
  <a id="61317" class="Keyword">open</a> <a id="61322" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="61330" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="61333" href="Demos.HSP.html#61292" class="Bound">X</a> <a id="61335" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="61337" class="Keyword">using</a> <a id="61343" class="Symbol">()</a> <a id="61346" class="Keyword">renaming</a> <a id="61355" class="Symbol">(</a> <a id="61357" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="61364" class="Symbol">to</a> <a id="61367" class="Field">F</a> <a id="61369" class="Symbol">;</a> <a id="61371" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="61378" class="Symbol">to</a> <a id="61381" class="Field">InterpF</a> <a id="61389" class="Symbol">)</a>
  <a id="61393" class="Keyword">open</a> <a id="61398" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="61405" href="Demos.HSP.html#61367" class="Function">F</a> <a id="61407" class="Keyword">using</a> <a id="61413" class="Symbol">()</a> <a id="61416" class="Keyword">renaming</a> <a id="61425" class="Symbol">(</a> <a id="61427" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a>  <a id="61432" class="Symbol">to</a> <a id="61435" class="Field Operator">_≈F≈_</a> <a id="61441" class="Symbol">;</a> <a id="61443" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="61448" class="Symbol">to</a> <a id="61451" class="Function">reflF</a> <a id="61457" class="Symbol">)</a>

  <a id="61462" class="Keyword">open</a> <a id="61467" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="61475" class="Symbol">(</a><a id="61476" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="61478" href="Demos.HSP.html#61292" class="Bound">X</a><a id="61479" class="Symbol">)</a> <a id="61481" class="Keyword">using</a> <a id="61487" class="Symbol">()</a> <a id="61490" class="Keyword">renaming</a> <a id="61499" class="Symbol">(</a><a id="61500" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="61507" class="Symbol">to</a> <a id="61510" class="Field">TX</a><a id="61512" class="Symbol">)</a>
  <a id="61516" class="Keyword">open</a> <a id="61521" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="61528" href="Demos.HSP.html#61510" class="Function">TX</a> <a id="61531" class="Keyword">using</a> <a id="61537" class="Symbol">()</a> <a id="61540" class="Keyword">renaming</a> <a id="61549" class="Symbol">(</a> <a id="61551" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="61555" class="Symbol">to</a> <a id="61558" class="Field Operator">_≈T≈_</a> <a id="61564" class="Symbol">;</a> <a id="61566" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="61571" class="Symbol">to</a> <a id="61574" class="Function">reflT</a> <a id="61580" class="Symbol">)</a>


  <a id="61586" class="Keyword">open</a> <a id="61591" href="Demos.HSP.html#32437" class="Module Operator">_≐_</a> <a id="61595" class="Symbol">;</a> <a id="61597" class="Keyword">open</a> <a id="61602" href="Demos.HSP.html#15547" class="Module">IsEpi</a> <a id="61608" class="Symbol">;</a> <a id="61610" class="Keyword">open</a> <a id="61615" href="Demos.HSP.html#14989" class="Module">IsHom</a>

  <a id="61624" href="Demos.HSP.html#61624" class="Function">c</a> <a id="61626" class="Symbol">:</a> <a id="61628" class="Symbol">∀</a> <a id="61630" class="Symbol">{</a><a id="61631" href="Demos.HSP.html#61631" class="Bound">x</a> <a id="61633" href="Demos.HSP.html#61633" class="Bound">y</a><a id="61634" class="Symbol">}</a> <a id="61636" class="Symbol">→</a> <a id="61638" href="Demos.HSP.html#61631" class="Bound">x</a> <a id="61640" href="Demos.HSP.html#61558" class="Function Operator">≈T≈</a> <a id="61644" href="Demos.HSP.html#61633" class="Bound">y</a> <a id="61646" class="Symbol">→</a> <a id="61648" href="Demos.HSP.html#61631" class="Bound">x</a> <a id="61650" href="Demos.HSP.html#61435" class="Function Operator">≈F≈</a> <a id="61654" href="Demos.HSP.html#61633" class="Bound">y</a>
  <a id="61658" href="Demos.HSP.html#61624" class="Function">c</a> <a id="61660" class="Symbol">(</a><a id="61661" href="Demos.HSP.html#32481" class="InductiveConstructor">rfl</a> <a id="61665" class="Symbol">{</a><a id="61666" href="Demos.HSP.html#61666" class="Bound">x</a><a id="61667" class="Symbol">}{</a><a id="61669" href="Demos.HSP.html#61669" class="Bound">y</a><a id="61670" class="Symbol">}</a> <a id="61672" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a><a id="61678" class="Symbol">)</a> <a id="61680" class="Symbol">=</a> <a id="61682" href="Demos.HSP.html#61451" class="Function">reflF</a>
  <a id="61690" href="Demos.HSP.html#61624" class="Function">c</a> <a id="61692" class="Symbol">(</a><a id="61693" href="Demos.HSP.html#32523" class="InductiveConstructor">gnl</a> <a id="61697" class="Symbol">{</a><a id="61698" href="Demos.HSP.html#61698" class="Bound">f</a><a id="61699" class="Symbol">}{</a><a id="61701" href="Demos.HSP.html#61701" class="Bound">s</a><a id="61702" class="Symbol">}{</a><a id="61704" href="Demos.HSP.html#61704" class="Bound">t</a><a id="61705" class="Symbol">}</a> <a id="61707" href="Demos.HSP.html#61707" class="Bound">x</a><a id="61708" class="Symbol">)</a> <a id="61710" class="Symbol">=</a> <a id="61712" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="61717" href="Demos.HSP.html#61381" class="Function">InterpF</a> <a id="61725" class="Symbol">(</a><a id="61726" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="61733" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="61735" href="Demos.HSP.html#61624" class="Function">c</a> <a id="61737" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="61739" href="Demos.HSP.html#61707" class="Bound">x</a><a id="61740" class="Symbol">)</a>

  <a id="61745" href="Demos.HSP.html#61745" class="Function">h</a> <a id="61747" class="Symbol">:</a> <a id="61749" href="Demos.HSP.html#61510" class="Function">TX</a> <a id="61752" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="61754" href="Demos.HSP.html#61367" class="Function">F</a>
  <a id="61758" href="Demos.HSP.html#61745" class="Function">h</a> <a id="61760" class="Symbol">=</a> <a id="61762" class="Keyword">record</a> <a id="61769" class="Symbol">{</a> <a id="61771" href="Function.Bundles.html#1919" class="Field">f</a> <a id="61773" class="Symbol">=</a> <a id="61775" href="Function.Base.html#615" class="Function">id</a> <a id="61778" class="Symbol">;</a> <a id="61780" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="61785" class="Symbol">=</a> <a id="61787" href="Demos.HSP.html#61624" class="Function">c</a> <a id="61789" class="Symbol">}</a>

  <a id="61794" href="Demos.HSP.html#61794" class="Function">hepi</a> <a id="61799" class="Symbol">:</a> <a id="61801" href="Demos.HSP.html#15547" class="Record">IsEpi</a> <a id="61807" class="Symbol">(</a><a id="61808" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="61810" href="Demos.HSP.html#61292" class="Bound">X</a><a id="61811" class="Symbol">)</a> <a id="61813" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="61816" href="Demos.HSP.html#61292" class="Bound">X</a> <a id="61818" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="61820" href="Demos.HSP.html#61745" class="Function">h</a>
  <a id="61824" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="61835" class="Symbol">(</a><a id="61836" href="Demos.HSP.html#15615" class="Field">isHom</a> <a id="61842" href="Demos.HSP.html#61794" class="Function">hepi</a><a id="61846" class="Symbol">)</a> <a id="61848" class="Symbol">=</a> <a id="61850" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="61855" href="Demos.HSP.html#61745" class="Function">h</a> <a id="61857" href="Demos.HSP.html#61574" class="Function">reflT</a>
  <a id="61865" href="Demos.HSP.html#15634" class="Field">isSurjective</a> <a id="61878" href="Demos.HSP.html#61794" class="Function">hepi</a> <a id="61883" class="Symbol">{</a><a id="61884" href="Demos.HSP.html#61884" class="Bound">y</a><a id="61885" class="Symbol">}</a> <a id="61887" class="Symbol">=</a> <a id="61889" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="61892" href="Demos.HSP.html#61884" class="Bound">y</a> <a id="61894" href="Demos.HSP.html#61451" class="Function">reflF</a>


 <a id="FreeHom.hom𝔽[_]"></a><a id="61903" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[_]</a> <a id="61911" class="Symbol">:</a> <a id="61913" class="Symbol">(</a><a id="61914" href="Demos.HSP.html#61914" class="Bound">X</a> <a id="61916" class="Symbol">:</a> <a id="61918" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="61923" href="Demos.HSP.html#60441" class="Bound">χ</a><a id="61924" class="Symbol">)</a> <a id="61926" class="Symbol">→</a> <a id="61928" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="61932" class="Symbol">(</a><a id="61933" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="61935" href="Demos.HSP.html#61914" class="Bound">X</a><a id="61936" class="Symbol">)</a> <a id="61938" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="61941" href="Demos.HSP.html#61914" class="Bound">X</a> <a id="61943" href="Demos.HSP.html#59825" class="Function Operator">]</a>
 <a id="61946" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[</a> <a id="61952" href="Demos.HSP.html#61952" class="Bound">X</a> <a id="61954" href="Demos.HSP.html#61903" class="Function Operator">]</a> <a id="61956" class="Symbol">=</a> <a id="61958" href="Demos.HSP.html#15771" class="Function">epi→hom</a> <a id="61966" class="Symbol">(</a><a id="61967" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="61969" href="Demos.HSP.html#61952" class="Bound">X</a><a id="61970" class="Symbol">)</a> <a id="61972" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="61975" href="Demos.HSP.html#61952" class="Bound">X</a> <a id="61977" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="61979" href="Demos.HSP.html#61243" class="Function Operator">epi𝔽[</a> <a id="61985" href="Demos.HSP.html#61952" class="Bound">X</a> <a id="61987" href="Demos.HSP.html#61243" class="Function Operator">]</a>

 <a id="FreeHom.hom𝔽[_]-is-epic"></a><a id="61991" href="Demos.HSP.html#61991" class="Function Operator">hom𝔽[_]-is-epic</a> <a id="62007" class="Symbol">:</a> <a id="62009" class="Symbol">(</a><a id="62010" href="Demos.HSP.html#62010" class="Bound">X</a> <a id="62012" class="Symbol">:</a> <a id="62014" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="62019" href="Demos.HSP.html#60441" class="Bound">χ</a><a id="62020" class="Symbol">)</a> <a id="62022" class="Symbol">→</a> <a id="62024" href="Demos.HSP.html#6617" class="Function">IsSurjective</a> <a id="62037" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="62039" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[</a> <a id="62045" href="Demos.HSP.html#62010" class="Bound">X</a> <a id="62047" href="Demos.HSP.html#61903" class="Function Operator">]</a> <a id="62049" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
 <a id="62052" href="Demos.HSP.html#61991" class="Function Operator">hom𝔽[</a> <a id="62058" href="Demos.HSP.html#62058" class="Bound">X</a> <a id="62060" href="Demos.HSP.html#61991" class="Function Operator">]-is-epic</a> <a id="62070" class="Symbol">=</a> <a id="62072" href="Demos.HSP.html#15634" class="Field">IsEpi.isSurjective</a> <a id="62091" class="Symbol">(</a><a id="62092" href="Demos.HSP.html#777" class="Field">snd</a> <a id="62096" class="Symbol">(</a><a id="62097" href="Demos.HSP.html#61243" class="Function Operator">epi𝔽[</a> <a id="62103" href="Demos.HSP.html#62058" class="Bound">X</a> <a id="62105" href="Demos.HSP.html#61243" class="Function Operator">]</a><a id="62106" class="Symbol">))</a>

</pre>


#### <a id="the-kernel-of-the-natural-epimorphism">The kernel of the natural epimorphism</a>

<pre class="Agda">

 <a id="FreeHom.class-models-kernel"></a><a id="62232" href="Demos.HSP.html#62232" class="Function">class-models-kernel</a> <a id="62252" class="Symbol">:</a> <a id="62254" class="Symbol">∀{</a><a id="62256" href="Demos.HSP.html#62256" class="Bound">X</a> <a id="62258" href="Demos.HSP.html#62258" class="Bound">p</a> <a id="62260" href="Demos.HSP.html#62260" class="Bound">q</a><a id="62261" class="Symbol">}</a> <a id="62263" class="Symbol">→</a> <a id="62265" class="Symbol">(</a><a id="62266" href="Demos.HSP.html#62258" class="Bound">p</a> <a id="62268" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62270" href="Demos.HSP.html#62260" class="Bound">q</a><a id="62271" class="Symbol">)</a> <a id="62273" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="62275" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="62279" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="62281" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[</a> <a id="62287" href="Demos.HSP.html#62256" class="Bound">X</a> <a id="62289" href="Demos.HSP.html#61903" class="Function Operator">]</a> <a id="62291" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="62293" class="Symbol">→</a> <a id="62295" href="Demos.HSP.html#60468" class="Bound">𝒦</a> <a id="62297" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="62299" class="Symbol">(</a><a id="62300" href="Demos.HSP.html#62258" class="Bound">p</a> <a id="62302" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="62305" href="Demos.HSP.html#62260" class="Bound">q</a><a id="62306" class="Symbol">)</a>
 <a id="62309" href="Demos.HSP.html#62232" class="Function">class-models-kernel</a> <a id="62329" class="Symbol">{</a><a id="62330" class="Argument">X</a> <a id="62332" class="Symbol">=</a> <a id="62334" href="Demos.HSP.html#62334" class="Bound">X</a><a id="62335" class="Symbol">}{</a><a id="62337" href="Demos.HSP.html#62337" class="Bound">p</a><a id="62338" class="Symbol">}{</a><a id="62340" href="Demos.HSP.html#62340" class="Bound">q</a><a id="62341" class="Symbol">}</a> <a id="62343" href="Demos.HSP.html#62343" class="Bound">pKq</a> <a id="62347" class="Symbol">=</a> <a id="62349" href="Demos.HSP.html#60708" class="Function Operator">ℰ⊢[</a> <a id="62353" href="Demos.HSP.html#62334" class="Bound">X</a> <a id="62355" href="Demos.HSP.html#60708" class="Function Operator">]▹Th𝒦</a> <a id="62361" href="Demos.HSP.html#62343" class="Bound">pKq</a>

 <a id="FreeHom.kernel-in-theory"></a><a id="62367" href="Demos.HSP.html#62367" class="Function">kernel-in-theory</a> <a id="62384" class="Symbol">:</a> <a id="62386" class="Symbol">{</a><a id="62387" href="Demos.HSP.html#62387" class="Bound">X</a> <a id="62389" class="Symbol">:</a> <a id="62391" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="62396" href="Demos.HSP.html#60441" class="Bound">χ</a><a id="62397" class="Symbol">}</a> <a id="62399" class="Symbol">→</a> <a id="62401" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="62405" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="62407" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[</a> <a id="62413" href="Demos.HSP.html#62387" class="Bound">X</a> <a id="62415" href="Demos.HSP.html#61903" class="Function Operator">]</a> <a id="62417" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="62419" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="62421" href="Demos.HSP.html#42475" class="Function">Th</a> <a id="62424" class="Symbol">(</a><a id="62425" href="Demos.HSP.html#47681" class="Function">V</a> <a id="62427" href="Demos.HSP.html#60504" class="Bound">ℓ</a> <a id="62429" href="Demos.HSP.html#60525" class="Function">ι</a> <a id="62431" href="Demos.HSP.html#60468" class="Bound">𝒦</a><a id="62432" class="Symbol">)</a>
 <a id="62435" href="Demos.HSP.html#62367" class="Function">kernel-in-theory</a> <a id="62452" class="Symbol">{</a><a id="62453" class="Argument">X</a> <a id="62455" class="Symbol">=</a> <a id="62457" href="Demos.HSP.html#62457" class="Bound">X</a><a id="62458" class="Symbol">}</a> <a id="62460" class="Symbol">{</a><a id="62461" href="Demos.HSP.html#62461" class="Bound">p</a> <a id="62463" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62465" href="Demos.HSP.html#62465" class="Bound">q</a><a id="62466" class="Symbol">}</a> <a id="62468" href="Demos.HSP.html#62468" class="Bound">pKq</a> <a id="62472" href="Demos.HSP.html#62472" class="Bound">vkA</a> <a id="62476" href="Demos.HSP.html#62476" class="Bound">x</a> <a id="62478" class="Symbol">=</a> <a id="62480" href="Demos.HSP.html#56122" class="Function">classIds-⊆-VIds</a> <a id="62496" class="Symbol">{</a><a id="62497" class="Argument">ℓ</a> <a id="62499" class="Symbol">=</a> <a id="62501" href="Demos.HSP.html#60504" class="Bound">ℓ</a><a id="62502" class="Symbol">}</a> <a id="62504" class="Symbol">{</a><a id="62505" class="Argument">p</a> <a id="62507" class="Symbol">=</a> <a id="62509" href="Demos.HSP.html#62461" class="Bound">p</a><a id="62510" class="Symbol">}{</a><a id="62512" href="Demos.HSP.html#62465" class="Bound">q</a><a id="62513" class="Symbol">}</a>
                                      <a id="62553" class="Symbol">(</a><a id="62554" href="Demos.HSP.html#62232" class="Function">class-models-kernel</a> <a id="62574" href="Demos.HSP.html#62468" class="Bound">pKq</a><a id="62577" class="Symbol">)</a> <a id="62579" href="Demos.HSP.html#62472" class="Bound">vkA</a> <a id="62583" href="Demos.HSP.html#62476" class="Bound">x</a>

 <a id="62587" class="Keyword">module</a> <a id="62594" href="Demos.HSP.html#62594" class="Module">_</a>  <a id="62597" class="Symbol">{</a><a id="62598" href="Demos.HSP.html#62598" class="Bound">X</a> <a id="62600" class="Symbol">:</a> <a id="62602" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="62607" href="Demos.HSP.html#60441" class="Bound">χ</a><a id="62608" class="Symbol">}</a> <a id="62610" class="Symbol">{</a><a id="62611" href="Demos.HSP.html#62611" class="Bound">𝑨</a> <a id="62613" class="Symbol">:</a> <a id="62615" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="62623" href="Demos.HSP.html#60485" class="Bound">α</a> <a id="62625" href="Demos.HSP.html#60487" class="Bound">ρᵃ</a><a id="62627" class="Symbol">}{</a><a id="62629" href="Demos.HSP.html#62629" class="Bound">sA</a> <a id="62632" class="Symbol">:</a> <a id="62634" href="Demos.HSP.html#62611" class="Bound">𝑨</a> <a id="62636" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="62638" href="Demos.HSP.html#46977" class="Function">S</a> <a id="62640" class="Symbol">{</a><a id="62641" class="Argument">β</a> <a id="62643" class="Symbol">=</a> <a id="62645" href="Demos.HSP.html#60485" class="Bound">α</a><a id="62646" class="Symbol">}{</a><a id="62648" href="Demos.HSP.html#60487" class="Bound">ρᵃ</a><a id="62650" class="Symbol">}</a> <a id="62652" href="Demos.HSP.html#60504" class="Bound">ℓ</a> <a id="62654" href="Demos.HSP.html#60468" class="Bound">𝒦</a><a id="62655" class="Symbol">}</a> <a id="62657" class="Keyword">where</a>
  <a id="62665" class="Keyword">open</a> <a id="62670" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="62682" href="Demos.HSP.html#62611" class="Bound">𝑨</a> <a id="62684" class="Keyword">using</a> <a id="62690" class="Symbol">(</a> <a id="62692" href="Demos.HSP.html#36097" class="Function">Equal</a> <a id="62698" class="Symbol">)</a>
  <a id="62702" href="Demos.HSP.html#62702" class="Function">ker𝔽⊆Equal</a> <a id="62713" class="Symbol">:</a> <a id="62715" class="Symbol">∀{</a><a id="62717" href="Demos.HSP.html#62717" class="Bound">p</a> <a id="62719" href="Demos.HSP.html#62719" class="Bound">q</a><a id="62720" class="Symbol">}</a> <a id="62722" class="Symbol">→</a> <a id="62724" class="Symbol">(</a><a id="62725" href="Demos.HSP.html#62717" class="Bound">p</a> <a id="62727" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62729" href="Demos.HSP.html#62719" class="Bound">q</a><a id="62730" class="Symbol">)</a> <a id="62732" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="62734" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="62738" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="62740" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[</a> <a id="62746" href="Demos.HSP.html#62598" class="Bound">X</a> <a id="62748" href="Demos.HSP.html#61903" class="Function Operator">]</a> <a id="62750" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="62752" class="Symbol">→</a> <a id="62754" href="Demos.HSP.html#36097" class="Function">Equal</a> <a id="62760" href="Demos.HSP.html#62717" class="Bound">p</a> <a id="62762" href="Demos.HSP.html#62719" class="Bound">q</a>
  <a id="62766" href="Demos.HSP.html#62702" class="Function">ker𝔽⊆Equal</a><a id="62776" class="Symbol">{</a><a id="62777" class="Argument">p</a> <a id="62779" class="Symbol">=</a> <a id="62781" href="Demos.HSP.html#62781" class="Bound">p</a><a id="62782" class="Symbol">}{</a><a id="62784" href="Demos.HSP.html#62784" class="Bound">q</a><a id="62785" class="Symbol">}</a> <a id="62787" href="Demos.HSP.html#62787" class="Bound">x</a> <a id="62789" class="Symbol">=</a> <a id="62791" href="Demos.HSP.html#54417" class="Function">S-id1</a><a id="62796" class="Symbol">{</a><a id="62797" class="Argument">ℓ</a> <a id="62799" class="Symbol">=</a> <a id="62801" href="Demos.HSP.html#60504" class="Bound">ℓ</a><a id="62802" class="Symbol">}{</a><a id="62804" class="Argument">p</a> <a id="62806" class="Symbol">=</a> <a id="62808" href="Demos.HSP.html#62781" class="Bound">p</a><a id="62809" class="Symbol">}{</a><a id="62811" href="Demos.HSP.html#62784" class="Bound">q</a><a id="62812" class="Symbol">}</a> <a id="62814" class="Symbol">(</a><a id="62815" href="Demos.HSP.html#60708" class="Function Operator">ℰ⊢[</a> <a id="62819" href="Demos.HSP.html#62598" class="Bound">X</a> <a id="62821" href="Demos.HSP.html#60708" class="Function Operator">]▹Th𝒦</a> <a id="62827" href="Demos.HSP.html#62787" class="Bound">x</a><a id="62828" class="Symbol">)</a> <a id="62830" href="Demos.HSP.html#62611" class="Bound">𝑨</a> <a id="62832" href="Demos.HSP.html#62629" class="Bound">sA</a>

 <a id="FreeHom.𝒦⊫→ℰ⊢"></a><a id="62837" href="Demos.HSP.html#62837" class="Function">𝒦⊫→ℰ⊢</a> <a id="62843" class="Symbol">:</a> <a id="62845" class="Symbol">{</a><a id="62846" href="Demos.HSP.html#62846" class="Bound">X</a> <a id="62848" class="Symbol">:</a> <a id="62850" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="62855" href="Demos.HSP.html#60441" class="Bound">χ</a><a id="62856" class="Symbol">}</a> <a id="62858" class="Symbol">→</a> <a id="62860" class="Symbol">∀{</a><a id="62862" href="Demos.HSP.html#62862" class="Bound">p</a> <a id="62864" href="Demos.HSP.html#62864" class="Bound">q</a><a id="62865" class="Symbol">}</a> <a id="62867" class="Symbol">→</a> <a id="62869" href="Demos.HSP.html#60468" class="Bound">𝒦</a> <a id="62871" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="62873" class="Symbol">(</a><a id="62874" href="Demos.HSP.html#62862" class="Bound">p</a> <a id="62876" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="62879" href="Demos.HSP.html#62864" class="Bound">q</a><a id="62880" class="Symbol">)</a> <a id="62882" class="Symbol">→</a> <a id="62884" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="62886" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="62888" href="Demos.HSP.html#62846" class="Bound">X</a> <a id="62890" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="62892" href="Demos.HSP.html#62862" class="Bound">p</a> <a id="62894" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="62896" href="Demos.HSP.html#62864" class="Bound">q</a>
 <a id="62899" href="Demos.HSP.html#62837" class="Function">𝒦⊫→ℰ⊢</a> <a id="62905" class="Symbol">{</a><a id="62906" class="Argument">p</a> <a id="62908" class="Symbol">=</a> <a id="62910" href="Demos.HSP.html#62910" class="Bound">p</a><a id="62911" class="Symbol">}</a> <a id="62913" class="Symbol">{</a><a id="62914" href="Demos.HSP.html#62914" class="Bound">q</a><a id="62915" class="Symbol">}</a> <a id="62917" href="Demos.HSP.html#62917" class="Bound">pKq</a> <a id="62921" class="Symbol">=</a> <a id="62923" href="Demos.HSP.html#43076" class="InductiveConstructor">hyp</a> <a id="62927" class="Symbol">((</a><a id="62929" href="Demos.HSP.html#62910" class="Bound">p</a> <a id="62931" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="62934" href="Demos.HSP.html#62914" class="Bound">q</a><a id="62935" class="Symbol">)</a> <a id="62937" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62939" href="Demos.HSP.html#62917" class="Bound">pKq</a><a id="62942" class="Symbol">)</a> <a id="62944" class="Keyword">where</a> <a id="62950" class="Keyword">open</a> <a id="62955" href="Demos.HSP.html#42988" class="Module Operator">_⊢_▹_≈_</a> <a id="62963" class="Keyword">using</a> <a id="62969" class="Symbol">(</a><a id="62970" href="Demos.HSP.html#43076" class="InductiveConstructor">hyp</a><a id="62973" class="Symbol">)</a>

</pre>

#### <a id="the-universal-property">The universal property</a>

<pre class="Agda">

<a id="63066" class="Keyword">module</a> <a id="63073" href="Demos.HSP.html#63073" class="Module">_</a> <a id="63075" class="Symbol">{</a><a id="63076" href="Demos.HSP.html#63076" class="Bound">𝑨</a> <a id="63078" class="Symbol">:</a> <a id="63080" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="63088" class="Symbol">(</a><a id="63089" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="63091" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63093" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="63096" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63098" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="63099" class="Symbol">)</a> <a id="63101" class="Symbol">(</a><a id="63102" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="63104" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63106" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="63109" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63111" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="63112" class="Symbol">)}</a>
         <a id="63124" class="Symbol">{</a><a id="63125" href="Demos.HSP.html#63125" class="Bound">𝒦</a> <a id="63127" class="Symbol">:</a> <a id="63129" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="63133" class="Symbol">(</a><a id="63134" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="63142" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="63144" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="63146" class="Symbol">)</a> <a id="63148" class="Symbol">(</a><a id="63149" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="63151" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63153" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="63156" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63158" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="63161" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="63162" class="Symbol">)}</a> <a id="63165" class="Keyword">where</a>
 <a id="63172" class="Keyword">private</a>
  <a id="63182" href="Demos.HSP.html#63182" class="Function">ι</a> <a id="63184" class="Symbol">=</a> <a id="63186" href="Demos.HSP.html#27044" class="Function">ov</a><a id="63188" class="Symbol">(</a><a id="63189" href="Demos.HSP.html#63089" class="Bound">α</a> <a id="63191" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63193" href="Demos.HSP.html#63093" class="Bound">ρᵃ</a> <a id="63196" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63198" href="Demos.HSP.html#63098" class="Bound">ℓ</a><a id="63199" class="Symbol">)</a>

 <a id="63203" class="Keyword">open</a> <a id="63208" href="Demos.HSP.html#15547" class="Module">IsEpi</a> <a id="63214" class="Symbol">;</a> <a id="63216" class="Keyword">open</a> <a id="63221" href="Demos.HSP.html#14989" class="Module">IsHom</a>

 <a id="63229" class="Keyword">open</a> <a id="63234" href="Demos.HSP.html#60432" class="Module">FreeHom</a> <a id="63242" class="Symbol">{</a><a id="63243" class="Argument">ℓ</a> <a id="63245" class="Symbol">=</a> <a id="63247" href="Demos.HSP.html#63098" class="Bound">ℓ</a><a id="63248" class="Symbol">}(</a><a id="63250" href="Demos.HSP.html#63089" class="Bound">α</a> <a id="63252" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63254" href="Demos.HSP.html#63093" class="Bound">ρᵃ</a> <a id="63257" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="63259" href="Demos.HSP.html#63098" class="Bound">ℓ</a><a id="63260" class="Symbol">)</a> <a id="63262" class="Symbol">{</a><a id="63263" href="Demos.HSP.html#63125" class="Bound">𝒦</a><a id="63264" class="Symbol">}</a>
 <a id="63267" class="Keyword">open</a> <a id="63272" href="Demos.HSP.html#59176" class="Module">FreeAlgebra</a> <a id="63284" class="Symbol">{</a><a id="63285" class="Argument">ι</a> <a id="63287" class="Symbol">=</a> <a id="63289" href="Demos.HSP.html#63182" class="Function">ι</a><a id="63290" class="Symbol">}{</a><a id="63292" class="Argument">I</a> <a id="63294" class="Symbol">=</a> <a id="63296" href="Demos.HSP.html#60615" class="Function">ℐ</a><a id="63297" class="Symbol">}</a> <a id="63299" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="63301" class="Keyword">using</a> <a id="63307" class="Symbol">(</a> <a id="63309" href="Demos.HSP.html#59825" class="Function Operator">𝔽[_]</a> <a id="63314" class="Symbol">)</a>

 <a id="63318" class="Keyword">open</a> <a id="63323" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="63331" href="Demos.HSP.html#63076" class="Bound">𝑨</a> <a id="63333" class="Keyword">using</a><a id="63338" class="Symbol">()</a> <a id="63341" class="Keyword">renaming</a> <a id="63350" class="Symbol">(</a><a id="63351" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="63358" class="Symbol">to</a> <a id="63361" class="Field">A</a> <a id="63363" class="Symbol">;</a> <a id="63365" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="63372" class="Symbol">to</a> <a id="63375" class="Field">InterpA</a> <a id="63383" class="Symbol">)</a>
 <a id="63386" class="Keyword">open</a> <a id="63391" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="63398" href="Demos.HSP.html#63361" class="Function">A</a> <a id="63400" class="Keyword">using</a> <a id="63406" class="Symbol">(</a> <a id="63408" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="63414" class="Symbol">;</a> <a id="63416" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="63420" class="Symbol">;</a> <a id="63422" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="63427" class="Symbol">)</a> <a id="63429" class="Keyword">renaming</a> <a id="63438" class="Symbol">(</a> <a id="63440" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="63448" class="Symbol">to</a> <a id="63451" class="Field">∣A∣</a> <a id="63455" class="Symbol">)</a>

 <a id="63459" href="Demos.HSP.html#63459" class="Function">𝔽-ModTh-epi</a> <a id="63471" class="Symbol">:</a> <a id="63473" href="Demos.HSP.html#63076" class="Bound">𝑨</a> <a id="63475" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="63477" href="Demos.HSP.html#42576" class="Function">Mod</a> <a id="63481" class="Symbol">(</a><a id="63482" href="Demos.HSP.html#42475" class="Function">Th</a> <a id="63485" class="Symbol">(</a><a id="63486" href="Demos.HSP.html#47681" class="Function">V</a> <a id="63488" href="Demos.HSP.html#63098" class="Bound">ℓ</a> <a id="63490" href="Demos.HSP.html#63182" class="Function">ι</a> <a id="63492" href="Demos.HSP.html#63125" class="Bound">𝒦</a><a id="63493" class="Symbol">))</a>
  <a id="63498" class="Symbol">→</a>            <a id="63511" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="63515" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="63518" href="Demos.HSP.html#63451" class="Function">∣A∣</a> <a id="63522" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="63524" href="Demos.HSP.html#63076" class="Bound">𝑨</a>
 <a id="63527" href="Demos.HSP.html#63459" class="Function">𝔽-ModTh-epi</a> <a id="63539" href="Demos.HSP.html#63539" class="Bound">A∈ModThK</a> <a id="63548" class="Symbol">=</a> <a id="63550" href="Demos.HSP.html#63571" class="Function">φ</a> <a id="63552" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="63554" href="Demos.HSP.html#63825" class="Function">isEpi</a>
  <a id="63562" class="Keyword">where</a>
   <a id="63571" href="Demos.HSP.html#63571" class="Function">φ</a> <a id="63573" class="Symbol">:</a> <a id="63575" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="63578" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="63581" href="Demos.HSP.html#63451" class="Function">∣A∣</a> <a id="63585" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="63587" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="63589" href="Demos.HSP.html#1606" class="Function Operator">⟶</a> <a id="63591" href="Demos.HSP.html#63361" class="Function">A</a>
   <a id="63596" href="Demos.HSP.html#1474" class="Field Operator">_⟨$⟩_</a> <a id="63602" href="Demos.HSP.html#63571" class="Function">φ</a> <a id="63604" class="Symbol">=</a> <a id="63606" href="Demos.HSP.html#57191" class="Function">free-lift</a><a id="63615" class="Symbol">{</a><a id="63616" class="Argument">𝑨</a> <a id="63618" class="Symbol">=</a> <a id="63620" href="Demos.HSP.html#63076" class="Bound">𝑨</a><a id="63621" class="Symbol">}</a> <a id="63623" href="Function.Base.html#615" class="Function">id</a>
   <a id="63629" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="63634" href="Demos.HSP.html#63571" class="Function">φ</a> <a id="63636" class="Symbol">{</a><a id="63637" href="Demos.HSP.html#63637" class="Bound">p</a><a id="63638" class="Symbol">}</a> <a id="63640" class="Symbol">{</a><a id="63641" href="Demos.HSP.html#63641" class="Bound">q</a><a id="63642" class="Symbol">}</a> <a id="63644" href="Demos.HSP.html#63644" class="Bound">pq</a> <a id="63647" class="Symbol">=</a> <a id="63649" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="63655" class="Symbol">(</a><a id="63656" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="63660" class="Symbol">(</a><a id="63661" href="Demos.HSP.html#58671" class="Function">free-lift-interp</a><a id="63677" class="Symbol">{</a><a id="63678" class="Argument">𝑨</a> <a id="63680" class="Symbol">=</a> <a id="63682" href="Demos.HSP.html#63076" class="Bound">𝑨</a><a id="63683" class="Symbol">}</a> <a id="63685" href="Function.Base.html#615" class="Function">id</a> <a id="63688" href="Demos.HSP.html#63637" class="Bound">p</a><a id="63689" class="Symbol">))</a>
                      <a id="63714" class="Symbol">(</a><a id="63715" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="63721" class="Symbol">(</a><a id="63722" href="Demos.HSP.html#63539" class="Bound">A∈ModThK</a><a id="63730" class="Symbol">{</a><a id="63731" class="Argument">p</a> <a id="63733" class="Symbol">=</a> <a id="63735" href="Demos.HSP.html#63637" class="Bound">p</a><a id="63736" class="Symbol">}{</a><a id="63738" href="Demos.HSP.html#63641" class="Bound">q</a><a id="63739" class="Symbol">}</a> <a id="63741" class="Symbol">(</a><a id="63742" href="Demos.HSP.html#62367" class="Function">kernel-in-theory</a> <a id="63759" href="Demos.HSP.html#63644" class="Bound">pq</a><a id="63761" class="Symbol">)</a> <a id="63763" href="Function.Base.html#615" class="Function">id</a><a id="63765" class="Symbol">)</a>
                      <a id="63789" class="Symbol">(</a><a id="63790" href="Demos.HSP.html#58671" class="Function">free-lift-interp</a><a id="63806" class="Symbol">{</a><a id="63807" class="Argument">𝑨</a> <a id="63809" class="Symbol">=</a> <a id="63811" href="Demos.HSP.html#63076" class="Bound">𝑨</a><a id="63812" class="Symbol">}</a> <a id="63814" href="Function.Base.html#615" class="Function">id</a> <a id="63817" href="Demos.HSP.html#63641" class="Bound">q</a><a id="63818" class="Symbol">))</a>

   <a id="63825" href="Demos.HSP.html#63825" class="Function">isEpi</a> <a id="63831" class="Symbol">:</a> <a id="63833" href="Demos.HSP.html#15547" class="Record">IsEpi</a> <a id="63839" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="63842" href="Demos.HSP.html#63451" class="Function">∣A∣</a> <a id="63846" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="63848" href="Demos.HSP.html#63076" class="Bound">𝑨</a> <a id="63850" href="Demos.HSP.html#63571" class="Function">φ</a>
   <a id="63855" href="Demos.HSP.html#15053" class="Field">compatible</a> <a id="63866" class="Symbol">(</a><a id="63867" href="Demos.HSP.html#15615" class="Field">isHom</a> <a id="63873" href="Demos.HSP.html#63825" class="Function">isEpi</a><a id="63878" class="Symbol">)</a> <a id="63880" class="Symbol">=</a> <a id="63882" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="63887" href="Demos.HSP.html#63375" class="Function">InterpA</a> <a id="63895" class="Symbol">(</a><a id="63896" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="63903" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="63905" class="Symbol">(λ</a> <a id="63908" href="Demos.HSP.html#63908" class="Bound">_</a> <a id="63910" class="Symbol">→</a> <a id="63912" href="Relation.Binary.Structures.html#1568" class="Function">refl</a><a id="63916" class="Symbol">))</a>
   <a id="63922" href="Demos.HSP.html#15634" class="Field">isSurjective</a> <a id="63935" href="Demos.HSP.html#63825" class="Function">isEpi</a> <a id="63941" class="Symbol">{</a><a id="63942" href="Demos.HSP.html#63942" class="Bound">y</a><a id="63943" class="Symbol">}</a> <a id="63945" class="Symbol">=</a> <a id="63947" href="Demos.HSP.html#3553" class="InductiveConstructor">eq</a> <a id="63950" class="Symbol">(</a><a id="63951" href="Demos.HSP.html#31487" class="InductiveConstructor">ℊ</a> <a id="63953" href="Demos.HSP.html#63942" class="Bound">y</a><a id="63954" class="Symbol">)</a> <a id="63956" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>

 <a id="63963" href="Demos.HSP.html#63963" class="Function">𝔽-ModTh-epi-lift</a> <a id="63980" class="Symbol">:</a> <a id="63982" href="Demos.HSP.html#63076" class="Bound">𝑨</a> <a id="63984" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="63986" href="Demos.HSP.html#42576" class="Function">Mod</a> <a id="63990" class="Symbol">(</a><a id="63991" href="Demos.HSP.html#42475" class="Function">Th</a> <a id="63994" class="Symbol">(</a><a id="63995" href="Demos.HSP.html#47681" class="Function">V</a> <a id="63997" href="Demos.HSP.html#63098" class="Bound">ℓ</a> <a id="63999" href="Demos.HSP.html#63182" class="Function">ι</a> <a id="64001" href="Demos.HSP.html#63125" class="Bound">𝒦</a><a id="64002" class="Symbol">))</a> <a id="64005" class="Symbol">→</a> <a id="64007" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="64011" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="64014" href="Demos.HSP.html#63451" class="Function">∣A∣</a> <a id="64018" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="64020" class="Symbol">(</a><a id="64021" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="64030" href="Demos.HSP.html#63076" class="Bound">𝑨</a> <a id="64032" href="Demos.HSP.html#63182" class="Function">ι</a> <a id="64034" href="Demos.HSP.html#63182" class="Function">ι</a><a id="64035" class="Symbol">)</a>
 <a id="64038" href="Demos.HSP.html#63963" class="Function">𝔽-ModTh-epi-lift</a> <a id="64055" href="Demos.HSP.html#64055" class="Bound">A∈ModThK</a> <a id="64064" class="Symbol">=</a>
   <a id="64069" href="Demos.HSP.html#17887" class="Function">∘-epi</a> <a id="64075" class="Symbol">(</a><a id="64076" href="Demos.HSP.html#63459" class="Function">𝔽-ModTh-epi</a> <a id="64088" class="Symbol">(λ</a> <a id="64091" class="Symbol">{</a><a id="64092" href="Demos.HSP.html#64092" class="Bound">p</a> <a id="64094" href="Demos.HSP.html#64094" class="Bound">q</a><a id="64095" class="Symbol">}</a> <a id="64097" class="Symbol">→</a> <a id="64099" href="Demos.HSP.html#64055" class="Bound">A∈ModThK</a><a id="64107" class="Symbol">{</a><a id="64108" class="Argument">p</a> <a id="64110" class="Symbol">=</a> <a id="64112" href="Demos.HSP.html#64092" class="Bound">p</a><a id="64113" class="Symbol">}{</a><a id="64115" href="Demos.HSP.html#64094" class="Bound">q</a><a id="64116" class="Symbol">}))</a> <a id="64120" href="Demos.HSP.html#20101" class="Function">ToLift-epi</a>


</pre>


## <a id="products-of-classes-of-algebras">Products of classes of algebras</a>

<pre class="Agda">

<a id="64240" class="Keyword">module</a> <a id="64247" href="Demos.HSP.html#64247" class="Module">_</a> <a id="64249" class="Symbol">(</a><a id="64250" href="Demos.HSP.html#64250" class="Bound">𝒦</a> <a id="64252" class="Symbol">:</a> <a id="64254" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="64258" class="Symbol">(</a><a id="64259" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="64267" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="64269" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="64271" class="Symbol">)</a> <a id="64273" class="Symbol">(</a><a id="64274" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="64276" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="64278" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="64281" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="64283" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="64286" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="64287" class="Symbol">))</a>
         <a id="64299" class="Symbol">{</a><a id="64300" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="64302" class="Symbol">:</a> <a id="64304" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="64309" class="Symbol">(</a><a id="64310" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="64312" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="64314" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="64317" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="64319" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="64320" class="Symbol">)}</a> <a id="64323" class="Keyword">where</a>

 <a id="64331" class="Keyword">private</a> <a id="64339" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="64341" class="Symbol">=</a> <a id="64343" href="Demos.HSP.html#27044" class="Function">ov</a><a id="64345" class="Symbol">(</a><a id="64346" href="Demos.HSP.html#64267" class="Bound">α</a> <a id="64348" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="64350" href="Demos.HSP.html#64269" class="Bound">ρᵃ</a> <a id="64353" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="64355" href="Demos.HSP.html#64286" class="Bound">ℓ</a><a id="64356" class="Symbol">)</a>

 <a id="64360" class="Keyword">open</a> <a id="64365" href="Demos.HSP.html#60432" class="Module">FreeHom</a> <a id="64373" class="Symbol">{</a><a id="64374" class="Argument">ℓ</a> <a id="64376" class="Symbol">=</a> <a id="64378" href="Demos.HSP.html#64286" class="Bound">ℓ</a><a id="64379" class="Symbol">}</a> <a id="64381" class="Symbol">(</a><a id="64382" href="Demos.HSP.html#64267" class="Bound">α</a> <a id="64384" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="64386" href="Demos.HSP.html#64269" class="Bound">ρᵃ</a> <a id="64389" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="64391" href="Demos.HSP.html#64286" class="Bound">ℓ</a><a id="64392" class="Symbol">){</a><a id="64394" href="Demos.HSP.html#64250" class="Bound">𝒦</a><a id="64395" class="Symbol">}</a>
 <a id="64398" class="Keyword">open</a> <a id="64403" href="Demos.HSP.html#59176" class="Module">FreeAlgebra</a> <a id="64415" class="Symbol">{</a><a id="64416" class="Argument">ι</a> <a id="64418" class="Symbol">=</a> <a id="64420" href="Demos.HSP.html#64339" class="Function">ι</a><a id="64421" class="Symbol">}{</a><a id="64423" class="Argument">I</a> <a id="64425" class="Symbol">=</a> <a id="64427" href="Demos.HSP.html#60615" class="Function">ℐ</a><a id="64428" class="Symbol">}</a> <a id="64430" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="64432" class="Keyword">using</a> <a id="64438" class="Symbol">(</a> <a id="64440" href="Demos.HSP.html#59825" class="Function Operator">𝔽[_]</a> <a id="64445" class="Symbol">)</a>
 <a id="64448" class="Keyword">open</a> <a id="64453" href="Demos.HSP.html#35021" class="Module">Environment</a>   <a id="64467" class="Keyword">using</a> <a id="64473" class="Symbol">(</a> <a id="64475" href="Demos.HSP.html#35207" class="Function">Env</a> <a id="64479" class="Symbol">)</a>

</pre>

We want to pair each `(𝑨 , p)` (where p : 𝑨 ∈ S 𝒦) with an environment
`ρ : X → ∣ 𝑨 ∣` so that we can quantify over all algebras *and* all
assignments of values in the domain `∣ 𝑨 ∣` to variables in `X`.

<pre class="Agda">


 <a id="64715" href="Demos.HSP.html#64715" class="Function">ℑ⁺</a> <a id="64718" class="Symbol">:</a> <a id="64720" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="64725" href="Demos.HSP.html#64339" class="Function">ι</a>
 <a id="64728" href="Demos.HSP.html#64715" class="Function">ℑ⁺</a> <a id="64731" class="Symbol">=</a> <a id="64733" href="Data.Product.html#916" class="Function">Σ[</a> <a id="64736" href="Demos.HSP.html#64736" class="Bound">𝑨</a> <a id="64738" href="Data.Product.html#916" class="Function">∈</a> <a id="64740" class="Symbol">(</a><a id="64741" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="64749" href="Demos.HSP.html#64267" class="Bound">α</a> <a id="64751" href="Demos.HSP.html#64269" class="Bound">ρᵃ</a><a id="64753" class="Symbol">)</a> <a id="64755" href="Data.Product.html#916" class="Function">]</a> <a id="64757" class="Symbol">(</a><a id="64758" href="Demos.HSP.html#64736" class="Bound">𝑨</a> <a id="64760" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="64762" href="Demos.HSP.html#46977" class="Function">S</a> <a id="64764" href="Demos.HSP.html#64286" class="Bound">ℓ</a> <a id="64766" href="Demos.HSP.html#64250" class="Bound">𝒦</a><a id="64767" class="Symbol">)</a> <a id="64769" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="64771" class="Symbol">(</a><a id="64772" href="Relation.Binary.Bundles.html#1072" class="Field">Setoid.Carrier</a> <a id="64787" class="Symbol">(</a><a id="64788" href="Demos.HSP.html#35207" class="Function">Env</a> <a id="64792" href="Demos.HSP.html#64736" class="Bound">𝑨</a> <a id="64794" href="Demos.HSP.html#64300" class="Bound">X</a><a id="64795" class="Symbol">))</a>

 <a id="64800" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a> <a id="64803" class="Symbol">:</a> <a id="64805" href="Demos.HSP.html#64715" class="Function">ℑ⁺</a> <a id="64808" class="Symbol">→</a> <a id="64810" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="64818" href="Demos.HSP.html#64267" class="Bound">α</a> <a id="64820" href="Demos.HSP.html#64269" class="Bound">ρᵃ</a>
 <a id="64824" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a> <a id="64827" href="Demos.HSP.html#64827" class="Bound">i</a> <a id="64829" class="Symbol">=</a> <a id="64831" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="64833" href="Demos.HSP.html#64827" class="Bound">i</a> <a id="64835" href="Demos.HSP.html#2477" class="Function Operator">∣</a>

 <a id="64839" href="Demos.HSP.html#64839" class="Function">ℭ</a> <a id="64841" class="Symbol">:</a> <a id="64843" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="64851" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="64853" href="Demos.HSP.html#64339" class="Function">ι</a>
 <a id="64856" href="Demos.HSP.html#64839" class="Function">ℭ</a> <a id="64858" class="Symbol">=</a> <a id="64860" href="Demos.HSP.html#13383" class="Function">⨅</a> <a id="64862" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a>

</pre>

Next we define a useful type, `skEqual`, which we use to represent a term identity `p ≈ q` for any
given `i = (𝑨 , sA , ρ)` (where `𝑨` is an algebra, `sA : 𝑨 ∈ S 𝒦` is a proof that `𝑨` belongs
to `S 𝒦`, and `ρ` is a mapping from `X` to the domain of `𝑨`). Then we prove `AllEqual⊆ker𝔽` which
asserts that if the identity `p ≈ q` holds in all `𝑨 ∈ S 𝒦` (for all environments), then `p ≈ q`
holds in the relatively free algebra `𝔽[ X ]`; equivalently, the pair `(p , q)` belongs to the
kernel of the natural homomorphism from `𝑻 X` onto `𝔽[ X ]`. We will use this fact below to prove
that there is a monomorphism from `𝔽[ X ]` into `ℭ`, and thus `𝔽[ X ]` is a subalgebra of ℭ,
so belongs to `S (P 𝒦)`.

<pre class="Agda">

 <a id="65594" href="Demos.HSP.html#65594" class="Function">skEqual</a> <a id="65602" class="Symbol">:</a> <a id="65604" class="Symbol">(</a><a id="65605" href="Demos.HSP.html#65605" class="Bound">i</a> <a id="65607" class="Symbol">:</a> <a id="65609" href="Demos.HSP.html#64715" class="Function">ℑ⁺</a><a id="65611" class="Symbol">)</a> <a id="65613" class="Symbol">→</a> <a id="65615" class="Symbol">∀{</a><a id="65617" href="Demos.HSP.html#65617" class="Bound">p</a> <a id="65619" href="Demos.HSP.html#65619" class="Bound">q</a><a id="65620" class="Symbol">}</a> <a id="65622" class="Symbol">→</a> <a id="65624" href="Demos.HSP.html#617" class="Primitive">Type</a> <a id="65629" href="Demos.HSP.html#64269" class="Bound">ρᵃ</a>
 <a id="65633" href="Demos.HSP.html#65594" class="Function">skEqual</a> <a id="65641" href="Demos.HSP.html#65641" class="Bound">i</a> <a id="65643" class="Symbol">{</a><a id="65644" href="Demos.HSP.html#65644" class="Bound">p</a><a id="65645" class="Symbol">}{</a><a id="65647" href="Demos.HSP.html#65647" class="Bound">q</a><a id="65648" class="Symbol">}</a> <a id="65650" class="Symbol">=</a> <a id="65652" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="65654" href="Demos.HSP.html#65644" class="Bound">p</a> <a id="65656" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="65658" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="65662" href="Demos.HSP.html#777" class="Field">snd</a> <a id="65666" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="65668" href="Demos.HSP.html#65641" class="Bound">i</a> <a id="65670" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="65672" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="65674" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="65676" href="Demos.HSP.html#65647" class="Bound">q</a> <a id="65678" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="65680" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="65684" href="Demos.HSP.html#777" class="Field">snd</a> <a id="65688" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="65690" href="Demos.HSP.html#65641" class="Bound">i</a> <a id="65692" href="Demos.HSP.html#2515" class="Function Operator">∥</a>
  <a id="65696" class="Keyword">where</a>
  <a id="65704" class="Keyword">open</a> <a id="65709" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="65716" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="65719" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a> <a id="65722" href="Demos.HSP.html#65641" class="Bound">i</a> <a id="65724" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="65726" class="Keyword">using</a> <a id="65732" class="Symbol">(</a> <a id="65734" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="65738" class="Symbol">)</a>
  <a id="65742" class="Keyword">open</a> <a id="65747" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="65759" class="Symbol">(</a><a id="65760" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a> <a id="65763" href="Demos.HSP.html#65641" class="Bound">i</a><a id="65764" class="Symbol">)</a> <a id="65766" class="Keyword">using</a> <a id="65772" class="Symbol">(</a> <a id="65774" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="65778" class="Symbol">)</a>

 <a id="65782" href="Demos.HSP.html#65782" class="Function">AllEqual⊆ker𝔽</a> <a id="65796" class="Symbol">:</a> <a id="65798" class="Symbol">∀</a> <a id="65800" class="Symbol">{</a><a id="65801" href="Demos.HSP.html#65801" class="Bound">p</a> <a id="65803" href="Demos.HSP.html#65803" class="Bound">q</a><a id="65804" class="Symbol">}</a>
  <a id="65808" class="Symbol">→</a>              <a id="65823" class="Symbol">(∀</a> <a id="65826" href="Demos.HSP.html#65826" class="Bound">i</a> <a id="65828" class="Symbol">→</a> <a id="65830" href="Demos.HSP.html#65594" class="Function">skEqual</a> <a id="65838" href="Demos.HSP.html#65826" class="Bound">i</a> <a id="65840" class="Symbol">{</a><a id="65841" href="Demos.HSP.html#65801" class="Bound">p</a><a id="65842" class="Symbol">}{</a><a id="65844" href="Demos.HSP.html#65803" class="Bound">q</a><a id="65845" class="Symbol">})</a> <a id="65848" class="Symbol">→</a> <a id="65850" class="Symbol">(</a><a id="65851" href="Demos.HSP.html#65801" class="Bound">p</a> <a id="65853" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65855" href="Demos.HSP.html#65803" class="Bound">q</a><a id="65856" class="Symbol">)</a> <a id="65858" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="65860" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="65864" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="65866" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[</a> <a id="65872" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="65874" href="Demos.HSP.html#61903" class="Function Operator">]</a> <a id="65876" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
 <a id="65879" href="Demos.HSP.html#65782" class="Function">AllEqual⊆ker𝔽</a> <a id="65893" class="Symbol">{</a><a id="65894" href="Demos.HSP.html#65894" class="Bound">p</a><a id="65895" class="Symbol">}</a> <a id="65897" class="Symbol">{</a><a id="65898" href="Demos.HSP.html#65898" class="Bound">q</a><a id="65899" class="Symbol">}</a> <a id="65901" href="Demos.HSP.html#65901" class="Bound">x</a> <a id="65903" class="Symbol">=</a> <a id="65905" href="Demos.HSP.html#66134" class="Function">Goal</a>
  <a id="65912" class="Keyword">where</a>
  <a id="65920" class="Keyword">open</a> <a id="65925" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="65933" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="65936" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="65938" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="65940" class="Keyword">using</a> <a id="65946" class="Symbol">()</a> <a id="65949" class="Keyword">renaming</a> <a id="65958" class="Symbol">(</a> <a id="65960" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="65967" class="Symbol">to</a> <a id="65970" class="Field">F</a> <a id="65972" class="Symbol">;</a> <a id="65974" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="65981" class="Symbol">to</a> <a id="65984" class="Field">InterpF</a> <a id="65992" class="Symbol">)</a>
  <a id="65996" class="Keyword">open</a> <a id="66001" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="66008" href="Demos.HSP.html#65970" class="Function">F</a> <a id="66010" class="Keyword">using</a> <a id="66016" class="Symbol">()</a> <a id="66019" class="Keyword">renaming</a> <a id="66028" class="Symbol">(</a> <a id="66030" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a>  <a id="66035" class="Symbol">to</a> <a id="66038" class="Field Operator">_≈F≈_</a> <a id="66044" class="Symbol">;</a> <a id="66046" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="66051" class="Symbol">to</a> <a id="66054" class="Function">reflF</a> <a id="66060" class="Symbol">)</a>
  <a id="66064" href="Demos.HSP.html#66064" class="Function">S𝒦⊫pq</a> <a id="66070" class="Symbol">:</a> <a id="66072" href="Demos.HSP.html#46977" class="Function">S</a><a id="66073" class="Symbol">{</a><a id="66074" class="Argument">β</a> <a id="66076" class="Symbol">=</a> <a id="66078" href="Demos.HSP.html#64267" class="Bound">α</a><a id="66079" class="Symbol">}{</a><a id="66081" href="Demos.HSP.html#64269" class="Bound">ρᵃ</a><a id="66083" class="Symbol">}</a> <a id="66085" href="Demos.HSP.html#64286" class="Bound">ℓ</a> <a id="66087" href="Demos.HSP.html#64250" class="Bound">𝒦</a> <a id="66089" href="Demos.HSP.html#41762" class="Function Operator">⊫</a> <a id="66091" class="Symbol">(</a><a id="66092" href="Demos.HSP.html#65894" class="Bound">p</a> <a id="66094" href="Demos.HSP.html#40547" class="InductiveConstructor Operator">≈̇</a> <a id="66097" href="Demos.HSP.html#65898" class="Bound">q</a><a id="66098" class="Symbol">)</a>
  <a id="66102" href="Demos.HSP.html#66064" class="Function">S𝒦⊫pq</a> <a id="66108" href="Demos.HSP.html#66108" class="Bound">𝑨</a> <a id="66110" href="Demos.HSP.html#66110" class="Bound">sA</a> <a id="66113" href="Demos.HSP.html#66113" class="Bound">ρ</a> <a id="66115" class="Symbol">=</a> <a id="66117" href="Demos.HSP.html#65901" class="Bound">x</a> <a id="66119" class="Symbol">(</a><a id="66120" href="Demos.HSP.html#66108" class="Bound">𝑨</a> <a id="66122" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="66124" href="Demos.HSP.html#66110" class="Bound">sA</a> <a id="66127" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="66129" href="Demos.HSP.html#66113" class="Bound">ρ</a><a id="66130" class="Symbol">)</a>
  <a id="66134" href="Demos.HSP.html#66134" class="Function">Goal</a> <a id="66139" class="Symbol">:</a> <a id="66141" href="Demos.HSP.html#65894" class="Bound">p</a> <a id="66143" href="Demos.HSP.html#66038" class="Function Operator">≈F≈</a> <a id="66147" href="Demos.HSP.html#65898" class="Bound">q</a>
  <a id="66151" href="Demos.HSP.html#66134" class="Function">Goal</a> <a id="66156" class="Symbol">=</a> <a id="66158" href="Demos.HSP.html#62837" class="Function">𝒦⊫→ℰ⊢</a> <a id="66164" class="Symbol">(</a><a id="66165" href="Demos.HSP.html#54680" class="Function">S-id2</a><a id="66170" class="Symbol">{</a><a id="66171" class="Argument">ℓ</a> <a id="66173" class="Symbol">=</a> <a id="66175" href="Demos.HSP.html#64286" class="Bound">ℓ</a><a id="66176" class="Symbol">}{</a><a id="66178" class="Argument">p</a> <a id="66180" class="Symbol">=</a> <a id="66182" href="Demos.HSP.html#65894" class="Bound">p</a><a id="66183" class="Symbol">}{</a><a id="66185" href="Demos.HSP.html#65898" class="Bound">q</a><a id="66186" class="Symbol">}</a> <a id="66188" href="Demos.HSP.html#66064" class="Function">S𝒦⊫pq</a><a id="66193" class="Symbol">)</a>

 <a id="66197" href="Demos.HSP.html#66197" class="Function">homℭ</a> <a id="66202" class="Symbol">:</a> <a id="66204" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="66208" class="Symbol">(</a><a id="66209" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="66211" href="Demos.HSP.html#64300" class="Bound">X</a><a id="66212" class="Symbol">)</a> <a id="66214" href="Demos.HSP.html#64839" class="Function">ℭ</a>
 <a id="66217" href="Demos.HSP.html#66197" class="Function">homℭ</a> <a id="66222" class="Symbol">=</a> <a id="66224" href="Demos.HSP.html#21197" class="Function">⨅-hom-co</a> <a id="66233" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a> <a id="66236" href="Demos.HSP.html#66248" class="Function">h</a>
  <a id="66240" class="Keyword">where</a>
  <a id="66248" href="Demos.HSP.html#66248" class="Function">h</a> <a id="66250" class="Symbol">:</a> <a id="66252" class="Symbol">∀</a> <a id="66254" href="Demos.HSP.html#66254" class="Bound">i</a> <a id="66256" class="Symbol">→</a> <a id="66258" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="66262" class="Symbol">(</a><a id="66263" href="Demos.HSP.html#34053" class="Function">𝑻</a> <a id="66265" href="Demos.HSP.html#64300" class="Bound">X</a><a id="66266" class="Symbol">)</a> <a id="66268" class="Symbol">(</a><a id="66269" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a> <a id="66272" href="Demos.HSP.html#66254" class="Bound">i</a><a id="66273" class="Symbol">)</a>
  <a id="66277" href="Demos.HSP.html#66248" class="Function">h</a> <a id="66279" href="Demos.HSP.html#66279" class="Bound">i</a> <a id="66281" class="Symbol">=</a> <a id="66283" href="Demos.HSP.html#58127" class="Function">lift-hom</a> <a id="66292" class="Symbol">(</a><a id="66293" href="Demos.HSP.html#777" class="Field">snd</a> <a id="66297" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="66299" href="Demos.HSP.html#66279" class="Bound">i</a> <a id="66301" href="Demos.HSP.html#2515" class="Function Operator">∥</a><a id="66302" class="Symbol">)</a>

 <a id="66306" class="Keyword">open</a> <a id="66311" href="Demos.HSP.html#10277" class="Module">Algebra</a> <a id="66319" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="66322" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="66324" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="66326" class="Keyword">using</a> <a id="66332" class="Symbol">()</a> <a id="66335" class="Keyword">renaming</a> <a id="66344" class="Symbol">(</a> <a id="66346" href="Demos.HSP.html#10334" class="Field">Domain</a> <a id="66353" class="Symbol">to</a> <a id="66356" class="Field">F</a> <a id="66358" class="Symbol">;</a> <a id="66360" href="Demos.HSP.html#10356" class="Field">Interp</a> <a id="66367" class="Symbol">to</a> <a id="66370" class="Field">InterpF</a> <a id="66378" class="Symbol">)</a>
 <a id="66381" class="Keyword">open</a> <a id="66386" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="66393" href="Demos.HSP.html#66356" class="Function">F</a> <a id="66395" class="Keyword">using</a> <a id="66401" class="Symbol">()</a> <a id="66404" class="Keyword">renaming</a> <a id="66413" class="Symbol">(</a><a id="66414" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="66419" class="Symbol">to</a> <a id="66422" class="Function">reflF</a> <a id="66428" class="Symbol">;</a> <a id="66430" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="66434" class="Symbol">to</a> <a id="66437" class="Field Operator">_≈F≈_</a> <a id="66443" class="Symbol">;</a> <a id="66445" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="66453" class="Symbol">to</a> <a id="66456" class="Field">∣F∣</a><a id="66459" class="Symbol">)</a>


 <a id="66464" href="Demos.HSP.html#66464" class="Function">ker𝔽⊆kerℭ</a> <a id="66474" class="Symbol">:</a> <a id="66476" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="66480" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="66482" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[</a> <a id="66488" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="66490" href="Demos.HSP.html#61903" class="Function Operator">]</a> <a id="66492" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="66494" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="66496" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="66500" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="66502" href="Demos.HSP.html#66197" class="Function">homℭ</a> <a id="66507" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
 <a id="66510" href="Demos.HSP.html#66464" class="Function">ker𝔽⊆kerℭ</a> <a id="66520" class="Symbol">{</a><a id="66521" href="Demos.HSP.html#66521" class="Bound">p</a> <a id="66523" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="66525" href="Demos.HSP.html#66525" class="Bound">q</a><a id="66526" class="Symbol">}</a> <a id="66528" href="Demos.HSP.html#66528" class="Bound">pKq</a> <a id="66532" class="Symbol">(</a><a id="66533" href="Demos.HSP.html#66533" class="Bound">𝑨</a> <a id="66535" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="66537" href="Demos.HSP.html#66537" class="Bound">sA</a> <a id="66540" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="66542" href="Demos.HSP.html#66542" class="Bound">ρ</a><a id="66543" class="Symbol">)</a> <a id="66545" class="Symbol">=</a> <a id="66547" href="Demos.HSP.html#66803" class="Function">Goal</a>
  <a id="66554" class="Keyword">where</a>
  <a id="66562" class="Keyword">open</a> <a id="66567" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="66574" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="66577" href="Demos.HSP.html#66533" class="Bound">𝑨</a> <a id="66579" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="66581" class="Keyword">using</a> <a id="66587" class="Symbol">(</a> <a id="66589" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="66593" class="Symbol">;</a> <a id="66595" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="66599" class="Symbol">;</a> <a id="66601" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="66607" class="Symbol">)</a>
  <a id="66611" class="Keyword">open</a> <a id="66616" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="66628" href="Demos.HSP.html#66533" class="Bound">𝑨</a> <a id="66630" class="Keyword">using</a> <a id="66636" class="Symbol">(</a> <a id="66638" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="66642" class="Symbol">)</a>
  <a id="66646" href="Demos.HSP.html#66646" class="Function">fl</a> <a id="66649" class="Symbol">:</a> <a id="66651" class="Symbol">∀</a> <a id="66653" href="Demos.HSP.html#66653" class="Bound">t</a> <a id="66655" class="Symbol">→</a> <a id="66657" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="66659" href="Demos.HSP.html#66653" class="Bound">t</a> <a id="66661" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="66663" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="66667" href="Demos.HSP.html#66542" class="Bound">ρ</a> <a id="66669" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="66671" href="Demos.HSP.html#57191" class="Function">free-lift</a> <a id="66681" href="Demos.HSP.html#66542" class="Bound">ρ</a> <a id="66683" href="Demos.HSP.html#66653" class="Bound">t</a>
  <a id="66687" href="Demos.HSP.html#66646" class="Function">fl</a> <a id="66690" href="Demos.HSP.html#66690" class="Bound">t</a> <a id="66692" class="Symbol">=</a> <a id="66694" href="Demos.HSP.html#58671" class="Function">free-lift-interp</a> <a id="66711" class="Symbol">{</a><a id="66712" class="Argument">𝑨</a> <a id="66714" class="Symbol">=</a> <a id="66716" href="Demos.HSP.html#66533" class="Bound">𝑨</a><a id="66717" class="Symbol">}</a> <a id="66719" href="Demos.HSP.html#66542" class="Bound">ρ</a> <a id="66721" href="Demos.HSP.html#66690" class="Bound">t</a>
  <a id="66725" href="Demos.HSP.html#66725" class="Function">subgoal</a> <a id="66733" class="Symbol">:</a> <a id="66735" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="66737" href="Demos.HSP.html#66521" class="Bound">p</a> <a id="66739" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="66741" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="66745" href="Demos.HSP.html#66542" class="Bound">ρ</a> <a id="66747" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="66749" href="Demos.HSP.html#35568" class="Function Operator">⟦</a> <a id="66751" href="Demos.HSP.html#66525" class="Bound">q</a> <a id="66753" href="Demos.HSP.html#35568" class="Function Operator">⟧</a> <a id="66755" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="66759" href="Demos.HSP.html#66542" class="Bound">ρ</a>
  <a id="66763" href="Demos.HSP.html#66725" class="Function">subgoal</a> <a id="66771" class="Symbol">=</a> <a id="66773" href="Demos.HSP.html#62702" class="Function">ker𝔽⊆Equal</a><a id="66783" class="Symbol">{</a><a id="66784" class="Argument">𝑨</a> <a id="66786" class="Symbol">=</a> <a id="66788" href="Demos.HSP.html#66533" class="Bound">𝑨</a><a id="66789" class="Symbol">}{</a><a id="66791" href="Demos.HSP.html#66537" class="Bound">sA</a><a id="66793" class="Symbol">}</a> <a id="66795" href="Demos.HSP.html#66528" class="Bound">pKq</a> <a id="66799" href="Demos.HSP.html#66542" class="Bound">ρ</a>
  <a id="66803" href="Demos.HSP.html#66803" class="Function">Goal</a> <a id="66808" class="Symbol">:</a> <a id="66810" class="Symbol">(</a><a id="66811" href="Demos.HSP.html#57191" class="Function">free-lift</a><a id="66820" class="Symbol">{</a><a id="66821" class="Argument">𝑨</a> <a id="66823" class="Symbol">=</a> <a id="66825" href="Demos.HSP.html#66533" class="Bound">𝑨</a><a id="66826" class="Symbol">}</a> <a id="66828" href="Demos.HSP.html#66542" class="Bound">ρ</a> <a id="66830" href="Demos.HSP.html#66521" class="Bound">p</a><a id="66831" class="Symbol">)</a> <a id="66833" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="66835" class="Symbol">(</a><a id="66836" href="Demos.HSP.html#57191" class="Function">free-lift</a><a id="66845" class="Symbol">{</a><a id="66846" class="Argument">𝑨</a> <a id="66848" class="Symbol">=</a> <a id="66850" href="Demos.HSP.html#66533" class="Bound">𝑨</a><a id="66851" class="Symbol">}</a> <a id="66853" href="Demos.HSP.html#66542" class="Bound">ρ</a> <a id="66855" href="Demos.HSP.html#66525" class="Bound">q</a><a id="66856" class="Symbol">)</a>
  <a id="66860" href="Demos.HSP.html#66803" class="Function">Goal</a> <a id="66865" class="Symbol">=</a> <a id="66867" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="66873" class="Symbol">(</a><a id="66874" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="66878" class="Symbol">(</a><a id="66879" href="Demos.HSP.html#66646" class="Function">fl</a> <a id="66882" href="Demos.HSP.html#66521" class="Bound">p</a><a id="66883" class="Symbol">))</a> <a id="66886" class="Symbol">(</a><a id="66887" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="66893" href="Demos.HSP.html#66725" class="Function">subgoal</a> <a id="66901" class="Symbol">(</a><a id="66902" href="Demos.HSP.html#66646" class="Function">fl</a> <a id="66905" href="Demos.HSP.html#66525" class="Bound">q</a><a id="66906" class="Symbol">))</a>


 <a id="66912" href="Demos.HSP.html#66912" class="Function">hom𝔽ℭ</a> <a id="66918" class="Symbol">:</a> <a id="66920" href="Demos.HSP.html#15085" class="Function">hom</a> <a id="66924" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="66927" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="66929" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="66931" href="Demos.HSP.html#64839" class="Function">ℭ</a>
 <a id="66934" href="Demos.HSP.html#66912" class="Function">hom𝔽ℭ</a> <a id="66940" class="Symbol">=</a> <a id="66942" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="66944" href="Demos.HSP.html#22501" class="Function">HomFactor</a> <a id="66954" href="Demos.HSP.html#64839" class="Function">ℭ</a> <a id="66956" href="Demos.HSP.html#66197" class="Function">homℭ</a> <a id="66961" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[</a> <a id="66967" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="66969" href="Demos.HSP.html#61903" class="Function Operator">]</a> <a id="66971" href="Demos.HSP.html#66464" class="Function">ker𝔽⊆kerℭ</a> <a id="66981" href="Demos.HSP.html#61991" class="Function Operator">hom𝔽[</a> <a id="66987" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="66989" href="Demos.HSP.html#61991" class="Function Operator">]-is-epic</a> <a id="66999" href="Demos.HSP.html#2477" class="Function Operator">∣</a>

 <a id="67003" class="Keyword">open</a> <a id="67008" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="67020" href="Demos.HSP.html#64839" class="Function">ℭ</a>

 <a id="67024" href="Demos.HSP.html#67024" class="Function">kerℭ⊆ker𝔽</a> <a id="67034" class="Symbol">:</a> <a id="67036" class="Symbol">∀{</a><a id="67038" href="Demos.HSP.html#67038" class="Bound">p</a> <a id="67040" href="Demos.HSP.html#67040" class="Bound">q</a><a id="67041" class="Symbol">}</a> <a id="67043" class="Symbol">→</a> <a id="67045" class="Symbol">(</a><a id="67046" href="Demos.HSP.html#67038" class="Bound">p</a> <a id="67048" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="67050" href="Demos.HSP.html#67040" class="Bound">q</a><a id="67051" class="Symbol">)</a> <a id="67053" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="67055" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="67059" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="67061" href="Demos.HSP.html#66197" class="Function">homℭ</a> <a id="67066" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="67068" class="Symbol">→</a> <a id="67070" class="Symbol">(</a><a id="67071" href="Demos.HSP.html#67038" class="Bound">p</a> <a id="67073" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="67075" href="Demos.HSP.html#67040" class="Bound">q</a><a id="67076" class="Symbol">)</a> <a id="67078" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="67080" href="Demos.HSP.html#8755" class="Function">ker</a> <a id="67084" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="67086" href="Demos.HSP.html#61903" class="Function Operator">hom𝔽[</a> <a id="67092" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="67094" href="Demos.HSP.html#61903" class="Function Operator">]</a> <a id="67096" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
 <a id="67099" href="Demos.HSP.html#67024" class="Function">kerℭ⊆ker𝔽</a> <a id="67109" class="Symbol">{</a><a id="67110" href="Demos.HSP.html#67110" class="Bound">p</a><a id="67111" class="Symbol">}{</a><a id="67113" href="Demos.HSP.html#67113" class="Bound">q</a><a id="67114" class="Symbol">}</a> <a id="67116" href="Demos.HSP.html#67116" class="Bound">pKq</a> <a id="67120" class="Symbol">=</a> <a id="67122" href="Demos.HSP.html#67509" class="Function">E⊢pq</a>
  <a id="67129" class="Keyword">where</a>
  <a id="67137" href="Demos.HSP.html#67137" class="Function">pqEqual</a> <a id="67145" class="Symbol">:</a> <a id="67147" class="Symbol">∀</a> <a id="67149" href="Demos.HSP.html#67149" class="Bound">i</a> <a id="67151" class="Symbol">→</a> <a id="67153" href="Demos.HSP.html#65594" class="Function">skEqual</a> <a id="67161" href="Demos.HSP.html#67149" class="Bound">i</a> <a id="67163" class="Symbol">{</a><a id="67164" href="Demos.HSP.html#67110" class="Bound">p</a><a id="67165" class="Symbol">}{</a><a id="67167" href="Demos.HSP.html#67113" class="Bound">q</a><a id="67168" class="Symbol">}</a>
  <a id="67172" href="Demos.HSP.html#67137" class="Function">pqEqual</a> <a id="67180" href="Demos.HSP.html#67180" class="Bound">i</a> <a id="67182" class="Symbol">=</a> <a id="67184" href="Demos.HSP.html#67315" class="Function">goal</a>
   <a id="67192" class="Keyword">where</a>
   <a id="67201" class="Keyword">open</a> <a id="67206" href="Demos.HSP.html#35021" class="Module">Environment</a> <a id="67218" class="Symbol">(</a><a id="67219" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a> <a id="67222" href="Demos.HSP.html#67180" class="Bound">i</a><a id="67223" class="Symbol">)</a> <a id="67225" class="Keyword">using</a> <a id="67231" class="Symbol">()</a> <a id="67234" class="Keyword">renaming</a> <a id="67243" class="Symbol">(</a> <a id="67245" href="Demos.HSP.html#35568" class="Function Operator">⟦_⟧</a> <a id="67249" class="Symbol">to</a> <a id="67252" class="Function Operator">⟦_⟧ᵢ</a> <a id="67257" class="Symbol">)</a>
   <a id="67262" class="Keyword">open</a> <a id="67267" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="67274" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="67277" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a> <a id="67280" href="Demos.HSP.html#67180" class="Bound">i</a> <a id="67282" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="67284" class="Keyword">using</a> <a id="67290" class="Symbol">(</a> <a id="67292" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="67296" class="Symbol">;</a> <a id="67298" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="67302" class="Symbol">;</a> <a id="67304" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="67310" class="Symbol">)</a>
   <a id="67315" href="Demos.HSP.html#67315" class="Function">goal</a> <a id="67320" class="Symbol">:</a> <a id="67322" href="Demos.HSP.html#67252" class="Function Operator">⟦</a> <a id="67324" href="Demos.HSP.html#67110" class="Bound">p</a> <a id="67326" href="Demos.HSP.html#67252" class="Function Operator">⟧ᵢ</a> <a id="67329" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="67333" href="Demos.HSP.html#777" class="Field">snd</a> <a id="67337" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="67339" href="Demos.HSP.html#67180" class="Bound">i</a> <a id="67341" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="67343" href="Relation.Binary.Bundles.html#1098" class="Function Operator">≈</a> <a id="67345" href="Demos.HSP.html#67252" class="Function Operator">⟦</a> <a id="67347" href="Demos.HSP.html#67113" class="Bound">q</a> <a id="67349" href="Demos.HSP.html#67252" class="Function Operator">⟧ᵢ</a> <a id="67352" href="Demos.HSP.html#1474" class="Field Operator">⟨$⟩</a> <a id="67356" href="Demos.HSP.html#777" class="Field">snd</a> <a id="67360" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="67362" href="Demos.HSP.html#67180" class="Bound">i</a> <a id="67364" href="Demos.HSP.html#2515" class="Function Operator">∥</a>
   <a id="67369" href="Demos.HSP.html#67315" class="Function">goal</a> <a id="67374" class="Symbol">=</a> <a id="67376" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="67382" class="Symbol">(</a><a id="67383" href="Demos.HSP.html#58671" class="Function">free-lift-interp</a><a id="67399" class="Symbol">{</a><a id="67400" class="Argument">𝑨</a> <a id="67402" class="Symbol">=</a> <a id="67404" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="67406" href="Demos.HSP.html#67180" class="Bound">i</a> <a id="67408" href="Demos.HSP.html#2477" class="Function Operator">∣</a><a id="67409" class="Symbol">}(</a><a id="67411" href="Demos.HSP.html#777" class="Field">snd</a> <a id="67415" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="67417" href="Demos.HSP.html#67180" class="Bound">i</a> <a id="67419" href="Demos.HSP.html#2515" class="Function Operator">∥</a><a id="67420" class="Symbol">)</a> <a id="67422" href="Demos.HSP.html#67110" class="Bound">p</a><a id="67423" class="Symbol">)</a>
                 <a id="67442" class="Symbol">(</a><a id="67443" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="67449" class="Symbol">(</a><a id="67450" href="Demos.HSP.html#67116" class="Bound">pKq</a> <a id="67454" href="Demos.HSP.html#67180" class="Bound">i</a><a id="67455" class="Symbol">)(</a><a id="67457" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="67461" class="Symbol">(</a><a id="67462" href="Demos.HSP.html#58671" class="Function">free-lift-interp</a><a id="67478" class="Symbol">{</a><a id="67479" class="Argument">𝑨</a> <a id="67481" class="Symbol">=</a> <a id="67483" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="67485" href="Demos.HSP.html#67180" class="Bound">i</a> <a id="67487" href="Demos.HSP.html#2477" class="Function Operator">∣</a><a id="67488" class="Symbol">}</a> <a id="67490" class="Symbol">(</a><a id="67491" href="Demos.HSP.html#777" class="Field">snd</a> <a id="67495" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="67497" href="Demos.HSP.html#67180" class="Bound">i</a> <a id="67499" href="Demos.HSP.html#2515" class="Function Operator">∥</a><a id="67500" class="Symbol">)</a> <a id="67502" href="Demos.HSP.html#67113" class="Bound">q</a><a id="67503" class="Symbol">)))</a>
  <a id="67509" href="Demos.HSP.html#67509" class="Function">E⊢pq</a> <a id="67514" class="Symbol">:</a> <a id="67516" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="67518" href="Demos.HSP.html#42988" class="Datatype Operator">⊢</a> <a id="67520" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="67522" href="Demos.HSP.html#42988" class="Datatype Operator">▹</a> <a id="67524" href="Demos.HSP.html#67110" class="Bound">p</a> <a id="67526" href="Demos.HSP.html#42988" class="Datatype Operator">≈</a> <a id="67528" href="Demos.HSP.html#67113" class="Bound">q</a>
  <a id="67532" href="Demos.HSP.html#67509" class="Function">E⊢pq</a> <a id="67537" class="Symbol">=</a> <a id="67539" href="Demos.HSP.html#65782" class="Function">AllEqual⊆ker𝔽</a> <a id="67553" href="Demos.HSP.html#67137" class="Function">pqEqual</a>


 <a id="67564" href="Demos.HSP.html#67564" class="Function">mon𝔽ℭ</a> <a id="67570" class="Symbol">:</a> <a id="67572" href="Demos.HSP.html#15420" class="Function">mon</a> <a id="67576" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="67579" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="67581" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="67583" href="Demos.HSP.html#64839" class="Function">ℭ</a>
 <a id="67586" href="Demos.HSP.html#67564" class="Function">mon𝔽ℭ</a> <a id="67592" class="Symbol">=</a> <a id="67594" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="67596" href="Demos.HSP.html#66912" class="Function">hom𝔽ℭ</a> <a id="67602" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="67604" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="67606" href="Demos.HSP.html#67648" class="Function">isMon</a>
  <a id="67614" class="Keyword">where</a>
  <a id="67622" class="Keyword">open</a> <a id="67627" href="Demos.HSP.html#15260" class="Module">IsMon</a>
  <a id="67635" class="Keyword">open</a> <a id="67640" href="Demos.HSP.html#14989" class="Module">IsHom</a>
  <a id="67648" href="Demos.HSP.html#67648" class="Function">isMon</a> <a id="67654" class="Symbol">:</a> <a id="67656" href="Demos.HSP.html#15260" class="Record">IsMon</a> <a id="67662" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="67665" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="67667" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="67669" href="Demos.HSP.html#64839" class="Function">ℭ</a> <a id="67671" href="Demos.HSP.html#2477" class="Function Operator">∣</a> <a id="67673" href="Demos.HSP.html#66912" class="Function">hom𝔽ℭ</a> <a id="67679" href="Demos.HSP.html#2477" class="Function Operator">∣</a>
  <a id="67683" href="Demos.HSP.html#15328" class="Field">isHom</a> <a id="67689" href="Demos.HSP.html#67648" class="Function">isMon</a> <a id="67695" class="Symbol">=</a> <a id="67697" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="67699" href="Demos.HSP.html#66912" class="Function">hom𝔽ℭ</a> <a id="67705" href="Demos.HSP.html#2515" class="Function Operator">∥</a>
  <a id="67709" href="Demos.HSP.html#15347" class="Field">isInjective</a> <a id="67721" href="Demos.HSP.html#67648" class="Function">isMon</a> <a id="67727" class="Symbol">{</a><a id="67728" href="Demos.HSP.html#67728" class="Bound">p</a><a id="67729" class="Symbol">}</a> <a id="67731" class="Symbol">{</a><a id="67732" href="Demos.HSP.html#67732" class="Bound">q</a><a id="67733" class="Symbol">}</a> <a id="67735" href="Demos.HSP.html#67735" class="Bound">φpq</a> <a id="67739" class="Symbol">=</a> <a id="67741" href="Demos.HSP.html#67024" class="Function">kerℭ⊆ker𝔽</a> <a id="67751" href="Demos.HSP.html#67735" class="Bound">φpq</a>

</pre>

Now that we have proved the existence of a monomorphism from `𝔽[ X ]` to `ℭ` we are in a position
to prove that `𝔽[ X ]` is a subalgebra of ℭ, so belongs to `S (P 𝒦)`.  In fact, we will show
that `𝔽[ X ]` is a subalgebra of the *lift* of `ℭ`, denoted `ℓℭ`.

<pre class="Agda">

 <a id="68041" href="Demos.HSP.html#68041" class="Function">𝔽≤ℭ</a> <a id="68045" class="Symbol">:</a> <a id="68047" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="68050" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="68052" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="68054" href="Demos.HSP.html#28341" class="Function Operator">≤</a> <a id="68056" href="Demos.HSP.html#64839" class="Function">ℭ</a>
 <a id="68059" href="Demos.HSP.html#68041" class="Function">𝔽≤ℭ</a> <a id="68063" class="Symbol">=</a> <a id="68065" href="Demos.HSP.html#28757" class="Function">mon→≤</a> <a id="68071" href="Demos.HSP.html#67564" class="Function">mon𝔽ℭ</a>

 <a id="68079" href="Demos.HSP.html#68079" class="Function">SP𝔽</a> <a id="68083" class="Symbol">:</a> <a id="68085" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="68088" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="68090" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="68092" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="68094" href="Demos.HSP.html#46977" class="Function">S</a> <a id="68096" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="68098" class="Symbol">(</a><a id="68099" href="Demos.HSP.html#47124" class="Function">P</a> <a id="68101" href="Demos.HSP.html#64286" class="Bound">ℓ</a> <a id="68103" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="68105" href="Demos.HSP.html#64250" class="Bound">𝒦</a><a id="68106" class="Symbol">)</a>
 <a id="68109" href="Demos.HSP.html#68079" class="Function">SP𝔽</a> <a id="68113" class="Symbol">=</a> <a id="68115" href="Demos.HSP.html#48553" class="Function">S-idem</a> <a id="68122" href="Demos.HSP.html#68277" class="Function">SSP𝔽</a>
  <a id="68129" class="Keyword">where</a>
  <a id="68137" href="Demos.HSP.html#68137" class="Function">PSℭ</a> <a id="68141" class="Symbol">:</a> <a id="68143" href="Demos.HSP.html#64839" class="Function">ℭ</a> <a id="68145" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="68147" href="Demos.HSP.html#47124" class="Function">P</a> <a id="68149" class="Symbol">(</a><a id="68150" href="Demos.HSP.html#64267" class="Bound">α</a> <a id="68152" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="68154" href="Demos.HSP.html#64269" class="Bound">ρᵃ</a> <a id="68157" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="68159" href="Demos.HSP.html#64286" class="Bound">ℓ</a><a id="68160" class="Symbol">)</a> <a id="68162" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="68164" class="Symbol">(</a><a id="68165" href="Demos.HSP.html#46977" class="Function">S</a> <a id="68167" href="Demos.HSP.html#64286" class="Bound">ℓ</a> <a id="68169" href="Demos.HSP.html#64250" class="Bound">𝒦</a><a id="68170" class="Symbol">)</a>
  <a id="68174" href="Demos.HSP.html#68137" class="Function">PSℭ</a> <a id="68178" class="Symbol">=</a> <a id="68180" href="Demos.HSP.html#64715" class="Function">ℑ⁺</a> <a id="68183" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68185" class="Symbol">(</a><a id="68186" href="Demos.HSP.html#64800" class="Function">𝔄⁺</a> <a id="68189" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68191" class="Symbol">((λ</a> <a id="68195" href="Demos.HSP.html#68195" class="Bound">i</a> <a id="68197" class="Symbol">→</a> <a id="68199" href="Demos.HSP.html#762" class="Field">fst</a> <a id="68203" href="Demos.HSP.html#2515" class="Function Operator">∥</a> <a id="68205" href="Demos.HSP.html#68195" class="Bound">i</a> <a id="68207" href="Demos.HSP.html#2515" class="Function Operator">∥</a><a id="68208" class="Symbol">)</a> <a id="68210" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68212" href="Demos.HSP.html#25221" class="Function">≅-refl</a><a id="68218" class="Symbol">))</a>

  <a id="68224" href="Demos.HSP.html#68224" class="Function">SPℭ</a> <a id="68228" class="Symbol">:</a> <a id="68230" href="Demos.HSP.html#64839" class="Function">ℭ</a> <a id="68232" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="68234" href="Demos.HSP.html#46977" class="Function">S</a> <a id="68236" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="68238" class="Symbol">(</a><a id="68239" href="Demos.HSP.html#47124" class="Function">P</a> <a id="68241" href="Demos.HSP.html#64286" class="Bound">ℓ</a> <a id="68243" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="68245" href="Demos.HSP.html#64250" class="Bound">𝒦</a><a id="68246" class="Symbol">)</a>
  <a id="68250" href="Demos.HSP.html#68224" class="Function">SPℭ</a> <a id="68254" class="Symbol">=</a> <a id="68256" href="Demos.HSP.html#52309" class="Function">PS⊆SP</a> <a id="68262" class="Symbol">{</a><a id="68263" class="Argument">ℓ</a> <a id="68265" class="Symbol">=</a> <a id="68267" href="Demos.HSP.html#64286" class="Bound">ℓ</a><a id="68268" class="Symbol">}</a> <a id="68270" href="Demos.HSP.html#68137" class="Function">PSℭ</a>

  <a id="68277" href="Demos.HSP.html#68277" class="Function">SSP𝔽</a> <a id="68282" class="Symbol">:</a> <a id="68284" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="68287" href="Demos.HSP.html#64300" class="Bound">X</a> <a id="68289" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="68291" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="68293" href="Demos.HSP.html#46977" class="Function">S</a> <a id="68295" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="68297" class="Symbol">(</a><a id="68298" href="Demos.HSP.html#46977" class="Function">S</a> <a id="68300" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="68302" class="Symbol">(</a><a id="68303" href="Demos.HSP.html#47124" class="Function">P</a> <a id="68305" href="Demos.HSP.html#64286" class="Bound">ℓ</a> <a id="68307" href="Demos.HSP.html#64339" class="Function">ι</a> <a id="68309" href="Demos.HSP.html#64250" class="Bound">𝒦</a><a id="68310" class="Symbol">))</a>
  <a id="68315" href="Demos.HSP.html#68277" class="Function">SSP𝔽</a> <a id="68320" class="Symbol">=</a> <a id="68322" href="Demos.HSP.html#64839" class="Function">ℭ</a> <a id="68324" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68326" class="Symbol">(</a><a id="68327" href="Demos.HSP.html#68224" class="Function">SPℭ</a> <a id="68331" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68333" href="Demos.HSP.html#68041" class="Function">𝔽≤ℭ</a><a id="68336" class="Symbol">)</a>

</pre>

## <a id="the-hsp-theorem">The HSP Theorem</a>

Finally, we are in a position to prove Birkhoff's celebrated variety theorem.

<pre class="Agda">

<a id="68492" class="Keyword">module</a> <a id="68499" href="Demos.HSP.html#68499" class="Module">_</a> <a id="68501" class="Symbol">{</a><a id="68502" href="Demos.HSP.html#68502" class="Bound">𝒦</a> <a id="68504" class="Symbol">:</a> <a id="68506" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="68510" class="Symbol">(</a><a id="68511" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="68519" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="68521" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a><a id="68523" class="Symbol">)</a> <a id="68525" class="Symbol">(</a><a id="68526" href="Demos.HSP.html#1501" class="Generalizable">α</a> <a id="68528" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="68530" href="Demos.HSP.html#1503" class="Generalizable">ρᵃ</a> <a id="68533" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="68535" href="Demos.HSP.html#27044" class="Function">ov</a> <a id="68538" href="Demos.HSP.html#1523" class="Generalizable">ℓ</a><a id="68539" class="Symbol">)}</a> <a id="68542" class="Keyword">where</a>
 <a id="68549" class="Keyword">private</a>
  <a id="68559" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="68561" class="Symbol">=</a> <a id="68563" href="Demos.HSP.html#27044" class="Function">ov</a><a id="68565" class="Symbol">(</a><a id="68566" href="Demos.HSP.html#68519" class="Bound">α</a> <a id="68568" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="68570" href="Demos.HSP.html#68521" class="Bound">ρᵃ</a> <a id="68573" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="68575" href="Demos.HSP.html#68538" class="Bound">ℓ</a><a id="68576" class="Symbol">)</a>

 <a id="68580" class="Keyword">open</a> <a id="68585" href="Demos.HSP.html#60432" class="Module">FreeHom</a> <a id="68593" class="Symbol">{</a><a id="68594" class="Argument">ℓ</a> <a id="68596" class="Symbol">=</a> <a id="68598" href="Demos.HSP.html#68538" class="Bound">ℓ</a><a id="68599" class="Symbol">}(</a><a id="68601" href="Demos.HSP.html#68519" class="Bound">α</a> <a id="68603" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="68605" href="Demos.HSP.html#68521" class="Bound">ρᵃ</a> <a id="68608" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="68610" href="Demos.HSP.html#68538" class="Bound">ℓ</a><a id="68611" class="Symbol">){</a><a id="68613" href="Demos.HSP.html#68502" class="Bound">𝒦</a><a id="68614" class="Symbol">}</a>
 <a id="68617" class="Keyword">open</a> <a id="68622" href="Demos.HSP.html#59176" class="Module">FreeAlgebra</a> <a id="68634" class="Symbol">{</a><a id="68635" class="Argument">ι</a> <a id="68637" class="Symbol">=</a> <a id="68639" href="Demos.HSP.html#68559" class="Function">ι</a><a id="68640" class="Symbol">}{</a><a id="68642" class="Argument">I</a> <a id="68644" class="Symbol">=</a> <a id="68646" href="Demos.HSP.html#60615" class="Function">ℐ</a><a id="68647" class="Symbol">}</a> <a id="68649" href="Demos.HSP.html#60676" class="Function">ℰ</a> <a id="68651" class="Keyword">using</a> <a id="68657" class="Symbol">(</a> <a id="68659" href="Demos.HSP.html#59825" class="Function Operator">𝔽[_]</a> <a id="68664" class="Symbol">)</a>

 <a id="68668" href="Demos.HSP.html#68668" class="Function">Birkhoff</a> <a id="68677" class="Symbol">:</a> <a id="68679" class="Symbol">∀</a> <a id="68681" href="Demos.HSP.html#68681" class="Bound">𝑨</a> <a id="68683" class="Symbol">→</a> <a id="68685" href="Demos.HSP.html#68681" class="Bound">𝑨</a> <a id="68687" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="68689" href="Demos.HSP.html#42576" class="Function">Mod</a> <a id="68693" class="Symbol">(</a><a id="68694" href="Demos.HSP.html#42475" class="Function">Th</a> <a id="68697" class="Symbol">(</a><a id="68698" href="Demos.HSP.html#47681" class="Function">V</a> <a id="68700" href="Demos.HSP.html#68538" class="Bound">ℓ</a> <a id="68702" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="68704" href="Demos.HSP.html#68502" class="Bound">𝒦</a><a id="68705" class="Symbol">))</a> <a id="68708" class="Symbol">→</a> <a id="68710" href="Demos.HSP.html#68681" class="Bound">𝑨</a> <a id="68712" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="68714" href="Demos.HSP.html#47681" class="Function">V</a> <a id="68716" href="Demos.HSP.html#68538" class="Bound">ℓ</a> <a id="68718" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="68720" href="Demos.HSP.html#68502" class="Bound">𝒦</a>
 <a id="68723" href="Demos.HSP.html#68668" class="Function">Birkhoff</a> <a id="68732" href="Demos.HSP.html#68732" class="Bound">𝑨</a> <a id="68734" href="Demos.HSP.html#68734" class="Bound">ModThA</a> <a id="68741" class="Symbol">=</a> <a id="68743" href="Demos.HSP.html#48013" class="Function">V-≅-lc</a><a id="68749" class="Symbol">{</a><a id="68750" href="Demos.HSP.html#68519" class="Bound">α</a><a id="68751" class="Symbol">}{</a><a id="68753" href="Demos.HSP.html#68521" class="Bound">ρᵃ</a><a id="68755" class="Symbol">}{</a><a id="68757" href="Demos.HSP.html#68538" class="Bound">ℓ</a><a id="68758" class="Symbol">}</a> <a id="68760" href="Demos.HSP.html#68502" class="Bound">𝒦</a> <a id="68762" href="Demos.HSP.html#68732" class="Bound">𝑨</a> <a id="68764" href="Demos.HSP.html#69099" class="Function">VlA</a>
  <a id="68770" class="Keyword">where</a>
  <a id="68778" class="Keyword">open</a> <a id="68783" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="68790" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="68793" href="Demos.HSP.html#68732" class="Bound">𝑨</a> <a id="68795" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="68797" class="Keyword">using</a> <a id="68803" class="Symbol">()</a> <a id="68806" class="Keyword">renaming</a> <a id="68815" class="Symbol">(</a> <a id="68817" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="68825" class="Symbol">to</a> <a id="68828" class="Field">A</a> <a id="68830" class="Symbol">)</a>
  <a id="68834" href="Demos.HSP.html#68834" class="Function">sp𝔽A</a> <a id="68839" class="Symbol">:</a> <a id="68841" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="68844" href="Demos.HSP.html#68828" class="Function">A</a> <a id="68846" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="68848" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="68850" href="Demos.HSP.html#46977" class="Function">S</a><a id="68851" class="Symbol">{</a><a id="68852" href="Demos.HSP.html#68559" class="Function">ι</a><a id="68853" class="Symbol">}</a> <a id="68855" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="68857" class="Symbol">(</a><a id="68858" href="Demos.HSP.html#47124" class="Function">P</a> <a id="68860" href="Demos.HSP.html#68538" class="Bound">ℓ</a> <a id="68862" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="68864" href="Demos.HSP.html#68502" class="Bound">𝒦</a><a id="68865" class="Symbol">)</a>
  <a id="68869" href="Demos.HSP.html#68834" class="Function">sp𝔽A</a> <a id="68874" class="Symbol">=</a> <a id="68876" href="Demos.HSP.html#68079" class="Function">SP𝔽</a><a id="68879" class="Symbol">{</a><a id="68880" class="Argument">ℓ</a> <a id="68882" class="Symbol">=</a> <a id="68884" href="Demos.HSP.html#68538" class="Bound">ℓ</a><a id="68885" class="Symbol">}</a> <a id="68887" href="Demos.HSP.html#68502" class="Bound">𝒦</a>

  <a id="68892" href="Demos.HSP.html#68892" class="Function">epi𝔽lA</a> <a id="68899" class="Symbol">:</a> <a id="68901" href="Demos.HSP.html#15709" class="Function">epi</a> <a id="68905" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="68908" href="Demos.HSP.html#68828" class="Function">A</a> <a id="68910" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="68912" class="Symbol">(</a><a id="68913" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="68922" href="Demos.HSP.html#68732" class="Bound">𝑨</a> <a id="68924" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="68926" href="Demos.HSP.html#68559" class="Function">ι</a><a id="68927" class="Symbol">)</a>
  <a id="68931" href="Demos.HSP.html#68892" class="Function">epi𝔽lA</a> <a id="68938" class="Symbol">=</a> <a id="68940" href="Demos.HSP.html#63963" class="Function">𝔽-ModTh-epi-lift</a><a id="68956" class="Symbol">{</a><a id="68957" class="Argument">ℓ</a> <a id="68959" class="Symbol">=</a> <a id="68961" href="Demos.HSP.html#68538" class="Bound">ℓ</a><a id="68962" class="Symbol">}</a> <a id="68964" class="Symbol">(λ</a> <a id="68967" class="Symbol">{</a><a id="68968" href="Demos.HSP.html#68968" class="Bound">p</a> <a id="68970" href="Demos.HSP.html#68970" class="Bound">q</a><a id="68971" class="Symbol">}</a> <a id="68973" class="Symbol">→</a> <a id="68975" href="Demos.HSP.html#68734" class="Bound">ModThA</a><a id="68981" class="Symbol">{</a><a id="68982" class="Argument">p</a> <a id="68984" class="Symbol">=</a> <a id="68986" href="Demos.HSP.html#68968" class="Bound">p</a><a id="68987" class="Symbol">}{</a><a id="68989" href="Demos.HSP.html#68970" class="Bound">q</a><a id="68990" class="Symbol">})</a>

  <a id="68996" href="Demos.HSP.html#68996" class="Function">lAimg𝔽A</a> <a id="69004" class="Symbol">:</a> <a id="69006" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="69015" href="Demos.HSP.html#68732" class="Bound">𝑨</a> <a id="69017" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="69019" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="69021" href="Demos.HSP.html#27098" class="Function Operator">IsHomImageOf</a> <a id="69034" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="69037" href="Demos.HSP.html#68828" class="Function">A</a> <a id="69039" href="Demos.HSP.html#59825" class="Function Operator">]</a>
  <a id="69043" href="Demos.HSP.html#68996" class="Function">lAimg𝔽A</a> <a id="69051" class="Symbol">=</a> <a id="69053" href="Demos.HSP.html#16027" class="Function">epi→ontohom</a> <a id="69065" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="69068" href="Demos.HSP.html#68828" class="Function">A</a> <a id="69070" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="69072" class="Symbol">(</a><a id="69073" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="69082" href="Demos.HSP.html#68732" class="Bound">𝑨</a> <a id="69084" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="69086" href="Demos.HSP.html#68559" class="Function">ι</a><a id="69087" class="Symbol">)</a> <a id="69089" href="Demos.HSP.html#68892" class="Function">epi𝔽lA</a>

  <a id="69099" href="Demos.HSP.html#69099" class="Function">VlA</a> <a id="69103" class="Symbol">:</a> <a id="69105" href="Demos.HSP.html#13051" class="Function">Lift-Alg</a> <a id="69114" href="Demos.HSP.html#68732" class="Bound">𝑨</a> <a id="69116" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="69118" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="69120" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="69122" href="Demos.HSP.html#47681" class="Function">V</a> <a id="69124" href="Demos.HSP.html#68538" class="Bound">ℓ</a> <a id="69126" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="69128" href="Demos.HSP.html#68502" class="Bound">𝒦</a>
  <a id="69132" href="Demos.HSP.html#69099" class="Function">VlA</a> <a id="69136" class="Symbol">=</a> <a id="69138" href="Demos.HSP.html#59825" class="Function Operator">𝔽[</a> <a id="69141" href="Demos.HSP.html#68828" class="Function">A</a> <a id="69143" href="Demos.HSP.html#59825" class="Function Operator">]</a> <a id="69145" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="69147" href="Demos.HSP.html#68834" class="Function">sp𝔽A</a> <a id="69152" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="69154" href="Demos.HSP.html#68996" class="Function">lAimg𝔽A</a>

</pre>

The converse inclusion, `V 𝒦 ⊆ Mod (Th (V 𝒦))`, is a simple consequence of the
fact that `Mod Th` is a closure operator. Nonetheless, completeness demands
that we formalize this inclusion as well, however trivial the proof.

<pre class="Agda">

 <a id="69415" class="Keyword">module</a> <a id="69422" href="Demos.HSP.html#69422" class="Module">_</a> <a id="69424" class="Symbol">{</a><a id="69425" href="Demos.HSP.html#69425" class="Bound">𝑨</a> <a id="69427" class="Symbol">:</a> <a id="69429" href="Demos.HSP.html#10277" class="Record">Algebra</a> <a id="69437" href="Demos.HSP.html#68519" class="Bound">α</a> <a id="69439" href="Demos.HSP.html#68521" class="Bound">ρᵃ</a><a id="69441" class="Symbol">}</a> <a id="69443" class="Keyword">where</a>
  <a id="69451" class="Keyword">open</a> <a id="69456" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="69463" href="Demos.HSP.html#11098" class="Function Operator">𝔻[</a> <a id="69466" href="Demos.HSP.html#69425" class="Bound">𝑨</a> <a id="69468" href="Demos.HSP.html#11098" class="Function Operator">]</a> <a id="69470" class="Keyword">using</a> <a id="69476" class="Symbol">()</a> <a id="69479" class="Keyword">renaming</a> <a id="69488" class="Symbol">(</a> <a id="69490" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="69498" class="Symbol">to</a> <a id="69501" class="Field">A</a> <a id="69503" class="Symbol">)</a>

  <a id="69508" href="Demos.HSP.html#69508" class="Function">Birkhoff-converse</a> <a id="69526" class="Symbol">:</a> <a id="69528" href="Demos.HSP.html#69425" class="Bound">𝑨</a> <a id="69530" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="69532" href="Demos.HSP.html#47681" class="Function">V</a><a id="69533" class="Symbol">{</a><a id="69534" href="Demos.HSP.html#68519" class="Bound">α</a><a id="69535" class="Symbol">}{</a><a id="69537" href="Demos.HSP.html#68521" class="Bound">ρᵃ</a><a id="69539" class="Symbol">}{</a><a id="69541" href="Demos.HSP.html#68519" class="Bound">α</a><a id="69542" class="Symbol">}{</a><a id="69544" href="Demos.HSP.html#68521" class="Bound">ρᵃ</a><a id="69546" class="Symbol">}{</a><a id="69548" href="Demos.HSP.html#68519" class="Bound">α</a><a id="69549" class="Symbol">}{</a><a id="69551" href="Demos.HSP.html#68521" class="Bound">ρᵃ</a><a id="69553" class="Symbol">}</a> <a id="69555" href="Demos.HSP.html#68538" class="Bound">ℓ</a> <a id="69557" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="69559" href="Demos.HSP.html#68502" class="Bound">𝒦</a> <a id="69561" class="Symbol">→</a> <a id="69563" href="Demos.HSP.html#69425" class="Bound">𝑨</a> <a id="69565" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="69567" href="Demos.HSP.html#42576" class="Function">Mod</a><a id="69570" class="Symbol">{</a><a id="69571" class="Argument">X</a> <a id="69573" class="Symbol">=</a> <a id="69575" href="Demos.HSP.html#69501" class="Function">A</a><a id="69576" class="Symbol">}</a> <a id="69578" class="Symbol">(</a><a id="69579" href="Demos.HSP.html#42475" class="Function">Th</a> <a id="69582" class="Symbol">(</a><a id="69583" href="Demos.HSP.html#47681" class="Function">V</a> <a id="69585" href="Demos.HSP.html#68538" class="Bound">ℓ</a> <a id="69587" href="Demos.HSP.html#68559" class="Function">ι</a> <a id="69589" href="Demos.HSP.html#68502" class="Bound">𝒦</a><a id="69590" class="Symbol">))</a>
  <a id="69595" href="Demos.HSP.html#69508" class="Function">Birkhoff-converse</a> <a id="69613" href="Demos.HSP.html#69613" class="Bound">vA</a> <a id="69616" href="Demos.HSP.html#69616" class="Bound">pThq</a> <a id="69621" class="Symbol">=</a> <a id="69623" href="Demos.HSP.html#69616" class="Bound">pThq</a> <a id="69628" href="Demos.HSP.html#69425" class="Bound">𝑨</a> <a id="69630" href="Demos.HSP.html#69613" class="Bound">vA</a>

</pre>

We have thus proved that every variety is an equational class.

Readers familiar with the classical formulation of the Birkhoff HSP theorem as an
"if and only if" assertion might worry that the proof is still incomplete. However,
recall that in the [Varieties.Func.Preservation][] module we proved the following
identity preservation lemma:

`V-id1 : 𝒦 ⊫ p ≈̇ q → V 𝒦 ⊫ p ≈̇ q`

Thus, if `𝒦` is an equational class---that is, if 𝒦 is the class of algebras
satisfying all identities in some set---then `V 𝒦` ⊆ 𝒦`.  On the other hand, we
proved that `V` is expansive in the [Varieties.Func.Closure][] module:

`V-expa : 𝒦 ⊆ V 𝒦`

so `𝒦` (= `V 𝒦` = `HSP 𝒦`) is a variety.

Taken together, `V-id1` and `V-expa` constitute formal proof that every equational
class is a variety.

This completes the formal proof of Birkhoff's variety theorem.

--------------------------------

<span style="float:left;">[← Varieties.Func.FreeAlgebras](Varieties.Func.FreeAlgebras.html)</span>
<span style="float:right;">[Structures →](Structures.html)</span>

{% include UALib.Links.md %}

