---
layout: default
title : "Terms.Operations module (The Agda Universal Algebra Library)"
date : "2021-01-14"
author: "agda-algebras development team"
---

### <a id="term-operations">Term Operations</a>

This section presents the [Terms.Operations][] module of the [Agda Universal Algebra Library][].

Here we define *term operations* which are simply terms interpreted in a particular algebra, and we prove some compatibility properties of term operations.

<pre class="Agda">

<a id="476" class="Symbol">{-#</a> <a id="480" class="Keyword">OPTIONS</a> <a id="488" class="Pragma">--without-K</a> <a id="500" class="Pragma">--exact-split</a> <a id="514" class="Pragma">--safe</a> <a id="521" class="Symbol">#-}</a>

<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Algebras.Basic.html" class="Module">Algebras.Basic</a>

<a id="554" class="Keyword">module</a> <a id="561" href="Terms.Operations.html" class="Module">Terms.Operations</a> <a id="578" class="Symbol">{</a><a id="579" href="Terms.Operations.html#579" class="Bound">𝑆</a> <a id="581" class="Symbol">:</a> <a id="583" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="593" href="Algebras.Basic.html#1130" class="Generalizable">𝓞</a> <a id="595" href="Algebras.Basic.html#1132" class="Generalizable">𝓥</a><a id="596" class="Symbol">}</a> <a id="598" class="Keyword">where</a>

<a id="605" class="Comment">-- Imports from Agda and the Agda Standard Library ---------------------</a>
<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="705" class="Keyword">using</a> <a id="711" class="Symbol">(</a> <a id="713" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="717" class="Symbol">;</a> <a id="719" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="724" class="Symbol">;</a> <a id="726" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="732" class="Symbol">)</a> <a id="734" class="Keyword">renaming</a> <a id="743" class="Symbol">(</a> <a id="745" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="749" class="Symbol">to</a> <a id="752" class="Primitive">Type</a> <a id="757" class="Symbol">)</a>
<a id="759" class="Keyword">open</a> <a id="764" class="Keyword">import</a> <a id="771" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                           <a id="833" class="Keyword">using</a> <a id="839" class="Symbol">()</a> <a id="842" class="Keyword">renaming</a> <a id="851" class="Symbol">(</a><a id="852" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="867" class="Symbol">to</a> <a id="870" class="Function">funext</a><a id="876" class="Symbol">)</a>
<a id="878" class="Keyword">open</a> <a id="883" class="Keyword">import</a> <a id="890" href="Data.Product.html" class="Module">Data.Product</a>   <a id="905" class="Keyword">using</a> <a id="911" class="Symbol">(</a> <a id="913" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="917" class="Symbol">;</a> <a id="919" href="Data.Product.html#916" class="Function">Σ-syntax</a> <a id="928" class="Symbol">;</a> <a id="930" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="932" class="Symbol">)</a>
<a id="934" class="Keyword">open</a> <a id="939" class="Keyword">import</a> <a id="946" href="Function.Base.html" class="Module">Function.Base</a>  <a id="961" class="Keyword">using</a> <a id="967" class="Symbol">(</a> <a id="969" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="973" class="Symbol">)</a>
<a id="975" class="Keyword">open</a> <a id="980" class="Keyword">import</a> <a id="987" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                           <a id="1052" class="Keyword">using</a> <a id="1058" class="Symbol">(</a> <a id="1060" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="1064" class="Symbol">;</a> <a id="1066" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1071" class="Symbol">;</a> <a id="1073" class="Keyword">module</a> <a id="1080" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a> <a id="1092" class="Symbol">;</a> <a id="1094" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="1098" class="Symbol">;</a> <a id="1100" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1105" class="Symbol">)</a>

<a id="1108" class="Comment">-- Imports from Agda Universal Algebra Library ----------------------------------------------</a>
<a id="1202" class="Keyword">open</a> <a id="1207" class="Keyword">import</a> <a id="1214" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>       <a id="1243" class="Keyword">using</a> <a id="1249" class="Symbol">(</a> <a id="1251" href="Overture.Preliminaries.html#5410" class="Function Operator">_∙_</a> <a id="1255" class="Symbol">;</a> <a id="1257" href="Overture.Preliminaries.html#5086" class="Function Operator">_⁻¹</a> <a id="1261" class="Symbol">;</a> <a id="1263" href="Overture.Preliminaries.html#4383" class="Function Operator">∣_∣</a> <a id="1267" class="Symbol">;</a> <a id="1269" href="Overture.Preliminaries.html#4421" class="Function Operator">∥_∥</a> <a id="1273" class="Symbol">;</a> <a id="1275" href="Overture.Preliminaries.html#6099" class="Function">Π</a> <a id="1277" class="Symbol">;</a> <a id="1279" href="Overture.Preliminaries.html#6179" class="Function">Π-syntax</a> <a id="1288" class="Symbol">;</a> <a id="1290" href="Overture.Preliminaries.html#9744" class="Function Operator">_≈_</a> <a id="1294" class="Symbol">)</a>
<a id="1296" class="Keyword">open</a> <a id="1301" class="Keyword">import</a> <a id="1308" href="Relations.Discrete.html" class="Module">Relations.Discrete</a>           <a id="1337" class="Keyword">using</a> <a id="1343" class="Symbol">(</a> <a id="1345" href="Relations.Discrete.html#7001" class="Function Operator">_|:_</a> <a id="1350" class="Symbol">)</a>
<a id="1352" class="Keyword">open</a> <a id="1357" class="Keyword">import</a> <a id="1364" href="Equality.Welldefined.html" class="Module">Equality.Welldefined</a>         <a id="1393" class="Keyword">using</a> <a id="1399" class="Symbol">(</a> <a id="1401" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="1410" class="Symbol">)</a>
<a id="1412" class="Keyword">open</a> <a id="1417" class="Keyword">import</a> <a id="1424" href="Algebras.Products.html" class="Module">Algebras.Products</a>    <a id="1445" class="Symbol">{</a><a id="1446" class="Argument">𝑆</a> <a id="1448" class="Symbol">=</a> <a id="1450" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="1451" class="Symbol">}</a> <a id="1453" class="Keyword">using</a> <a id="1459" class="Symbol">(</a> <a id="1461" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="1464" class="Symbol">;</a> <a id="1466" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="1468" class="Symbol">)</a>
<a id="1470" class="Keyword">open</a> <a id="1475" class="Keyword">import</a> <a id="1482" href="Algebras.Congruences.html" class="Module">Algebras.Congruences</a> <a id="1503" class="Symbol">{</a><a id="1504" class="Argument">𝑆</a> <a id="1506" class="Symbol">=</a> <a id="1508" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="1509" class="Symbol">}</a> <a id="1511" class="Keyword">using</a> <a id="1517" class="Symbol">(</a> <a id="1519" href="Algebras.Congruences.html#1986" class="Function">Con</a> <a id="1523" class="Symbol">;</a> <a id="1525" href="Algebras.Congruences.html#1800" class="Record">IsCongruence</a><a id="1537" class="Symbol">)</a>
<a id="1539" class="Keyword">open</a> <a id="1544" class="Keyword">import</a> <a id="1551" href="Homomorphisms.Basic.html" class="Module">Homomorphisms.Basic</a>  <a id="1572" class="Symbol">{</a><a id="1573" class="Argument">𝑆</a> <a id="1575" class="Symbol">=</a> <a id="1577" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="1578" class="Symbol">}</a> <a id="1580" class="Keyword">using</a> <a id="1586" class="Symbol">(</a> <a id="1588" href="Homomorphisms.Basic.html#2647" class="Function">hom</a> <a id="1592" class="Symbol">)</a>
<a id="1594" class="Keyword">open</a> <a id="1599" class="Keyword">import</a> <a id="1606" href="Terms.Basic.html" class="Module">Terms.Basic</a>          <a id="1627" class="Symbol">{</a><a id="1628" class="Argument">𝑆</a> <a id="1630" class="Symbol">=</a> <a id="1632" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="1633" class="Symbol">}</a> <a id="1635" class="Keyword">using</a> <a id="1641" class="Symbol">(</a> <a id="1643" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="1648" class="Symbol">;</a> <a id="1650" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="1652" class="Symbol">)</a>
<a id="1654" class="Keyword">open</a> <a id="1659" class="Keyword">import</a> <a id="1666" href="Terms.Properties.html" class="Module">Terms.Properties</a>     <a id="1687" class="Symbol">{</a><a id="1688" class="Argument">𝑆</a> <a id="1690" class="Symbol">=</a> <a id="1692" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="1693" class="Symbol">}</a> <a id="1695" class="Keyword">using</a> <a id="1701" class="Symbol">(</a> <a id="1703" href="Terms.Properties.html#2529" class="Function">free-lift</a> <a id="1713" class="Symbol">)</a>

<a id="1716" class="Keyword">open</a> <a id="1721" href="Terms.Basic.html#1991" class="Module">Term</a>

<a id="1727" class="Keyword">private</a> <a id="1735" class="Keyword">variable</a> <a id="1744" href="Terms.Operations.html#1744" class="Generalizable">α</a> <a id="1746" href="Terms.Operations.html#1746" class="Generalizable">β</a> <a id="1748" href="Terms.Operations.html#1748" class="Generalizable">γ</a> <a id="1750" href="Terms.Operations.html#1750" class="Generalizable">ρ</a> <a id="1752" href="Terms.Operations.html#1752" class="Generalizable">χ</a> <a id="1754" class="Symbol">:</a> <a id="1756" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>

When we interpret a term in an algebra we call the resulting function a *term operation*.  Given a term `p` and an algebra `𝑨`, we denote by `𝑨 ⟦ p ⟧` the *interpretation* of `p` in `𝑨`.  This is defined inductively as follows.

1. If `p` is a variable symbol `x : X` and if `a : X → ∣ 𝑨 ∣` is a tuple of elements of `∣ 𝑨 ∣`, then `𝑨 ⟦ p ⟧ a := a x`.

2. If `p = f t`, where `f : ∣ 𝑆 ∣` is an operation symbol, if `t : ∥ 𝑆 ∥ f → 𝑻 X` is a tuple of terms, and if `a : X → ∣ 𝑨 ∣` is a tuple from `𝑨`, then we define `𝑨 ⟦ p ⟧ a = 𝑨 ⟦ f t ⟧ a := (f ̂ 𝑨) (λ i → 𝑨 ⟦ t i ⟧ a)`.

Thus the interpretation of a term is defined by induction on the structure of the term, and the definition is formally implemented in the [agda-algebras](https://github.com/ualib/agda-algebras) library as follows.

<pre class="Agda">

<a id="_⟦_⟧"></a><a id="2577" href="Terms.Operations.html#2577" class="Function Operator">_⟦_⟧</a> <a id="2582" class="Symbol">:</a> <a id="2584" class="Symbol">(</a><a id="2585" href="Terms.Operations.html#2585" class="Bound">𝑨</a> <a id="2587" class="Symbol">:</a> <a id="2589" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="2597" href="Terms.Operations.html#1744" class="Generalizable">α</a> <a id="2599" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="2600" class="Symbol">){</a><a id="2602" href="Terms.Operations.html#2602" class="Bound">X</a> <a id="2604" class="Symbol">:</a> <a id="2606" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="2611" href="Terms.Operations.html#1752" class="Generalizable">χ</a> <a id="2613" class="Symbol">}</a> <a id="2615" class="Symbol">→</a> <a id="2617" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2622" href="Terms.Operations.html#2602" class="Bound">X</a> <a id="2624" class="Symbol">→</a> <a id="2626" class="Symbol">(</a><a id="2627" href="Terms.Operations.html#2602" class="Bound">X</a> <a id="2629" class="Symbol">→</a> <a id="2631" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="2633" href="Terms.Operations.html#2585" class="Bound">𝑨</a> <a id="2635" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="2636" class="Symbol">)</a> <a id="2638" class="Symbol">→</a> <a id="2640" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="2642" href="Terms.Operations.html#2585" class="Bound">𝑨</a> <a id="2644" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a>
<a id="2646" href="Terms.Operations.html#2646" class="Bound">𝑨</a> <a id="2648" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="2650" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="2652" href="Terms.Operations.html#2652" class="Bound">x</a> <a id="2654" href="Terms.Operations.html#2577" class="Function Operator">⟧</a> <a id="2656" class="Symbol">=</a> <a id="2658" class="Symbol">λ</a> <a id="2660" href="Terms.Operations.html#2660" class="Bound">η</a> <a id="2662" class="Symbol">→</a> <a id="2664" href="Terms.Operations.html#2660" class="Bound">η</a> <a id="2666" href="Terms.Operations.html#2652" class="Bound">x</a>
<a id="2668" href="Terms.Operations.html#2668" class="Bound">𝑨</a> <a id="2670" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="2672" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="2677" href="Terms.Operations.html#2677" class="Bound">f</a> <a id="2679" href="Terms.Operations.html#2679" class="Bound">t</a> <a id="2681" href="Terms.Operations.html#2577" class="Function Operator">⟧</a> <a id="2683" class="Symbol">=</a> <a id="2685" class="Symbol">λ</a> <a id="2687" href="Terms.Operations.html#2687" class="Bound">η</a> <a id="2689" class="Symbol">→</a> <a id="2691" class="Symbol">(</a><a id="2692" href="Terms.Operations.html#2677" class="Bound">f</a> <a id="2694" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="2696" href="Terms.Operations.html#2668" class="Bound">𝑨</a><a id="2697" class="Symbol">)</a> <a id="2699" class="Symbol">(λ</a> <a id="2702" href="Terms.Operations.html#2702" class="Bound">i</a> <a id="2704" class="Symbol">→</a> <a id="2706" class="Symbol">(</a><a id="2707" href="Terms.Operations.html#2668" class="Bound">𝑨</a> <a id="2709" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="2711" href="Terms.Operations.html#2679" class="Bound">t</a> <a id="2713" href="Terms.Operations.html#2702" class="Bound">i</a> <a id="2715" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="2716" class="Symbol">)</a> <a id="2718" href="Terms.Operations.html#2687" class="Bound">η</a><a id="2719" class="Symbol">)</a>

</pre>

It turns out that the intepretation of a term is the same as the `free-lift` (modulo argument order and assuming function extensionality).

<pre class="Agda">

<a id="free-lift-interp"></a><a id="2888" href="Terms.Operations.html#2888" class="Function">free-lift-interp</a> <a id="2905" class="Symbol">:</a> <a id="2907" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="2916" href="Terms.Operations.html#595" class="Bound">𝓥</a> <a id="2918" href="Terms.Operations.html#1744" class="Generalizable">α</a> <a id="2920" class="Symbol">→</a> <a id="2922" class="Symbol">(</a><a id="2923" href="Terms.Operations.html#2923" class="Bound">𝑨</a> <a id="2925" class="Symbol">:</a> <a id="2927" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="2935" href="Terms.Operations.html#1744" class="Generalizable">α</a> <a id="2937" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="2938" class="Symbol">){</a><a id="2940" href="Terms.Operations.html#2940" class="Bound">X</a> <a id="2942" class="Symbol">:</a> <a id="2944" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="2949" href="Terms.Operations.html#1752" class="Generalizable">χ</a> <a id="2951" class="Symbol">}(</a><a id="2953" href="Terms.Operations.html#2953" class="Bound">η</a> <a id="2955" class="Symbol">:</a> <a id="2957" href="Terms.Operations.html#2940" class="Bound">X</a> <a id="2959" class="Symbol">→</a> <a id="2961" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="2963" href="Terms.Operations.html#2923" class="Bound">𝑨</a> <a id="2965" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="2966" class="Symbol">)(</a><a id="2968" href="Terms.Operations.html#2968" class="Bound">p</a> <a id="2970" class="Symbol">:</a> <a id="2972" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2977" href="Terms.Operations.html#2940" class="Bound">X</a><a id="2978" class="Symbol">)</a>
 <a id="2981" class="Symbol">→</a>                 <a id="2999" class="Symbol">(</a><a id="3000" href="Terms.Operations.html#2923" class="Bound">𝑨</a> <a id="3002" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="3004" href="Terms.Operations.html#2968" class="Bound">p</a> <a id="3006" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="3007" class="Symbol">)</a> <a id="3009" href="Terms.Operations.html#2953" class="Bound">η</a> <a id="3011" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3013" class="Symbol">(</a><a id="3014" href="Terms.Properties.html#2529" class="Function">free-lift</a> <a id="3024" href="Terms.Operations.html#2923" class="Bound">𝑨</a> <a id="3026" href="Terms.Operations.html#2953" class="Bound">η</a><a id="3027" class="Symbol">)</a> <a id="3029" href="Terms.Operations.html#2968" class="Bound">p</a>

<a id="3032" href="Terms.Operations.html#2888" class="Function">free-lift-interp</a> <a id="3049" class="Symbol">_</a> <a id="3051" href="Terms.Operations.html#3051" class="Bound">𝑨</a> <a id="3053" href="Terms.Operations.html#3053" class="Bound">η</a> <a id="3055" class="Symbol">(</a><a id="3056" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="3058" href="Terms.Operations.html#3058" class="Bound">x</a><a id="3059" class="Symbol">)</a> <a id="3061" class="Symbol">=</a> <a id="3063" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3068" href="Terms.Operations.html#2888" class="Function">free-lift-interp</a> <a id="3085" href="Terms.Operations.html#3085" class="Bound">wd</a> <a id="3088" href="Terms.Operations.html#3088" class="Bound">𝑨</a> <a id="3090" href="Terms.Operations.html#3090" class="Bound">η</a> <a id="3092" class="Symbol">(</a><a id="3093" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="3098" href="Terms.Operations.html#3098" class="Bound">f</a> <a id="3100" href="Terms.Operations.html#3100" class="Bound">t</a><a id="3101" class="Symbol">)</a> <a id="3103" class="Symbol">=</a> <a id="3105" href="Terms.Operations.html#3085" class="Bound">wd</a> <a id="3108" class="Symbol">(</a><a id="3109" href="Terms.Operations.html#3098" class="Bound">f</a> <a id="3111" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="3113" href="Terms.Operations.html#3088" class="Bound">𝑨</a><a id="3114" class="Symbol">)</a> <a id="3116" class="Symbol">(λ</a> <a id="3119" href="Terms.Operations.html#3119" class="Bound">z</a> <a id="3121" class="Symbol">→</a> <a id="3123" class="Symbol">(</a><a id="3124" href="Terms.Operations.html#3088" class="Bound">𝑨</a> <a id="3126" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="3128" href="Terms.Operations.html#3100" class="Bound">t</a> <a id="3130" href="Terms.Operations.html#3119" class="Bound">z</a> <a id="3132" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="3133" class="Symbol">)</a> <a id="3135" href="Terms.Operations.html#3090" class="Bound">η</a><a id="3136" class="Symbol">)</a>
                                       <a id="3177" class="Symbol">((</a><a id="3179" href="Terms.Properties.html#2529" class="Function">free-lift</a> <a id="3189" href="Terms.Operations.html#3088" class="Bound">𝑨</a> <a id="3191" href="Terms.Operations.html#3090" class="Bound">η</a><a id="3192" class="Symbol">)</a> <a id="3194" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3196" href="Terms.Operations.html#3100" class="Bound">t</a><a id="3197" class="Symbol">)((</a><a id="3200" href="Terms.Operations.html#2888" class="Function">free-lift-interp</a> <a id="3217" href="Terms.Operations.html#3085" class="Bound">wd</a> <a id="3220" href="Terms.Operations.html#3088" class="Bound">𝑨</a> <a id="3222" href="Terms.Operations.html#3090" class="Bound">η</a><a id="3223" class="Symbol">)</a> <a id="3225" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3227" href="Terms.Operations.html#3100" class="Bound">t</a><a id="3228" class="Symbol">)</a>

</pre>

If the algebra in question happens to be `𝑻 X`, then we expect that `∀ s` we have `(𝑻 X)⟦ p ⟧ s ≡ p s`. But what is `(𝑻 X)⟦ p ⟧ s` exactly? By definition, it depends on the form of `p` as follows:

* if `p = ℊ x`, then `(𝑻 X)⟦ p ⟧ s := (𝑻 X)⟦ ℊ x ⟧ s ≡ s x`

* if `p = node f t`, then `(𝑻 X)⟦ p ⟧ s := (𝑻 X)⟦ node f t ⟧ s = (f ̂ 𝑻 X) λ i → (𝑻 X)⟦ t i ⟧ s`

Now, assume `ϕ : hom 𝑻 𝑨`. Then by `comm-hom-term`, we have `∣ ϕ ∣ (𝑻 X)⟦ p ⟧ s = 𝑨 ⟦ p ⟧ ∣ ϕ ∣ ∘ s`.

* if `p = ℊ x` (and `t : X → ∣ 𝑻 X ∣`), then

  `∣ ϕ ∣ p ≡ ∣ ϕ ∣ (ℊ x) ≡ ∣ ϕ ∣ (λ t → h t) ≡ λ t → (∣ ϕ ∣ ∘ t) x`

* if `p = node f t`, then

   ∣ ϕ ∣ p ≡ ∣ ϕ ∣ (𝑻 X)⟦ p ⟧ s = (𝑻 X)⟦ node f t ⟧ s = (f ̂ 𝑻 X) λ i → (𝑻 X)⟦ t i ⟧ s

We claim that for all `p : Term X` there exists `q : Term X` and `t : X → ∣ 𝑻 X ∣` such that `p ≡ (𝑻 X)⟦ q ⟧ t`. We prove this fact as follows.

<pre class="Agda">

<a id="term-interp"></a><a id="4092" href="Terms.Operations.html#4092" class="Function">term-interp</a> <a id="4104" class="Symbol">:</a> <a id="4106" class="Symbol">{</a><a id="4107" href="Terms.Operations.html#4107" class="Bound">X</a> <a id="4109" class="Symbol">:</a> <a id="4111" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="4116" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="4117" class="Symbol">}</a> <a id="4119" class="Symbol">(</a><a id="4120" href="Terms.Operations.html#4120" class="Bound">f</a> <a id="4122" class="Symbol">:</a> <a id="4124" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4126" href="Terms.Operations.html#579" class="Bound">𝑆</a> <a id="4128" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="4129" class="Symbol">){</a><a id="4131" href="Terms.Operations.html#4131" class="Bound">s</a> <a id="4133" href="Terms.Operations.html#4133" class="Bound">t</a> <a id="4135" class="Symbol">:</a> <a id="4137" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="4139" href="Terms.Operations.html#579" class="Bound">𝑆</a> <a id="4141" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="4143" href="Terms.Operations.html#4120" class="Bound">f</a> <a id="4145" class="Symbol">→</a> <a id="4147" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="4152" href="Terms.Operations.html#4107" class="Bound">X</a><a id="4153" class="Symbol">}</a> <a id="4155" class="Symbol">→</a> <a id="4157" href="Terms.Operations.html#4131" class="Bound">s</a> <a id="4159" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4161" href="Terms.Operations.html#4133" class="Bound">t</a> <a id="4163" class="Symbol">→</a> <a id="4165" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4170" href="Terms.Operations.html#4120" class="Bound">f</a> <a id="4172" href="Terms.Operations.html#4131" class="Bound">s</a> <a id="4174" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4176" class="Symbol">(</a><a id="4177" href="Terms.Operations.html#4120" class="Bound">f</a> <a id="4179" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="4181" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4183" href="Terms.Operations.html#4107" class="Bound">X</a><a id="4184" class="Symbol">)</a> <a id="4186" href="Terms.Operations.html#4133" class="Bound">t</a>
<a id="4188" href="Terms.Operations.html#4092" class="Function">term-interp</a> <a id="4200" href="Terms.Operations.html#4200" class="Bound">f</a> <a id="4202" class="Symbol">{</a><a id="4203" href="Terms.Operations.html#4203" class="Bound">s</a><a id="4204" class="Symbol">}{</a><a id="4206" href="Terms.Operations.html#4206" class="Bound">t</a><a id="4207" class="Symbol">}</a> <a id="4209" href="Terms.Operations.html#4209" class="Bound">st</a> <a id="4212" class="Symbol">=</a> <a id="4214" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4219" class="Symbol">(</a><a id="4220" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4225" href="Terms.Operations.html#4200" class="Bound">f</a><a id="4226" class="Symbol">)</a> <a id="4228" href="Terms.Operations.html#4209" class="Bound">st</a>

<a id="term-interp&#39;"></a><a id="4232" href="Terms.Operations.html#4232" class="Function">term-interp&#39;</a> <a id="4245" class="Symbol">:</a> <a id="4247" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="4256" href="Terms.Operations.html#595" class="Bound">𝓥</a> <a id="4258" class="Symbol">(</a><a id="4259" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="4262" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="4263" class="Symbol">)</a> <a id="4265" class="Symbol">→</a> <a id="4267" class="Symbol">{</a><a id="4268" href="Terms.Operations.html#4268" class="Bound">X</a> <a id="4270" class="Symbol">:</a> <a id="4272" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="4277" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="4278" class="Symbol">}</a> <a id="4280" class="Symbol">(</a><a id="4281" href="Terms.Operations.html#4281" class="Bound">f</a> <a id="4283" class="Symbol">:</a> <a id="4285" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4287" href="Terms.Operations.html#579" class="Bound">𝑆</a> <a id="4289" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="4290" class="Symbol">){</a><a id="4292" href="Terms.Operations.html#4292" class="Bound">s</a> <a id="4294" href="Terms.Operations.html#4294" class="Bound">t</a> <a id="4296" class="Symbol">:</a> <a id="4298" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="4300" href="Terms.Operations.html#579" class="Bound">𝑆</a> <a id="4302" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="4304" href="Terms.Operations.html#4281" class="Bound">f</a> <a id="4306" class="Symbol">→</a> <a id="4308" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="4313" href="Terms.Operations.html#4268" class="Bound">X</a><a id="4314" class="Symbol">}</a>
 <a id="4317" class="Symbol">→</a>             <a id="4331" class="Symbol">(∀</a> <a id="4334" href="Terms.Operations.html#4334" class="Bound">i</a> <a id="4336" class="Symbol">→</a> <a id="4338" href="Terms.Operations.html#4292" class="Bound">s</a> <a id="4340" href="Terms.Operations.html#4334" class="Bound">i</a> <a id="4342" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4344" href="Terms.Operations.html#4294" class="Bound">t</a> <a id="4346" href="Terms.Operations.html#4334" class="Bound">i</a><a id="4347" class="Symbol">)</a> <a id="4349" class="Symbol">→</a> <a id="4351" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4356" href="Terms.Operations.html#4281" class="Bound">f</a> <a id="4358" href="Terms.Operations.html#4292" class="Bound">s</a> <a id="4360" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4362" class="Symbol">(</a><a id="4363" href="Terms.Operations.html#4281" class="Bound">f</a> <a id="4365" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="4367" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4369" href="Terms.Operations.html#4268" class="Bound">X</a><a id="4370" class="Symbol">)</a> <a id="4372" href="Terms.Operations.html#4294" class="Bound">t</a>
<a id="4374" href="Terms.Operations.html#4232" class="Function">term-interp&#39;</a> <a id="4387" href="Terms.Operations.html#4387" class="Bound">wd</a> <a id="4390" href="Terms.Operations.html#4390" class="Bound">f</a> <a id="4392" class="Symbol">{</a><a id="4393" href="Terms.Operations.html#4393" class="Bound">s</a><a id="4394" class="Symbol">}{</a><a id="4396" href="Terms.Operations.html#4396" class="Bound">t</a><a id="4397" class="Symbol">}</a> <a id="4399" href="Terms.Operations.html#4399" class="Bound">st</a> <a id="4402" class="Symbol">=</a> <a id="4404" href="Terms.Operations.html#4387" class="Bound">wd</a> <a id="4407" class="Symbol">(</a><a id="4408" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4413" href="Terms.Operations.html#4390" class="Bound">f</a><a id="4414" class="Symbol">)</a> <a id="4416" href="Terms.Operations.html#4393" class="Bound">s</a> <a id="4418" href="Terms.Operations.html#4396" class="Bound">t</a> <a id="4420" href="Terms.Operations.html#4399" class="Bound">st</a>

<a id="term-gen"></a><a id="4424" href="Terms.Operations.html#4424" class="Function">term-gen</a> <a id="4433" class="Symbol">:</a> <a id="4435" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="4444" href="Terms.Operations.html#595" class="Bound">𝓥</a> <a id="4446" class="Symbol">(</a><a id="4447" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="4450" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="4451" class="Symbol">)</a> <a id="4453" class="Symbol">→</a> <a id="4455" class="Symbol">{</a><a id="4456" href="Terms.Operations.html#4456" class="Bound">X</a> <a id="4458" class="Symbol">:</a> <a id="4460" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="4465" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="4466" class="Symbol">}(</a><a id="4468" href="Terms.Operations.html#4468" class="Bound">p</a> <a id="4470" class="Symbol">:</a> <a id="4472" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4474" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4476" href="Terms.Operations.html#4456" class="Bound">X</a> <a id="4478" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="4479" class="Symbol">)</a> <a id="4481" class="Symbol">→</a> <a id="4483" href="Data.Product.html#916" class="Function">Σ[</a> <a id="4486" href="Terms.Operations.html#4486" class="Bound">q</a> <a id="4488" href="Data.Product.html#916" class="Function">∈</a> <a id="4490" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4492" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4494" href="Terms.Operations.html#4456" class="Bound">X</a> <a id="4496" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4498" href="Data.Product.html#916" class="Function">]</a> <a id="4500" href="Terms.Operations.html#4468" class="Bound">p</a> <a id="4502" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4504" class="Symbol">(</a><a id="4505" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4507" href="Terms.Operations.html#4456" class="Bound">X</a> <a id="4509" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="4511" href="Terms.Operations.html#4486" class="Bound">q</a> <a id="4513" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="4514" class="Symbol">)</a> <a id="4516" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a>
<a id="4518" href="Terms.Operations.html#4424" class="Function">term-gen</a> <a id="4527" class="Symbol">_</a> <a id="4529" class="Symbol">(</a><a id="4530" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="4532" href="Terms.Operations.html#4532" class="Bound">x</a><a id="4533" class="Symbol">)</a> <a id="4535" class="Symbol">=</a> <a id="4537" class="Symbol">(</a><a id="4538" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="4540" href="Terms.Operations.html#4532" class="Bound">x</a><a id="4541" class="Symbol">)</a> <a id="4543" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4545" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4550" href="Terms.Operations.html#4424" class="Function">term-gen</a> <a id="4559" href="Terms.Operations.html#4559" class="Bound">wd</a> <a id="4562" class="Symbol">(</a><a id="4563" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4568" href="Terms.Operations.html#4568" class="Bound">f</a> <a id="4570" href="Terms.Operations.html#4570" class="Bound">t</a><a id="4571" class="Symbol">)</a> <a id="4573" class="Symbol">=</a> <a id="4575" class="Symbol">(</a><a id="4576" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4581" href="Terms.Operations.html#4568" class="Bound">f</a> <a id="4583" class="Symbol">(λ</a> <a id="4586" href="Terms.Operations.html#4586" class="Bound">i</a> <a id="4588" class="Symbol">→</a> <a id="4590" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4592" href="Terms.Operations.html#4424" class="Function">term-gen</a> <a id="4601" href="Terms.Operations.html#4559" class="Bound">wd</a> <a id="4604" class="Symbol">(</a><a id="4605" href="Terms.Operations.html#4570" class="Bound">t</a> <a id="4607" href="Terms.Operations.html#4586" class="Bound">i</a><a id="4608" class="Symbol">)</a> <a id="4610" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="4611" class="Symbol">))</a> <a id="4614" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a>
                         <a id="4641" href="Terms.Operations.html#4232" class="Function">term-interp&#39;</a> <a id="4654" href="Terms.Operations.html#4559" class="Bound">wd</a> <a id="4657" href="Terms.Operations.html#4568" class="Bound">f</a> <a id="4659" class="Symbol">λ</a> <a id="4661" href="Terms.Operations.html#4661" class="Bound">i</a> <a id="4663" class="Symbol">→</a> <a id="4665" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="4667" href="Terms.Operations.html#4424" class="Function">term-gen</a> <a id="4676" href="Terms.Operations.html#4559" class="Bound">wd</a> <a id="4679" class="Symbol">(</a><a id="4680" href="Terms.Operations.html#4570" class="Bound">t</a> <a id="4682" href="Terms.Operations.html#4661" class="Bound">i</a><a id="4683" class="Symbol">)</a> <a id="4685" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a>

<a id="term-gen-agreement"></a><a id="4688" href="Terms.Operations.html#4688" class="Function">term-gen-agreement</a> <a id="4707" class="Symbol">:</a> <a id="4709" class="Symbol">(</a><a id="4710" href="Terms.Operations.html#4710" class="Bound">wd</a> <a id="4713" class="Symbol">:</a> <a id="4715" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="4724" href="Terms.Operations.html#595" class="Bound">𝓥</a> <a id="4726" class="Symbol">(</a><a id="4727" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="4730" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="4731" class="Symbol">)){</a><a id="4734" href="Terms.Operations.html#4734" class="Bound">X</a> <a id="4736" class="Symbol">:</a> <a id="4738" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="4743" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="4744" class="Symbol">}(</a><a id="4746" href="Terms.Operations.html#4746" class="Bound">p</a> <a id="4748" class="Symbol">:</a> <a id="4750" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4752" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4754" href="Terms.Operations.html#4734" class="Bound">X</a> <a id="4756" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="4757" class="Symbol">)</a> <a id="4759" class="Symbol">→</a> <a id="4761" class="Symbol">(</a><a id="4762" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4764" href="Terms.Operations.html#4734" class="Bound">X</a> <a id="4766" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="4768" href="Terms.Operations.html#4746" class="Bound">p</a> <a id="4770" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="4771" class="Symbol">)</a> <a id="4773" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="4775" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4777" class="Symbol">(</a><a id="4778" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4780" href="Terms.Operations.html#4734" class="Bound">X</a> <a id="4782" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="4784" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4786" href="Terms.Operations.html#4424" class="Function">term-gen</a> <a id="4795" href="Terms.Operations.html#4710" class="Bound">wd</a> <a id="4798" href="Terms.Operations.html#4746" class="Bound">p</a> <a id="4800" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4802" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="4803" class="Symbol">)</a> <a id="4805" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a>
<a id="4807" href="Terms.Operations.html#4688" class="Function">term-gen-agreement</a> <a id="4826" class="Symbol">_</a> <a id="4828" class="Symbol">(</a><a id="4829" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="4831" href="Terms.Operations.html#4831" class="Bound">x</a><a id="4832" class="Symbol">)</a> <a id="4834" class="Symbol">=</a> <a id="4836" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4841" href="Terms.Operations.html#4688" class="Function">term-gen-agreement</a> <a id="4860" href="Terms.Operations.html#4860" class="Bound">wd</a> <a id="4863" class="Symbol">{</a><a id="4864" href="Terms.Operations.html#4864" class="Bound">X</a><a id="4865" class="Symbol">}</a> <a id="4867" class="Symbol">(</a><a id="4868" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4873" href="Terms.Operations.html#4873" class="Bound">f</a> <a id="4875" href="Terms.Operations.html#4875" class="Bound">t</a><a id="4876" class="Symbol">)</a> <a id="4878" class="Symbol">=</a> <a id="4880" href="Terms.Operations.html#4860" class="Bound">wd</a> <a id="4883" class="Symbol">(</a><a id="4884" href="Terms.Operations.html#4873" class="Bound">f</a> <a id="4886" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="4888" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4890" href="Terms.Operations.html#4864" class="Bound">X</a><a id="4891" class="Symbol">)</a> <a id="4893" class="Symbol">(λ</a> <a id="4896" href="Terms.Operations.html#4896" class="Bound">x</a> <a id="4898" class="Symbol">→</a> <a id="4900" class="Symbol">(</a><a id="4901" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4903" href="Terms.Operations.html#4864" class="Bound">X</a> <a id="4905" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="4907" href="Terms.Operations.html#4875" class="Bound">t</a> <a id="4909" href="Terms.Operations.html#4896" class="Bound">x</a> <a id="4911" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="4912" class="Symbol">)</a> <a id="4914" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a><a id="4915" class="Symbol">)</a>
                                          <a id="4959" class="Symbol">(λ</a> <a id="4962" href="Terms.Operations.html#4962" class="Bound">x</a> <a id="4964" class="Symbol">→</a> <a id="4966" class="Symbol">(</a><a id="4967" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="4969" href="Terms.Operations.html#4864" class="Bound">X</a> <a id="4971" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="4973" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4975" href="Terms.Operations.html#4424" class="Function">term-gen</a> <a id="4984" href="Terms.Operations.html#4860" class="Bound">wd</a> <a id="4987" class="Symbol">(</a><a id="4988" href="Terms.Operations.html#4875" class="Bound">t</a> <a id="4990" href="Terms.Operations.html#4962" class="Bound">x</a><a id="4991" class="Symbol">)</a> <a id="4993" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="4995" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="4996" class="Symbol">)</a> <a id="4998" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a><a id="4999" class="Symbol">)</a> <a id="5001" class="Symbol">λ</a> <a id="5003" href="Terms.Operations.html#5003" class="Bound">i</a> <a id="5005" class="Symbol">→</a> <a id="5007" href="Terms.Operations.html#4688" class="Function">term-gen-agreement</a> <a id="5026" href="Terms.Operations.html#4860" class="Bound">wd</a> <a id="5029" class="Symbol">(</a><a id="5030" href="Terms.Operations.html#4875" class="Bound">t</a> <a id="5032" href="Terms.Operations.html#5003" class="Bound">i</a><a id="5033" class="Symbol">)</a>

<a id="term-agreement"></a><a id="5036" href="Terms.Operations.html#5036" class="Function">term-agreement</a> <a id="5051" class="Symbol">:</a> <a id="5053" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="5062" href="Terms.Operations.html#595" class="Bound">𝓥</a> <a id="5064" class="Symbol">(</a><a id="5065" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="5068" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="5069" class="Symbol">)</a> <a id="5071" class="Symbol">→</a> <a id="5073" class="Symbol">{</a><a id="5074" href="Terms.Operations.html#5074" class="Bound">X</a> <a id="5076" class="Symbol">:</a> <a id="5078" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="5083" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="5084" class="Symbol">}(</a><a id="5086" href="Terms.Operations.html#5086" class="Bound">p</a> <a id="5088" class="Symbol">:</a> <a id="5090" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="5092" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="5094" href="Terms.Operations.html#5074" class="Bound">X</a> <a id="5096" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="5097" class="Symbol">)</a> <a id="5099" class="Symbol">→</a> <a id="5101" href="Terms.Operations.html#5086" class="Bound">p</a> <a id="5103" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a>  <a id="5106" class="Symbol">(</a><a id="5107" href="Terms.Basic.html#3263" class="Function">𝑻</a> <a id="5109" href="Terms.Operations.html#5074" class="Bound">X</a> <a id="5111" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="5113" href="Terms.Operations.html#5086" class="Bound">p</a> <a id="5115" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="5116" class="Symbol">)</a> <a id="5118" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a>
<a id="5120" href="Terms.Operations.html#5036" class="Function">term-agreement</a> <a id="5135" href="Terms.Operations.html#5135" class="Bound">wd</a> <a id="5138" class="Symbol">{</a><a id="5139" href="Terms.Operations.html#5139" class="Bound">X</a><a id="5140" class="Symbol">}</a> <a id="5142" href="Terms.Operations.html#5142" class="Bound">p</a> <a id="5144" class="Symbol">=</a> <a id="5146" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="5148" href="Terms.Operations.html#4424" class="Function">term-gen</a> <a id="5157" href="Terms.Operations.html#5135" class="Bound">wd</a> <a id="5160" href="Terms.Operations.html#5142" class="Bound">p</a> <a id="5162" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="5164" href="Overture.Preliminaries.html#5410" class="Function Operator">∙</a> <a id="5166" class="Symbol">(</a><a id="5167" href="Terms.Operations.html#4688" class="Function">term-gen-agreement</a> <a id="5186" href="Terms.Operations.html#5135" class="Bound">wd</a> <a id="5189" href="Terms.Operations.html#5142" class="Bound">p</a><a id="5190" class="Symbol">)</a><a id="5191" href="Overture.Preliminaries.html#5086" class="Function Operator">⁻¹</a>


</pre>



#### <a id="interpretation-of-terms-in-product-algebras">Interpretation of terms in product algebras</a>

<pre class="Agda">

<a id="5330" class="Keyword">module</a> <a id="5337" href="Terms.Operations.html#5337" class="Module">_</a> <a id="5339" class="Symbol">(</a><a id="5340" href="Terms.Operations.html#5340" class="Bound">wd</a> <a id="5343" class="Symbol">:</a> <a id="5345" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="5354" href="Terms.Operations.html#595" class="Bound">𝓥</a> <a id="5356" class="Symbol">(</a><a id="5357" href="Terms.Operations.html#1746" class="Generalizable">β</a> <a id="5359" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5361" href="Terms.Operations.html#1744" class="Generalizable">α</a><a id="5362" class="Symbol">)){</a><a id="5365" href="Terms.Operations.html#5365" class="Bound">X</a> <a id="5367" class="Symbol">:</a> <a id="5369" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="5374" href="Terms.Operations.html#1752" class="Generalizable">χ</a> <a id="5376" class="Symbol">}{</a><a id="5378" href="Terms.Operations.html#5378" class="Bound">I</a> <a id="5380" class="Symbol">:</a> <a id="5382" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="5387" href="Terms.Operations.html#1746" class="Generalizable">β</a><a id="5388" class="Symbol">}</a> <a id="5390" class="Keyword">where</a>

 <a id="5398" href="Terms.Operations.html#5398" class="Function">interp-prod</a> <a id="5410" class="Symbol">:</a> <a id="5412" class="Symbol">(</a><a id="5413" href="Terms.Operations.html#5413" class="Bound">p</a> <a id="5415" class="Symbol">:</a> <a id="5417" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="5422" href="Terms.Operations.html#5365" class="Bound">X</a><a id="5423" class="Symbol">)(</a><a id="5425" href="Terms.Operations.html#5425" class="Bound">𝒜</a> <a id="5427" class="Symbol">:</a> <a id="5429" href="Terms.Operations.html#5378" class="Bound">I</a> <a id="5431" class="Symbol">→</a> <a id="5433" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="5441" href="Terms.Operations.html#5361" class="Bound">α</a> <a id="5443" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="5444" class="Symbol">)(</a><a id="5446" href="Terms.Operations.html#5446" class="Bound">a</a> <a id="5448" class="Symbol">:</a> <a id="5450" href="Terms.Operations.html#5365" class="Bound">X</a> <a id="5452" class="Symbol">→</a> <a id="5454" href="Overture.Preliminaries.html#6179" class="Function">Π[</a> <a id="5457" href="Terms.Operations.html#5457" class="Bound">i</a> <a id="5459" href="Overture.Preliminaries.html#6179" class="Function">∈</a> <a id="5461" href="Terms.Operations.html#5378" class="Bound">I</a> <a id="5463" href="Overture.Preliminaries.html#6179" class="Function">]</a> <a id="5465" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="5467" href="Terms.Operations.html#5425" class="Bound">𝒜</a> <a id="5469" href="Terms.Operations.html#5457" class="Bound">i</a> <a id="5471" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="5472" class="Symbol">)</a>
  <a id="5476" class="Symbol">→</a>            <a id="5489" class="Symbol">(</a><a id="5490" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="5492" href="Terms.Operations.html#5425" class="Bound">𝒜</a> <a id="5494" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="5496" href="Terms.Operations.html#5413" class="Bound">p</a> <a id="5498" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="5499" class="Symbol">)</a> <a id="5501" href="Terms.Operations.html#5446" class="Bound">a</a> <a id="5503" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5505" class="Symbol">λ</a> <a id="5507" href="Terms.Operations.html#5507" class="Bound">i</a> <a id="5509" class="Symbol">→</a> <a id="5511" class="Symbol">(</a><a id="5512" href="Terms.Operations.html#5425" class="Bound">𝒜</a> <a id="5514" href="Terms.Operations.html#5507" class="Bound">i</a> <a id="5516" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="5518" href="Terms.Operations.html#5413" class="Bound">p</a> <a id="5520" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="5521" class="Symbol">)(λ</a> <a id="5525" href="Terms.Operations.html#5525" class="Bound">x</a> <a id="5527" class="Symbol">→</a> <a id="5529" class="Symbol">(</a><a id="5530" href="Terms.Operations.html#5446" class="Bound">a</a> <a id="5532" href="Terms.Operations.html#5525" class="Bound">x</a><a id="5533" class="Symbol">)</a> <a id="5535" href="Terms.Operations.html#5507" class="Bound">i</a><a id="5536" class="Symbol">)</a>

 <a id="5540" href="Terms.Operations.html#5398" class="Function">interp-prod</a> <a id="5552" class="Symbol">(</a><a id="5553" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="5555" class="Symbol">_)</a> <a id="5558" href="Terms.Operations.html#5558" class="Bound">𝒜</a> <a id="5560" href="Terms.Operations.html#5560" class="Bound">a</a> <a id="5562" class="Symbol">=</a> <a id="5564" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
 <a id="5570" href="Terms.Operations.html#5398" class="Function">interp-prod</a> <a id="5582" class="Symbol">(</a><a id="5583" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="5588" href="Terms.Operations.html#5588" class="Bound">f</a> <a id="5590" href="Terms.Operations.html#5590" class="Bound">t</a><a id="5591" class="Symbol">)</a> <a id="5593" href="Terms.Operations.html#5593" class="Bound">𝒜</a> <a id="5595" href="Terms.Operations.html#5595" class="Bound">a</a> <a id="5597" class="Symbol">=</a> <a id="5599" href="Terms.Operations.html#5340" class="Bound">wd</a> <a id="5602" class="Symbol">((</a><a id="5604" href="Terms.Operations.html#5588" class="Bound">f</a> <a id="5606" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="5608" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="5610" href="Terms.Operations.html#5593" class="Bound">𝒜</a><a id="5611" class="Symbol">))</a> <a id="5614" href="Terms.Operations.html#5631" class="Function">u</a> <a id="5616" href="Terms.Operations.html#5679" class="Function">v</a> <a id="5618" href="Terms.Operations.html#5742" class="Function">IH</a>
  <a id="5623" class="Keyword">where</a>
  <a id="5631" href="Terms.Operations.html#5631" class="Function">u</a> <a id="5633" class="Symbol">:</a> <a id="5635" class="Symbol">∀</a> <a id="5637" href="Terms.Operations.html#5637" class="Bound">x</a> <a id="5639" class="Symbol">→</a> <a id="5641" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="5643" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="5645" href="Terms.Operations.html#5593" class="Bound">𝒜</a> <a id="5647" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a>
  <a id="5651" href="Terms.Operations.html#5631" class="Function">u</a> <a id="5653" class="Symbol">=</a> <a id="5655" class="Symbol">λ</a> <a id="5657" href="Terms.Operations.html#5657" class="Bound">x</a> <a id="5659" class="Symbol">→</a> <a id="5661" class="Symbol">(</a><a id="5662" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="5664" href="Terms.Operations.html#5593" class="Bound">𝒜</a> <a id="5666" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="5668" href="Terms.Operations.html#5590" class="Bound">t</a> <a id="5670" href="Terms.Operations.html#5657" class="Bound">x</a> <a id="5672" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="5673" class="Symbol">)</a> <a id="5675" href="Terms.Operations.html#5595" class="Bound">a</a>
  <a id="5679" href="Terms.Operations.html#5679" class="Function">v</a> <a id="5681" class="Symbol">:</a> <a id="5683" class="Symbol">∀</a> <a id="5685" href="Terms.Operations.html#5685" class="Bound">x</a> <a id="5687" href="Terms.Operations.html#5687" class="Bound">i</a> <a id="5689" class="Symbol">→</a> <a id="5691" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="5693" href="Terms.Operations.html#5593" class="Bound">𝒜</a> <a id="5695" href="Terms.Operations.html#5687" class="Bound">i</a> <a id="5697" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a>
  <a id="5701" href="Terms.Operations.html#5679" class="Function">v</a> <a id="5703" class="Symbol">=</a> <a id="5705" class="Symbol">λ</a> <a id="5707" href="Terms.Operations.html#5707" class="Bound">x</a> <a id="5709" href="Terms.Operations.html#5709" class="Bound">i</a> <a id="5711" class="Symbol">→</a> <a id="5713" class="Symbol">(</a><a id="5714" href="Terms.Operations.html#5593" class="Bound">𝒜</a> <a id="5716" href="Terms.Operations.html#5709" class="Bound">i</a> <a id="5718" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="5720" href="Terms.Operations.html#5590" class="Bound">t</a> <a id="5722" href="Terms.Operations.html#5707" class="Bound">x</a> <a id="5724" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="5725" class="Symbol">)(λ</a> <a id="5729" href="Terms.Operations.html#5729" class="Bound">j</a> <a id="5731" class="Symbol">→</a> <a id="5733" href="Terms.Operations.html#5595" class="Bound">a</a> <a id="5735" href="Terms.Operations.html#5729" class="Bound">j</a> <a id="5737" href="Terms.Operations.html#5709" class="Bound">i</a><a id="5738" class="Symbol">)</a>
  <a id="5742" href="Terms.Operations.html#5742" class="Function">IH</a> <a id="5745" class="Symbol">:</a> <a id="5747" class="Symbol">∀</a> <a id="5749" href="Terms.Operations.html#5749" class="Bound">i</a> <a id="5751" class="Symbol">→</a> <a id="5753" href="Terms.Operations.html#5631" class="Function">u</a> <a id="5755" href="Terms.Operations.html#5749" class="Bound">i</a> <a id="5757" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5759" href="Terms.Operations.html#5679" class="Function">v</a> <a id="5761" href="Terms.Operations.html#5749" class="Bound">i</a>
  <a id="5765" href="Terms.Operations.html#5742" class="Function">IH</a> <a id="5768" class="Symbol">=</a> <a id="5770" class="Symbol">λ</a> <a id="5772" href="Terms.Operations.html#5772" class="Bound">x</a> <a id="5774" class="Symbol">→</a> <a id="5776" href="Terms.Operations.html#5398" class="Function">interp-prod</a> <a id="5788" class="Symbol">(</a><a id="5789" href="Terms.Operations.html#5590" class="Bound">t</a> <a id="5791" href="Terms.Operations.html#5772" class="Bound">x</a><a id="5792" class="Symbol">)</a> <a id="5794" href="Terms.Operations.html#5593" class="Bound">𝒜</a> <a id="5796" href="Terms.Operations.html#5595" class="Bound">a</a>

 <a id="5800" href="Terms.Operations.html#5800" class="Function">interp-prod2</a> <a id="5813" class="Symbol">:</a> <a id="5815" href="Terms.Operations.html#870" class="Function">funext</a> <a id="5822" class="Symbol">(</a><a id="5823" href="Terms.Operations.html#5361" class="Bound">α</a> <a id="5825" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5827" href="Terms.Operations.html#5357" class="Bound">β</a> <a id="5829" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5831" href="Terms.Operations.html#5374" class="Bound">χ</a><a id="5832" class="Symbol">)</a> <a id="5834" class="Symbol">(</a><a id="5835" href="Terms.Operations.html#5361" class="Bound">α</a> <a id="5837" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5839" href="Terms.Operations.html#5357" class="Bound">β</a><a id="5840" class="Symbol">)</a> <a id="5842" class="Symbol">→</a> <a id="5844" class="Symbol">(</a><a id="5845" href="Terms.Operations.html#5845" class="Bound">p</a> <a id="5847" class="Symbol">:</a> <a id="5849" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="5854" href="Terms.Operations.html#5365" class="Bound">X</a><a id="5855" class="Symbol">)(</a><a id="5857" href="Terms.Operations.html#5857" class="Bound">𝒜</a> <a id="5859" class="Symbol">:</a> <a id="5861" href="Terms.Operations.html#5378" class="Bound">I</a> <a id="5863" class="Symbol">→</a> <a id="5865" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="5873" href="Terms.Operations.html#5361" class="Bound">α</a> <a id="5875" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="5876" class="Symbol">)</a>
  <a id="5880" class="Symbol">→</a>             <a id="5894" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="5896" href="Terms.Operations.html#5857" class="Bound">𝒜</a> <a id="5898" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="5900" href="Terms.Operations.html#5845" class="Bound">p</a> <a id="5902" href="Terms.Operations.html#2577" class="Function Operator">⟧</a> <a id="5904" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5906" class="Symbol">(λ</a> <a id="5909" href="Terms.Operations.html#5909" class="Bound">a</a> <a id="5911" href="Terms.Operations.html#5911" class="Bound">i</a> <a id="5913" class="Symbol">→</a> <a id="5915" class="Symbol">(</a><a id="5916" href="Terms.Operations.html#5857" class="Bound">𝒜</a> <a id="5918" href="Terms.Operations.html#5911" class="Bound">i</a> <a id="5920" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="5922" href="Terms.Operations.html#5845" class="Bound">p</a> <a id="5924" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="5925" class="Symbol">)</a> <a id="5927" class="Symbol">λ</a> <a id="5929" href="Terms.Operations.html#5929" class="Bound">x</a> <a id="5931" class="Symbol">→</a> <a id="5933" href="Terms.Operations.html#5909" class="Bound">a</a> <a id="5935" href="Terms.Operations.html#5929" class="Bound">x</a> <a id="5937" href="Terms.Operations.html#5911" class="Bound">i</a><a id="5938" class="Symbol">)</a>
 <a id="5941" href="Terms.Operations.html#5800" class="Function">interp-prod2</a> <a id="5954" class="Symbol">_</a> <a id="5956" class="Symbol">(</a><a id="5957" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="5959" href="Terms.Operations.html#5959" class="Bound">x₁</a><a id="5961" class="Symbol">)</a> <a id="5963" href="Terms.Operations.html#5963" class="Bound">𝒜</a> <a id="5965" class="Symbol">=</a> <a id="5967" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
 <a id="5973" href="Terms.Operations.html#5800" class="Function">interp-prod2</a> <a id="5986" href="Terms.Operations.html#5986" class="Bound">fe</a> <a id="5989" class="Symbol">(</a><a id="5990" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="5995" href="Terms.Operations.html#5995" class="Bound">f</a> <a id="5997" href="Terms.Operations.html#5997" class="Bound">t</a><a id="5998" class="Symbol">)</a> <a id="6000" href="Terms.Operations.html#6000" class="Bound">𝒜</a> <a id="6002" class="Symbol">=</a> <a id="6004" href="Terms.Operations.html#5986" class="Bound">fe</a> <a id="6007" class="Symbol">λ</a> <a id="6009" href="Terms.Operations.html#6009" class="Bound">a</a> <a id="6011" class="Symbol">→</a> <a id="6013" href="Terms.Operations.html#5340" class="Bound">wd</a> <a id="6016" class="Symbol">(</a><a id="6017" href="Terms.Operations.html#5995" class="Bound">f</a> <a id="6019" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="6021" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="6023" href="Terms.Operations.html#6000" class="Bound">𝒜</a><a id="6024" class="Symbol">)(</a><a id="6026" href="Terms.Operations.html#6054" class="Function">u</a> <a id="6028" href="Terms.Operations.html#6009" class="Bound">a</a><a id="6029" class="Symbol">)</a> <a id="6031" class="Symbol">(</a><a id="6032" href="Terms.Operations.html#6106" class="Function">v</a> <a id="6034" href="Terms.Operations.html#6009" class="Bound">a</a><a id="6035" class="Symbol">)</a> <a id="6037" class="Symbol">(</a><a id="6038" href="Terms.Operations.html#6195" class="Function">IH</a> <a id="6041" href="Terms.Operations.html#6009" class="Bound">a</a><a id="6042" class="Symbol">)</a>
  <a id="6046" class="Keyword">where</a>
  <a id="6054" href="Terms.Operations.html#6054" class="Function">u</a> <a id="6056" class="Symbol">:</a> <a id="6058" class="Symbol">∀</a> <a id="6060" href="Terms.Operations.html#6060" class="Bound">a</a> <a id="6062" href="Terms.Operations.html#6062" class="Bound">x</a> <a id="6064" class="Symbol">→</a> <a id="6066" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="6068" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="6070" href="Terms.Operations.html#6000" class="Bound">𝒜</a> <a id="6072" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a>
  <a id="6076" href="Terms.Operations.html#6054" class="Function">u</a> <a id="6078" href="Terms.Operations.html#6078" class="Bound">a</a> <a id="6080" class="Symbol">=</a> <a id="6082" class="Symbol">λ</a> <a id="6084" href="Terms.Operations.html#6084" class="Bound">x</a> <a id="6086" class="Symbol">→</a> <a id="6088" class="Symbol">(</a><a id="6089" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="6091" href="Terms.Operations.html#6000" class="Bound">𝒜</a> <a id="6093" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="6095" href="Terms.Operations.html#5997" class="Bound">t</a> <a id="6097" href="Terms.Operations.html#6084" class="Bound">x</a> <a id="6099" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="6100" class="Symbol">)</a> <a id="6102" href="Terms.Operations.html#6078" class="Bound">a</a>
  <a id="6106" href="Terms.Operations.html#6106" class="Function">v</a> <a id="6108" class="Symbol">:</a> <a id="6110" class="Symbol">∀</a> <a id="6112" class="Symbol">(</a><a id="6113" href="Terms.Operations.html#6113" class="Bound">a</a> <a id="6115" class="Symbol">:</a> <a id="6117" href="Terms.Operations.html#5365" class="Bound">X</a> <a id="6119" class="Symbol">→</a> <a id="6121" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="6123" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="6125" href="Terms.Operations.html#6000" class="Bound">𝒜</a> <a id="6127" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="6128" class="Symbol">)</a> <a id="6130" class="Symbol">→</a> <a id="6132" class="Symbol">∀</a> <a id="6134" href="Terms.Operations.html#6134" class="Bound">x</a> <a id="6136" href="Terms.Operations.html#6136" class="Bound">i</a> <a id="6138" class="Symbol">→</a> <a id="6140" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="6142" href="Terms.Operations.html#6000" class="Bound">𝒜</a> <a id="6144" href="Terms.Operations.html#6136" class="Bound">i</a> <a id="6146" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a>
  <a id="6150" href="Terms.Operations.html#6106" class="Function">v</a> <a id="6152" href="Terms.Operations.html#6152" class="Bound">a</a> <a id="6154" class="Symbol">=</a> <a id="6156" class="Symbol">λ</a> <a id="6158" href="Terms.Operations.html#6158" class="Bound">x</a> <a id="6160" href="Terms.Operations.html#6160" class="Bound">i</a> <a id="6162" class="Symbol">→</a> <a id="6164" class="Symbol">(</a><a id="6165" href="Terms.Operations.html#6000" class="Bound">𝒜</a> <a id="6167" href="Terms.Operations.html#6160" class="Bound">i</a> <a id="6169" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="6171" href="Terms.Operations.html#5997" class="Bound">t</a> <a id="6173" href="Terms.Operations.html#6158" class="Bound">x</a> <a id="6175" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="6176" class="Symbol">)(λ</a> <a id="6180" href="Terms.Operations.html#6180" class="Bound">z</a> <a id="6182" class="Symbol">→</a> <a id="6184" class="Symbol">(</a><a id="6185" href="Terms.Operations.html#6152" class="Bound">a</a> <a id="6187" href="Terms.Operations.html#6180" class="Bound">z</a><a id="6188" class="Symbol">)</a> <a id="6190" href="Terms.Operations.html#6160" class="Bound">i</a><a id="6191" class="Symbol">)</a>
  <a id="6195" href="Terms.Operations.html#6195" class="Function">IH</a> <a id="6198" class="Symbol">:</a> <a id="6200" class="Symbol">∀</a> <a id="6202" href="Terms.Operations.html#6202" class="Bound">a</a> <a id="6204" href="Terms.Operations.html#6204" class="Bound">x</a> <a id="6206" class="Symbol">→</a> <a id="6208" class="Symbol">(</a><a id="6209" href="Algebras.Products.html#1869" class="Function">⨅</a> <a id="6211" href="Terms.Operations.html#6000" class="Bound">𝒜</a> <a id="6213" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="6215" href="Terms.Operations.html#5997" class="Bound">t</a> <a id="6217" href="Terms.Operations.html#6204" class="Bound">x</a> <a id="6219" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="6220" class="Symbol">)</a> <a id="6222" href="Terms.Operations.html#6202" class="Bound">a</a> <a id="6224" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6226" class="Symbol">λ</a> <a id="6228" href="Terms.Operations.html#6228" class="Bound">i</a> <a id="6230" class="Symbol">→</a> <a id="6232" class="Symbol">(</a><a id="6233" href="Terms.Operations.html#6000" class="Bound">𝒜</a> <a id="6235" href="Terms.Operations.html#6228" class="Bound">i</a> <a id="6237" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="6239" href="Terms.Operations.html#5997" class="Bound">t</a> <a id="6241" href="Terms.Operations.html#6204" class="Bound">x</a> <a id="6243" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="6244" class="Symbol">)(λ</a> <a id="6248" href="Terms.Operations.html#6248" class="Bound">z</a> <a id="6250" class="Symbol">→</a> <a id="6252" class="Symbol">(</a><a id="6253" href="Terms.Operations.html#6202" class="Bound">a</a> <a id="6255" href="Terms.Operations.html#6248" class="Bound">z</a><a id="6256" class="Symbol">)</a> <a id="6258" href="Terms.Operations.html#6228" class="Bound">i</a><a id="6259" class="Symbol">)</a>
  <a id="6263" href="Terms.Operations.html#6195" class="Function">IH</a> <a id="6266" href="Terms.Operations.html#6266" class="Bound">a</a> <a id="6268" class="Symbol">=</a> <a id="6270" class="Symbol">λ</a> <a id="6272" href="Terms.Operations.html#6272" class="Bound">x</a> <a id="6274" class="Symbol">→</a> <a id="6276" href="Terms.Operations.html#5398" class="Function">interp-prod</a> <a id="6288" class="Symbol">(</a><a id="6289" href="Terms.Operations.html#5997" class="Bound">t</a> <a id="6291" href="Terms.Operations.html#6272" class="Bound">x</a><a id="6292" class="Symbol">)</a> <a id="6294" href="Terms.Operations.html#6000" class="Bound">𝒜</a> <a id="6296" href="Terms.Operations.html#6266" class="Bound">a</a>

</pre>


#### <a id="compatibility-of-terms">Compatibility of terms</a>

We now prove two important facts about term operations.  The first of these, which is used very often in the sequel, asserts that every term commutes with every homomorphism.

<pre class="Agda">

<a id="6566" class="Keyword">open</a> <a id="6571" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>

<a id="comm-hom-term"></a><a id="6584" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="6598" class="Symbol">:</a> <a id="6600" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="6609" href="Terms.Operations.html#595" class="Bound">𝓥</a> <a id="6611" href="Terms.Operations.html#1746" class="Generalizable">β</a> <a id="6613" class="Symbol">→</a> <a id="6615" class="Symbol">{</a><a id="6616" href="Terms.Operations.html#6616" class="Bound">𝑨</a> <a id="6618" class="Symbol">:</a> <a id="6620" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="6628" href="Terms.Operations.html#1744" class="Generalizable">α</a> <a id="6630" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="6631" class="Symbol">}</a> <a id="6633" class="Symbol">(</a><a id="6634" href="Terms.Operations.html#6634" class="Bound">𝑩</a> <a id="6636" class="Symbol">:</a> <a id="6638" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="6646" href="Terms.Operations.html#1746" class="Generalizable">β</a> <a id="6648" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="6649" class="Symbol">)</a>
                <a id="6667" class="Symbol">(</a><a id="6668" href="Terms.Operations.html#6668" class="Bound">h</a> <a id="6670" class="Symbol">:</a> <a id="6672" href="Homomorphisms.Basic.html#2647" class="Function">hom</a> <a id="6676" href="Terms.Operations.html#6616" class="Bound">𝑨</a> <a id="6678" href="Terms.Operations.html#6634" class="Bound">𝑩</a><a id="6679" class="Symbol">){</a><a id="6681" href="Terms.Operations.html#6681" class="Bound">X</a> <a id="6683" class="Symbol">:</a> <a id="6685" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="6690" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="6691" class="Symbol">}(</a><a id="6693" href="Terms.Operations.html#6693" class="Bound">t</a> <a id="6695" class="Symbol">:</a> <a id="6697" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="6702" href="Terms.Operations.html#6681" class="Bound">X</a><a id="6703" class="Symbol">)</a> <a id="6705" class="Symbol">(</a><a id="6706" href="Terms.Operations.html#6706" class="Bound">a</a> <a id="6708" class="Symbol">:</a> <a id="6710" href="Terms.Operations.html#6681" class="Bound">X</a> <a id="6712" class="Symbol">→</a> <a id="6714" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="6716" href="Terms.Operations.html#6616" class="Bound">𝑨</a> <a id="6718" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="6719" class="Symbol">)</a>
                <a id="6737" class="Comment">-----------------------------------------</a>
  <a id="6781" class="Symbol">→</a>             <a id="6795" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="6797" href="Terms.Operations.html#6668" class="Bound">h</a> <a id="6799" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="6801" class="Symbol">((</a><a id="6803" href="Terms.Operations.html#6616" class="Bound">𝑨</a> <a id="6805" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="6807" href="Terms.Operations.html#6693" class="Bound">t</a> <a id="6809" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="6810" class="Symbol">)</a> <a id="6812" href="Terms.Operations.html#6706" class="Bound">a</a><a id="6813" class="Symbol">)</a> <a id="6815" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6817" class="Symbol">(</a><a id="6818" href="Terms.Operations.html#6634" class="Bound">𝑩</a> <a id="6820" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="6822" href="Terms.Operations.html#6693" class="Bound">t</a> <a id="6824" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="6825" class="Symbol">)</a> <a id="6827" class="Symbol">(</a><a id="6828" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="6830" href="Terms.Operations.html#6668" class="Bound">h</a> <a id="6832" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="6834" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="6836" href="Terms.Operations.html#6706" class="Bound">a</a><a id="6837" class="Symbol">)</a>

<a id="6840" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="6854" class="Symbol">_</a> <a id="6856" href="Terms.Operations.html#6856" class="Bound">𝑩</a> <a id="6858" href="Terms.Operations.html#6858" class="Bound">h</a> <a id="6860" class="Symbol">(</a><a id="6861" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="6863" href="Terms.Operations.html#6863" class="Bound">x</a><a id="6864" class="Symbol">)</a> <a id="6866" href="Terms.Operations.html#6866" class="Bound">a</a> <a id="6868" class="Symbol">=</a> <a id="6870" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="6875" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="6889" href="Terms.Operations.html#6889" class="Bound">wd</a> <a id="6892" class="Symbol">{</a><a id="6893" href="Terms.Operations.html#6893" class="Bound">𝑨</a><a id="6894" class="Symbol">}</a> <a id="6896" href="Terms.Operations.html#6896" class="Bound">𝑩</a> <a id="6898" href="Terms.Operations.html#6898" class="Bound">h</a> <a id="6900" class="Symbol">(</a><a id="6901" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="6906" href="Terms.Operations.html#6906" class="Bound">f</a> <a id="6908" href="Terms.Operations.html#6908" class="Bound">t</a><a id="6909" class="Symbol">)</a> <a id="6911" href="Terms.Operations.html#6911" class="Bound">a</a> <a id="6913" class="Symbol">=</a> <a id="6915" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="6917" href="Terms.Operations.html#6898" class="Bound">h</a> <a id="6919" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="6920" class="Symbol">((</a><a id="6922" href="Terms.Operations.html#6906" class="Bound">f</a> <a id="6924" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="6926" href="Terms.Operations.html#6893" class="Bound">𝑨</a><a id="6927" class="Symbol">)</a> <a id="6929" class="Symbol">λ</a> <a id="6931" href="Terms.Operations.html#6931" class="Bound">i</a> <a id="6933" class="Symbol">→</a>  <a id="6936" class="Symbol">(</a><a id="6937" href="Terms.Operations.html#6893" class="Bound">𝑨</a> <a id="6939" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="6941" href="Terms.Operations.html#6908" class="Bound">t</a> <a id="6943" href="Terms.Operations.html#6931" class="Bound">i</a> <a id="6945" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="6946" class="Symbol">)</a> <a id="6948" href="Terms.Operations.html#6911" class="Bound">a</a><a id="6949" class="Symbol">)</a>    <a id="6954" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="6957" href="Terms.Operations.html#7139" class="Function">i</a>  <a id="6960" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                         <a id="7003" class="Symbol">(</a><a id="7004" href="Terms.Operations.html#6906" class="Bound">f</a> <a id="7006" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="7008" href="Terms.Operations.html#6896" class="Bound">𝑩</a><a id="7009" class="Symbol">)(λ</a> <a id="7013" href="Terms.Operations.html#7013" class="Bound">i</a> <a id="7015" class="Symbol">→</a>  <a id="7018" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="7020" href="Terms.Operations.html#6898" class="Bound">h</a> <a id="7022" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="7024" class="Symbol">((</a><a id="7026" href="Terms.Operations.html#6893" class="Bound">𝑨</a> <a id="7028" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="7030" href="Terms.Operations.html#6908" class="Bound">t</a> <a id="7032" href="Terms.Operations.html#7013" class="Bound">i</a> <a id="7034" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="7035" class="Symbol">)</a> <a id="7037" href="Terms.Operations.html#6911" class="Bound">a</a><a id="7038" class="Symbol">))</a>  <a id="7042" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7045" href="Terms.Operations.html#7179" class="Function">ii</a> <a id="7048" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                         <a id="7091" class="Symbol">(</a><a id="7092" href="Terms.Operations.html#6906" class="Bound">f</a> <a id="7094" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="7096" href="Terms.Operations.html#6896" class="Bound">𝑩</a><a id="7097" class="Symbol">)(λ</a> <a id="7101" href="Terms.Operations.html#7101" class="Bound">r</a> <a id="7103" class="Symbol">→</a> <a id="7105" class="Symbol">(</a><a id="7106" href="Terms.Operations.html#6896" class="Bound">𝑩</a> <a id="7108" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="7110" href="Terms.Operations.html#6908" class="Bound">t</a> <a id="7112" href="Terms.Operations.html#7101" class="Bound">r</a> <a id="7114" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="7115" class="Symbol">)</a> <a id="7117" class="Symbol">(</a><a id="7118" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="7120" href="Terms.Operations.html#6898" class="Bound">h</a> <a id="7122" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="7124" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="7126" href="Terms.Operations.html#6911" class="Bound">a</a><a id="7127" class="Symbol">))</a> <a id="7130" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
 <a id="7133" class="Keyword">where</a> <a id="7139" href="Terms.Operations.html#7139" class="Function">i</a>  <a id="7142" class="Symbol">=</a> <a id="7144" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="7146" href="Terms.Operations.html#6898" class="Bound">h</a> <a id="7148" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="7150" href="Terms.Operations.html#6906" class="Bound">f</a> <a id="7152" class="Symbol">λ</a> <a id="7154" href="Terms.Operations.html#7154" class="Bound">r</a> <a id="7156" class="Symbol">→</a> <a id="7158" class="Symbol">(</a><a id="7159" href="Terms.Operations.html#6893" class="Bound">𝑨</a> <a id="7161" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="7163" href="Terms.Operations.html#6908" class="Bound">t</a> <a id="7165" href="Terms.Operations.html#7154" class="Bound">r</a> <a id="7167" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="7168" class="Symbol">)</a> <a id="7170" href="Terms.Operations.html#6911" class="Bound">a</a>
       <a id="7179" href="Terms.Operations.html#7179" class="Function">ii</a> <a id="7182" class="Symbol">=</a> <a id="7184" href="Terms.Operations.html#6889" class="Bound">wd</a> <a id="7187" class="Symbol">(</a><a id="7188" href="Terms.Operations.html#6906" class="Bound">f</a> <a id="7190" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="7192" href="Terms.Operations.html#6896" class="Bound">𝑩</a><a id="7193" class="Symbol">)</a> <a id="7195" class="Symbol">(λ</a> <a id="7198" href="Terms.Operations.html#7198" class="Bound">i₁</a> <a id="7201" class="Symbol">→</a> <a id="7203" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="7205" href="Terms.Operations.html#6898" class="Bound">h</a> <a id="7207" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="7209" class="Symbol">((</a><a id="7211" href="Terms.Operations.html#6893" class="Bound">𝑨</a> <a id="7213" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="7215" href="Terms.Operations.html#6908" class="Bound">t</a> <a id="7217" href="Terms.Operations.html#7198" class="Bound">i₁</a> <a id="7220" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="7221" class="Symbol">)</a> <a id="7223" href="Terms.Operations.html#6911" class="Bound">a</a><a id="7224" class="Symbol">))</a>
                       <a id="7250" class="Symbol">(λ</a> <a id="7253" href="Terms.Operations.html#7253" class="Bound">r</a> <a id="7255" class="Symbol">→</a> <a id="7257" class="Symbol">(</a><a id="7258" href="Terms.Operations.html#6896" class="Bound">𝑩</a> <a id="7260" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="7262" href="Terms.Operations.html#6908" class="Bound">t</a> <a id="7264" href="Terms.Operations.html#7253" class="Bound">r</a> <a id="7266" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="7267" class="Symbol">)</a> <a id="7269" class="Symbol">(λ</a> <a id="7272" href="Terms.Operations.html#7272" class="Bound">x</a> <a id="7274" class="Symbol">→</a> <a id="7276" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="7278" href="Terms.Operations.html#6898" class="Bound">h</a> <a id="7280" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="7282" class="Symbol">(</a><a id="7283" href="Terms.Operations.html#6911" class="Bound">a</a> <a id="7285" href="Terms.Operations.html#7272" class="Bound">x</a><a id="7286" class="Symbol">)))</a>
                       <a id="7313" class="Symbol">λ</a> <a id="7315" href="Terms.Operations.html#7315" class="Bound">j</a> <a id="7317" class="Symbol">→</a> <a id="7319" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="7333" href="Terms.Operations.html#6889" class="Bound">wd</a> <a id="7336" href="Terms.Operations.html#6896" class="Bound">𝑩</a> <a id="7338" href="Terms.Operations.html#6898" class="Bound">h</a> <a id="7340" class="Symbol">(</a><a id="7341" href="Terms.Operations.html#6908" class="Bound">t</a> <a id="7343" href="Terms.Operations.html#7315" class="Bound">j</a><a id="7344" class="Symbol">)</a> <a id="7346" href="Terms.Operations.html#6911" class="Bound">a</a>

</pre>

To conclude this module, we prove that every term is compatible with every congruence relation. That is, if `t : Term X` and `θ : Con 𝑨`, then `a θ b → t(a) θ t(b)`. (Recall, the compatibility relation `|:` was defined in [Relations.Discrete][].)

<pre class="Agda">


<a id="7624" class="Keyword">module</a> <a id="7631" href="Terms.Operations.html#7631" class="Module">_</a> <a id="7633" class="Symbol">{</a><a id="7634" href="Terms.Operations.html#7634" class="Bound">α</a> <a id="7636" href="Terms.Operations.html#7636" class="Bound">β</a> <a id="7638" class="Symbol">:</a> <a id="7640" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7645" class="Symbol">}{</a><a id="7647" href="Terms.Operations.html#7647" class="Bound">X</a> <a id="7649" class="Symbol">:</a> <a id="7651" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="7656" href="Terms.Operations.html#7634" class="Bound">α</a><a id="7657" class="Symbol">}</a> <a id="7659" class="Keyword">where</a>

 <a id="7667" class="Keyword">open</a> <a id="7672" href="Algebras.Congruences.html#1800" class="Module">IsCongruence</a>

 <a id="7687" href="Terms.Operations.html#7687" class="Function Operator">_∣:_</a> <a id="7692" class="Symbol">:</a> <a id="7694" class="Symbol">{</a><a id="7695" href="Terms.Operations.html#7695" class="Bound">𝑨</a> <a id="7697" class="Symbol">:</a> <a id="7699" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="7707" href="Terms.Operations.html#7634" class="Bound">α</a> <a id="7709" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="7710" class="Symbol">}(</a><a id="7712" href="Terms.Operations.html#7712" class="Bound">t</a> <a id="7714" class="Symbol">:</a> <a id="7716" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="7721" href="Terms.Operations.html#7647" class="Bound">X</a><a id="7722" class="Symbol">)(</a><a id="7724" href="Terms.Operations.html#7724" class="Bound">θ</a> <a id="7726" class="Symbol">:</a> <a id="7728" href="Algebras.Congruences.html#1986" class="Function">Con</a><a id="7731" class="Symbol">{</a><a id="7732" href="Terms.Operations.html#7634" class="Bound">α</a><a id="7733" class="Symbol">}{</a><a id="7735" href="Terms.Operations.html#7636" class="Bound">β</a><a id="7736" class="Symbol">}</a> <a id="7738" href="Terms.Operations.html#7695" class="Bound">𝑨</a><a id="7739" class="Symbol">)</a> <a id="7741" class="Symbol">→</a> <a id="7743" class="Symbol">(</a><a id="7744" href="Terms.Operations.html#7695" class="Bound">𝑨</a> <a id="7746" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="7748" href="Terms.Operations.html#7712" class="Bound">t</a> <a id="7750" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="7751" class="Symbol">)</a> <a id="7753" href="Relations.Discrete.html#7001" class="Function Operator">|:</a> <a id="7756" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="7758" href="Terms.Operations.html#7724" class="Bound">θ</a> <a id="7760" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a>
 <a id="7763" class="Symbol">((</a><a id="7765" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="7767" href="Terms.Operations.html#7767" class="Bound">x</a><a id="7768" class="Symbol">)</a> <a id="7770" href="Terms.Operations.html#7687" class="Function Operator">∣:</a> <a id="7773" href="Terms.Operations.html#7773" class="Bound">θ</a><a id="7774" class="Symbol">)</a> <a id="7776" href="Terms.Operations.html#7776" class="Bound">p</a> <a id="7778" class="Symbol">=</a> <a id="7780" href="Terms.Operations.html#7776" class="Bound">p</a> <a id="7782" href="Terms.Operations.html#7767" class="Bound">x</a>
 <a id="7785" class="Symbol">((</a><a id="7787" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="7792" href="Terms.Operations.html#7792" class="Bound">f</a> <a id="7794" href="Terms.Operations.html#7794" class="Bound">t</a><a id="7795" class="Symbol">)</a> <a id="7797" href="Terms.Operations.html#7687" class="Function Operator">∣:</a> <a id="7800" href="Terms.Operations.html#7800" class="Bound">θ</a><a id="7801" class="Symbol">)</a> <a id="7803" href="Terms.Operations.html#7803" class="Bound">p</a> <a id="7805" class="Symbol">=</a> <a id="7807" class="Symbol">(</a><a id="7808" href="Algebras.Congruences.html#1953" class="Field">is-compatible</a> <a id="7822" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="7824" href="Terms.Operations.html#7800" class="Bound">θ</a> <a id="7826" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a><a id="7827" class="Symbol">)</a> <a id="7829" href="Terms.Operations.html#7792" class="Bound">f</a> <a id="7831" class="Symbol">λ</a> <a id="7833" href="Terms.Operations.html#7833" class="Bound">x</a> <a id="7835" class="Symbol">→</a> <a id="7837" class="Symbol">((</a><a id="7839" href="Terms.Operations.html#7794" class="Bound">t</a> <a id="7841" href="Terms.Operations.html#7833" class="Bound">x</a><a id="7842" class="Symbol">)</a> <a id="7844" href="Terms.Operations.html#7687" class="Function Operator">∣:</a> <a id="7847" href="Terms.Operations.html#7800" class="Bound">θ</a><a id="7848" class="Symbol">)</a> <a id="7850" href="Terms.Operations.html#7803" class="Bound">p</a>

</pre>

**WARNING!** The compatibility relation for terms `∣:` is typed as \|:, whereas the compatibility type for functions `|:` (defined in the [Relations.Discrete][] module) is typed as `|:`.



#### <a id="substitution">Substitution</a>

A substitution from `Y` to `X` is simply a function from `Y` to `X`, and the application of a substitution is represented as follows.

<pre class="Agda">

<a id="_[_]"></a><a id="8248" href="Terms.Operations.html#8248" class="Function Operator">_[_]</a> <a id="8253" class="Symbol">:</a> <a id="8255" class="Symbol">{</a><a id="8256" href="Terms.Operations.html#8256" class="Bound">χ</a> <a id="8258" class="Symbol">:</a> <a id="8260" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8265" class="Symbol">}{</a><a id="8267" href="Terms.Operations.html#8267" class="Bound">X</a> <a id="8269" href="Terms.Operations.html#8269" class="Bound">Y</a> <a id="8271" class="Symbol">:</a> <a id="8273" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="8278" href="Terms.Operations.html#8256" class="Bound">χ</a><a id="8279" class="Symbol">}</a> <a id="8281" class="Symbol">→</a> <a id="8283" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="8288" href="Terms.Operations.html#8269" class="Bound">Y</a> <a id="8290" class="Symbol">→</a> <a id="8292" class="Symbol">(</a><a id="8293" href="Terms.Operations.html#8269" class="Bound">Y</a> <a id="8295" class="Symbol">→</a> <a id="8297" href="Terms.Operations.html#8267" class="Bound">X</a><a id="8298" class="Symbol">)</a> <a id="8300" class="Symbol">→</a> <a id="8302" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="8307" href="Terms.Operations.html#8267" class="Bound">X</a>
<a id="8309" class="Symbol">(</a><a id="8310" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="8312" href="Terms.Operations.html#8312" class="Bound">y</a><a id="8313" class="Symbol">)</a> <a id="8315" href="Terms.Operations.html#8248" class="Function Operator">[</a> <a id="8317" href="Terms.Operations.html#8317" class="Bound">σ</a> <a id="8319" href="Terms.Operations.html#8248" class="Function Operator">]</a> <a id="8321" class="Symbol">=</a> <a id="8323" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="8325" class="Symbol">(</a><a id="8326" href="Terms.Operations.html#8317" class="Bound">σ</a> <a id="8328" href="Terms.Operations.html#8312" class="Bound">y</a><a id="8329" class="Symbol">)</a>
<a id="8331" class="Symbol">(</a><a id="8332" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="8337" href="Terms.Operations.html#8337" class="Bound">f</a> <a id="8339" href="Terms.Operations.html#8339" class="Bound">t</a><a id="8340" class="Symbol">)</a>  <a id="8343" href="Terms.Operations.html#8248" class="Function Operator">[</a> <a id="8345" href="Terms.Operations.html#8345" class="Bound">σ</a> <a id="8347" href="Terms.Operations.html#8248" class="Function Operator">]</a> <a id="8349" class="Symbol">=</a> <a id="8351" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="8356" href="Terms.Operations.html#8337" class="Bound">f</a> <a id="8358" class="Symbol">λ</a> <a id="8360" href="Terms.Operations.html#8360" class="Bound">i</a> <a id="8362" class="Symbol">→</a> <a id="8364" href="Terms.Operations.html#8339" class="Bound">t</a> <a id="8366" href="Terms.Operations.html#8360" class="Bound">i</a> <a id="8368" href="Terms.Operations.html#8248" class="Function Operator">[</a> <a id="8370" href="Terms.Operations.html#8345" class="Bound">σ</a> <a id="8372" href="Terms.Operations.html#8248" class="Function Operator">]</a>

</pre>

Alternatively, we may want a substitution that replaces each variable symbol in `Y`, not with an element of `X`, but with a term from `Term X`.

<pre class="Agda">

<a id="8546" class="Comment">-- Substerm X Y, an inhabitant of which replaces each variable symbol in Y with a term from Term X.</a>
<a id="Substerm"></a><a id="8646" href="Terms.Operations.html#8646" class="Function">Substerm</a> <a id="8655" class="Symbol">:</a> <a id="8657" class="Symbol">(</a><a id="8658" href="Terms.Operations.html#8658" class="Bound">X</a> <a id="8660" href="Terms.Operations.html#8660" class="Bound">Y</a> <a id="8662" class="Symbol">:</a> <a id="8664" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="8669" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="8670" class="Symbol">)</a> <a id="8672" class="Symbol">→</a> <a id="8674" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="8679" class="Symbol">(</a><a id="8680" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="8683" href="Terms.Operations.html#1752" class="Generalizable">χ</a><a id="8684" class="Symbol">)</a>
<a id="8686" href="Terms.Operations.html#8646" class="Function">Substerm</a> <a id="8695" href="Terms.Operations.html#8695" class="Bound">X</a> <a id="8697" href="Terms.Operations.html#8697" class="Bound">Y</a> <a id="8699" class="Symbol">=</a> <a id="8701" class="Symbol">(</a><a id="8702" href="Terms.Operations.html#8702" class="Bound">y</a> <a id="8704" class="Symbol">:</a> <a id="8706" href="Terms.Operations.html#8697" class="Bound">Y</a><a id="8707" class="Symbol">)</a> <a id="8709" class="Symbol">→</a> <a id="8711" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="8716" href="Terms.Operations.html#8695" class="Bound">X</a>

<a id="8719" class="Comment">-- Application of a Substerm.</a>
<a id="_[_]t"></a><a id="8749" href="Terms.Operations.html#8749" class="Function Operator">_[_]t</a> <a id="8755" class="Symbol">:</a> <a id="8757" class="Symbol">{</a><a id="8758" href="Terms.Operations.html#8758" class="Bound">X</a> <a id="8760" href="Terms.Operations.html#8760" class="Bound">Y</a> <a id="8762" class="Symbol">:</a> <a id="8764" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="8769" href="Terms.Operations.html#1752" class="Generalizable">χ</a> <a id="8771" class="Symbol">}</a> <a id="8773" class="Symbol">→</a> <a id="8775" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="8780" href="Terms.Operations.html#8760" class="Bound">Y</a> <a id="8782" class="Symbol">→</a> <a id="8784" href="Terms.Operations.html#8646" class="Function">Substerm</a> <a id="8793" href="Terms.Operations.html#8758" class="Bound">X</a> <a id="8795" href="Terms.Operations.html#8760" class="Bound">Y</a> <a id="8797" class="Symbol">→</a> <a id="8799" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="8804" href="Terms.Operations.html#8758" class="Bound">X</a>
<a id="8806" class="Symbol">(</a><a id="8807" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="8809" href="Terms.Operations.html#8809" class="Bound">y</a><a id="8810" class="Symbol">)</a> <a id="8812" href="Terms.Operations.html#8749" class="Function Operator">[</a> <a id="8814" href="Terms.Operations.html#8814" class="Bound">σ</a> <a id="8816" href="Terms.Operations.html#8749" class="Function Operator">]t</a> <a id="8819" class="Symbol">=</a> <a id="8821" href="Terms.Operations.html#8814" class="Bound">σ</a> <a id="8823" href="Terms.Operations.html#8809" class="Bound">y</a>
<a id="8825" class="Symbol">(</a><a id="8826" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="8831" href="Terms.Operations.html#8831" class="Bound">f</a> <a id="8833" href="Terms.Operations.html#8833" class="Bound">t</a><a id="8834" class="Symbol">)</a> <a id="8836" href="Terms.Operations.html#8749" class="Function Operator">[</a> <a id="8838" href="Terms.Operations.html#8838" class="Bound">σ</a> <a id="8840" href="Terms.Operations.html#8749" class="Function Operator">]t</a> <a id="8843" class="Symbol">=</a> <a id="8845" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="8850" href="Terms.Operations.html#8831" class="Bound">f</a> <a id="8852" class="Symbol">(λ</a> <a id="8855" href="Terms.Operations.html#8855" class="Bound">z</a> <a id="8857" class="Symbol">→</a> <a id="8859" class="Symbol">(</a><a id="8860" href="Terms.Operations.html#8833" class="Bound">t</a> <a id="8862" href="Terms.Operations.html#8855" class="Bound">z</a><a id="8863" class="Symbol">)</a> <a id="8865" href="Terms.Operations.html#8749" class="Function Operator">[</a> <a id="8867" href="Terms.Operations.html#8838" class="Bound">σ</a> <a id="8869" href="Terms.Operations.html#8749" class="Function Operator">]t</a> <a id="8872" class="Symbol">)</a>

</pre>

Next we prove the important Substitution Theorem which asserts that an identity `p ≈ q` holds in an algebra `𝑨` iff it holds in `𝑨` after applying any substitution.

<pre class="Agda">


<a id="subst-lemma"></a><a id="9068" href="Terms.Operations.html#9068" class="Function">subst-lemma</a> <a id="9080" class="Symbol">:</a> <a id="9082" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="9091" href="Terms.Operations.html#595" class="Bound">𝓥</a> <a id="9093" href="Terms.Operations.html#1744" class="Generalizable">α</a> <a id="9095" class="Symbol">→</a> <a id="9097" class="Symbol">{</a><a id="9098" href="Terms.Operations.html#9098" class="Bound">X</a> <a id="9100" href="Terms.Operations.html#9100" class="Bound">Y</a> <a id="9102" class="Symbol">:</a> <a id="9104" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="9109" href="Terms.Operations.html#1752" class="Generalizable">χ</a> <a id="9111" class="Symbol">}(</a><a id="9113" href="Terms.Operations.html#9113" class="Bound">p</a> <a id="9115" class="Symbol">:</a> <a id="9117" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="9122" href="Terms.Operations.html#9100" class="Bound">Y</a><a id="9123" class="Symbol">)(</a><a id="9125" href="Terms.Operations.html#9125" class="Bound">σ</a> <a id="9127" class="Symbol">:</a> <a id="9129" href="Terms.Operations.html#9100" class="Bound">Y</a> <a id="9131" class="Symbol">→</a> <a id="9133" href="Terms.Operations.html#9098" class="Bound">X</a><a id="9134" class="Symbol">)(</a><a id="9136" href="Terms.Operations.html#9136" class="Bound">𝑨</a> <a id="9138" class="Symbol">:</a> <a id="9140" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="9148" href="Terms.Operations.html#1744" class="Generalizable">α</a> <a id="9150" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="9151" class="Symbol">)(</a><a id="9153" href="Terms.Operations.html#9153" class="Bound">η</a> <a id="9155" class="Symbol">:</a> <a id="9157" href="Terms.Operations.html#9098" class="Bound">X</a> <a id="9159" class="Symbol">→</a> <a id="9161" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a> <a id="9163" href="Terms.Operations.html#9136" class="Bound">𝑨</a> <a id="9165" href="Overture.Preliminaries.html#4383" class="Function Operator">∣</a><a id="9166" class="Symbol">)</a>
 <a id="9169" class="Symbol">→</a>            <a id="9182" class="Symbol">(</a><a id="9183" href="Terms.Operations.html#9136" class="Bound">𝑨</a> <a id="9185" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9187" href="Terms.Operations.html#9113" class="Bound">p</a> <a id="9189" href="Terms.Operations.html#8248" class="Function Operator">[</a> <a id="9191" href="Terms.Operations.html#9125" class="Bound">σ</a> <a id="9193" href="Terms.Operations.html#8248" class="Function Operator">]</a> <a id="9195" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="9196" class="Symbol">)</a> <a id="9198" href="Terms.Operations.html#9153" class="Bound">η</a> <a id="9200" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9202" class="Symbol">(</a><a id="9203" href="Terms.Operations.html#9136" class="Bound">𝑨</a> <a id="9205" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9207" href="Terms.Operations.html#9113" class="Bound">p</a> <a id="9209" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="9210" class="Symbol">)</a> <a id="9212" class="Symbol">(</a><a id="9213" href="Terms.Operations.html#9153" class="Bound">η</a> <a id="9215" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9217" href="Terms.Operations.html#9125" class="Bound">σ</a><a id="9218" class="Symbol">)</a>
<a id="9220" href="Terms.Operations.html#9068" class="Function">subst-lemma</a> <a id="9232" class="Symbol">_</a> <a id="9234" class="Symbol">(</a><a id="9235" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="9237" href="Terms.Operations.html#9237" class="Bound">x</a><a id="9238" class="Symbol">)</a> <a id="9240" href="Terms.Operations.html#9240" class="Bound">σ</a> <a id="9242" href="Terms.Operations.html#9242" class="Bound">𝑨</a> <a id="9244" href="Terms.Operations.html#9244" class="Bound">η</a> <a id="9246" class="Symbol">=</a> <a id="9248" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="9253" href="Terms.Operations.html#9068" class="Function">subst-lemma</a> <a id="9265" href="Terms.Operations.html#9265" class="Bound">wd</a> <a id="9268" class="Symbol">(</a><a id="9269" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="9274" href="Terms.Operations.html#9274" class="Bound">f</a> <a id="9276" href="Terms.Operations.html#9276" class="Bound">t</a><a id="9277" class="Symbol">)</a> <a id="9279" href="Terms.Operations.html#9279" class="Bound">σ</a> <a id="9281" href="Terms.Operations.html#9281" class="Bound">𝑨</a> <a id="9283" href="Terms.Operations.html#9283" class="Bound">η</a> <a id="9285" class="Symbol">=</a> <a id="9287" href="Terms.Operations.html#9265" class="Bound">wd</a> <a id="9290" class="Symbol">(</a><a id="9291" href="Terms.Operations.html#9274" class="Bound">f</a> <a id="9293" href="Algebras.Basic.html#9397" class="Function Operator">̂</a> <a id="9295" href="Terms.Operations.html#9281" class="Bound">𝑨</a><a id="9296" class="Symbol">)</a> <a id="9298" class="Symbol">(λ</a> <a id="9301" href="Terms.Operations.html#9301" class="Bound">i</a> <a id="9303" class="Symbol">→</a> <a id="9305" class="Symbol">(</a><a id="9306" href="Terms.Operations.html#9281" class="Bound">𝑨</a> <a id="9308" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9310" class="Symbol">(</a><a id="9311" href="Terms.Operations.html#9276" class="Bound">t</a> <a id="9313" href="Terms.Operations.html#9301" class="Bound">i</a><a id="9314" class="Symbol">)</a> <a id="9316" href="Terms.Operations.html#8248" class="Function Operator">[</a> <a id="9318" href="Terms.Operations.html#9279" class="Bound">σ</a> <a id="9320" href="Terms.Operations.html#8248" class="Function Operator">]</a> <a id="9322" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="9323" class="Symbol">)</a> <a id="9325" href="Terms.Operations.html#9283" class="Bound">η</a><a id="9326" class="Symbol">)</a>
                                             <a id="9373" class="Symbol">(λ</a> <a id="9376" href="Terms.Operations.html#9376" class="Bound">i</a> <a id="9378" class="Symbol">→</a> <a id="9380" class="Symbol">(</a><a id="9381" href="Terms.Operations.html#9281" class="Bound">𝑨</a> <a id="9383" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9385" href="Terms.Operations.html#9276" class="Bound">t</a> <a id="9387" href="Terms.Operations.html#9376" class="Bound">i</a> <a id="9389" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="9390" class="Symbol">)</a> <a id="9392" class="Symbol">(</a><a id="9393" href="Terms.Operations.html#9283" class="Bound">η</a> <a id="9395" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9397" href="Terms.Operations.html#9279" class="Bound">σ</a><a id="9398" class="Symbol">))</a>
                                             <a id="9446" class="Symbol">(λ</a> <a id="9449" href="Terms.Operations.html#9449" class="Bound">i</a> <a id="9451" class="Symbol">→</a> <a id="9453" href="Terms.Operations.html#9068" class="Function">subst-lemma</a> <a id="9465" href="Terms.Operations.html#9265" class="Bound">wd</a> <a id="9468" class="Symbol">(</a><a id="9469" href="Terms.Operations.html#9276" class="Bound">t</a> <a id="9471" href="Terms.Operations.html#9449" class="Bound">i</a><a id="9472" class="Symbol">)</a> <a id="9474" href="Terms.Operations.html#9279" class="Bound">σ</a> <a id="9476" href="Terms.Operations.html#9281" class="Bound">𝑨</a> <a id="9478" href="Terms.Operations.html#9283" class="Bound">η</a><a id="9479" class="Symbol">)</a>

<a id="subst-theorem"></a><a id="9482" href="Terms.Operations.html#9482" class="Function">subst-theorem</a> <a id="9496" class="Symbol">:</a> <a id="9498" href="Equality.Welldefined.html#2646" class="Function">swelldef</a> <a id="9507" href="Terms.Operations.html#595" class="Bound">𝓥</a> <a id="9509" href="Terms.Operations.html#1744" class="Generalizable">α</a> <a id="9511" class="Symbol">→</a> <a id="9513" class="Symbol">{</a><a id="9514" href="Terms.Operations.html#9514" class="Bound">X</a> <a id="9516" href="Terms.Operations.html#9516" class="Bound">Y</a> <a id="9518" class="Symbol">:</a> <a id="9520" href="Terms.Operations.html#752" class="Primitive">Type</a> <a id="9525" href="Terms.Operations.html#1752" class="Generalizable">χ</a> <a id="9527" class="Symbol">}</a>
                <a id="9545" class="Symbol">(</a><a id="9546" href="Terms.Operations.html#9546" class="Bound">p</a> <a id="9548" href="Terms.Operations.html#9548" class="Bound">q</a> <a id="9550" class="Symbol">:</a> <a id="9552" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="9557" href="Terms.Operations.html#9516" class="Bound">Y</a><a id="9558" class="Symbol">)(</a><a id="9560" href="Terms.Operations.html#9560" class="Bound">σ</a> <a id="9562" class="Symbol">:</a> <a id="9564" href="Terms.Operations.html#9516" class="Bound">Y</a> <a id="9566" class="Symbol">→</a> <a id="9568" href="Terms.Operations.html#9514" class="Bound">X</a><a id="9569" class="Symbol">)(</a><a id="9571" href="Terms.Operations.html#9571" class="Bound">𝑨</a> <a id="9573" class="Symbol">:</a> <a id="9575" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="9583" href="Terms.Operations.html#1744" class="Generalizable">α</a> <a id="9585" href="Terms.Operations.html#579" class="Bound">𝑆</a><a id="9586" class="Symbol">)</a>
 <a id="9589" class="Symbol">→</a>              <a id="9604" href="Terms.Operations.html#9571" class="Bound">𝑨</a> <a id="9606" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9608" href="Terms.Operations.html#9546" class="Bound">p</a> <a id="9610" href="Terms.Operations.html#2577" class="Function Operator">⟧</a> <a id="9612" href="Overture.Preliminaries.html#9744" class="Function Operator">≈</a> <a id="9614" href="Terms.Operations.html#9571" class="Bound">𝑨</a> <a id="9616" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9618" href="Terms.Operations.html#9548" class="Bound">q</a> <a id="9620" href="Terms.Operations.html#2577" class="Function Operator">⟧</a> <a id="9622" class="Symbol">→</a> <a id="9624" href="Terms.Operations.html#9571" class="Bound">𝑨</a> <a id="9626" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9628" href="Terms.Operations.html#9546" class="Bound">p</a> <a id="9630" href="Terms.Operations.html#8248" class="Function Operator">[</a> <a id="9632" href="Terms.Operations.html#9560" class="Bound">σ</a> <a id="9634" href="Terms.Operations.html#8248" class="Function Operator">]</a> <a id="9636" href="Terms.Operations.html#2577" class="Function Operator">⟧</a> <a id="9638" href="Overture.Preliminaries.html#9744" class="Function Operator">≈</a> <a id="9640" href="Terms.Operations.html#9571" class="Bound">𝑨</a> <a id="9642" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9644" href="Terms.Operations.html#9548" class="Bound">q</a> <a id="9646" href="Terms.Operations.html#8248" class="Function Operator">[</a> <a id="9648" href="Terms.Operations.html#9560" class="Bound">σ</a> <a id="9650" href="Terms.Operations.html#8248" class="Function Operator">]</a> <a id="9652" href="Terms.Operations.html#2577" class="Function Operator">⟧</a>

<a id="9655" href="Terms.Operations.html#9482" class="Function">subst-theorem</a> <a id="9669" href="Terms.Operations.html#9669" class="Bound">wd</a> <a id="9672" href="Terms.Operations.html#9672" class="Bound">p</a> <a id="9674" href="Terms.Operations.html#9674" class="Bound">q</a> <a id="9676" href="Terms.Operations.html#9676" class="Bound">σ</a> <a id="9678" href="Terms.Operations.html#9678" class="Bound">𝑨</a> <a id="9680" href="Terms.Operations.html#9680" class="Bound">Apq</a> <a id="9684" href="Terms.Operations.html#9684" class="Bound">η</a> <a id="9686" class="Symbol">=</a> <a id="9688" class="Symbol">(</a><a id="9689" href="Terms.Operations.html#9678" class="Bound">𝑨</a> <a id="9691" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9693" href="Terms.Operations.html#9672" class="Bound">p</a> <a id="9695" href="Terms.Operations.html#8248" class="Function Operator">[</a> <a id="9697" href="Terms.Operations.html#9676" class="Bound">σ</a> <a id="9699" href="Terms.Operations.html#8248" class="Function Operator">]</a> <a id="9701" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="9702" class="Symbol">)</a> <a id="9704" href="Terms.Operations.html#9684" class="Bound">η</a> <a id="9706" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="9709" href="Terms.Operations.html#9068" class="Function">subst-lemma</a> <a id="9721" href="Terms.Operations.html#9669" class="Bound">wd</a> <a id="9724" href="Terms.Operations.html#9672" class="Bound">p</a> <a id="9726" href="Terms.Operations.html#9676" class="Bound">σ</a> <a id="9728" href="Terms.Operations.html#9678" class="Bound">𝑨</a> <a id="9730" href="Terms.Operations.html#9684" class="Bound">η</a> <a id="9732" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                 <a id="9767" class="Symbol">(</a><a id="9768" href="Terms.Operations.html#9678" class="Bound">𝑨</a> <a id="9770" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9772" href="Terms.Operations.html#9672" class="Bound">p</a> <a id="9774" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="9775" class="Symbol">)</a> <a id="9777" class="Symbol">(</a><a id="9778" href="Terms.Operations.html#9684" class="Bound">η</a> <a id="9780" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9782" href="Terms.Operations.html#9676" class="Bound">σ</a><a id="9783" class="Symbol">)</a> <a id="9785" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="9788" href="Terms.Operations.html#9680" class="Bound">Apq</a> <a id="9792" class="Symbol">(</a><a id="9793" href="Terms.Operations.html#9684" class="Bound">η</a> <a id="9795" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9797" href="Terms.Operations.html#9676" class="Bound">σ</a><a id="9798" class="Symbol">)</a> <a id="9800" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                 <a id="9835" class="Symbol">(</a><a id="9836" href="Terms.Operations.html#9678" class="Bound">𝑨</a> <a id="9838" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9840" href="Terms.Operations.html#9674" class="Bound">q</a> <a id="9842" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="9843" class="Symbol">)</a> <a id="9845" class="Symbol">(</a><a id="9846" href="Terms.Operations.html#9684" class="Bound">η</a> <a id="9848" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9850" href="Terms.Operations.html#9676" class="Bound">σ</a><a id="9851" class="Symbol">)</a> <a id="9853" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="9856" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="9860" class="Symbol">(</a><a id="9861" href="Terms.Operations.html#9068" class="Function">subst-lemma</a> <a id="9873" href="Terms.Operations.html#9669" class="Bound">wd</a> <a id="9876" href="Terms.Operations.html#9674" class="Bound">q</a> <a id="9878" href="Terms.Operations.html#9676" class="Bound">σ</a> <a id="9880" href="Terms.Operations.html#9678" class="Bound">𝑨</a> <a id="9882" href="Terms.Operations.html#9684" class="Bound">η</a><a id="9883" class="Symbol">)</a> <a id="9885" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                 <a id="9920" class="Symbol">(</a><a id="9921" href="Terms.Operations.html#9678" class="Bound">𝑨</a> <a id="9923" href="Terms.Operations.html#2577" class="Function Operator">⟦</a> <a id="9925" href="Terms.Operations.html#9674" class="Bound">q</a> <a id="9927" href="Terms.Operations.html#8248" class="Function Operator">[</a> <a id="9929" href="Terms.Operations.html#9676" class="Bound">σ</a> <a id="9931" href="Terms.Operations.html#8248" class="Function Operator">]</a> <a id="9933" href="Terms.Operations.html#2577" class="Function Operator">⟧</a><a id="9934" class="Symbol">)</a> <a id="9936" href="Terms.Operations.html#9684" class="Bound">η</a> <a id="9938" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

</pre>

----------------------------------

<span style="float:left;">[← Terms.Properties](Terms.Properties.html)</span>
<span style="float:right;">[Terms.Setoid →](Terms.Setoid.html)</span>

{% include UALib.Links.md %}
