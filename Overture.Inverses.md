---
layout: default
title : Overture.Inverses module
date : 2021-01-12
author: [agda-algebras development team][]
---

## <a id="inverses">Inverses</a>

This is the [Overture.Inverses][] module of the [agda-algebras][] library.

<pre class="Agda">

<a id="244" class="Symbol">{-#</a> <a id="248" class="Keyword">OPTIONS</a> <a id="256" class="Pragma">--without-K</a> <a id="268" class="Pragma">--exact-split</a> <a id="282" class="Pragma">--safe</a> <a id="289" class="Symbol">#-}</a>


<a id="295" class="Keyword">module</a> <a id="302" href="Overture.Inverses.html" class="Module">Overture.Inverses</a> <a id="320" class="Keyword">where</a>

<a id="327" class="Comment">-- Imports from Agda and the Agda Standard Library ---------------------------------------------</a>
<a id="424" class="Keyword">open</a> <a id="429" class="Keyword">import</a> <a id="436" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>              <a id="464" class="Keyword">using</a> <a id="470" class="Symbol">(</a> <a id="472" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="476" class="Symbol">;</a> <a id="478" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="483" class="Symbol">;</a> <a id="485" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="491" class="Symbol">)</a> <a id="493" class="Keyword">renaming</a> <a id="502" class="Symbol">(</a> <a id="504" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="508" class="Symbol">to</a> <a id="511" class="Primitive">Type</a> <a id="516" class="Symbol">)</a>
<a id="518" class="Keyword">open</a> <a id="523" class="Keyword">import</a> <a id="530" href="Data.Product.html" class="Module">Data.Product</a>                <a id="558" class="Keyword">using</a> <a id="564" class="Symbol">(</a> <a id="566" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="570" class="Symbol">;</a> <a id="572" href="Data.Product.html#1167" class="Function Operator">_×_</a> <a id="576" class="Symbol">;</a> <a id="578" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="580" class="Symbol">)</a>
<a id="582" class="Keyword">open</a> <a id="587" class="Keyword">import</a> <a id="594" href="Function.Base.html" class="Module">Function.Base</a>               <a id="622" class="Keyword">using</a> <a id="628" class="Symbol">(</a> <a id="630" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="634" class="Symbol">)</a>
<a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Function.Definitions.html" class="Module">Function.Definitions</a>        <a id="676" class="Keyword">using</a> <a id="682" class="Symbol">(</a> <a id="684" href="Function.Definitions.html#889" class="Function">Injective</a> <a id="694" class="Symbol">)</a>
<a id="696" class="Keyword">open</a> <a id="701" class="Keyword">import</a> <a id="708" href="Function.Bundles.html" class="Module">Function.Bundles</a>            <a id="736" class="Keyword">using</a> <a id="742" class="Symbol">(</a> <a id="744" href="Function.Bundles.html#8289" class="Function Operator">_↣_</a> <a id="748" class="Symbol">;</a> <a id="750" href="Function.Bundles.html#9178" class="Function">mk↣</a> <a id="754" class="Symbol">)</a>
<a id="756" class="Keyword">open</a> <a id="761" class="Keyword">import</a> <a id="768" href="Function.Construct.Identity.html" class="Module">Function.Construct.Identity</a> <a id="796" class="Keyword">using</a> <a id="802" class="Symbol">(</a> <a id="804" href="Function.Construct.Identity.html#3966" class="Function">id-↣</a> <a id="809" class="Symbol">)</a>
<a id="811" class="Keyword">open</a> <a id="816" class="Keyword">import</a> <a id="823" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                                        <a id="901" class="Keyword">using</a> <a id="907" class="Symbol">(</a> <a id="909" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="913" class="Symbol">;</a> <a id="915" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="920" class="Symbol">;</a> <a id="922" class="Keyword">module</a> <a id="929" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a> <a id="941" class="Symbol">;</a> <a id="943" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="952" class="Symbol">)</a>

<a id="955" class="Comment">-- Imports from agda-algebras</a>
<a id="985" class="Keyword">open</a> <a id="990" class="Keyword">import</a> <a id="997" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a> <a id="1020" class="Keyword">using</a> <a id="1026" class="Symbol">(</a> <a id="1028" href="Overture.Preliminaries.html#5228" class="Function Operator">_⁻¹</a> <a id="1032" class="Symbol">;</a> <a id="1034" href="Overture.Preliminaries.html#9602" class="Function Operator">_≈_</a> <a id="1038" class="Symbol">;</a> <a id="1040" href="Overture.Preliminaries.html#5554" class="Function Operator">_∙_</a> <a id="1044" class="Symbol">)</a>

</pre>

We begin by defining an data type that represents the semantic concept of *inverse image* of a function.

<pre class="Agda">

<a id="1179" class="Keyword">private</a> <a id="1187" class="Keyword">variable</a> <a id="1196" href="Overture.Inverses.html#1196" class="Generalizable">α</a> <a id="1198" href="Overture.Inverses.html#1198" class="Generalizable">β</a> <a id="1200" href="Overture.Inverses.html#1200" class="Generalizable">γ</a> <a id="1202" class="Symbol">:</a> <a id="1204" href="Agda.Primitive.html#597" class="Postulate">Level</a>

<a id="1211" class="Keyword">module</a> <a id="1218" href="Overture.Inverses.html#1218" class="Module">_</a> <a id="1220" class="Symbol">{</a><a id="1221" href="Overture.Inverses.html#1221" class="Bound">A</a> <a id="1223" class="Symbol">:</a> <a id="1225" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="1230" href="Overture.Inverses.html#1196" class="Generalizable">α</a> <a id="1232" class="Symbol">}{</a><a id="1234" href="Overture.Inverses.html#1234" class="Bound">B</a> <a id="1236" class="Symbol">:</a> <a id="1238" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="1243" href="Overture.Inverses.html#1198" class="Generalizable">β</a> <a id="1245" class="Symbol">}</a> <a id="1247" class="Keyword">where</a>

 <a id="1255" class="Keyword">data</a> <a id="1260" href="Overture.Inverses.html#1260" class="Datatype Operator">Image_∋_</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Overture.Inverses.html#1270" class="Bound">f</a> <a id="1272" class="Symbol">:</a> <a id="1274" href="Overture.Inverses.html#1221" class="Bound">A</a> <a id="1276" class="Symbol">→</a> <a id="1278" href="Overture.Inverses.html#1234" class="Bound">B</a><a id="1279" class="Symbol">)</a> <a id="1281" class="Symbol">:</a> <a id="1283" href="Overture.Inverses.html#1234" class="Bound">B</a> <a id="1285" class="Symbol">→</a> <a id="1287" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="1292" class="Symbol">(</a><a id="1293" href="Overture.Inverses.html#1230" class="Bound">α</a> <a id="1295" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1297" href="Overture.Inverses.html#1243" class="Bound">β</a><a id="1298" class="Symbol">)</a> <a id="1300" class="Keyword">where</a>
  <a id="1308" href="Overture.Inverses.html#1308" class="InductiveConstructor">eq</a> <a id="1311" class="Symbol">:</a> <a id="1313" class="Symbol">{</a><a id="1314" href="Overture.Inverses.html#1314" class="Bound">b</a> <a id="1316" class="Symbol">:</a> <a id="1318" href="Overture.Inverses.html#1234" class="Bound">B</a><a id="1319" class="Symbol">}</a> <a id="1321" class="Symbol">→</a> <a id="1323" class="Symbol">(</a><a id="1324" href="Overture.Inverses.html#1324" class="Bound">a</a> <a id="1326" class="Symbol">:</a> <a id="1328" href="Overture.Inverses.html#1221" class="Bound">A</a><a id="1329" class="Symbol">)</a> <a id="1331" class="Symbol">→</a> <a id="1333" href="Overture.Inverses.html#1314" class="Bound">b</a> <a id="1335" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1337" href="Overture.Inverses.html#1270" class="Bound">f</a> <a id="1339" href="Overture.Inverses.html#1324" class="Bound">a</a> <a id="1341" class="Symbol">→</a> <a id="1343" href="Overture.Inverses.html#1260" class="Datatype Operator">Image</a> <a id="1349" href="Overture.Inverses.html#1270" class="Bound">f</a> <a id="1351" href="Overture.Inverses.html#1260" class="Datatype Operator">∋</a> <a id="1353" href="Overture.Inverses.html#1314" class="Bound">b</a>

</pre>

An inhabitant of `Image f ∋ b` is a dependent pair `(a , p)`, where `a : A` and `p : b ≡ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b` belongs to the image of `f` is always accompanied by a witness `a : A`, we can actually *compute* a (pseudo)inverse of `f`. For convenience, we define this inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and a (*witness*, *proof*)-pair, `(a , p) : Image f ∋ b`, and returns the witness `a`.

<pre class="Agda">

 <a id="1860" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="1864" class="Symbol">:</a> <a id="1866" class="Symbol">(</a><a id="1867" href="Overture.Inverses.html#1867" class="Bound">f</a> <a id="1869" class="Symbol">:</a> <a id="1871" href="Overture.Inverses.html#1221" class="Bound">A</a> <a id="1873" class="Symbol">→</a> <a id="1875" href="Overture.Inverses.html#1234" class="Bound">B</a><a id="1876" class="Symbol">){</a><a id="1878" href="Overture.Inverses.html#1878" class="Bound">b</a> <a id="1880" class="Symbol">:</a> <a id="1882" href="Overture.Inverses.html#1234" class="Bound">B</a><a id="1883" class="Symbol">}</a> <a id="1885" class="Symbol">→</a> <a id="1887" href="Overture.Inverses.html#1260" class="Datatype Operator">Image</a> <a id="1893" href="Overture.Inverses.html#1867" class="Bound">f</a> <a id="1895" href="Overture.Inverses.html#1260" class="Datatype Operator">∋</a> <a id="1897" href="Overture.Inverses.html#1878" class="Bound">b</a>  <a id="1900" class="Symbol">→</a>  <a id="1903" href="Overture.Inverses.html#1221" class="Bound">A</a>
 <a id="1906" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="1910" href="Overture.Inverses.html#1910" class="Bound">f</a> <a id="1912" class="Symbol">(</a><a id="1913" href="Overture.Inverses.html#1308" class="InductiveConstructor">eq</a> <a id="1916" href="Overture.Inverses.html#1916" class="Bound">a</a> <a id="1918" class="Symbol">_)</a> <a id="1921" class="Symbol">=</a> <a id="1923" href="Overture.Inverses.html#1916" class="Bound">a</a>

</pre>

We can prove that `Inv f` is the *right-inverse* of `f`, as follows.

<pre class="Agda">

 <a id="2023" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="2032" class="Symbol">:</a> <a id="2034" class="Symbol">(</a><a id="2035" href="Overture.Inverses.html#2035" class="Bound">f</a> <a id="2037" class="Symbol">:</a> <a id="2039" href="Overture.Inverses.html#1221" class="Bound">A</a> <a id="2041" class="Symbol">→</a> <a id="2043" href="Overture.Inverses.html#1234" class="Bound">B</a><a id="2044" class="Symbol">){</a><a id="2046" href="Overture.Inverses.html#2046" class="Bound">b</a> <a id="2048" class="Symbol">:</a> <a id="2050" href="Overture.Inverses.html#1234" class="Bound">B</a><a id="2051" class="Symbol">}(</a><a id="2053" href="Overture.Inverses.html#2053" class="Bound">q</a> <a id="2055" class="Symbol">:</a> <a id="2057" href="Overture.Inverses.html#1260" class="Datatype Operator">Image</a> <a id="2063" href="Overture.Inverses.html#2035" class="Bound">f</a> <a id="2065" href="Overture.Inverses.html#1260" class="Datatype Operator">∋</a> <a id="2067" href="Overture.Inverses.html#2046" class="Bound">b</a><a id="2068" class="Symbol">)</a> <a id="2070" class="Symbol">→</a> <a id="2072" href="Overture.Inverses.html#2035" class="Bound">f</a><a id="2073" class="Symbol">(</a><a id="2074" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="2078" href="Overture.Inverses.html#2035" class="Bound">f</a> <a id="2080" href="Overture.Inverses.html#2053" class="Bound">q</a><a id="2081" class="Symbol">)</a> <a id="2083" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2085" href="Overture.Inverses.html#2046" class="Bound">b</a>
 <a id="2088" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="2097" href="Overture.Inverses.html#2097" class="Bound">f</a> <a id="2099" class="Symbol">(</a><a id="2100" href="Overture.Inverses.html#1308" class="InductiveConstructor">eq</a> <a id="2103" class="Symbol">_</a> <a id="2105" href="Overture.Inverses.html#2105" class="Bound">p</a><a id="2106" class="Symbol">)</a> <a id="2108" class="Symbol">=</a> <a id="2110" href="Overture.Inverses.html#2105" class="Bound">p</a> <a id="2112" href="Overture.Preliminaries.html#5228" class="Function Operator">⁻¹</a>

</pre>


### <a id="injective-functions">Injective functions</a>

We say that a function `f : A → B` is *injective* (or *monic*) if it does not map two distinct elements of the domain to the same point in the codomain. The following type manifests this property.

<pre class="Agda">

<a id="2398" class="Keyword">module</a> <a id="2405" href="Overture.Inverses.html#2405" class="Module">_</a> <a id="2407" class="Symbol">{</a><a id="2408" href="Overture.Inverses.html#2408" class="Bound">A</a> <a id="2410" class="Symbol">:</a> <a id="2412" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="2417" href="Overture.Inverses.html#1196" class="Generalizable">α</a><a id="2418" class="Symbol">}{</a><a id="2420" href="Overture.Inverses.html#2420" class="Bound">B</a> <a id="2422" class="Symbol">:</a> <a id="2424" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="2429" href="Overture.Inverses.html#1198" class="Generalizable">β</a><a id="2430" class="Symbol">}</a> <a id="2432" class="Keyword">where</a>

 <a id="2440" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="2452" class="Symbol">:</a> <a id="2454" class="Symbol">(</a><a id="2455" href="Overture.Inverses.html#2408" class="Bound">A</a> <a id="2457" class="Symbol">→</a> <a id="2459" href="Overture.Inverses.html#2420" class="Bound">B</a><a id="2460" class="Symbol">)</a> <a id="2462" class="Symbol">→</a> <a id="2464" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="2469" class="Symbol">(</a><a id="2470" href="Overture.Inverses.html#2417" class="Bound">α</a> <a id="2472" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2474" href="Overture.Inverses.html#2429" class="Bound">β</a><a id="2475" class="Symbol">)</a>
 <a id="2478" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="2490" href="Overture.Inverses.html#2490" class="Bound">f</a> <a id="2492" class="Symbol">=</a> <a id="2494" href="Function.Definitions.html#889" class="Function">Injective</a> <a id="2504" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="2508" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="2512" href="Overture.Inverses.html#2490" class="Bound">f</a>

</pre>

Before moving on to discuss surjective functions, let us prove (the obvious facts) that the identity map is injective and that the composition of injectives is injective.

<pre class="Agda">

<a id="id-is-injective"></a><a id="2713" href="Overture.Inverses.html#2713" class="Function">id-is-injective</a> <a id="2729" class="Symbol">:</a> <a id="2731" class="Symbol">{</a><a id="2732" href="Overture.Inverses.html#2732" class="Bound">A</a> <a id="2734" class="Symbol">:</a> <a id="2736" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="2741" href="Overture.Inverses.html#1196" class="Generalizable">α</a><a id="2742" class="Symbol">}</a> <a id="2744" class="Symbol">→</a> <a id="2746" href="Overture.Inverses.html#2732" class="Bound">A</a> <a id="2748" href="Function.Bundles.html#8289" class="Function Operator">↣</a> <a id="2750" href="Overture.Inverses.html#2732" class="Bound">A</a>
<a id="2752" href="Overture.Inverses.html#2713" class="Function">id-is-injective</a> <a id="2768" class="Symbol">{</a><a id="2769" class="Argument">A</a> <a id="2771" class="Symbol">=</a> <a id="2773" href="Overture.Inverses.html#2773" class="Bound">A</a><a id="2774" class="Symbol">}</a> <a id="2776" class="Symbol">=</a> <a id="2778" href="Function.Construct.Identity.html#3966" class="Function">id-↣</a> <a id="2783" href="Overture.Inverses.html#2773" class="Bound">A</a>

<a id="∘-injective"></a><a id="2786" href="Overture.Inverses.html#2786" class="Function">∘-injective</a> <a id="2798" class="Symbol">:</a> <a id="2800" class="Symbol">{</a><a id="2801" href="Overture.Inverses.html#2801" class="Bound">A</a> <a id="2803" class="Symbol">:</a> <a id="2805" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="2810" href="Overture.Inverses.html#1196" class="Generalizable">α</a><a id="2811" class="Symbol">}{</a><a id="2813" href="Overture.Inverses.html#2813" class="Bound">B</a> <a id="2815" class="Symbol">:</a> <a id="2817" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="2822" href="Overture.Inverses.html#1198" class="Generalizable">β</a><a id="2823" class="Symbol">}{</a><a id="2825" href="Overture.Inverses.html#2825" class="Bound">C</a> <a id="2827" class="Symbol">:</a> <a id="2829" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="2834" href="Overture.Inverses.html#1200" class="Generalizable">γ</a><a id="2835" class="Symbol">}{</a><a id="2837" href="Overture.Inverses.html#2837" class="Bound">f</a> <a id="2839" class="Symbol">:</a> <a id="2841" href="Overture.Inverses.html#2801" class="Bound">A</a> <a id="2843" class="Symbol">→</a> <a id="2845" href="Overture.Inverses.html#2813" class="Bound">B</a><a id="2846" class="Symbol">}{</a><a id="2848" href="Overture.Inverses.html#2848" class="Bound">g</a> <a id="2850" class="Symbol">:</a> <a id="2852" href="Overture.Inverses.html#2813" class="Bound">B</a> <a id="2854" class="Symbol">→</a> <a id="2856" href="Overture.Inverses.html#2825" class="Bound">C</a><a id="2857" class="Symbol">}</a>
 <a id="2860" class="Symbol">→</a>            <a id="2873" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="2885" href="Overture.Inverses.html#2837" class="Bound">f</a> <a id="2887" class="Symbol">→</a> <a id="2889" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="2901" href="Overture.Inverses.html#2848" class="Bound">g</a> <a id="2903" class="Symbol">→</a> <a id="2905" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="2917" class="Symbol">(</a><a id="2918" href="Overture.Inverses.html#2848" class="Bound">g</a> <a id="2920" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2922" href="Overture.Inverses.html#2837" class="Bound">f</a><a id="2923" class="Symbol">)</a>
<a id="2925" href="Overture.Inverses.html#2786" class="Function">∘-injective</a> <a id="2937" href="Overture.Inverses.html#2937" class="Bound">finj</a> <a id="2942" href="Overture.Inverses.html#2942" class="Bound">ginj</a> <a id="2947" class="Symbol">=</a> <a id="2949" class="Symbol">λ</a> <a id="2951" href="Overture.Inverses.html#2951" class="Bound">z</a> <a id="2953" class="Symbol">→</a> <a id="2955" href="Overture.Inverses.html#2937" class="Bound">finj</a> <a id="2960" class="Symbol">(</a><a id="2961" href="Overture.Inverses.html#2942" class="Bound">ginj</a> <a id="2966" href="Overture.Inverses.html#2951" class="Bound">z</a><a id="2967" class="Symbol">)</a>

</pre>


### <a id="epics">Surjective functions</a>

A *surjective function* from `A` to `B` is a function `f : A → B` such that for all `b : B` there exists `a : A` such that `f a ≡ b`.  In other words, the range and codomain of `f` agree.  The following types manifest this notion.

<pre class="Agda">

<a id="3273" class="Keyword">module</a> <a id="3280" href="Overture.Inverses.html#3280" class="Module">_</a> <a id="3282" class="Symbol">{</a><a id="3283" href="Overture.Inverses.html#3283" class="Bound">A</a> <a id="3285" class="Symbol">:</a> <a id="3287" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="3292" href="Overture.Inverses.html#1196" class="Generalizable">α</a><a id="3293" class="Symbol">}{</a><a id="3295" href="Overture.Inverses.html#3295" class="Bound">B</a> <a id="3297" class="Symbol">:</a> <a id="3299" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="3304" href="Overture.Inverses.html#1198" class="Generalizable">β</a><a id="3305" class="Symbol">}</a> <a id="3307" class="Keyword">where</a>
 <a id="3314" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="3327" class="Symbol">:</a> <a id="3329" class="Symbol">(</a><a id="3330" href="Overture.Inverses.html#3283" class="Bound">A</a> <a id="3332" class="Symbol">→</a> <a id="3334" href="Overture.Inverses.html#3295" class="Bound">B</a><a id="3335" class="Symbol">)</a> <a id="3337" class="Symbol">→</a>  <a id="3340" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="3345" class="Symbol">(</a><a id="3346" href="Overture.Inverses.html#3292" class="Bound">α</a> <a id="3348" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3350" href="Overture.Inverses.html#3304" class="Bound">β</a><a id="3351" class="Symbol">)</a>
 <a id="3354" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="3367" href="Overture.Inverses.html#3367" class="Bound">f</a> <a id="3369" class="Symbol">=</a> <a id="3371" class="Symbol">∀</a> <a id="3373" href="Overture.Inverses.html#3373" class="Bound">y</a> <a id="3375" class="Symbol">→</a> <a id="3377" href="Overture.Inverses.html#1260" class="Datatype Operator">Image</a> <a id="3383" href="Overture.Inverses.html#3367" class="Bound">f</a> <a id="3385" href="Overture.Inverses.html#1260" class="Datatype Operator">∋</a> <a id="3387" href="Overture.Inverses.html#3373" class="Bound">y</a>

 <a id="3391" href="Overture.Inverses.html#3391" class="Function">Surjective</a> <a id="3402" class="Symbol">:</a> <a id="3404" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="3409" class="Symbol">(</a><a id="3410" href="Overture.Inverses.html#3292" class="Bound">α</a> <a id="3412" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3414" href="Overture.Inverses.html#3304" class="Bound">β</a><a id="3415" class="Symbol">)</a>
 <a id="3418" href="Overture.Inverses.html#3391" class="Function">Surjective</a> <a id="3429" class="Symbol">=</a> <a id="3431" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="3433" class="Symbol">(</a><a id="3434" href="Overture.Inverses.html#3283" class="Bound">A</a> <a id="3436" class="Symbol">→</a> <a id="3438" href="Overture.Inverses.html#3295" class="Bound">B</a><a id="3439" class="Symbol">)</a> <a id="3441" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a>

</pre>

With the next definition, we can represent a *right-inverse* of a surjective function.

<pre class="Agda">

 <a id="3570" href="Overture.Inverses.html#3570" class="Function">SurjInv</a> <a id="3578" class="Symbol">:</a> <a id="3580" class="Symbol">(</a><a id="3581" href="Overture.Inverses.html#3581" class="Bound">f</a> <a id="3583" class="Symbol">:</a> <a id="3585" href="Overture.Inverses.html#3283" class="Bound">A</a> <a id="3587" class="Symbol">→</a> <a id="3589" href="Overture.Inverses.html#3295" class="Bound">B</a><a id="3590" class="Symbol">)</a> <a id="3592" class="Symbol">→</a> <a id="3594" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="3607" href="Overture.Inverses.html#3581" class="Bound">f</a> <a id="3609" class="Symbol">→</a> <a id="3611" href="Overture.Inverses.html#3295" class="Bound">B</a> <a id="3613" class="Symbol">→</a> <a id="3615" href="Overture.Inverses.html#3283" class="Bound">A</a>
 <a id="3618" href="Overture.Inverses.html#3570" class="Function">SurjInv</a> <a id="3626" href="Overture.Inverses.html#3626" class="Bound">f</a> <a id="3628" href="Overture.Inverses.html#3628" class="Bound">fE</a> <a id="3631" href="Overture.Inverses.html#3631" class="Bound">b</a> <a id="3633" class="Symbol">=</a> <a id="3635" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="3639" href="Overture.Inverses.html#3626" class="Bound">f</a> <a id="3641" class="Symbol">(</a><a id="3642" href="Overture.Inverses.html#3628" class="Bound">fE</a> <a id="3645" href="Overture.Inverses.html#3631" class="Bound">b</a><a id="3646" class="Symbol">)</a>

</pre>

Thus, a right-inverse of `f` is obtained by applying `SurjInv` to `f` and a proof of `IsSurjective f`.  Next we prove that this does indeed give the right-inverse.

<pre class="Agda">

<a id="3840" class="Keyword">module</a> <a id="3847" href="Overture.Inverses.html#3847" class="Module">_</a> <a id="3849" class="Symbol">{</a><a id="3850" href="Overture.Inverses.html#3850" class="Bound">A</a> <a id="3852" class="Symbol">:</a> <a id="3854" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="3859" href="Overture.Inverses.html#1196" class="Generalizable">α</a><a id="3860" class="Symbol">}{</a><a id="3862" href="Overture.Inverses.html#3862" class="Bound">B</a> <a id="3864" class="Symbol">:</a> <a id="3866" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="3871" href="Overture.Inverses.html#1198" class="Generalizable">β</a><a id="3872" class="Symbol">}</a> <a id="3874" class="Keyword">where</a>

 <a id="3882" href="Overture.Inverses.html#3882" class="Function">SurjInvIsRightInv</a> <a id="3900" class="Symbol">:</a> <a id="3902" class="Symbol">(</a><a id="3903" href="Overture.Inverses.html#3903" class="Bound">f</a> <a id="3905" class="Symbol">:</a> <a id="3907" href="Overture.Inverses.html#3850" class="Bound">A</a> <a id="3909" class="Symbol">→</a> <a id="3911" href="Overture.Inverses.html#3862" class="Bound">B</a><a id="3912" class="Symbol">)(</a><a id="3914" href="Overture.Inverses.html#3914" class="Bound">fE</a> <a id="3917" class="Symbol">:</a> <a id="3919" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="3932" href="Overture.Inverses.html#3903" class="Bound">f</a><a id="3933" class="Symbol">)</a> <a id="3935" class="Symbol">→</a> <a id="3937" class="Symbol">∀</a> <a id="3939" href="Overture.Inverses.html#3939" class="Bound">b</a> <a id="3941" class="Symbol">→</a> <a id="3943" href="Overture.Inverses.html#3903" class="Bound">f</a> <a id="3945" class="Symbol">((</a><a id="3947" href="Overture.Inverses.html#3570" class="Function">SurjInv</a> <a id="3955" href="Overture.Inverses.html#3903" class="Bound">f</a> <a id="3957" href="Overture.Inverses.html#3914" class="Bound">fE</a><a id="3959" class="Symbol">)</a> <a id="3961" href="Overture.Inverses.html#3939" class="Bound">b</a><a id="3962" class="Symbol">)</a> <a id="3964" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3966" href="Overture.Inverses.html#3939" class="Bound">b</a>
 <a id="3969" href="Overture.Inverses.html#3882" class="Function">SurjInvIsRightInv</a> <a id="3987" href="Overture.Inverses.html#3987" class="Bound">f</a> <a id="3989" href="Overture.Inverses.html#3989" class="Bound">fE</a> <a id="3992" href="Overture.Inverses.html#3992" class="Bound">b</a> <a id="3994" class="Symbol">=</a> <a id="3996" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="4005" href="Overture.Inverses.html#3987" class="Bound">f</a> <a id="4007" class="Symbol">(</a><a id="4008" href="Overture.Inverses.html#3989" class="Bound">fE</a> <a id="4011" href="Overture.Inverses.html#3992" class="Bound">b</a><a id="4012" class="Symbol">)</a>

 <a id="4016" class="Keyword">open</a> <a id="4021" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>

 <a id="4035" class="Comment">-- composition law for epics</a>
 <a id="4065" href="Overture.Inverses.html#4065" class="Function">epic-factor</a> <a id="4077" class="Symbol">:</a> <a id="4079" class="Symbol">{</a><a id="4080" href="Overture.Inverses.html#4080" class="Bound">C</a> <a id="4082" class="Symbol">:</a> <a id="4084" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="4089" href="Overture.Inverses.html#1200" class="Generalizable">γ</a><a id="4090" class="Symbol">}(</a><a id="4092" href="Overture.Inverses.html#4092" class="Bound">f</a> <a id="4094" class="Symbol">:</a> <a id="4096" href="Overture.Inverses.html#3850" class="Bound">A</a> <a id="4098" class="Symbol">→</a> <a id="4100" href="Overture.Inverses.html#3862" class="Bound">B</a><a id="4101" class="Symbol">)(</a><a id="4103" href="Overture.Inverses.html#4103" class="Bound">g</a> <a id="4105" class="Symbol">:</a> <a id="4107" href="Overture.Inverses.html#3850" class="Bound">A</a> <a id="4109" class="Symbol">→</a> <a id="4111" href="Overture.Inverses.html#4080" class="Bound">C</a><a id="4112" class="Symbol">)(</a><a id="4114" href="Overture.Inverses.html#4114" class="Bound">h</a> <a id="4116" class="Symbol">:</a> <a id="4118" href="Overture.Inverses.html#4080" class="Bound">C</a> <a id="4120" class="Symbol">→</a> <a id="4122" href="Overture.Inverses.html#3862" class="Bound">B</a><a id="4123" class="Symbol">)</a>
  <a id="4127" class="Symbol">→</a>            <a id="4140" href="Overture.Inverses.html#4092" class="Bound">f</a> <a id="4142" href="Overture.Preliminaries.html#9602" class="Function Operator">≈</a> <a id="4144" href="Overture.Inverses.html#4114" class="Bound">h</a> <a id="4146" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4148" href="Overture.Inverses.html#4103" class="Bound">g</a> <a id="4150" class="Symbol">→</a> <a id="4152" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="4165" href="Overture.Inverses.html#4092" class="Bound">f</a> <a id="4167" class="Symbol">→</a> <a id="4169" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="4182" href="Overture.Inverses.html#4114" class="Bound">h</a>

 <a id="4186" href="Overture.Inverses.html#4065" class="Function">epic-factor</a> <a id="4198" href="Overture.Inverses.html#4198" class="Bound">f</a> <a id="4200" href="Overture.Inverses.html#4200" class="Bound">g</a> <a id="4202" href="Overture.Inverses.html#4202" class="Bound">h</a> <a id="4204" href="Overture.Inverses.html#4204" class="Bound">compId</a> <a id="4211" href="Overture.Inverses.html#4211" class="Bound">fe</a> <a id="4214" href="Overture.Inverses.html#4214" class="Bound">y</a> <a id="4216" class="Symbol">=</a> <a id="4218" href="Overture.Inverses.html#4389" class="Function">Goal</a>
  <a id="4225" class="Keyword">where</a>
   <a id="4234" href="Overture.Inverses.html#4234" class="Function">finv</a> <a id="4239" class="Symbol">:</a> <a id="4241" href="Overture.Inverses.html#3862" class="Bound">B</a> <a id="4243" class="Symbol">→</a> <a id="4245" href="Overture.Inverses.html#3850" class="Bound">A</a>
   <a id="4250" href="Overture.Inverses.html#4234" class="Function">finv</a> <a id="4255" class="Symbol">=</a> <a id="4257" href="Overture.Inverses.html#3570" class="Function">SurjInv</a> <a id="4265" href="Overture.Inverses.html#4198" class="Bound">f</a> <a id="4267" href="Overture.Inverses.html#4211" class="Bound">fe</a>

   <a id="4274" href="Overture.Inverses.html#4274" class="Function">ζ</a> <a id="4276" class="Symbol">:</a> <a id="4278" href="Overture.Inverses.html#4214" class="Bound">y</a> <a id="4280" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4282" href="Overture.Inverses.html#4198" class="Bound">f</a> <a id="4284" class="Symbol">(</a><a id="4285" href="Overture.Inverses.html#4234" class="Function">finv</a> <a id="4290" href="Overture.Inverses.html#4214" class="Bound">y</a><a id="4291" class="Symbol">)</a>
   <a id="4296" href="Overture.Inverses.html#4274" class="Function">ζ</a> <a id="4298" class="Symbol">=</a> <a id="4300" class="Symbol">(</a><a id="4301" href="Overture.Inverses.html#3882" class="Function">SurjInvIsRightInv</a> <a id="4319" href="Overture.Inverses.html#4198" class="Bound">f</a> <a id="4321" href="Overture.Inverses.html#4211" class="Bound">fe</a> <a id="4324" href="Overture.Inverses.html#4214" class="Bound">y</a><a id="4325" class="Symbol">)</a><a id="4326" href="Overture.Preliminaries.html#5228" class="Function Operator">⁻¹</a>

   <a id="4333" href="Overture.Inverses.html#4333" class="Function">η</a> <a id="4335" class="Symbol">:</a> <a id="4337" href="Overture.Inverses.html#4214" class="Bound">y</a> <a id="4339" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4341" class="Symbol">(</a><a id="4342" href="Overture.Inverses.html#4202" class="Bound">h</a> <a id="4344" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4346" href="Overture.Inverses.html#4200" class="Bound">g</a><a id="4347" class="Symbol">)</a> <a id="4349" class="Symbol">(</a><a id="4350" href="Overture.Inverses.html#4234" class="Function">finv</a> <a id="4355" href="Overture.Inverses.html#4214" class="Bound">y</a><a id="4356" class="Symbol">)</a>
   <a id="4361" href="Overture.Inverses.html#4333" class="Function">η</a> <a id="4363" class="Symbol">=</a> <a id="4365" href="Overture.Inverses.html#4274" class="Function">ζ</a> <a id="4367" href="Overture.Preliminaries.html#5554" class="Function Operator">∙</a> <a id="4369" href="Overture.Inverses.html#4204" class="Bound">compId</a> <a id="4376" class="Symbol">(</a><a id="4377" href="Overture.Inverses.html#4234" class="Function">finv</a> <a id="4382" href="Overture.Inverses.html#4214" class="Bound">y</a><a id="4383" class="Symbol">)</a>

   <a id="4389" href="Overture.Inverses.html#4389" class="Function">Goal</a> <a id="4394" class="Symbol">:</a> <a id="4396" href="Overture.Inverses.html#1260" class="Datatype Operator">Image</a> <a id="4402" href="Overture.Inverses.html#4202" class="Bound">h</a> <a id="4404" href="Overture.Inverses.html#1260" class="Datatype Operator">∋</a> <a id="4406" href="Overture.Inverses.html#4214" class="Bound">y</a>
   <a id="4411" href="Overture.Inverses.html#4389" class="Function">Goal</a> <a id="4416" class="Symbol">=</a> <a id="4418" href="Overture.Inverses.html#1308" class="InductiveConstructor">eq</a> <a id="4421" class="Symbol">(</a><a id="4422" href="Overture.Inverses.html#4200" class="Bound">g</a> <a id="4424" class="Symbol">(</a><a id="4425" href="Overture.Inverses.html#4234" class="Function">finv</a> <a id="4430" href="Overture.Inverses.html#4214" class="Bound">y</a><a id="4431" class="Symbol">))</a> <a id="4434" href="Overture.Inverses.html#4333" class="Function">η</a>

 <a id="4438" href="Overture.Inverses.html#4438" class="Function">epic-factor-intensional</a> <a id="4462" class="Symbol">:</a> <a id="4464" class="Symbol">{</a><a id="4465" href="Overture.Inverses.html#4465" class="Bound">C</a> <a id="4467" class="Symbol">:</a> <a id="4469" href="Overture.Inverses.html#511" class="Primitive">Type</a> <a id="4474" href="Overture.Inverses.html#1200" class="Generalizable">γ</a><a id="4475" class="Symbol">}(</a><a id="4477" href="Overture.Inverses.html#4477" class="Bound">f</a> <a id="4479" class="Symbol">:</a> <a id="4481" href="Overture.Inverses.html#3850" class="Bound">A</a> <a id="4483" class="Symbol">→</a> <a id="4485" href="Overture.Inverses.html#3862" class="Bound">B</a><a id="4486" class="Symbol">)(</a><a id="4488" href="Overture.Inverses.html#4488" class="Bound">g</a> <a id="4490" class="Symbol">:</a> <a id="4492" href="Overture.Inverses.html#3850" class="Bound">A</a> <a id="4494" class="Symbol">→</a> <a id="4496" href="Overture.Inverses.html#4465" class="Bound">C</a><a id="4497" class="Symbol">)(</a><a id="4499" href="Overture.Inverses.html#4499" class="Bound">h</a> <a id="4501" class="Symbol">:</a> <a id="4503" href="Overture.Inverses.html#4465" class="Bound">C</a> <a id="4505" class="Symbol">→</a> <a id="4507" href="Overture.Inverses.html#3862" class="Bound">B</a><a id="4508" class="Symbol">)</a>
  <a id="4512" class="Symbol">→</a>                        <a id="4537" href="Overture.Inverses.html#4477" class="Bound">f</a> <a id="4539" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4541" href="Overture.Inverses.html#4499" class="Bound">h</a> <a id="4543" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4545" href="Overture.Inverses.html#4488" class="Bound">g</a> <a id="4547" class="Symbol">→</a> <a id="4549" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="4562" href="Overture.Inverses.html#4477" class="Bound">f</a> <a id="4564" class="Symbol">→</a> <a id="4566" href="Overture.Inverses.html#3314" class="Function">IsSurjective</a> <a id="4579" href="Overture.Inverses.html#4499" class="Bound">h</a>

 <a id="4583" href="Overture.Inverses.html#4438" class="Function">epic-factor-intensional</a> <a id="4607" href="Overture.Inverses.html#4607" class="Bound">f</a> <a id="4609" href="Overture.Inverses.html#4609" class="Bound">g</a> <a id="4611" href="Overture.Inverses.html#4611" class="Bound">h</a> <a id="4613" href="Overture.Inverses.html#4613" class="Bound">compId</a> <a id="4620" href="Overture.Inverses.html#4620" class="Bound">fe</a> <a id="4623" href="Overture.Inverses.html#4623" class="Bound">y</a> <a id="4625" class="Symbol">=</a> <a id="4627" href="Overture.Inverses.html#4809" class="Function">Goal</a>
  <a id="4634" class="Keyword">where</a>
   <a id="4643" href="Overture.Inverses.html#4643" class="Function">finv</a> <a id="4648" class="Symbol">:</a> <a id="4650" href="Overture.Inverses.html#3862" class="Bound">B</a> <a id="4652" class="Symbol">→</a> <a id="4654" href="Overture.Inverses.html#3850" class="Bound">A</a>
   <a id="4659" href="Overture.Inverses.html#4643" class="Function">finv</a> <a id="4664" class="Symbol">=</a> <a id="4666" href="Overture.Inverses.html#3570" class="Function">SurjInv</a> <a id="4674" href="Overture.Inverses.html#4607" class="Bound">f</a> <a id="4676" href="Overture.Inverses.html#4620" class="Bound">fe</a>

   <a id="4683" href="Overture.Inverses.html#4683" class="Function">ζ</a> <a id="4685" class="Symbol">:</a> <a id="4687" href="Overture.Inverses.html#4607" class="Bound">f</a> <a id="4689" class="Symbol">(</a><a id="4690" href="Overture.Inverses.html#4643" class="Function">finv</a> <a id="4695" href="Overture.Inverses.html#4623" class="Bound">y</a><a id="4696" class="Symbol">)</a> <a id="4698" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4700" href="Overture.Inverses.html#4623" class="Bound">y</a>
   <a id="4705" href="Overture.Inverses.html#4683" class="Function">ζ</a> <a id="4707" class="Symbol">=</a> <a id="4709" href="Overture.Inverses.html#3882" class="Function">SurjInvIsRightInv</a> <a id="4727" href="Overture.Inverses.html#4607" class="Bound">f</a> <a id="4729" href="Overture.Inverses.html#4620" class="Bound">fe</a> <a id="4732" href="Overture.Inverses.html#4623" class="Bound">y</a>

   <a id="4738" href="Overture.Inverses.html#4738" class="Function">η</a> <a id="4740" class="Symbol">:</a> <a id="4742" class="Symbol">(</a><a id="4743" href="Overture.Inverses.html#4611" class="Bound">h</a> <a id="4745" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4747" href="Overture.Inverses.html#4609" class="Bound">g</a><a id="4748" class="Symbol">)</a> <a id="4750" class="Symbol">(</a><a id="4751" href="Overture.Inverses.html#4643" class="Function">finv</a> <a id="4756" href="Overture.Inverses.html#4623" class="Bound">y</a><a id="4757" class="Symbol">)</a> <a id="4759" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4761" href="Overture.Inverses.html#4623" class="Bound">y</a>
   <a id="4766" href="Overture.Inverses.html#4738" class="Function">η</a> <a id="4768" class="Symbol">=</a> <a id="4770" class="Symbol">(</a><a id="4771" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="4780" class="Symbol">(</a><a id="4781" href="Overture.Inverses.html#4613" class="Bound">compId</a> <a id="4788" href="Overture.Preliminaries.html#5228" class="Function Operator">⁻¹</a><a id="4790" class="Symbol">)(</a><a id="4792" href="Overture.Inverses.html#4643" class="Function">finv</a> <a id="4797" href="Overture.Inverses.html#4623" class="Bound">y</a><a id="4798" class="Symbol">))</a> <a id="4801" href="Overture.Preliminaries.html#5554" class="Function Operator">∙</a> <a id="4803" href="Overture.Inverses.html#4683" class="Function">ζ</a>

   <a id="4809" href="Overture.Inverses.html#4809" class="Function">Goal</a> <a id="4814" class="Symbol">:</a> <a id="4816" href="Overture.Inverses.html#1260" class="Datatype Operator">Image</a> <a id="4822" href="Overture.Inverses.html#4611" class="Bound">h</a> <a id="4824" href="Overture.Inverses.html#1260" class="Datatype Operator">∋</a> <a id="4826" href="Overture.Inverses.html#4623" class="Bound">y</a>
   <a id="4831" href="Overture.Inverses.html#4809" class="Function">Goal</a> <a id="4836" class="Symbol">=</a> <a id="4838" href="Overture.Inverses.html#1308" class="InductiveConstructor">eq</a> <a id="4841" class="Symbol">(</a><a id="4842" href="Overture.Inverses.html#4609" class="Bound">g</a> <a id="4844" class="Symbol">(</a><a id="4845" href="Overture.Inverses.html#4643" class="Function">finv</a> <a id="4850" href="Overture.Inverses.html#4623" class="Bound">y</a><a id="4851" class="Symbol">))</a> <a id="4854" class="Symbol">(</a><a id="4855" href="Overture.Inverses.html#4738" class="Function">η</a> <a id="4857" href="Overture.Preliminaries.html#5228" class="Function Operator">⁻¹</a><a id="4859" class="Symbol">)</a>

</pre>


--------------------------------------

<span style="float:left;">[← Overture.Preliminaries](Overture.Preliminaries.html)</span>
<span style="float:right;">[Overture.Transformers →](Overture.Transformers.html)</span>


{% include UALib.Links.md %}

[agda-algebras development team]: https://github.com/ualib/agda-algebras#the-agda-algebras-development-team


