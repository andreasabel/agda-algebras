---
layout: default
title : "Terms.Func.Basic module (The Agda Universal Algebra Library)"
date : "2021-09-18"
author: "agda-algebras development team"
---

#### <a id="basic-definitions">Basic definitions</a>

This is the [Terms.Func.Basic][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="310" class="Symbol">{-#</a> <a id="314" class="Keyword">OPTIONS</a> <a id="322" class="Pragma">--without-K</a> <a id="334" class="Pragma">--exact-split</a> <a id="348" class="Pragma">--safe</a> <a id="355" class="Symbol">#-}</a>

<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="387" class="Keyword">using</a> <a id="393" class="Symbol">(</a> <a id="395" href="Algebras.Basic.html#1130" class="Generalizable">𝓞</a> <a id="397" class="Symbol">;</a> <a id="399" href="Algebras.Basic.html#1132" class="Generalizable">𝓥</a> <a id="401" class="Symbol">;</a> <a id="403" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="413" class="Symbol">)</a>

<a id="416" class="Keyword">module</a> <a id="423" href="Terms.Func.Basic.html" class="Module">Terms.Func.Basic</a> <a id="440" class="Symbol">{</a><a id="441" href="Terms.Func.Basic.html#441" class="Bound">𝑆</a> <a id="443" class="Symbol">:</a> <a id="445" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="455" href="Algebras.Basic.html#1130" class="Generalizable">𝓞</a> <a id="457" href="Algebras.Basic.html#1132" class="Generalizable">𝓥</a><a id="458" class="Symbol">}</a> <a id="460" class="Keyword">where</a>

<a id="467" class="Comment">-- imports from Agda and the Agda Standard Library -------------------------------------</a>
<a id="556" class="Keyword">open</a> <a id="561" class="Keyword">import</a> <a id="568" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>         <a id="591" class="Keyword">using</a> <a id="597" class="Symbol">(</a> <a id="599" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="603" class="Symbol">;</a> <a id="605" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="610" class="Symbol">)</a> <a id="612" class="Keyword">renaming</a> <a id="621" class="Symbol">(</a> <a id="623" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="627" class="Symbol">to</a> <a id="630" class="Primitive">Type</a> <a id="635" class="Symbol">)</a>
<a id="637" class="Keyword">open</a> <a id="642" class="Keyword">import</a> <a id="649" href="Data.Empty.Polymorphic.html" class="Module">Data.Empty.Polymorphic</a> <a id="672" class="Keyword">using</a> <a id="678" class="Symbol">(</a> <a id="680" href="Data.Empty.Polymorphic.html#331" class="Function">⊥</a> <a id="682" class="Symbol">)</a>
<a id="684" class="Keyword">open</a> <a id="689" class="Keyword">import</a> <a id="696" href="Data.Product.html" class="Module">Data.Product</a>           <a id="719" class="Keyword">using</a> <a id="725" class="Symbol">(</a> <a id="727" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="731" class="Symbol">)</a>
<a id="733" class="Keyword">open</a> <a id="738" class="Keyword">import</a> <a id="745" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>          <a id="768" class="Keyword">using</a> <a id="774" class="Symbol">(</a> <a id="776" href="Data.Sum.Base.html#734" class="Datatype Operator">_⊎_</a> <a id="780" class="Symbol">)</a> <a id="782" class="Keyword">renaming</a> <a id="791" class="Symbol">(</a> <a id="793" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="798" class="Symbol">to</a> <a id="801" class="InductiveConstructor">inl</a> <a id="805" class="Symbol">;</a> <a id="807" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="812" class="Symbol">to</a> <a id="815" class="InductiveConstructor">inr</a> <a id="819" class="Symbol">)</a>
<a id="821" class="Keyword">open</a> <a id="826" class="Keyword">import</a> <a id="833" href="Function.Bundles.html" class="Module">Function.Bundles</a>       <a id="856" class="Keyword">using</a> <a id="862" class="Symbol">(</a> <a id="864" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="869" class="Symbol">)</a>
<a id="871" class="Keyword">open</a> <a id="876" class="Keyword">import</a> <a id="883" href="Level.html" class="Module">Level</a>                  <a id="906" class="Keyword">using</a> <a id="912" class="Symbol">(</a> <a id="914" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="920" class="Symbol">;</a> <a id="922" href="Level.html#400" class="Record">Lift</a> <a id="927" class="Symbol">)</a>
<a id="929" class="Keyword">open</a> <a id="934" class="Keyword">import</a> <a id="941" href="Relation.Binary.html" class="Module">Relation.Binary</a>        <a id="964" class="Keyword">using</a> <a id="970" class="Symbol">(</a> <a id="972" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="979" class="Symbol">;</a> <a id="981" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="995" class="Symbol">)</a>
<a id="997" class="Keyword">open</a> <a id="1002" class="Keyword">import</a> <a id="1009" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a> <a id="1037" class="Keyword">using</a> <a id="1043" class="Symbol">(</a> <a id="1045" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="1055" class="Symbol">;</a> <a id="1057" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="1067" class="Symbol">;</a> <a id="1069" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="1080" class="Symbol">)</a>
<a id="1082" class="Keyword">open</a> <a id="1087" class="Keyword">import</a> <a id="1094" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1132" class="Symbol">as</a> <a id="1135" class="Module">≡</a> <a id="1137" class="Keyword">using</a> <a id="1143" class="Symbol">(</a> <a id="1145" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="1149" class="Symbol">)</a> <a id="1151" class="Comment">-- ; sym ; trans ; refl )</a>

<a id="1178" class="Comment">-- Imports from the Agda Universal Algebra Library ------------------------------------</a>
<a id="1266" class="Keyword">open</a> <a id="1271" class="Keyword">import</a> <a id="1278" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>        <a id="1308" class="Keyword">using</a> <a id="1314" class="Symbol">(</a> <a id="1316" href="Overture.Preliminaries.html#4421" class="Function Operator">∥_∥</a> <a id="1320" class="Symbol">)</a>
<a id="1322" class="Keyword">open</a> <a id="1327" class="Keyword">import</a> <a id="1334" href="Algebras.Setoid.Basic.html" class="Module">Algebras.Setoid.Basic</a> <a id="1356" class="Symbol">{</a><a id="1357" class="Argument">𝑆</a> <a id="1359" class="Symbol">=</a> <a id="1361" href="Terms.Func.Basic.html#441" class="Bound">𝑆</a><a id="1362" class="Symbol">}</a> <a id="1364" class="Keyword">using</a> <a id="1370" class="Symbol">(</a> <a id="1372" href="Algebras.Setoid.Basic.html#3313" class="Record">SetoidAlgebra</a> <a id="1386" class="Symbol">;</a> <a id="1388" href="Algebras.Setoid.Basic.html#1152" class="Function">ov</a> <a id="1391" class="Symbol">)</a>
<a id="1393" class="Keyword">open</a> <a id="1398" class="Keyword">import</a> <a id="1405" href="Terms.Basic.html" class="Module">Terms.Basic</a>           <a id="1427" class="Symbol">{</a><a id="1428" class="Argument">𝑆</a> <a id="1430" class="Symbol">=</a> <a id="1432" href="Terms.Func.Basic.html#441" class="Bound">𝑆</a><a id="1433" class="Symbol">}</a> <a id="1435" class="Keyword">using</a> <a id="1441" class="Symbol">(</a> <a id="1443" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="1448" class="Symbol">)</a>
<a id="1450" class="Keyword">open</a> <a id="1455" href="Terms.Basic.html#1991" class="Module">Term</a>
<a id="1460" class="Keyword">open</a> <a id="1465" href="Function.Bundles.html#1868" class="Module">Func</a> <a id="1470" class="Keyword">renaming</a> <a id="1479" class="Symbol">(</a> <a id="1481" href="Function.Bundles.html#1919" class="Field">f</a> <a id="1483" class="Symbol">to</a> <a id="1486" class="Field">_⟨$⟩_</a> <a id="1492" class="Symbol">)</a>

<a id="1495" class="Keyword">private</a> <a id="1503" class="Keyword">variable</a>
 <a id="1513" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a> <a id="1515" href="Terms.Func.Basic.html#1515" class="Generalizable">α</a> <a id="1517" href="Terms.Func.Basic.html#1517" class="Generalizable">ℓ</a> <a id="1519" class="Symbol">:</a> <a id="1521" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="1528" href="Terms.Func.Basic.html#1528" class="Generalizable">X</a> <a id="1530" href="Terms.Func.Basic.html#1530" class="Generalizable">Y</a> <a id="1532" class="Symbol">:</a> <a id="1534" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="1539" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a>

</pre>


##### <a id="equality-of-terms">Equality of terms</a>

We take a different approach here, using Setoids instead of quotient types.
That is, we will define the collection of terms in a signature as a setoid
with a particular equality-of-terms relation, which we must define.
Ultimately we will use this to define the (absolutely free) term algebra
as a SetoidAlgebra whose carrier is the setoid of terms.

<pre class="Agda">

<a id="1974" class="Keyword">module</a> <a id="1981" href="Terms.Func.Basic.html#1981" class="Module">_</a> <a id="1983" class="Symbol">{</a><a id="1984" href="Terms.Func.Basic.html#1984" class="Bound">X</a> <a id="1986" class="Symbol">:</a> <a id="1988" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="1993" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a> <a id="1995" class="Symbol">}</a> <a id="1997" class="Keyword">where</a>

 <a id="2005" class="Comment">-- Equality of terms as an inductive datatype</a>
 <a id="2052" class="Keyword">data</a> <a id="2057" href="Terms.Func.Basic.html#2057" class="Datatype Operator">_≐_</a> <a id="2061" class="Symbol">:</a> <a id="2063" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2068" href="Terms.Func.Basic.html#1984" class="Bound">X</a> <a id="2070" class="Symbol">→</a> <a id="2072" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2077" href="Terms.Func.Basic.html#1984" class="Bound">X</a> <a id="2079" class="Symbol">→</a> <a id="2081" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="2086" class="Symbol">(</a><a id="2087" href="Algebras.Setoid.Basic.html#1152" class="Function">ov</a> <a id="2090" href="Terms.Func.Basic.html#1993" class="Bound">χ</a><a id="2091" class="Symbol">)</a> <a id="2093" class="Keyword">where</a>
  <a id="2101" href="Terms.Func.Basic.html#2101" class="InductiveConstructor">refl</a> <a id="2106" class="Symbol">:</a> <a id="2108" class="Symbol">{</a><a id="2109" href="Terms.Func.Basic.html#2109" class="Bound">x</a> <a id="2111" href="Terms.Func.Basic.html#2111" class="Bound">y</a> <a id="2113" class="Symbol">:</a> <a id="2115" href="Terms.Func.Basic.html#1984" class="Bound">X</a><a id="2116" class="Symbol">}</a> <a id="2118" class="Symbol">→</a> <a id="2120" href="Terms.Func.Basic.html#2109" class="Bound">x</a> <a id="2122" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2124" href="Terms.Func.Basic.html#2111" class="Bound">y</a> <a id="2126" class="Symbol">→</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="2131" href="Terms.Func.Basic.html#2109" class="Bound">x</a><a id="2132" class="Symbol">)</a> <a id="2134" href="Terms.Func.Basic.html#2057" class="Datatype Operator">≐</a> <a id="2136" class="Symbol">(</a><a id="2137" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="2139" href="Terms.Func.Basic.html#2111" class="Bound">y</a><a id="2140" class="Symbol">)</a>
  <a id="2144" href="Terms.Func.Basic.html#2144" class="InductiveConstructor">genl</a> <a id="2149" class="Symbol">:</a> <a id="2151" class="Symbol">∀</a> <a id="2153" class="Symbol">{</a><a id="2154" href="Terms.Func.Basic.html#2154" class="Bound">f</a><a id="2155" class="Symbol">}{</a><a id="2157" href="Terms.Func.Basic.html#2157" class="Bound">s</a> <a id="2159" href="Terms.Func.Basic.html#2159" class="Bound">t</a> <a id="2161" class="Symbol">:</a> <a id="2163" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="2165" href="Terms.Func.Basic.html#441" class="Bound">𝑆</a> <a id="2167" href="Overture.Preliminaries.html#4421" class="Function Operator">∥</a> <a id="2169" href="Terms.Func.Basic.html#2154" class="Bound">f</a> <a id="2171" class="Symbol">→</a> <a id="2173" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2178" href="Terms.Func.Basic.html#1984" class="Bound">X</a><a id="2179" class="Symbol">}</a> <a id="2181" class="Symbol">→</a> <a id="2183" class="Symbol">(∀</a> <a id="2186" href="Terms.Func.Basic.html#2186" class="Bound">i</a> <a id="2188" class="Symbol">→</a> <a id="2190" class="Symbol">(</a><a id="2191" href="Terms.Func.Basic.html#2157" class="Bound">s</a> <a id="2193" href="Terms.Func.Basic.html#2186" class="Bound">i</a><a id="2194" class="Symbol">)</a> <a id="2196" href="Terms.Func.Basic.html#2057" class="Datatype Operator">≐</a> <a id="2198" class="Symbol">(</a><a id="2199" href="Terms.Func.Basic.html#2159" class="Bound">t</a> <a id="2201" href="Terms.Func.Basic.html#2186" class="Bound">i</a><a id="2202" class="Symbol">))</a> <a id="2205" class="Symbol">→</a> <a id="2207" class="Symbol">(</a><a id="2208" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="2213" href="Terms.Func.Basic.html#2154" class="Bound">f</a> <a id="2215" href="Terms.Func.Basic.html#2157" class="Bound">s</a><a id="2216" class="Symbol">)</a> <a id="2218" href="Terms.Func.Basic.html#2057" class="Datatype Operator">≐</a> <a id="2220" class="Symbol">(</a><a id="2221" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="2226" href="Terms.Func.Basic.html#2154" class="Bound">f</a> <a id="2228" href="Terms.Func.Basic.html#2159" class="Bound">t</a><a id="2229" class="Symbol">)</a>

 <a id="2233" class="Comment">-- Equality of terms is an equivalence relation</a>
 <a id="2282" class="Keyword">open</a> <a id="2287" href="Level.html" class="Module">Level</a>
 <a id="2294" href="Terms.Func.Basic.html#2294" class="Function">≐-isRefl</a> <a id="2303" class="Symbol">:</a> <a id="2305" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="2315" href="Terms.Func.Basic.html#2057" class="Datatype Operator">_≐_</a>
 <a id="2320" href="Terms.Func.Basic.html#2294" class="Function">≐-isRefl</a> <a id="2329" class="Symbol">{</a><a id="2330" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="2332" class="Symbol">_}</a> <a id="2335" class="Symbol">=</a> <a id="2337" href="Terms.Func.Basic.html#2101" class="InductiveConstructor">refl</a> <a id="2342" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a>
 <a id="2350" href="Terms.Func.Basic.html#2294" class="Function">≐-isRefl</a> <a id="2359" class="Symbol">{</a><a id="2360" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="2365" class="Symbol">_</a> <a id="2367" class="Symbol">_}</a> <a id="2370" class="Symbol">=</a> <a id="2372" href="Terms.Func.Basic.html#2144" class="InductiveConstructor">genl</a> <a id="2377" class="Symbol">(λ</a> <a id="2380" href="Terms.Func.Basic.html#2380" class="Bound">_</a> <a id="2382" class="Symbol">→</a> <a id="2384" href="Terms.Func.Basic.html#2294" class="Function">≐-isRefl</a><a id="2392" class="Symbol">)</a>

 <a id="2396" href="Terms.Func.Basic.html#2396" class="Function">≐-isSym</a> <a id="2404" class="Symbol">:</a> <a id="2406" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="2416" href="Terms.Func.Basic.html#2057" class="Datatype Operator">_≐_</a>
 <a id="2421" href="Terms.Func.Basic.html#2396" class="Function">≐-isSym</a> <a id="2429" class="Symbol">(</a><a id="2430" href="Terms.Func.Basic.html#2101" class="InductiveConstructor">refl</a> <a id="2435" href="Terms.Func.Basic.html#2435" class="Bound">x</a><a id="2436" class="Symbol">)</a> <a id="2438" class="Symbol">=</a> <a id="2440" href="Terms.Func.Basic.html#2101" class="InductiveConstructor">refl</a> <a id="2445" class="Symbol">(</a><a id="2446" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">≡.sym</a> <a id="2452" href="Terms.Func.Basic.html#2435" class="Bound">x</a><a id="2453" class="Symbol">)</a>
 <a id="2456" href="Terms.Func.Basic.html#2396" class="Function">≐-isSym</a> <a id="2464" class="Symbol">(</a><a id="2465" href="Terms.Func.Basic.html#2144" class="InductiveConstructor">genl</a> <a id="2470" href="Terms.Func.Basic.html#2470" class="Bound">x</a><a id="2471" class="Symbol">)</a> <a id="2473" class="Symbol">=</a> <a id="2475" href="Terms.Func.Basic.html#2144" class="InductiveConstructor">genl</a> <a id="2480" class="Symbol">(λ</a> <a id="2483" href="Terms.Func.Basic.html#2483" class="Bound">i</a> <a id="2485" class="Symbol">→</a> <a id="2487" href="Terms.Func.Basic.html#2396" class="Function">≐-isSym</a> <a id="2495" class="Symbol">(</a><a id="2496" href="Terms.Func.Basic.html#2470" class="Bound">x</a> <a id="2498" href="Terms.Func.Basic.html#2483" class="Bound">i</a><a id="2499" class="Symbol">))</a>

 <a id="2504" href="Terms.Func.Basic.html#2504" class="Function">≐-isTrans</a> <a id="2514" class="Symbol">:</a> <a id="2516" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="2527" href="Terms.Func.Basic.html#2057" class="Datatype Operator">_≐_</a>
 <a id="2532" href="Terms.Func.Basic.html#2504" class="Function">≐-isTrans</a> <a id="2542" class="Symbol">(</a><a id="2543" href="Terms.Func.Basic.html#2101" class="InductiveConstructor">refl</a> <a id="2548" href="Terms.Func.Basic.html#2548" class="Bound">x</a><a id="2549" class="Symbol">)</a> <a id="2551" class="Symbol">(</a><a id="2552" href="Terms.Func.Basic.html#2101" class="InductiveConstructor">refl</a> <a id="2557" href="Terms.Func.Basic.html#2557" class="Bound">y</a><a id="2558" class="Symbol">)</a> <a id="2560" class="Symbol">=</a> <a id="2562" href="Terms.Func.Basic.html#2101" class="InductiveConstructor">refl</a> <a id="2567" class="Symbol">(</a><a id="2568" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">≡.trans</a> <a id="2576" href="Terms.Func.Basic.html#2548" class="Bound">x</a> <a id="2578" href="Terms.Func.Basic.html#2557" class="Bound">y</a><a id="2579" class="Symbol">)</a>
 <a id="2582" href="Terms.Func.Basic.html#2504" class="Function">≐-isTrans</a> <a id="2592" class="Symbol">(</a><a id="2593" href="Terms.Func.Basic.html#2144" class="InductiveConstructor">genl</a> <a id="2598" href="Terms.Func.Basic.html#2598" class="Bound">x</a><a id="2599" class="Symbol">)</a> <a id="2601" class="Symbol">(</a><a id="2602" href="Terms.Func.Basic.html#2144" class="InductiveConstructor">genl</a> <a id="2607" href="Terms.Func.Basic.html#2607" class="Bound">y</a><a id="2608" class="Symbol">)</a> <a id="2610" class="Symbol">=</a> <a id="2612" href="Terms.Func.Basic.html#2144" class="InductiveConstructor">genl</a> <a id="2617" class="Symbol">(λ</a> <a id="2620" href="Terms.Func.Basic.html#2620" class="Bound">i</a> <a id="2622" class="Symbol">→</a> <a id="2624" href="Terms.Func.Basic.html#2504" class="Function">≐-isTrans</a> <a id="2634" class="Symbol">(</a><a id="2635" href="Terms.Func.Basic.html#2598" class="Bound">x</a> <a id="2637" href="Terms.Func.Basic.html#2620" class="Bound">i</a><a id="2638" class="Symbol">)</a> <a id="2640" class="Symbol">(</a><a id="2641" href="Terms.Func.Basic.html#2607" class="Bound">y</a> <a id="2643" href="Terms.Func.Basic.html#2620" class="Bound">i</a><a id="2644" class="Symbol">))</a>

 <a id="2649" href="Terms.Func.Basic.html#2649" class="Function">≐-isEquiv</a> <a id="2659" class="Symbol">:</a> <a id="2661" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="2675" href="Terms.Func.Basic.html#2057" class="Datatype Operator">_≐_</a>
 <a id="2680" href="Terms.Func.Basic.html#2649" class="Function">≐-isEquiv</a> <a id="2690" class="Symbol">=</a> <a id="2692" class="Keyword">record</a> <a id="2699" class="Symbol">{</a> <a id="2701" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="2706" class="Symbol">=</a> <a id="2708" href="Terms.Func.Basic.html#2294" class="Function">≐-isRefl</a> <a id="2717" class="Symbol">;</a> <a id="2719" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="2723" class="Symbol">=</a> <a id="2725" href="Terms.Func.Basic.html#2396" class="Function">≐-isSym</a> <a id="2733" class="Symbol">;</a> <a id="2735" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="2741" class="Symbol">=</a> <a id="2743" href="Terms.Func.Basic.html#2504" class="Function">≐-isTrans</a> <a id="2753" class="Symbol">}</a>

<a id="TermSetoid"></a><a id="2756" href="Terms.Func.Basic.html#2756" class="Function">TermSetoid</a> <a id="2767" class="Symbol">:</a> <a id="2769" class="Symbol">(</a><a id="2770" href="Terms.Func.Basic.html#2770" class="Bound">X</a> <a id="2772" class="Symbol">:</a> <a id="2774" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="2779" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="2780" class="Symbol">)</a> <a id="2782" class="Symbol">→</a> <a id="2784" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="2791" class="Symbol">(</a><a id="2792" href="Algebras.Setoid.Basic.html#1152" class="Function">ov</a> <a id="2795" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="2796" class="Symbol">)</a> <a id="2798" class="Symbol">(</a><a id="2799" href="Algebras.Setoid.Basic.html#1152" class="Function">ov</a> <a id="2802" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="2803" class="Symbol">)</a>
<a id="2805" href="Terms.Func.Basic.html#2756" class="Function">TermSetoid</a> <a id="2816" href="Terms.Func.Basic.html#2816" class="Bound">X</a> <a id="2818" class="Symbol">=</a> <a id="2820" class="Keyword">record</a> <a id="2827" class="Symbol">{</a> <a id="2829" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="2837" class="Symbol">=</a> <a id="2839" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2844" href="Terms.Func.Basic.html#2816" class="Bound">X</a> <a id="2846" class="Symbol">;</a> <a id="2848" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="2852" class="Symbol">=</a> <a id="2854" href="Terms.Func.Basic.html#2057" class="Datatype Operator">_≐_</a> <a id="2858" class="Symbol">;</a> <a id="2860" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="2874" class="Symbol">=</a> <a id="2876" href="Terms.Func.Basic.html#2649" class="Function">≐-isEquiv</a> <a id="2886" class="Symbol">}</a>

<a id="2889" class="Keyword">module</a> <a id="2896" href="Terms.Func.Basic.html#2896" class="Module">_</a> <a id="2898" class="Keyword">where</a>

 <a id="2906" class="Keyword">open</a> <a id="2911" href="Algebras.Setoid.Basic.html#3313" class="Module">SetoidAlgebra</a>

 <a id="2927" class="Comment">-- The Term SetoidAlgebra</a>
 <a id="2954" href="Terms.Func.Basic.html#2954" class="Function">𝑻</a> <a id="2956" class="Symbol">:</a> <a id="2958" class="Symbol">(</a><a id="2959" href="Terms.Func.Basic.html#2959" class="Bound">X</a> <a id="2961" class="Symbol">:</a> <a id="2963" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="2968" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="2969" class="Symbol">)</a> <a id="2971" class="Symbol">→</a> <a id="2973" href="Algebras.Setoid.Basic.html#3313" class="Record">SetoidAlgebra</a> <a id="2987" class="Symbol">(</a><a id="2988" href="Algebras.Setoid.Basic.html#1152" class="Function">ov</a> <a id="2991" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="2992" class="Symbol">)</a> <a id="2994" class="Symbol">(</a><a id="2995" href="Algebras.Setoid.Basic.html#1152" class="Function">ov</a> <a id="2998" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="2999" class="Symbol">)</a>
 <a id="3002" href="Algebras.Setoid.Basic.html#3376" class="Field">Domain</a> <a id="3009" class="Symbol">(</a><a id="3010" href="Terms.Func.Basic.html#2954" class="Function">𝑻</a> <a id="3012" href="Terms.Func.Basic.html#3012" class="Bound">X</a><a id="3013" class="Symbol">)</a> <a id="3015" class="Symbol">=</a> <a id="3017" href="Terms.Func.Basic.html#2756" class="Function">TermSetoid</a> <a id="3028" href="Terms.Func.Basic.html#3012" class="Bound">X</a>
 <a id="3031" href="Algebras.Setoid.Basic.html#3398" class="Field">Interp</a> <a id="3038" class="Symbol">(</a><a id="3039" href="Terms.Func.Basic.html#2954" class="Function">𝑻</a> <a id="3041" href="Terms.Func.Basic.html#3041" class="Bound">X</a><a id="3042" class="Symbol">)</a> <a id="3044" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="3048" class="Symbol">(</a><a id="3049" href="Terms.Func.Basic.html#3049" class="Bound">f</a> <a id="3051" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3053" href="Terms.Func.Basic.html#3053" class="Bound">ts</a><a id="3055" class="Symbol">)</a> <a id="3057" class="Symbol">=</a> <a id="3059" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="3064" href="Terms.Func.Basic.html#3049" class="Bound">f</a> <a id="3066" href="Terms.Func.Basic.html#3053" class="Bound">ts</a>
 <a id="3070" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="3075" class="Symbol">(</a><a id="3076" href="Algebras.Setoid.Basic.html#3398" class="Field">Interp</a> <a id="3083" class="Symbol">(</a><a id="3084" href="Terms.Func.Basic.html#2954" class="Function">𝑻</a> <a id="3086" href="Terms.Func.Basic.html#3086" class="Bound">X</a><a id="3087" class="Symbol">))</a> <a id="3090" class="Symbol">(</a><a id="3091" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="3098" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3100" href="Terms.Func.Basic.html#3100" class="Bound">ss≐ts</a><a id="3105" class="Symbol">)</a> <a id="3107" class="Symbol">=</a> <a id="3109" href="Terms.Func.Basic.html#2144" class="InductiveConstructor">genl</a> <a id="3114" href="Terms.Func.Basic.html#3100" class="Bound">ss≐ts</a>

</pre>


##### <a id="interpretation-of-terms-in-setoid-algebras">Interpretation of terms in setoid algebras</a>

The approach to terms and their interpretation in this module was inspired by
[Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).

A substitution from `Δ` to `Γ` associates a term in `Γ` with each variable in `Δ`.

<pre class="Agda">

<a id="3545" class="Comment">-- Parallel substitutions.</a>
<a id="Sub"></a><a id="3572" href="Terms.Func.Basic.html#3572" class="Function">Sub</a> <a id="3576" class="Symbol">:</a> <a id="3578" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="3583" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a> <a id="3585" class="Symbol">→</a> <a id="3587" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="3592" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a> <a id="3594" class="Symbol">→</a> <a id="3596" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="3601" class="Symbol">(</a><a id="3602" href="Algebras.Setoid.Basic.html#1152" class="Function">ov</a> <a id="3605" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="3606" class="Symbol">)</a>
<a id="3608" href="Terms.Func.Basic.html#3572" class="Function">Sub</a> <a id="3612" href="Terms.Func.Basic.html#3612" class="Bound">X</a> <a id="3614" href="Terms.Func.Basic.html#3614" class="Bound">Y</a> <a id="3616" class="Symbol">=</a> <a id="3618" class="Symbol">(</a><a id="3619" href="Terms.Func.Basic.html#3619" class="Bound">y</a> <a id="3621" class="Symbol">:</a> <a id="3623" href="Terms.Func.Basic.html#3614" class="Bound">Y</a><a id="3624" class="Symbol">)</a> <a id="3626" class="Symbol">→</a> <a id="3628" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3633" href="Terms.Func.Basic.html#3612" class="Bound">X</a>

<a id="3636" class="Comment">-- Application of a substitution.</a>
<a id="_[_]"></a><a id="3670" href="Terms.Func.Basic.html#3670" class="Function Operator">_[_]</a> <a id="3675" class="Symbol">:</a> <a id="3677" class="Symbol">(</a><a id="3678" href="Terms.Func.Basic.html#3678" class="Bound">t</a> <a id="3680" class="Symbol">:</a> <a id="3682" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3687" href="Terms.Func.Basic.html#1530" class="Generalizable">Y</a><a id="3688" class="Symbol">)</a> <a id="3690" class="Symbol">(</a><a id="3691" href="Terms.Func.Basic.html#3691" class="Bound">σ</a> <a id="3693" class="Symbol">:</a> <a id="3695" href="Terms.Func.Basic.html#3572" class="Function">Sub</a> <a id="3699" href="Terms.Func.Basic.html#1528" class="Generalizable">X</a> <a id="3701" href="Terms.Func.Basic.html#1530" class="Generalizable">Y</a><a id="3702" class="Symbol">)</a> <a id="3704" class="Symbol">→</a> <a id="3706" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3711" href="Terms.Func.Basic.html#1528" class="Generalizable">X</a>
<a id="3713" class="Symbol">(</a><a id="3714" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="3716" href="Terms.Func.Basic.html#3716" class="Bound">x</a><a id="3717" class="Symbol">)</a> <a id="3719" href="Terms.Func.Basic.html#3670" class="Function Operator">[</a> <a id="3721" href="Terms.Func.Basic.html#3721" class="Bound">σ</a> <a id="3723" href="Terms.Func.Basic.html#3670" class="Function Operator">]</a> <a id="3725" class="Symbol">=</a> <a id="3727" href="Terms.Func.Basic.html#3721" class="Bound">σ</a> <a id="3729" href="Terms.Func.Basic.html#3716" class="Bound">x</a>
<a id="3731" class="Symbol">(</a><a id="3732" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="3737" href="Terms.Func.Basic.html#3737" class="Bound">f</a> <a id="3739" href="Terms.Func.Basic.html#3739" class="Bound">ts</a><a id="3741" class="Symbol">)</a> <a id="3743" href="Terms.Func.Basic.html#3670" class="Function Operator">[</a> <a id="3745" href="Terms.Func.Basic.html#3745" class="Bound">σ</a> <a id="3747" href="Terms.Func.Basic.html#3670" class="Function Operator">]</a> <a id="3749" class="Symbol">=</a> <a id="3751" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="3756" href="Terms.Func.Basic.html#3737" class="Bound">f</a> <a id="3758" class="Symbol">(λ</a> <a id="3761" href="Terms.Func.Basic.html#3761" class="Bound">i</a> <a id="3763" class="Symbol">→</a> <a id="3765" href="Terms.Func.Basic.html#3739" class="Bound">ts</a> <a id="3768" href="Terms.Func.Basic.html#3761" class="Bound">i</a> <a id="3770" href="Terms.Func.Basic.html#3670" class="Function Operator">[</a> <a id="3772" href="Terms.Func.Basic.html#3745" class="Bound">σ</a> <a id="3774" href="Terms.Func.Basic.html#3670" class="Function Operator">]</a><a id="3775" class="Symbol">)</a>

</pre>

An environment for `Γ` maps each variable `x : Γ` to an element of `A`, and equality of environments is defined pointwise.

<pre class="Agda">

<a id="3928" class="Keyword">module</a> <a id="Environment"></a><a id="3935" href="Terms.Func.Basic.html#3935" class="Module">Environment</a> <a id="3947" class="Symbol">(</a><a id="3948" href="Terms.Func.Basic.html#3948" class="Bound">𝑨</a> <a id="3950" class="Symbol">:</a> <a id="3952" href="Algebras.Setoid.Basic.html#3313" class="Record">SetoidAlgebra</a> <a id="3966" href="Terms.Func.Basic.html#1515" class="Generalizable">α</a> <a id="3968" href="Terms.Func.Basic.html#1517" class="Generalizable">ℓ</a><a id="3969" class="Symbol">)</a> <a id="3971" class="Keyword">where</a>
 <a id="3978" class="Keyword">open</a> <a id="3983" href="Algebras.Setoid.Basic.html#3313" class="Module">SetoidAlgebra</a> <a id="3997" href="Terms.Func.Basic.html#3948" class="Bound">𝑨</a> <a id="3999" class="Keyword">using</a> <a id="4005" class="Symbol">(</a> <a id="4007" href="Algebras.Setoid.Basic.html#3398" class="Field">Interp</a> <a id="4014" class="Symbol">)</a> <a id="4016" class="Keyword">renaming</a> <a id="4025" class="Symbol">(</a> <a id="4027" href="Algebras.Setoid.Basic.html#3376" class="Field">Domain</a> <a id="4034" class="Symbol">to</a> <a id="4037" class="Field">A</a> <a id="4039" class="Symbol">)</a>
 <a id="4042" class="Keyword">open</a> <a id="4047" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="4054" href="Terms.Func.Basic.html#4037" class="Field">A</a> <a id="4056" class="Keyword">using</a> <a id="4062" class="Symbol">()</a> <a id="4065" class="Keyword">renaming</a> <a id="4074" class="Symbol">(</a> <a id="4076" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="4080" class="Symbol">to</a> <a id="4083" class="Field Operator">_≃_</a> <a id="4087" class="Symbol">;</a> <a id="4089" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="4097" class="Symbol">to</a> <a id="4100" class="Field">∣A∣</a>
                                 <a id="4137" class="Symbol">;</a> <a id="4139" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="4144" class="Symbol">to</a> <a id="4147" class="Function">≃refl</a> <a id="4153" class="Symbol">;</a> <a id="4155" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="4159" class="Symbol">to</a> <a id="4162" class="Function">≃sym</a> <a id="4167" class="Symbol">;</a> <a id="4169" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="4175" class="Symbol">to</a> <a id="4178" class="Function">≃trans</a> <a id="4185" class="Symbol">)</a>

 <a id="Environment.Env"></a><a id="4189" href="Terms.Func.Basic.html#4189" class="Function">Env</a> <a id="4193" class="Symbol">:</a> <a id="4195" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="4200" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a> <a id="4202" class="Symbol">→</a> <a id="4204" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="4211" class="Symbol">_</a> <a id="4213" class="Symbol">_</a>
 <a id="4216" href="Terms.Func.Basic.html#4189" class="Function">Env</a> <a id="4220" href="Terms.Func.Basic.html#4220" class="Bound">X</a> <a id="4222" class="Symbol">=</a> <a id="4224" class="Keyword">record</a> <a id="4231" class="Symbol">{</a> <a id="4233" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="4241" class="Symbol">=</a> <a id="4243" class="Symbol">(</a><a id="4244" href="Terms.Func.Basic.html#4244" class="Bound">x</a> <a id="4246" class="Symbol">:</a> <a id="4248" href="Terms.Func.Basic.html#4220" class="Bound">X</a><a id="4249" class="Symbol">)</a> <a id="4251" class="Symbol">→</a> <a id="4253" href="Terms.Func.Basic.html#4100" class="Function">∣A∣</a>
                <a id="4273" class="Symbol">;</a> <a id="4275" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="4279" class="Symbol">=</a> <a id="4281" class="Symbol">λ</a> <a id="4283" href="Terms.Func.Basic.html#4283" class="Bound">ρ</a> <a id="4285" href="Terms.Func.Basic.html#4285" class="Bound">ρ&#39;</a> <a id="4288" class="Symbol">→</a> <a id="4290" class="Symbol">(</a><a id="4291" href="Terms.Func.Basic.html#4291" class="Bound">x</a> <a id="4293" class="Symbol">:</a> <a id="4295" href="Terms.Func.Basic.html#4220" class="Bound">X</a><a id="4296" class="Symbol">)</a> <a id="4298" class="Symbol">→</a> <a id="4300" href="Terms.Func.Basic.html#4283" class="Bound">ρ</a> <a id="4302" href="Terms.Func.Basic.html#4291" class="Bound">x</a> <a id="4304" href="Terms.Func.Basic.html#4083" class="Function Operator">≃</a> <a id="4306" href="Terms.Func.Basic.html#4285" class="Bound">ρ&#39;</a> <a id="4309" href="Terms.Func.Basic.html#4291" class="Bound">x</a>
                <a id="4327" class="Symbol">;</a> <a id="4329" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="4343" class="Symbol">=</a>
                   <a id="4364" class="Keyword">record</a> <a id="4371" class="Symbol">{</a> <a id="4373" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="4378" class="Symbol">=</a> <a id="4380" class="Symbol">λ</a> <a id="4382" href="Terms.Func.Basic.html#4382" class="Bound">_</a> <a id="4384" class="Symbol">→</a> <a id="4386" href="Terms.Func.Basic.html#4147" class="Function">≃refl</a>
                          <a id="4418" class="Symbol">;</a> <a id="4420" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="4424" class="Symbol">=</a> <a id="4426" class="Symbol">λ</a> <a id="4428" href="Terms.Func.Basic.html#4428" class="Bound">h</a> <a id="4430" href="Terms.Func.Basic.html#4430" class="Bound">x</a> <a id="4432" class="Symbol">→</a> <a id="4434" href="Terms.Func.Basic.html#4162" class="Function">≃sym</a> <a id="4439" class="Symbol">(</a><a id="4440" href="Terms.Func.Basic.html#4428" class="Bound">h</a> <a id="4442" href="Terms.Func.Basic.html#4430" class="Bound">x</a><a id="4443" class="Symbol">)</a>
                          <a id="4471" class="Symbol">;</a> <a id="4473" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="4479" class="Symbol">=</a> <a id="4481" class="Symbol">λ</a> <a id="4483" href="Terms.Func.Basic.html#4483" class="Bound">g</a> <a id="4485" href="Terms.Func.Basic.html#4485" class="Bound">h</a> <a id="4487" href="Terms.Func.Basic.html#4487" class="Bound">x</a> <a id="4489" class="Symbol">→</a> <a id="4491" href="Terms.Func.Basic.html#4178" class="Function">≃trans</a> <a id="4498" class="Symbol">(</a><a id="4499" href="Terms.Func.Basic.html#4483" class="Bound">g</a> <a id="4501" href="Terms.Func.Basic.html#4487" class="Bound">x</a><a id="4502" class="Symbol">)</a> <a id="4504" class="Symbol">(</a><a id="4505" href="Terms.Func.Basic.html#4485" class="Bound">h</a> <a id="4507" href="Terms.Func.Basic.html#4487" class="Bound">x</a><a id="4508" class="Symbol">)</a>
                          <a id="4536" class="Symbol">}</a>
                <a id="4554" class="Symbol">}</a>

</pre>

Interpretation of terms is iteration on the W-type. The standard library offers `iter' (on sets), but we need this to be a Func (on setoids).

<pre class="Agda">

 <a id="Environment.⟦_⟧"></a><a id="4727" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦_⟧</a> <a id="4731" class="Symbol">:</a> <a id="4733" class="Symbol">{</a><a id="4734" href="Terms.Func.Basic.html#4734" class="Bound">X</a> <a id="4736" class="Symbol">:</a> <a id="4738" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="4743" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="4744" class="Symbol">}(</a><a id="4746" href="Terms.Func.Basic.html#4746" class="Bound">t</a> <a id="4748" class="Symbol">:</a> <a id="4750" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="4755" href="Terms.Func.Basic.html#4734" class="Bound">X</a><a id="4756" class="Symbol">)</a> <a id="4758" class="Symbol">→</a> <a id="4760" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="4765" class="Symbol">(</a><a id="4766" href="Terms.Func.Basic.html#4189" class="Function">Env</a> <a id="4770" href="Terms.Func.Basic.html#4734" class="Bound">X</a><a id="4771" class="Symbol">)</a> <a id="4773" href="Terms.Func.Basic.html#4037" class="Field">A</a>
 <a id="4776" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="4778" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="4780" href="Terms.Func.Basic.html#4780" class="Bound">x</a> <a id="4782" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="4784" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="4788" href="Terms.Func.Basic.html#4788" class="Bound">ρ</a> <a id="4790" class="Symbol">=</a> <a id="4792" href="Terms.Func.Basic.html#4788" class="Bound">ρ</a> <a id="4794" href="Terms.Func.Basic.html#4780" class="Bound">x</a>
 <a id="4797" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="4799" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4804" href="Terms.Func.Basic.html#4804" class="Bound">f</a> <a id="4806" href="Terms.Func.Basic.html#4806" class="Bound">args</a> <a id="4811" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="4813" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="4817" href="Terms.Func.Basic.html#4817" class="Bound">ρ</a> <a id="4819" class="Symbol">=</a> <a id="4821" href="Algebras.Setoid.Basic.html#3398" class="Field">Interp</a> <a id="4828" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="4832" class="Symbol">(</a><a id="4833" href="Terms.Func.Basic.html#4804" class="Bound">f</a> <a id="4835" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4837" class="Symbol">λ</a> <a id="4839" href="Terms.Func.Basic.html#4839" class="Bound">i</a> <a id="4841" class="Symbol">→</a> <a id="4843" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="4845" href="Terms.Func.Basic.html#4806" class="Bound">args</a> <a id="4850" href="Terms.Func.Basic.html#4839" class="Bound">i</a> <a id="4852" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="4854" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="4858" href="Terms.Func.Basic.html#4817" class="Bound">ρ</a><a id="4859" class="Symbol">)</a>
 <a id="4862" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="4867" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="4869" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="4871" href="Terms.Func.Basic.html#4871" class="Bound">x</a> <a id="4873" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="4875" href="Terms.Func.Basic.html#4875" class="Bound">u≈v</a> <a id="4879" class="Symbol">=</a> <a id="4881" href="Terms.Func.Basic.html#4875" class="Bound">u≈v</a> <a id="4885" href="Terms.Func.Basic.html#4871" class="Bound">x</a>
 <a id="4888" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="4893" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="4895" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4900" href="Terms.Func.Basic.html#4900" class="Bound">f</a> <a id="4902" href="Terms.Func.Basic.html#4902" class="Bound">args</a> <a id="4907" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="4909" href="Terms.Func.Basic.html#4909" class="Bound">x≈y</a> <a id="4913" class="Symbol">=</a> <a id="4915" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="4920" href="Algebras.Setoid.Basic.html#3398" class="Field">Interp</a> <a id="4927" class="Symbol">(</a><a id="4928" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="4935" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4937" class="Symbol">λ</a> <a id="4939" href="Terms.Func.Basic.html#4939" class="Bound">i</a> <a id="4941" class="Symbol">→</a> <a id="4943" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="4948" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="4950" href="Terms.Func.Basic.html#4902" class="Bound">args</a> <a id="4955" href="Terms.Func.Basic.html#4939" class="Bound">i</a> <a id="4957" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="4959" href="Terms.Func.Basic.html#4909" class="Bound">x≈y</a> <a id="4963" class="Symbol">)</a>


 <a id="4968" class="Keyword">open</a> <a id="4973" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="4980" class="Keyword">using</a> <a id="4986" class="Symbol">()</a> <a id="4989" class="Keyword">renaming</a> <a id="4998" class="Symbol">(</a> <a id="5000" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="5008" class="Symbol">to</a> <a id="5011" class="Field">∣_∣</a> <a id="5015" class="Symbol">)</a>

 <a id="5019" class="Comment">-- An equality between two terms holds in a model</a>
 <a id="5070" class="Comment">-- if the two terms are equal under all valuations of their free variables.</a>
 <a id="Environment.Equal"></a><a id="5147" href="Terms.Func.Basic.html#5147" class="Function">Equal</a> <a id="5153" class="Symbol">:</a> <a id="5155" class="Symbol">∀</a> <a id="5157" class="Symbol">{</a><a id="5158" href="Terms.Func.Basic.html#5158" class="Bound">X</a> <a id="5160" class="Symbol">:</a> <a id="5162" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="5167" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="5168" class="Symbol">}</a> <a id="5170" class="Symbol">(</a><a id="5171" href="Terms.Func.Basic.html#5171" class="Bound">s</a> <a id="5173" href="Terms.Func.Basic.html#5173" class="Bound">t</a> <a id="5175" class="Symbol">:</a> <a id="5177" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="5182" href="Terms.Func.Basic.html#5158" class="Bound">X</a><a id="5183" class="Symbol">)</a> <a id="5185" class="Symbol">→</a> <a id="5187" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="5192" class="Symbol">_</a>
 <a id="5195" href="Terms.Func.Basic.html#5147" class="Function">Equal</a> <a id="5201" class="Symbol">{</a><a id="5202" class="Argument">X</a> <a id="5204" class="Symbol">=</a> <a id="5206" href="Terms.Func.Basic.html#5206" class="Bound">X</a><a id="5207" class="Symbol">}</a> <a id="5209" href="Terms.Func.Basic.html#5209" class="Bound">s</a> <a id="5211" href="Terms.Func.Basic.html#5211" class="Bound">t</a> <a id="5213" class="Symbol">=</a> <a id="5215" class="Symbol">∀</a> <a id="5217" class="Symbol">(</a><a id="5218" href="Terms.Func.Basic.html#5218" class="Bound">ρ</a> <a id="5220" class="Symbol">:</a> <a id="5222" href="Terms.Func.Basic.html#5011" class="Field Operator">∣</a> <a id="5224" href="Terms.Func.Basic.html#4189" class="Function">Env</a> <a id="5228" href="Terms.Func.Basic.html#5206" class="Bound">X</a> <a id="5230" href="Terms.Func.Basic.html#5011" class="Field Operator">∣</a><a id="5231" class="Symbol">)</a> <a id="5233" class="Symbol">→</a>  <a id="5236" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="5238" href="Terms.Func.Basic.html#5209" class="Bound">s</a> <a id="5240" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="5242" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="5246" href="Terms.Func.Basic.html#5218" class="Bound">ρ</a> <a id="5248" href="Terms.Func.Basic.html#4083" class="Function Operator">≃</a> <a id="5250" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="5252" href="Terms.Func.Basic.html#5211" class="Bound">t</a> <a id="5254" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="5256" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="5260" href="Terms.Func.Basic.html#5218" class="Bound">ρ</a>

 <a id="5264" class="Comment">-- Equal is an equivalence relation.</a>
 <a id="Environment.isEquiv"></a><a id="5302" href="Terms.Func.Basic.html#5302" class="Function">isEquiv</a> <a id="5310" class="Symbol">:</a> <a id="5312" class="Symbol">{</a><a id="5313" href="Terms.Func.Basic.html#5313" class="Bound">Γ</a> <a id="5315" class="Symbol">:</a> <a id="5317" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="5322" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="5323" class="Symbol">}</a> <a id="5325" class="Symbol">→</a> <a id="5327" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="5341" class="Symbol">(</a><a id="5342" href="Terms.Func.Basic.html#5147" class="Function">Equal</a> <a id="5348" class="Symbol">{</a><a id="5349" class="Argument">X</a> <a id="5351" class="Symbol">=</a> <a id="5353" href="Terms.Func.Basic.html#5313" class="Bound">Γ</a><a id="5354" class="Symbol">})</a>

 <a id="5359" href="Terms.Func.Basic.html#5302" class="Function">isEquiv</a> <a id="5367" class="Symbol">=</a> <a id="5369" class="Keyword">record</a> <a id="5376" class="Symbol">{</a> <a id="5378" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>  <a id="5384" class="Symbol">=</a>         <a id="5394" class="Symbol">λ</a> <a id="5396" href="Terms.Func.Basic.html#5396" class="Bound">ρ</a> <a id="5398" class="Symbol">→</a> <a id="5400" href="Terms.Func.Basic.html#4147" class="Function">≃refl</a>
                  <a id="5424" class="Symbol">;</a> <a id="5426" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>   <a id="5432" class="Symbol">=</a>     <a id="5438" class="Symbol">λ</a> <a id="5440" href="Terms.Func.Basic.html#5440" class="Bound">x=y</a> <a id="5444" href="Terms.Func.Basic.html#5444" class="Bound">ρ</a> <a id="5446" class="Symbol">→</a> <a id="5448" href="Terms.Func.Basic.html#4162" class="Function">≃sym</a> <a id="5453" class="Symbol">(</a><a id="5454" href="Terms.Func.Basic.html#5440" class="Bound">x=y</a> <a id="5458" href="Terms.Func.Basic.html#5444" class="Bound">ρ</a><a id="5459" class="Symbol">)</a>
                  <a id="5479" class="Symbol">;</a> <a id="5481" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="5487" class="Symbol">=</a> <a id="5489" class="Symbol">λ</a> <a id="5491" href="Terms.Func.Basic.html#5491" class="Bound">i=j</a> <a id="5495" href="Terms.Func.Basic.html#5495" class="Bound">j=k</a> <a id="5499" href="Terms.Func.Basic.html#5499" class="Bound">ρ</a> <a id="5501" class="Symbol">→</a> <a id="5503" href="Terms.Func.Basic.html#4178" class="Function">≃trans</a> <a id="5510" class="Symbol">(</a><a id="5511" href="Terms.Func.Basic.html#5491" class="Bound">i=j</a> <a id="5515" href="Terms.Func.Basic.html#5499" class="Bound">ρ</a><a id="5516" class="Symbol">)</a> <a id="5518" class="Symbol">(</a><a id="5519" href="Terms.Func.Basic.html#5495" class="Bound">j=k</a> <a id="5523" href="Terms.Func.Basic.html#5499" class="Bound">ρ</a><a id="5524" class="Symbol">)</a>
                  <a id="5544" class="Symbol">}</a>

 <a id="5548" class="Comment">-- Evaluation of a substitution gives an environment.</a>
 <a id="Environment.⟦_⟧s"></a><a id="5603" href="Terms.Func.Basic.html#5603" class="Function Operator">⟦_⟧s</a> <a id="5608" class="Symbol">:</a> <a id="5610" class="Symbol">{</a><a id="5611" href="Terms.Func.Basic.html#5611" class="Bound">X</a> <a id="5613" href="Terms.Func.Basic.html#5613" class="Bound">Y</a> <a id="5615" class="Symbol">:</a> <a id="5617" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="5622" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="5623" class="Symbol">}</a> <a id="5625" class="Symbol">→</a> <a id="5627" href="Terms.Func.Basic.html#3572" class="Function">Sub</a> <a id="5631" href="Terms.Func.Basic.html#5611" class="Bound">X</a> <a id="5633" href="Terms.Func.Basic.html#5613" class="Bound">Y</a> <a id="5635" class="Symbol">→</a> <a id="5637" href="Terms.Func.Basic.html#5011" class="Field Operator">∣</a> <a id="5639" href="Terms.Func.Basic.html#4189" class="Function">Env</a> <a id="5643" href="Terms.Func.Basic.html#5611" class="Bound">X</a> <a id="5645" href="Terms.Func.Basic.html#5011" class="Field Operator">∣</a> <a id="5647" class="Symbol">→</a> <a id="5649" href="Terms.Func.Basic.html#5011" class="Field Operator">∣</a> <a id="5651" href="Terms.Func.Basic.html#4189" class="Function">Env</a> <a id="5655" href="Terms.Func.Basic.html#5613" class="Bound">Y</a> <a id="5657" href="Terms.Func.Basic.html#5011" class="Field Operator">∣</a>
 <a id="5660" href="Terms.Func.Basic.html#5603" class="Function Operator">⟦</a> <a id="5662" href="Terms.Func.Basic.html#5662" class="Bound">σ</a> <a id="5664" href="Terms.Func.Basic.html#5603" class="Function Operator">⟧s</a> <a id="5667" href="Terms.Func.Basic.html#5667" class="Bound">ρ</a> <a id="5669" href="Terms.Func.Basic.html#5669" class="Bound">x</a> <a id="5671" class="Symbol">=</a> <a id="5673" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="5675" href="Terms.Func.Basic.html#5662" class="Bound">σ</a> <a id="5677" href="Terms.Func.Basic.html#5669" class="Bound">x</a> <a id="5679" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="5681" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="5685" href="Terms.Func.Basic.html#5667" class="Bound">ρ</a>

 <a id="5689" class="Comment">-- Substitution lemma: ⟦t[σ]⟧ρ ≃ ⟦t⟧⟦σ⟧ρ</a>
 <a id="Environment.substitution"></a><a id="5731" href="Terms.Func.Basic.html#5731" class="Function">substitution</a> <a id="5744" class="Symbol">:</a> <a id="5746" class="Symbol">{</a><a id="5747" href="Terms.Func.Basic.html#5747" class="Bound">X</a> <a id="5749" href="Terms.Func.Basic.html#5749" class="Bound">Y</a> <a id="5751" class="Symbol">:</a> <a id="5753" href="Terms.Func.Basic.html#630" class="Primitive">Type</a> <a id="5758" href="Terms.Func.Basic.html#1513" class="Generalizable">χ</a><a id="5759" class="Symbol">}</a> <a id="5761" class="Symbol">→</a> <a id="5763" class="Symbol">(</a><a id="5764" href="Terms.Func.Basic.html#5764" class="Bound">t</a> <a id="5766" class="Symbol">:</a> <a id="5768" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="5773" href="Terms.Func.Basic.html#5749" class="Bound">Y</a><a id="5774" class="Symbol">)</a> <a id="5776" class="Symbol">(</a><a id="5777" href="Terms.Func.Basic.html#5777" class="Bound">σ</a> <a id="5779" class="Symbol">:</a> <a id="5781" href="Terms.Func.Basic.html#3572" class="Function">Sub</a> <a id="5785" href="Terms.Func.Basic.html#5747" class="Bound">X</a> <a id="5787" href="Terms.Func.Basic.html#5749" class="Bound">Y</a><a id="5788" class="Symbol">)</a> <a id="5790" class="Symbol">(</a><a id="5791" href="Terms.Func.Basic.html#5791" class="Bound">ρ</a> <a id="5793" class="Symbol">:</a> <a id="5795" href="Terms.Func.Basic.html#5011" class="Field Operator">∣</a> <a id="5797" href="Terms.Func.Basic.html#4189" class="Function">Env</a> <a id="5801" href="Terms.Func.Basic.html#5747" class="Bound">X</a> <a id="5803" href="Terms.Func.Basic.html#5011" class="Field Operator">∣</a> <a id="5805" class="Symbol">)</a>
  <a id="5809" class="Symbol">→</a>             <a id="5823" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="5825" href="Terms.Func.Basic.html#5764" class="Bound">t</a> <a id="5827" href="Terms.Func.Basic.html#3670" class="Function Operator">[</a> <a id="5829" href="Terms.Func.Basic.html#5777" class="Bound">σ</a> <a id="5831" href="Terms.Func.Basic.html#3670" class="Function Operator">]</a> <a id="5833" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="5835" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="5839" href="Terms.Func.Basic.html#5791" class="Bound">ρ</a>  <a id="5842" href="Terms.Func.Basic.html#4083" class="Function Operator">≃</a>  <a id="5845" href="Terms.Func.Basic.html#4727" class="Function Operator">⟦</a> <a id="5847" href="Terms.Func.Basic.html#5764" class="Bound">t</a> <a id="5849" href="Terms.Func.Basic.html#4727" class="Function Operator">⟧</a> <a id="5851" href="Terms.Func.Basic.html#1486" class="Field Operator">⟨$⟩</a> <a id="5855" class="Symbol">(</a><a id="5856" href="Terms.Func.Basic.html#5603" class="Function Operator">⟦</a> <a id="5858" href="Terms.Func.Basic.html#5777" class="Bound">σ</a> <a id="5860" href="Terms.Func.Basic.html#5603" class="Function Operator">⟧s</a> <a id="5863" href="Terms.Func.Basic.html#5791" class="Bound">ρ</a><a id="5864" class="Symbol">)</a>

 <a id="5868" href="Terms.Func.Basic.html#5731" class="Function">substitution</a> <a id="5881" class="Symbol">(</a><a id="5882" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="5884" href="Terms.Func.Basic.html#5884" class="Bound">x</a><a id="5885" class="Symbol">)</a> <a id="5887" href="Terms.Func.Basic.html#5887" class="Bound">σ</a> <a id="5889" href="Terms.Func.Basic.html#5889" class="Bound">ρ</a> <a id="5891" class="Symbol">=</a> <a id="5893" href="Terms.Func.Basic.html#4147" class="Function">≃refl</a>
 <a id="5900" href="Terms.Func.Basic.html#5731" class="Function">substitution</a> <a id="5913" class="Symbol">(</a><a id="5914" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="5919" href="Terms.Func.Basic.html#5919" class="Bound">f</a> <a id="5921" href="Terms.Func.Basic.html#5921" class="Bound">ts</a><a id="5923" class="Symbol">)</a> <a id="5925" href="Terms.Func.Basic.html#5925" class="Bound">σ</a> <a id="5927" href="Terms.Func.Basic.html#5927" class="Bound">ρ</a> <a id="5929" class="Symbol">=</a> <a id="5931" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="5936" href="Algebras.Setoid.Basic.html#3398" class="Field">Interp</a> <a id="5943" class="Symbol">(</a><a id="5944" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">≡.refl</a> <a id="5951" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5953" class="Symbol">λ</a> <a id="5955" href="Terms.Func.Basic.html#5955" class="Bound">i</a> <a id="5957" class="Symbol">→</a> <a id="5959" href="Terms.Func.Basic.html#5731" class="Function">substitution</a> <a id="5972" class="Symbol">(</a><a id="5973" href="Terms.Func.Basic.html#5921" class="Bound">ts</a> <a id="5976" href="Terms.Func.Basic.html#5955" class="Bound">i</a><a id="5977" class="Symbol">)</a> <a id="5979" href="Terms.Func.Basic.html#5925" class="Bound">σ</a> <a id="5981" href="Terms.Func.Basic.html#5927" class="Bound">ρ</a><a id="5982" class="Symbol">)</a>

</pre>

--------------------------------

<span style="float:left;">[↑ Terms.Func](Terms.Func.html)</span>
<span style="float:right;">[Terms.Func.Properties →](Terms.Func.Properties.html)</span>

{% include UALib.Links.md %}









<!--

The following was used in [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf), but it seems unnecessary.

-- To obtain terms with free variables, we add nullary operations, each representing a variable.
-- These are covered in the std lib FreeMonad module, albeit with the restriction that the sets of
-- operation symbols and variable symbols have the same size.

-- Ops : Type χ → Signature (𝓞 ⊔ χ) 𝓥
-- Ops X = ((∣ 𝑆 ∣ ⊎ X) , ar)
--  where
--  ar : ∣ 𝑆 ∣ ⊎ X → Type _
--  ar (inl f) = ∥ 𝑆 ∥ f
--  ar (inr x) = ⊥             -- Add a nullary operation symbol for each variable symbol.

-->
