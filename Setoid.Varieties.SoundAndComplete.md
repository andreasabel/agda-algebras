---
layout: default
title : "Setoid.Varieties.SoundAndComplete module (The Agda Universal Algebra Library)"
date : "2021-01-14"
author: "agda-algebras development team"
---

#### <a id="entailment-derivation-rules-soundness-and-completeness">Entailment, derivation rules, soundness and completeness</a>

This is the [Setoid.Varieties.SoundAndComplete][] module of the [Agda Universal Algebra Library][].

This module is based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).

<pre class="Agda">

<a id="580" class="Symbol">{-#</a> <a id="584" class="Keyword">OPTIONS</a> <a id="592" class="Pragma">--without-K</a> <a id="604" class="Pragma">--exact-split</a> <a id="618" class="Pragma">--safe</a> <a id="625" class="Symbol">#-}</a>

<a id="630" class="Keyword">open</a> <a id="635" class="Keyword">import</a> <a id="642" href="Base.Algebras.Basic.html" class="Module">Base.Algebras.Basic</a> <a id="662" class="Keyword">using</a> <a id="668" class="Symbol">(</a> <a id="670" href="Base.Algebras.Basic.html#1160" class="Generalizable">𝓞</a> <a id="672" class="Symbol">;</a> <a id="674" href="Base.Algebras.Basic.html#1162" class="Generalizable">𝓥</a> <a id="676" class="Symbol">;</a> <a id="678" href="Base.Algebras.Basic.html#3888" class="Function">Signature</a> <a id="688" class="Symbol">)</a>

<a id="691" class="Keyword">module</a> <a id="698" href="Setoid.Varieties.SoundAndComplete.html" class="Module">Setoid.Varieties.SoundAndComplete</a> <a id="732" class="Symbol">{</a><a id="733" href="Setoid.Varieties.SoundAndComplete.html#733" class="Bound">𝑆</a> <a id="735" class="Symbol">:</a> <a id="737" href="Base.Algebras.Basic.html#3888" class="Function">Signature</a> <a id="747" href="Base.Algebras.Basic.html#1160" class="Generalizable">𝓞</a> <a id="749" href="Base.Algebras.Basic.html#1162" class="Generalizable">𝓥</a><a id="750" class="Symbol">}</a> <a id="752" class="Keyword">where</a>

<a id="759" class="Comment">-- imports from Agda and the Agda Standard Library -------------------------------------------</a>
<a id="854" class="Keyword">open</a> <a id="859" class="Keyword">import</a> <a id="866" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>   <a id="883" class="Keyword">using</a> <a id="889" class="Symbol">(</a> <a id="891" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="895" class="Symbol">;</a> <a id="897" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="902" class="Symbol">;</a> <a id="904" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="910" class="Symbol">)</a> <a id="912" class="Keyword">renaming</a> <a id="921" class="Symbol">(</a> <a id="923" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="927" class="Symbol">to</a> <a id="930" class="Primitive">Type</a> <a id="935" class="Symbol">)</a>
<a id="937" class="Keyword">open</a> <a id="942" class="Keyword">import</a> <a id="949" href="Data.Product.html" class="Module">Data.Product</a>     <a id="966" class="Keyword">using</a> <a id="972" class="Symbol">(</a> <a id="974" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="978" class="Symbol">;</a> <a id="980" href="Data.Product.html#916" class="Function">Σ-syntax</a> <a id="989" class="Symbol">;</a> <a id="991" href="Data.Product.html#1167" class="Function Operator">_×_</a> <a id="995" class="Symbol">)</a> <a id="997" class="Keyword">renaming</a> <a id="1006" class="Symbol">(</a> <a id="1008" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1014" class="Symbol">to</a> <a id="1017" class="Field">fst</a> <a id="1021" class="Symbol">;</a> <a id="1023" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1029" class="Symbol">to</a> <a id="1032" class="Field">snd</a> <a id="1036" class="Symbol">)</a>
<a id="1038" class="Keyword">open</a> <a id="1043" class="Keyword">import</a> <a id="1050" href="Function.Base.html" class="Module">Function.Base</a>    <a id="1067" class="Keyword">using</a> <a id="1073" class="Symbol">(</a> <a id="1075" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="1079" class="Symbol">;</a> <a id="1081" href="Function.Base.html#1554" class="Function">flip</a> <a id="1086" class="Symbol">;</a> <a id="1088" href="Function.Base.html#615" class="Function">id</a> <a id="1091" class="Symbol">)</a>
<a id="1093" class="Keyword">open</a> <a id="1098" class="Keyword">import</a> <a id="1105" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="1122" class="Keyword">using</a> <a id="1128" class="Symbol">()</a> <a id="1131" class="Keyword">renaming</a> <a id="1140" class="Symbol">(</a> <a id="1142" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="1147" class="Symbol">to</a> <a id="1150" class="Record">_⟶_</a> <a id="1154" class="Symbol">)</a>
<a id="1156" class="Keyword">open</a> <a id="1161" class="Keyword">import</a> <a id="1168" href="Relation.Binary.html" class="Module">Relation.Binary</a>  <a id="1185" class="Keyword">using</a> <a id="1191" class="Symbol">(</a> <a id="1193" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1200" class="Symbol">;</a> <a id="1202" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="1216" class="Symbol">)</a>
<a id="1218" class="Keyword">open</a> <a id="1223" class="Keyword">import</a> <a id="1230" href="Relation.Unary.html" class="Module">Relation.Unary</a>   <a id="1247" class="Keyword">using</a> <a id="1253" class="Symbol">(</a> <a id="1255" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1260" class="Symbol">;</a> <a id="1262" href="Relation.Unary.html#1523" class="Function Operator">_∈_</a> <a id="1266" class="Symbol">)</a>
<a id="1268" class="Keyword">open</a> <a id="1273" class="Keyword">import</a> <a id="1280" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1318" class="Keyword">using</a> <a id="1324" class="Symbol">(</a> <a id="1326" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="1330" class="Symbol">;</a> <a id="1332" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1337" class="Symbol">)</a>
<a id="1339" class="Keyword">import</a> <a id="1346" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1379" class="Symbol">as</a> <a id="1382" class="Module">SetoidReasoning</a>

<a id="1399" class="Comment">-- Imports from the Agda Universal Algebra Library ---------------------------------------------</a>
<a id="1496" class="Keyword">open</a> <a id="1501" class="Keyword">import</a> <a id="1508" href="Base.Overture.Preliminaries.html" class="Module">Base.Overture.Preliminaries</a>     <a id="1540" class="Keyword">using</a> <a id="1546" class="Symbol">(</a> <a id="1548" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣_∣</a> <a id="1552" class="Symbol">)</a>
<a id="1554" class="Keyword">open</a> <a id="1559" class="Keyword">import</a> <a id="1566" href="Base.Terms.Basic.html" class="Module">Base.Terms.Basic</a>       <a id="1589" class="Symbol">{</a><a id="1590" class="Argument">𝑆</a> <a id="1592" class="Symbol">=</a> <a id="1594" href="Setoid.Varieties.SoundAndComplete.html#733" class="Bound">𝑆</a><a id="1595" class="Symbol">}</a>  <a id="1598" class="Keyword">using</a> <a id="1604" class="Symbol">(</a> <a id="1606" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="1611" class="Symbol">)</a>
<a id="1613" class="Keyword">open</a> <a id="1618" class="Keyword">import</a> <a id="1625" href="Setoid.Algebras.Basic.html" class="Module">Setoid.Algebras.Basic</a>  <a id="1648" class="Symbol">{</a><a id="1649" class="Argument">𝑆</a> <a id="1651" class="Symbol">=</a> <a id="1653" href="Setoid.Varieties.SoundAndComplete.html#733" class="Bound">𝑆</a><a id="1654" class="Symbol">}</a>  <a id="1657" class="Keyword">using</a> <a id="1663" class="Symbol">(</a> <a id="1665" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="1673" class="Symbol">;</a> <a id="1675" href="Setoid.Algebras.Basic.html#1187" class="Function">ov</a> <a id="1678" class="Symbol">)</a> <a id="1680" class="Keyword">renaming</a> <a id="1689" class="Symbol">(</a> <a id="1691" href="Setoid.Algebras.Basic.html#2156" class="Function Operator">⟦_⟧</a> <a id="1695" class="Symbol">to</a> <a id="1698" class="Function Operator">⟦_⟧s</a> <a id="1703" class="Symbol">)</a>
<a id="1705" class="Keyword">open</a> <a id="1710" class="Keyword">import</a> <a id="1717" href="Setoid.Terms.Basic.html" class="Module">Setoid.Terms.Basic</a>     <a id="1740" class="Symbol">{</a><a id="1741" class="Argument">𝑆</a> <a id="1743" class="Symbol">=</a> <a id="1745" href="Setoid.Varieties.SoundAndComplete.html#733" class="Bound">𝑆</a><a id="1746" class="Symbol">}</a>  <a id="1749" class="Keyword">using</a> <a id="1755" class="Symbol">(</a> <a id="1757" class="Keyword">module</a> <a id="1764" href="Setoid.Terms.Basic.html#3906" class="Module">Environment</a> <a id="1776" class="Symbol">;</a> <a id="1778" href="Setoid.Terms.Basic.html#3543" class="Function">Sub</a> <a id="1782" class="Symbol">;</a> <a id="1784" href="Setoid.Terms.Basic.html#3641" class="Function Operator">_[_]</a> <a id="1789" class="Symbol">)</a>

<a id="1792" class="Keyword">open</a> <a id="1797" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a>  <a id="1805" class="Keyword">using</a> <a id="1811" class="Symbol">(</a> <a id="1813" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="1821" class="Symbol">;</a> <a id="1823" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="1827" class="Symbol">;</a> <a id="1829" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="1843" class="Symbol">)</a>
<a id="1845" class="Keyword">open</a> <a id="1850" href="Setoid.Varieties.SoundAndComplete.html#1150" class="Module">_⟶_</a>     <a id="1858" class="Keyword">renaming</a> <a id="1867" class="Symbol">(</a> <a id="1869" href="Function.Bundles.html#1919" class="Field">f</a> <a id="1871" class="Symbol">to</a> <a id="1874" class="Field">_⟨$⟩_</a> <a id="1880" class="Symbol">)</a>
<a id="1882" class="Keyword">open</a> <a id="1887" href="Base.Terms.Basic.html#2021" class="Module">Term</a>

<a id="1893" class="Keyword">private</a> <a id="1901" class="Keyword">variable</a>
 <a id="1911" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a> <a id="1913" href="Setoid.Varieties.SoundAndComplete.html#1913" class="Generalizable">α</a> <a id="1915" href="Setoid.Varieties.SoundAndComplete.html#1915" class="Generalizable">ρᵃ</a> <a id="1918" href="Setoid.Varieties.SoundAndComplete.html#1918" class="Generalizable">ι</a> <a id="1920" href="Setoid.Varieties.SoundAndComplete.html#1920" class="Generalizable">ℓ</a> <a id="1922" class="Symbol">:</a> <a id="1924" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="1931" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a> <a id="1933" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="1935" href="Setoid.Varieties.SoundAndComplete.html#1935" class="Generalizable">Δ</a> <a id="1937" class="Symbol">:</a> <a id="1939" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="1944" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a>
 <a id="1947" href="Setoid.Varieties.SoundAndComplete.html#1947" class="Generalizable">f</a>     <a id="1953" class="Symbol">:</a> <a id="1955" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="1957" href="Setoid.Varieties.SoundAndComplete.html#733" class="Bound">𝑆</a> <a id="1959" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a>
 <a id="1962" href="Setoid.Varieties.SoundAndComplete.html#1962" class="Generalizable">I</a> <a id="1964" class="Symbol">:</a> <a id="1966" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="1971" href="Setoid.Varieties.SoundAndComplete.html#1918" class="Generalizable">ι</a>

<a id="1974" class="Comment">-- Equations</a>
<a id="1987" class="Comment">-- An equation is a pair (s , t) of terms in the same context.</a>
<a id="2050" class="Keyword">record</a> <a id="Eq"></a><a id="2057" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a> <a id="2060" class="Symbol">:</a> <a id="2062" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="2067" class="Symbol">(</a><a id="2068" href="Setoid.Algebras.Basic.html#1187" class="Function">ov</a> <a id="2071" href="Setoid.Varieties.SoundAndComplete.html#2071" class="Bound">χ</a><a id="2072" class="Symbol">)</a> <a id="2074" class="Keyword">where</a>
 <a id="2081" class="Keyword">constructor</a> <a id="_≈̇_"></a><a id="2093" href="Setoid.Varieties.SoundAndComplete.html#2093" class="InductiveConstructor Operator">_≈̇_</a>
 <a id="2099" class="Keyword">field</a>
  <a id="2107" class="Symbol">{</a><a id="Eq.cxt"></a><a id="2108" href="Setoid.Varieties.SoundAndComplete.html#2108" class="Field">cxt</a><a id="2111" class="Symbol">}</a> <a id="2113" class="Symbol">:</a> <a id="2115" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="2120" href="Setoid.Varieties.SoundAndComplete.html#2071" class="Bound">χ</a>
  <a id="Eq.lhs"></a><a id="2124" href="Setoid.Varieties.SoundAndComplete.html#2124" class="Field">lhs</a>   <a id="2130" class="Symbol">:</a> <a id="2132" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="2137" href="Setoid.Varieties.SoundAndComplete.html#2108" class="Field">cxt</a>
  <a id="Eq.rhs"></a><a id="2143" href="Setoid.Varieties.SoundAndComplete.html#2143" class="Field">rhs</a>   <a id="2149" class="Symbol">:</a> <a id="2151" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="2156" href="Setoid.Varieties.SoundAndComplete.html#2108" class="Field">cxt</a>

<a id="2161" class="Keyword">open</a> <a id="2166" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Module">Eq</a> <a id="2169" class="Keyword">public</a>

<a id="2177" class="Comment">-- Equation p ≈̇ q holding in algebra M. (type \~~\^. to get ≈̇; type \models to get ⊧)</a>
<a id="_⊧_"></a><a id="2265" href="Setoid.Varieties.SoundAndComplete.html#2265" class="Function Operator">_⊧_</a> <a id="2269" class="Symbol">:</a> <a id="2271" class="Symbol">(</a><a id="2272" href="Setoid.Varieties.SoundAndComplete.html#2272" class="Bound">𝑨</a> <a id="2274" class="Symbol">:</a> <a id="2276" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="2284" href="Setoid.Varieties.SoundAndComplete.html#1913" class="Generalizable">α</a> <a id="2286" href="Setoid.Varieties.SoundAndComplete.html#1915" class="Generalizable">ρᵃ</a><a id="2288" class="Symbol">)(</a><a id="2290" href="Setoid.Varieties.SoundAndComplete.html#2290" class="Bound">term-identity</a> <a id="2304" class="Symbol">:</a> <a id="2306" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="2308" class="Symbol">{</a><a id="2309" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a><a id="2310" class="Symbol">})</a> <a id="2313" class="Symbol">→</a> <a id="2315" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="2320" class="Symbol">_</a>
<a id="2322" href="Setoid.Varieties.SoundAndComplete.html#2322" class="Bound">𝑨</a> <a id="2324" href="Setoid.Varieties.SoundAndComplete.html#2265" class="Function Operator">⊧</a> <a id="2326" class="Symbol">(</a><a id="2327" href="Setoid.Varieties.SoundAndComplete.html#2327" class="Bound">p</a> <a id="2329" href="Setoid.Varieties.SoundAndComplete.html#2093" class="InductiveConstructor Operator">≈̇</a> <a id="2332" href="Setoid.Varieties.SoundAndComplete.html#2332" class="Bound">q</a><a id="2333" class="Symbol">)</a> <a id="2335" class="Symbol">=</a> <a id="2337" href="Setoid.Terms.Basic.html#5369" class="Function">Equal</a> <a id="2343" href="Setoid.Varieties.SoundAndComplete.html#2327" class="Bound">p</a> <a id="2345" href="Setoid.Varieties.SoundAndComplete.html#2332" class="Bound">q</a> <a id="2347" class="Keyword">where</a> <a id="2353" class="Keyword">open</a> <a id="2358" href="Setoid.Terms.Basic.html#3906" class="Module">Environment</a> <a id="2370" href="Setoid.Varieties.SoundAndComplete.html#2322" class="Bound">𝑨</a>

<a id="_⊫_"></a><a id="2373" href="Setoid.Varieties.SoundAndComplete.html#2373" class="Function Operator">_⊫_</a> <a id="2377" class="Symbol">:</a> <a id="2379" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="2384" class="Symbol">(</a><a id="2385" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="2393" href="Setoid.Varieties.SoundAndComplete.html#1913" class="Generalizable">α</a> <a id="2395" href="Setoid.Varieties.SoundAndComplete.html#1915" class="Generalizable">ρᵃ</a><a id="2397" class="Symbol">)</a> <a id="2399" href="Setoid.Varieties.SoundAndComplete.html#1920" class="Generalizable">ℓ</a> <a id="2401" class="Symbol">→</a> <a id="2403" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="2405" class="Symbol">{</a><a id="2406" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a><a id="2407" class="Symbol">}</a> <a id="2409" class="Symbol">→</a> <a id="2411" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="2416" class="Symbol">(</a><a id="2417" href="Setoid.Varieties.SoundAndComplete.html#1920" class="Generalizable">ℓ</a> <a id="2419" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2421" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a> <a id="2423" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2425" href="Setoid.Algebras.Basic.html#1187" class="Function">ov</a><a id="2427" class="Symbol">(</a><a id="2428" href="Setoid.Varieties.SoundAndComplete.html#1913" class="Generalizable">α</a> <a id="2430" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2432" href="Setoid.Varieties.SoundAndComplete.html#1915" class="Generalizable">ρᵃ</a><a id="2434" class="Symbol">))</a>
<a id="2437" href="Setoid.Varieties.SoundAndComplete.html#2437" class="Bound">𝒦</a> <a id="2439" href="Setoid.Varieties.SoundAndComplete.html#2373" class="Function Operator">⊫</a> <a id="2441" href="Setoid.Varieties.SoundAndComplete.html#2441" class="Bound">eq</a> <a id="2444" class="Symbol">=</a> <a id="2446" class="Symbol">∀</a> <a id="2448" href="Setoid.Varieties.SoundAndComplete.html#2448" class="Bound">𝑨</a> <a id="2450" class="Symbol">→</a> <a id="2452" href="Setoid.Varieties.SoundAndComplete.html#2437" class="Bound">𝒦</a> <a id="2454" href="Setoid.Varieties.SoundAndComplete.html#2448" class="Bound">𝑨</a> <a id="2456" class="Symbol">→</a> <a id="2458" href="Setoid.Varieties.SoundAndComplete.html#2448" class="Bound">𝑨</a> <a id="2460" href="Setoid.Varieties.SoundAndComplete.html#2265" class="Function Operator">⊧</a> <a id="2462" href="Setoid.Varieties.SoundAndComplete.html#2441" class="Bound">eq</a>                    <a id="2484" class="Comment">-- (type \||= to get ⊫)</a>

<a id="2509" class="Comment">-- An I-indexed set of equations inhabits the type I → Eq.</a>

<a id="2569" class="Comment">-- For such `ℰ : I → Eq`...</a>

<a id="2598" class="Comment">-- ...`𝑨 ⊨ ℰ` is the assertion that the algebra 𝑨 models every equation in ℰ.</a>
<a id="_⊨_"></a><a id="2676" href="Setoid.Varieties.SoundAndComplete.html#2676" class="Function Operator">_⊨_</a> <a id="2680" class="Symbol">:</a> <a id="2682" class="Symbol">(</a><a id="2683" href="Setoid.Varieties.SoundAndComplete.html#2683" class="Bound">𝑨</a> <a id="2685" class="Symbol">:</a> <a id="2687" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="2695" href="Setoid.Varieties.SoundAndComplete.html#1913" class="Generalizable">α</a> <a id="2697" href="Setoid.Varieties.SoundAndComplete.html#1915" class="Generalizable">ρᵃ</a><a id="2699" class="Symbol">)</a> <a id="2701" class="Symbol">→</a> <a id="2703" class="Symbol">(</a><a id="2704" href="Setoid.Varieties.SoundAndComplete.html#1962" class="Generalizable">I</a> <a id="2706" class="Symbol">→</a> <a id="2708" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="2710" class="Symbol">{</a><a id="2711" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a><a id="2712" class="Symbol">})</a> <a id="2715" class="Symbol">→</a> <a id="2717" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="2722" class="Symbol">_</a>
<a id="2724" href="Setoid.Varieties.SoundAndComplete.html#2724" class="Bound">𝑨</a> <a id="2726" href="Setoid.Varieties.SoundAndComplete.html#2676" class="Function Operator">⊨</a> <a id="2728" href="Setoid.Varieties.SoundAndComplete.html#2728" class="Bound">ℰ</a> <a id="2730" class="Symbol">=</a> <a id="2732" class="Symbol">∀</a> <a id="2734" href="Setoid.Varieties.SoundAndComplete.html#2734" class="Bound">i</a> <a id="2736" class="Symbol">→</a> <a id="2738" href="Setoid.Terms.Basic.html#5369" class="Function">Equal</a> <a id="2744" class="Symbol">(</a><a id="2745" href="Setoid.Varieties.SoundAndComplete.html#2124" class="Field">lhs</a> <a id="2749" class="Symbol">(</a><a id="2750" href="Setoid.Varieties.SoundAndComplete.html#2728" class="Bound">ℰ</a> <a id="2752" href="Setoid.Varieties.SoundAndComplete.html#2734" class="Bound">i</a><a id="2753" class="Symbol">))(</a><a id="2756" href="Setoid.Varieties.SoundAndComplete.html#2143" class="Field">rhs</a> <a id="2760" class="Symbol">(</a><a id="2761" href="Setoid.Varieties.SoundAndComplete.html#2728" class="Bound">ℰ</a> <a id="2763" href="Setoid.Varieties.SoundAndComplete.html#2734" class="Bound">i</a><a id="2764" class="Symbol">))</a> <a id="2767" class="Keyword">where</a> <a id="2773" class="Keyword">open</a> <a id="2778" href="Setoid.Terms.Basic.html#3906" class="Module">Environment</a> <a id="2790" href="Setoid.Varieties.SoundAndComplete.html#2724" class="Bound">𝑨</a>  <a id="2793" class="Comment">--   (type \|= to get ⊨)</a>

<a id="2819" class="Comment">-- ...`𝒦 ∥≈ ℰ` is the assertion that every algebra in 𝒦 models every equation in ℰ.</a>
<a id="_∥≈_"></a><a id="2903" href="Setoid.Varieties.SoundAndComplete.html#2903" class="Function Operator">_∥≈_</a> <a id="2908" class="Symbol">:</a> <a id="2910" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="2915" class="Symbol">(</a><a id="2916" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="2924" href="Setoid.Varieties.SoundAndComplete.html#1913" class="Generalizable">α</a> <a id="2926" href="Setoid.Varieties.SoundAndComplete.html#1915" class="Generalizable">ρᵃ</a><a id="2928" class="Symbol">)</a> <a id="2930" href="Setoid.Varieties.SoundAndComplete.html#1920" class="Generalizable">ℓ</a> <a id="2932" class="Symbol">→</a> <a id="2934" class="Symbol">(</a><a id="2935" href="Setoid.Varieties.SoundAndComplete.html#1962" class="Generalizable">I</a> <a id="2937" class="Symbol">→</a> <a id="2939" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="2941" class="Symbol">{</a><a id="2942" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a><a id="2943" class="Symbol">})</a> <a id="2946" class="Symbol">→</a> <a id="2948" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="2953" class="Symbol">_</a>
<a id="2955" href="Setoid.Varieties.SoundAndComplete.html#2955" class="Bound">𝒦</a> <a id="2957" href="Setoid.Varieties.SoundAndComplete.html#2903" class="Function Operator">∥≈</a> <a id="2960" href="Setoid.Varieties.SoundAndComplete.html#2960" class="Bound">ℰ</a> <a id="2962" class="Symbol">=</a> <a id="2964" class="Symbol">∀</a> <a id="2966" href="Setoid.Varieties.SoundAndComplete.html#2966" class="Bound">i</a> <a id="2968" class="Symbol">→</a> <a id="2970" href="Setoid.Varieties.SoundAndComplete.html#2955" class="Bound">𝒦</a> <a id="2972" href="Setoid.Varieties.SoundAndComplete.html#2373" class="Function Operator">⊫</a> <a id="2974" href="Setoid.Varieties.SoundAndComplete.html#2960" class="Bound">ℰ</a> <a id="2976" href="Setoid.Varieties.SoundAndComplete.html#2966" class="Bound">i</a>

<a id="2979" class="Comment">-- ...`Mod ℰ` is the class of algebras that model every equation in ℰ.</a>
<a id="ModTuple"></a><a id="3050" href="Setoid.Varieties.SoundAndComplete.html#3050" class="Function">ModTuple</a> <a id="3059" class="Symbol">:</a> <a id="3061" class="Symbol">(</a><a id="3062" href="Setoid.Varieties.SoundAndComplete.html#1962" class="Generalizable">I</a> <a id="3064" class="Symbol">→</a> <a id="3066" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="3068" class="Symbol">{</a><a id="3069" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a><a id="3070" class="Symbol">})</a> <a id="3073" class="Symbol">→</a> <a id="3075" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3079" class="Symbol">(</a><a id="3080" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="3088" href="Setoid.Varieties.SoundAndComplete.html#1913" class="Generalizable">α</a> <a id="3090" href="Setoid.Varieties.SoundAndComplete.html#1915" class="Generalizable">ρᵃ</a><a id="3092" class="Symbol">)</a> <a id="3094" class="Symbol">_</a>
<a id="3096" href="Setoid.Varieties.SoundAndComplete.html#3050" class="Function">ModTuple</a> <a id="3105" href="Setoid.Varieties.SoundAndComplete.html#3105" class="Bound">ℰ</a> <a id="3107" class="Symbol">=</a> <a id="3109" href="Setoid.Varieties.SoundAndComplete.html#2676" class="Function Operator">_⊨</a> <a id="3112" href="Setoid.Varieties.SoundAndComplete.html#3105" class="Bound">ℰ</a>

<a id="3115" class="Keyword">module</a> <a id="3122" href="Setoid.Varieties.SoundAndComplete.html#3122" class="Module">_</a> <a id="3124" class="Symbol">{</a><a id="3125" href="Setoid.Varieties.SoundAndComplete.html#3125" class="Bound">α</a> <a id="3127" href="Setoid.Varieties.SoundAndComplete.html#3127" class="Bound">ρᵃ</a> <a id="3130" href="Setoid.Varieties.SoundAndComplete.html#3130" class="Bound">ℓ</a> <a id="3132" class="Symbol">:</a> <a id="3134" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="3139" class="Symbol">}</a> <a id="3141" class="Keyword">where</a>

 <a id="3149" href="Setoid.Varieties.SoundAndComplete.html#3149" class="Function">Mod</a> <a id="3153" class="Symbol">:</a> <a id="3155" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3159" class="Symbol">(</a><a id="3160" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="3165" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a> <a id="3167" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3169" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="3174" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a><a id="3175" class="Symbol">)</a> <a id="3177" href="Setoid.Varieties.SoundAndComplete.html#3130" class="Bound">ℓ</a> <a id="3179" class="Symbol">→</a> <a id="3181" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3186" class="Symbol">(</a><a id="3187" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="3195" href="Setoid.Varieties.SoundAndComplete.html#3125" class="Bound">α</a> <a id="3197" href="Setoid.Varieties.SoundAndComplete.html#3127" class="Bound">ρᵃ</a><a id="3199" class="Symbol">)</a> <a id="3201" class="Symbol">_</a> <a id="3203" class="Comment">-- (𝓞 ⊔ 𝓥 ⊔ lsuc χ ⊔ ℓ ⊔ α ⊔ ρᵃ)</a>
 <a id="3237" href="Setoid.Varieties.SoundAndComplete.html#3149" class="Function">Mod</a> <a id="3241" href="Setoid.Varieties.SoundAndComplete.html#3241" class="Bound">ℰ</a> <a id="3243" href="Setoid.Varieties.SoundAndComplete.html#3243" class="Bound">𝑨</a> <a id="3245" class="Symbol">=</a> <a id="3247" class="Symbol">∀</a> <a id="3249" class="Symbol">{</a><a id="3250" href="Setoid.Varieties.SoundAndComplete.html#3250" class="Bound">p</a> <a id="3252" href="Setoid.Varieties.SoundAndComplete.html#3252" class="Bound">q</a><a id="3253" class="Symbol">}</a> <a id="3255" class="Symbol">→</a> <a id="3257" class="Symbol">(</a><a id="3258" href="Setoid.Varieties.SoundAndComplete.html#3250" class="Bound">p</a> <a id="3260" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3262" href="Setoid.Varieties.SoundAndComplete.html#3252" class="Bound">q</a><a id="3263" class="Symbol">)</a> <a id="3265" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3267" href="Setoid.Varieties.SoundAndComplete.html#3241" class="Bound">ℰ</a> <a id="3269" class="Symbol">→</a> <a id="3271" href="Setoid.Terms.Basic.html#5369" class="Function">Equal</a> <a id="3277" href="Setoid.Varieties.SoundAndComplete.html#3250" class="Bound">p</a> <a id="3279" href="Setoid.Varieties.SoundAndComplete.html#3252" class="Bound">q</a> <a id="3281" class="Keyword">where</a> <a id="3287" class="Keyword">open</a> <a id="3292" href="Setoid.Terms.Basic.html#3906" class="Module">Environment</a> <a id="3304" href="Setoid.Varieties.SoundAndComplete.html#3243" class="Bound">𝑨</a>

 <a id="3308" href="Setoid.Varieties.SoundAndComplete.html#3308" class="Function">Th</a> <a id="3311" class="Symbol">:</a> <a id="3313" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3318" class="Symbol">(</a><a id="3319" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="3327" href="Setoid.Varieties.SoundAndComplete.html#3125" class="Bound">α</a> <a id="3329" href="Setoid.Varieties.SoundAndComplete.html#3127" class="Bound">ρᵃ</a><a id="3331" class="Symbol">)</a> <a id="3333" href="Setoid.Varieties.SoundAndComplete.html#3130" class="Bound">ℓ</a> <a id="3335" class="Symbol">→</a> <a id="3337" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3341" class="Symbol">(</a><a id="3342" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="3347" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a> <a id="3349" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3351" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="3356" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a><a id="3357" class="Symbol">)</a> <a id="3359" class="Symbol">_</a> <a id="3361" class="Comment">-- (ℓ ⊔ χ ⊔ ov (α ⊔ ρᵃ))</a>
 <a id="3387" href="Setoid.Varieties.SoundAndComplete.html#3308" class="Function">Th</a> <a id="3390" href="Setoid.Varieties.SoundAndComplete.html#3390" class="Bound">𝒦</a> <a id="3392" class="Symbol">=</a> <a id="3394" class="Symbol">λ</a> <a id="3396" class="Symbol">(</a><a id="3397" href="Setoid.Varieties.SoundAndComplete.html#3397" class="Bound">p</a> <a id="3399" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3401" href="Setoid.Varieties.SoundAndComplete.html#3401" class="Bound">q</a><a id="3402" class="Symbol">)</a> <a id="3404" class="Symbol">→</a> <a id="3406" href="Setoid.Varieties.SoundAndComplete.html#3390" class="Bound">𝒦</a> <a id="3408" href="Setoid.Varieties.SoundAndComplete.html#2373" class="Function Operator">⊫</a> <a id="3410" class="Symbol">(</a><a id="3411" href="Setoid.Varieties.SoundAndComplete.html#3397" class="Bound">p</a> <a id="3413" href="Setoid.Varieties.SoundAndComplete.html#2093" class="InductiveConstructor Operator">≈̇</a> <a id="3416" href="Setoid.Varieties.SoundAndComplete.html#3401" class="Bound">q</a><a id="3417" class="Symbol">)</a>

 <a id="3421" href="Setoid.Varieties.SoundAndComplete.html#3421" class="Function">ℑTh</a> <a id="3425" class="Symbol">:</a> <a id="3427" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3431" class="Symbol">(</a><a id="3432" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="3437" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a> <a id="3439" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3441" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="3446" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a><a id="3447" class="Symbol">)</a> <a id="3449" class="Symbol">(</a><a id="3450" href="Setoid.Varieties.SoundAndComplete.html#3130" class="Bound">ℓ</a> <a id="3452" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3454" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a> <a id="3456" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3458" href="Setoid.Algebras.Basic.html#1187" class="Function">ov</a> <a id="3461" class="Symbol">(</a><a id="3462" href="Setoid.Varieties.SoundAndComplete.html#3125" class="Bound">α</a> <a id="3464" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3466" href="Setoid.Varieties.SoundAndComplete.html#3127" class="Bound">ρᵃ</a><a id="3468" class="Symbol">))</a> <a id="3471" class="Symbol">→</a> <a id="3473" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="3478" class="Symbol">_</a> <a id="3480" class="Comment">-- (ℓ ⊔ ov (α ⊔ ρᵃ ⊔ χ))</a>
 <a id="3506" href="Setoid.Varieties.SoundAndComplete.html#3421" class="Function">ℑTh</a> <a id="3510" href="Setoid.Varieties.SoundAndComplete.html#3510" class="Bound">P</a> <a id="3512" class="Symbol">=</a> <a id="3514" href="Data.Product.html#916" class="Function">Σ[</a> <a id="3517" href="Setoid.Varieties.SoundAndComplete.html#3517" class="Bound">p</a> <a id="3519" href="Data.Product.html#916" class="Function">∈</a> <a id="3521" class="Symbol">(</a><a id="3522" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="3527" class="Symbol">_</a> <a id="3529" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3531" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="3536" class="Symbol">_)</a> <a id="3539" href="Data.Product.html#916" class="Function">]</a> <a id="3541" href="Setoid.Varieties.SoundAndComplete.html#3517" class="Bound">p</a> <a id="3543" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3545" href="Setoid.Varieties.SoundAndComplete.html#3510" class="Bound">P</a>

 <a id="3549" class="Keyword">module</a> <a id="3556" href="Setoid.Varieties.SoundAndComplete.html#3556" class="Module">_</a> <a id="3558" class="Symbol">{</a><a id="3559" href="Setoid.Varieties.SoundAndComplete.html#3559" class="Bound">χ</a> <a id="3561" class="Symbol">:</a> <a id="3563" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="3568" class="Symbol">}{</a><a id="3570" href="Setoid.Varieties.SoundAndComplete.html#3570" class="Bound">X</a> <a id="3572" class="Symbol">:</a> <a id="3574" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="3579" href="Setoid.Varieties.SoundAndComplete.html#3559" class="Bound">χ</a><a id="3580" class="Symbol">}</a> <a id="3582" class="Keyword">where</a>

  <a id="3591" href="Setoid.Varieties.SoundAndComplete.html#3591" class="Function">ThTuple</a> <a id="3599" class="Symbol">:</a> <a id="3601" class="Symbol">(</a><a id="3602" href="Setoid.Varieties.SoundAndComplete.html#3602" class="Bound">𝒦</a> <a id="3604" class="Symbol">:</a> <a id="3606" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3611" class="Symbol">(</a><a id="3612" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="3620" href="Setoid.Varieties.SoundAndComplete.html#3125" class="Bound">α</a> <a id="3622" href="Setoid.Varieties.SoundAndComplete.html#3127" class="Bound">ρᵃ</a><a id="3624" class="Symbol">)</a> <a id="3626" href="Setoid.Varieties.SoundAndComplete.html#3130" class="Bound">ℓ</a><a id="3627" class="Symbol">)</a> <a id="3629" class="Symbol">→</a> <a id="3631" href="Setoid.Varieties.SoundAndComplete.html#3421" class="Function">ℑTh</a><a id="3634" class="Symbol">{</a><a id="3635" class="Argument">χ</a> <a id="3637" class="Symbol">=</a> <a id="3639" href="Setoid.Varieties.SoundAndComplete.html#3559" class="Bound">χ</a><a id="3640" class="Symbol">}</a> <a id="3642" class="Symbol">(</a><a id="3643" href="Setoid.Varieties.SoundAndComplete.html#3308" class="Function">Th</a><a id="3645" class="Symbol">{</a><a id="3646" class="Argument">X</a> <a id="3648" class="Symbol">=</a> <a id="3650" href="Setoid.Varieties.SoundAndComplete.html#3570" class="Bound">X</a><a id="3651" class="Symbol">}</a> <a id="3653" href="Setoid.Varieties.SoundAndComplete.html#3602" class="Bound">𝒦</a><a id="3654" class="Symbol">)</a> <a id="3656" class="Symbol">→</a> <a id="3658" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="3660" class="Symbol">{</a><a id="3661" href="Setoid.Varieties.SoundAndComplete.html#3559" class="Bound">χ</a><a id="3662" class="Symbol">}</a>
  <a id="3666" href="Setoid.Varieties.SoundAndComplete.html#3591" class="Function">ThTuple</a> <a id="3674" href="Setoid.Varieties.SoundAndComplete.html#3674" class="Bound">𝒦</a> <a id="3676" class="Symbol">=</a> <a id="3678" class="Symbol">λ</a> <a id="3680" href="Setoid.Varieties.SoundAndComplete.html#3680" class="Bound">i</a> <a id="3682" class="Symbol">→</a> <a id="3684" href="Setoid.Varieties.SoundAndComplete.html#1017" class="Field">fst</a> <a id="3688" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="3690" href="Setoid.Varieties.SoundAndComplete.html#3680" class="Bound">i</a> <a id="3692" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="3694" href="Setoid.Varieties.SoundAndComplete.html#2093" class="InductiveConstructor Operator">≈̇</a> <a id="3697" href="Setoid.Varieties.SoundAndComplete.html#1032" class="Field">snd</a> <a id="3701" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="3703" href="Setoid.Varieties.SoundAndComplete.html#3680" class="Bound">i</a> <a id="3705" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a>

<a id="3708" class="Keyword">module</a> <a id="3715" href="Setoid.Varieties.SoundAndComplete.html#3715" class="Module">_</a> <a id="3717" class="Symbol">{</a><a id="3718" href="Setoid.Varieties.SoundAndComplete.html#3718" class="Bound">α</a><a id="3719" class="Symbol">}{</a><a id="3721" href="Setoid.Varieties.SoundAndComplete.html#3721" class="Bound">ρᵃ</a><a id="3723" class="Symbol">}{</a><a id="3725" href="Setoid.Varieties.SoundAndComplete.html#3725" class="Bound">ι</a><a id="3726" class="Symbol">}{</a><a id="3728" href="Setoid.Varieties.SoundAndComplete.html#3728" class="Bound">I</a> <a id="3730" class="Symbol">:</a> <a id="3732" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="3737" href="Setoid.Varieties.SoundAndComplete.html#3725" class="Bound">ι</a><a id="3738" class="Symbol">}</a> <a id="3740" class="Keyword">where</a>
 <a id="3747" class="Comment">-- An entailment E ⊃ eq holds iff it holds in all models of E.</a>
 <a id="3811" href="Setoid.Varieties.SoundAndComplete.html#3811" class="Function Operator">_⊃_</a> <a id="3815" class="Symbol">:</a> <a id="3817" class="Symbol">(</a><a id="3818" href="Setoid.Varieties.SoundAndComplete.html#3818" class="Bound">E</a> <a id="3820" class="Symbol">:</a> <a id="3822" href="Setoid.Varieties.SoundAndComplete.html#3728" class="Bound">I</a> <a id="3824" class="Symbol">→</a> <a id="3826" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="3828" class="Symbol">{</a><a id="3829" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a><a id="3830" class="Symbol">})</a> <a id="3833" class="Symbol">(</a><a id="3834" href="Setoid.Varieties.SoundAndComplete.html#3834" class="Bound">eq</a> <a id="3837" class="Symbol">:</a> <a id="3839" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="3841" class="Symbol">{</a><a id="3842" href="Setoid.Varieties.SoundAndComplete.html#1911" class="Generalizable">χ</a><a id="3843" class="Symbol">})</a> <a id="3846" class="Symbol">→</a> <a id="3848" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="3853" class="Symbol">_</a>
 <a id="3856" href="Setoid.Varieties.SoundAndComplete.html#3856" class="Bound">E</a> <a id="3858" href="Setoid.Varieties.SoundAndComplete.html#3811" class="Function Operator">⊃</a> <a id="3860" href="Setoid.Varieties.SoundAndComplete.html#3860" class="Bound">eq</a> <a id="3863" class="Symbol">=</a> <a id="3865" class="Symbol">(</a><a id="3866" href="Setoid.Varieties.SoundAndComplete.html#3866" class="Bound">M</a> <a id="3868" class="Symbol">:</a> <a id="3870" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="3878" href="Setoid.Varieties.SoundAndComplete.html#3718" class="Bound">α</a> <a id="3880" href="Setoid.Varieties.SoundAndComplete.html#3721" class="Bound">ρᵃ</a><a id="3882" class="Symbol">)</a> <a id="3884" class="Symbol">→</a> <a id="3886" href="Setoid.Varieties.SoundAndComplete.html#3866" class="Bound">M</a> <a id="3888" href="Setoid.Varieties.SoundAndComplete.html#2676" class="Function Operator">⊨</a> <a id="3890" href="Setoid.Varieties.SoundAndComplete.html#3856" class="Bound">E</a> <a id="3892" class="Symbol">→</a> <a id="3894" href="Setoid.Varieties.SoundAndComplete.html#3866" class="Bound">M</a> <a id="3896" href="Setoid.Varieties.SoundAndComplete.html#2265" class="Function Operator">⊧</a> <a id="3898" href="Setoid.Varieties.SoundAndComplete.html#3860" class="Bound">eq</a>

</pre>


##### <a id="derivations-in-a-context">Derivations in a context</a>

(Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="4145" class="Keyword">module</a> <a id="4152" href="Setoid.Varieties.SoundAndComplete.html#4152" class="Module">_</a> <a id="4154" class="Symbol">{</a><a id="4155" href="Setoid.Varieties.SoundAndComplete.html#4155" class="Bound">χ</a> <a id="4157" href="Setoid.Varieties.SoundAndComplete.html#4157" class="Bound">ι</a> <a id="4159" class="Symbol">:</a> <a id="4161" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="4166" class="Symbol">}</a> <a id="4168" class="Keyword">where</a>

 <a id="4176" class="Keyword">data</a> <a id="4181" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">_⊢_▹_≈_</a> <a id="4189" class="Symbol">{</a><a id="4190" href="Setoid.Varieties.SoundAndComplete.html#4190" class="Bound">I</a> <a id="4192" class="Symbol">:</a> <a id="4194" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="4199" href="Setoid.Varieties.SoundAndComplete.html#4157" class="Bound">ι</a><a id="4200" class="Symbol">}(</a><a id="4202" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4204" class="Symbol">:</a> <a id="4206" href="Setoid.Varieties.SoundAndComplete.html#4190" class="Bound">I</a> <a id="4208" class="Symbol">→</a> <a id="4210" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="4212" class="Symbol">)</a> <a id="4214" class="Symbol">:</a> <a id="4216" class="Symbol">(</a><a id="4217" href="Setoid.Varieties.SoundAndComplete.html#4217" class="Bound">X</a> <a id="4219" class="Symbol">:</a> <a id="4221" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="4226" href="Setoid.Varieties.SoundAndComplete.html#4155" class="Bound">χ</a><a id="4227" class="Symbol">)(</a><a id="4229" href="Setoid.Varieties.SoundAndComplete.html#4229" class="Bound">p</a> <a id="4231" href="Setoid.Varieties.SoundAndComplete.html#4231" class="Bound">q</a> <a id="4233" class="Symbol">:</a> <a id="4235" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="4240" href="Setoid.Varieties.SoundAndComplete.html#4217" class="Bound">X</a><a id="4241" class="Symbol">)</a> <a id="4243" class="Symbol">→</a> <a id="4245" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="4250" class="Symbol">(</a><a id="4251" href="Setoid.Varieties.SoundAndComplete.html#4157" class="Bound">ι</a> <a id="4253" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="4255" href="Setoid.Algebras.Basic.html#1187" class="Function">ov</a> <a id="4258" href="Setoid.Varieties.SoundAndComplete.html#4155" class="Bound">χ</a><a id="4259" class="Symbol">)</a> <a id="4261" class="Keyword">where</a>
  <a id="4269" href="Setoid.Varieties.SoundAndComplete.html#4269" class="InductiveConstructor">hyp</a>   <a id="4275" class="Symbol">:</a> <a id="4277" class="Symbol">∀</a> <a id="4279" href="Setoid.Varieties.SoundAndComplete.html#4279" class="Bound">i</a> <a id="4281" class="Symbol">→</a> <a id="4283" class="Keyword">let</a> <a id="4287" href="Setoid.Varieties.SoundAndComplete.html#4287" class="Bound">p</a> <a id="4289" href="Setoid.Varieties.SoundAndComplete.html#2093" class="InductiveConstructor Operator">≈̇</a> <a id="4292" href="Setoid.Varieties.SoundAndComplete.html#4292" class="Bound">q</a> <a id="4294" class="Symbol">=</a> <a id="4296" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4298" href="Setoid.Varieties.SoundAndComplete.html#4279" class="Bound">i</a> <a id="4300" class="Keyword">in</a> <a id="4303" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4305" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4307" class="Symbol">_</a> <a id="4309" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4311" href="Setoid.Varieties.SoundAndComplete.html#4287" class="Bound">p</a> <a id="4313" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4315" href="Setoid.Varieties.SoundAndComplete.html#4292" class="Bound">q</a>
  <a id="4319" href="Setoid.Varieties.SoundAndComplete.html#4319" class="InductiveConstructor">app</a>   <a id="4325" class="Symbol">:</a> <a id="4327" class="Symbol">∀</a> <a id="4329" class="Symbol">{</a><a id="4330" href="Setoid.Varieties.SoundAndComplete.html#4330" class="Bound">ps</a> <a id="4333" href="Setoid.Varieties.SoundAndComplete.html#4333" class="Bound">qs</a><a id="4335" class="Symbol">}</a> <a id="4337" class="Symbol">→</a> <a id="4339" class="Symbol">(∀</a> <a id="4342" href="Setoid.Varieties.SoundAndComplete.html#4342" class="Bound">i</a> <a id="4344" class="Symbol">→</a> <a id="4346" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4348" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4350" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4352" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4354" href="Setoid.Varieties.SoundAndComplete.html#4330" class="Bound">ps</a> <a id="4357" href="Setoid.Varieties.SoundAndComplete.html#4342" class="Bound">i</a> <a id="4359" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4361" href="Setoid.Varieties.SoundAndComplete.html#4333" class="Bound">qs</a> <a id="4364" href="Setoid.Varieties.SoundAndComplete.html#4342" class="Bound">i</a><a id="4365" class="Symbol">)</a> <a id="4367" class="Symbol">→</a> <a id="4369" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4371" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4373" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4375" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4377" class="Symbol">(</a><a id="4378" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="4383" href="Setoid.Varieties.SoundAndComplete.html#1947" class="Generalizable">f</a> <a id="4385" href="Setoid.Varieties.SoundAndComplete.html#4330" class="Bound">ps</a><a id="4387" class="Symbol">)</a> <a id="4389" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4391" class="Symbol">(</a><a id="4392" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="4397" href="Setoid.Varieties.SoundAndComplete.html#1947" class="Generalizable">f</a> <a id="4399" href="Setoid.Varieties.SoundAndComplete.html#4333" class="Bound">qs</a><a id="4401" class="Symbol">)</a>
  <a id="4405" href="Setoid.Varieties.SoundAndComplete.html#4405" class="InductiveConstructor">sub</a>   <a id="4411" class="Symbol">:</a> <a id="4413" class="Symbol">∀</a> <a id="4415" class="Symbol">{</a><a id="4416" href="Setoid.Varieties.SoundAndComplete.html#4416" class="Bound">p</a> <a id="4418" href="Setoid.Varieties.SoundAndComplete.html#4418" class="Bound">q</a><a id="4419" class="Symbol">}</a> <a id="4421" class="Symbol">→</a> <a id="4423" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4425" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4427" href="Setoid.Varieties.SoundAndComplete.html#1935" class="Generalizable">Δ</a> <a id="4429" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4431" href="Setoid.Varieties.SoundAndComplete.html#4416" class="Bound">p</a> <a id="4433" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4435" href="Setoid.Varieties.SoundAndComplete.html#4418" class="Bound">q</a> <a id="4437" class="Symbol">→</a> <a id="4439" class="Symbol">∀</a> <a id="4441" class="Symbol">(</a><a id="4442" href="Setoid.Varieties.SoundAndComplete.html#4442" class="Bound">σ</a> <a id="4444" class="Symbol">:</a> <a id="4446" href="Setoid.Terms.Basic.html#3543" class="Function">Sub</a> <a id="4450" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4452" href="Setoid.Varieties.SoundAndComplete.html#1935" class="Generalizable">Δ</a><a id="4453" class="Symbol">)</a> <a id="4455" class="Symbol">→</a> <a id="4457" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4459" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4461" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4463" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4465" class="Symbol">(</a><a id="4466" href="Setoid.Varieties.SoundAndComplete.html#4416" class="Bound">p</a> <a id="4468" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="4470" href="Setoid.Varieties.SoundAndComplete.html#4442" class="Bound">σ</a> <a id="4472" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a><a id="4473" class="Symbol">)</a> <a id="4475" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4477" class="Symbol">(</a><a id="4478" href="Setoid.Varieties.SoundAndComplete.html#4418" class="Bound">q</a> <a id="4480" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="4482" href="Setoid.Varieties.SoundAndComplete.html#4442" class="Bound">σ</a> <a id="4484" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a><a id="4485" class="Symbol">)</a>

  <a id="4490" href="Setoid.Varieties.SoundAndComplete.html#4490" class="InductiveConstructor">refl</a>  <a id="4496" class="Symbol">:</a> <a id="4498" class="Symbol">∀</a> <a id="4500" class="Symbol">{</a><a id="4501" href="Setoid.Varieties.SoundAndComplete.html#4501" class="Bound">p</a><a id="4502" class="Symbol">}</a>              <a id="4517" class="Symbol">→</a> <a id="4519" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4521" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4523" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4525" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4527" href="Setoid.Varieties.SoundAndComplete.html#4501" class="Bound">p</a> <a id="4529" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4531" href="Setoid.Varieties.SoundAndComplete.html#4501" class="Bound">p</a>
  <a id="4535" href="Setoid.Varieties.SoundAndComplete.html#4535" class="InductiveConstructor">sym</a>   <a id="4541" class="Symbol">:</a> <a id="4543" class="Symbol">∀</a> <a id="4545" class="Symbol">{</a><a id="4546" href="Setoid.Varieties.SoundAndComplete.html#4546" class="Bound">p</a> <a id="4548" href="Setoid.Varieties.SoundAndComplete.html#4548" class="Bound">q</a> <a id="4550" class="Symbol">:</a> <a id="4552" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="4557" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a><a id="4558" class="Symbol">}</a>   <a id="4562" class="Symbol">→</a> <a id="4564" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4566" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4568" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4570" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4572" href="Setoid.Varieties.SoundAndComplete.html#4546" class="Bound">p</a> <a id="4574" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4576" href="Setoid.Varieties.SoundAndComplete.html#4548" class="Bound">q</a> <a id="4578" class="Symbol">→</a> <a id="4580" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4582" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4584" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4586" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4588" href="Setoid.Varieties.SoundAndComplete.html#4548" class="Bound">q</a> <a id="4590" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4592" href="Setoid.Varieties.SoundAndComplete.html#4546" class="Bound">p</a>
  <a id="4596" href="Setoid.Varieties.SoundAndComplete.html#4596" class="InductiveConstructor">trans</a> <a id="4602" class="Symbol">:</a> <a id="4604" class="Symbol">∀</a> <a id="4606" class="Symbol">{</a><a id="4607" href="Setoid.Varieties.SoundAndComplete.html#4607" class="Bound">p</a> <a id="4609" href="Setoid.Varieties.SoundAndComplete.html#4609" class="Bound">q</a> <a id="4611" href="Setoid.Varieties.SoundAndComplete.html#4611" class="Bound">r</a> <a id="4613" class="Symbol">:</a> <a id="4615" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="4620" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a><a id="4621" class="Symbol">}</a> <a id="4623" class="Symbol">→</a> <a id="4625" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4627" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4629" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4631" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4633" href="Setoid.Varieties.SoundAndComplete.html#4607" class="Bound">p</a> <a id="4635" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4637" href="Setoid.Varieties.SoundAndComplete.html#4609" class="Bound">q</a> <a id="4639" class="Symbol">→</a> <a id="4641" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4643" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4645" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4647" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4649" href="Setoid.Varieties.SoundAndComplete.html#4609" class="Bound">q</a> <a id="4651" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4653" href="Setoid.Varieties.SoundAndComplete.html#4611" class="Bound">r</a> <a id="4655" class="Symbol">→</a> <a id="4657" href="Setoid.Varieties.SoundAndComplete.html#4202" class="Bound">E</a> <a id="4659" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4661" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4663" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="4665" href="Setoid.Varieties.SoundAndComplete.html#4607" class="Bound">p</a> <a id="4667" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="4669" href="Setoid.Varieties.SoundAndComplete.html#4611" class="Bound">r</a>

 <a id="4673" href="Setoid.Varieties.SoundAndComplete.html#4673" class="Function">⊢▹≈IsEquiv</a> <a id="4684" class="Symbol">:</a> <a id="4686" class="Symbol">{</a><a id="4687" href="Setoid.Varieties.SoundAndComplete.html#4687" class="Bound">I</a> <a id="4689" class="Symbol">:</a> <a id="4691" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="4696" href="Setoid.Varieties.SoundAndComplete.html#4157" class="Bound">ι</a><a id="4697" class="Symbol">}{</a><a id="4699" href="Setoid.Varieties.SoundAndComplete.html#4699" class="Bound">E</a> <a id="4701" class="Symbol">:</a> <a id="4703" href="Setoid.Varieties.SoundAndComplete.html#4687" class="Bound">I</a> <a id="4705" class="Symbol">→</a> <a id="4707" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="4709" class="Symbol">}</a> <a id="4711" class="Symbol">→</a> <a id="4713" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="4727" class="Symbol">(</a><a id="4728" href="Setoid.Varieties.SoundAndComplete.html#4699" class="Bound">E</a> <a id="4730" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="4732" href="Setoid.Varieties.SoundAndComplete.html#1933" class="Generalizable">Γ</a> <a id="4734" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹_≈_</a><a id="4738" class="Symbol">)</a>
 <a id="4741" href="Setoid.Varieties.SoundAndComplete.html#4673" class="Function">⊢▹≈IsEquiv</a> <a id="4752" class="Symbol">=</a> <a id="4754" class="Keyword">record</a> <a id="4761" class="Symbol">{</a> <a id="4763" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="4768" class="Symbol">=</a> <a id="4770" href="Setoid.Varieties.SoundAndComplete.html#4490" class="InductiveConstructor">refl</a> <a id="4775" class="Symbol">;</a> <a id="4777" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="4781" class="Symbol">=</a> <a id="4783" href="Setoid.Varieties.SoundAndComplete.html#4535" class="InductiveConstructor">sym</a> <a id="4787" class="Symbol">;</a> <a id="4789" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="4795" class="Symbol">=</a> <a id="4797" href="Setoid.Varieties.SoundAndComplete.html#4596" class="InductiveConstructor">trans</a> <a id="4803" class="Symbol">}</a>

</pre>



##### <a id="soundness-of-the-inference-rules">Soundness of the inference rules</a>

(Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](see: http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="5071" class="Keyword">module</a> <a id="Soundness"></a><a id="5078" href="Setoid.Varieties.SoundAndComplete.html#5078" class="Module">Soundness</a> <a id="5088" class="Symbol">{</a><a id="5089" href="Setoid.Varieties.SoundAndComplete.html#5089" class="Bound">χ</a> <a id="5091" href="Setoid.Varieties.SoundAndComplete.html#5091" class="Bound">α</a> <a id="5093" href="Setoid.Varieties.SoundAndComplete.html#5093" class="Bound">ι</a> <a id="5095" class="Symbol">:</a> <a id="5097" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5102" class="Symbol">}{</a><a id="5104" href="Setoid.Varieties.SoundAndComplete.html#5104" class="Bound">I</a> <a id="5106" class="Symbol">:</a> <a id="5108" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="5113" href="Setoid.Varieties.SoundAndComplete.html#5093" class="Bound">ι</a><a id="5114" class="Symbol">}</a> <a id="5116" class="Symbol">(</a><a id="5117" href="Setoid.Varieties.SoundAndComplete.html#5117" class="Bound">E</a> <a id="5119" class="Symbol">:</a> <a id="5121" href="Setoid.Varieties.SoundAndComplete.html#5104" class="Bound">I</a> <a id="5123" class="Symbol">→</a> <a id="5125" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="5127" class="Symbol">{</a><a id="5128" href="Setoid.Varieties.SoundAndComplete.html#5089" class="Bound">χ</a><a id="5129" class="Symbol">})</a>
                 <a id="5149" class="Symbol">(</a><a id="5150" href="Setoid.Varieties.SoundAndComplete.html#5150" class="Bound">𝑨</a> <a id="5152" class="Symbol">:</a> <a id="5154" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="5162" href="Setoid.Varieties.SoundAndComplete.html#5091" class="Bound">α</a> <a id="5164" href="Setoid.Varieties.SoundAndComplete.html#1915" class="Generalizable">ρᵃ</a><a id="5166" class="Symbol">)</a>     <a id="5172" class="Comment">-- We assume an algebra M</a>
                 <a id="5215" class="Symbol">(</a><a id="5216" href="Setoid.Varieties.SoundAndComplete.html#5216" class="Bound">V</a> <a id="5218" class="Symbol">:</a> <a id="5220" href="Setoid.Varieties.SoundAndComplete.html#5150" class="Bound">𝑨</a> <a id="5222" href="Setoid.Varieties.SoundAndComplete.html#2676" class="Function Operator">⊨</a> <a id="5224" href="Setoid.Varieties.SoundAndComplete.html#5117" class="Bound">E</a><a id="5225" class="Symbol">)</a>         <a id="5235" class="Comment">-- that models all equations in E.</a>
                 <a id="5287" class="Keyword">where</a>
 <a id="5294" class="Keyword">open</a> <a id="5299" href="Setoid.Algebras.Basic.html#2890" class="Module">Algebra</a> <a id="5307" href="Setoid.Varieties.SoundAndComplete.html#5150" class="Bound">𝑨</a> <a id="5309" class="Keyword">using</a> <a id="5315" class="Symbol">(</a> <a id="5317" href="Setoid.Algebras.Basic.html#2969" class="Field">Interp</a> <a id="5324" class="Symbol">)</a> <a id="5326" class="Keyword">renaming</a> <a id="5335" class="Symbol">(</a><a id="5336" href="Setoid.Algebras.Basic.html#2947" class="Field">Domain</a> <a id="5343" class="Symbol">to</a> <a id="5346" class="Field">A</a><a id="5347" class="Symbol">)</a>

 <a id="5351" class="Comment">-- In any model M that satisfies the equations E, derived equality is actual equality.</a>
 <a id="5439" class="Keyword">open</a> <a id="5444" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="5460" href="Setoid.Varieties.SoundAndComplete.html#5346" class="Function">A</a>

 <a id="5464" class="Keyword">open</a> <a id="5469" href="Setoid.Terms.Basic.html#3906" class="Module">Environment</a> <a id="5481" href="Setoid.Varieties.SoundAndComplete.html#5150" class="Bound">𝑨</a> <a id="5483" class="Keyword">renaming</a> <a id="5492" class="Symbol">(</a> <a id="5494" href="Setoid.Terms.Basic.html#6004" class="Function Operator">⟦_⟧s</a> <a id="5499" class="Symbol">to</a> <a id="5502" class="Function Operator">⟪_⟫</a> <a id="5506" class="Symbol">)</a>
 <a id="5509" class="Keyword">open</a> <a id="5514" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="5528" class="Keyword">renaming</a> <a id="5537" class="Symbol">(</a> <a id="5539" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="5544" class="Symbol">to</a> <a id="5547" class="Field">refl≈</a> <a id="5553" class="Symbol">;</a> <a id="5555" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="5559" class="Symbol">to</a>  <a id="5563" class="Field">sym≈</a> <a id="5568" class="Symbol">;</a> <a id="5570" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="5576" class="Symbol">to</a> <a id="5579" class="Field">trans≈</a> <a id="5586" class="Symbol">)</a>

 <a id="Soundness.sound"></a><a id="5590" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="5596" class="Symbol">:</a> <a id="5598" class="Symbol">∀</a> <a id="5600" class="Symbol">{</a><a id="5601" href="Setoid.Varieties.SoundAndComplete.html#5601" class="Bound">p</a> <a id="5603" href="Setoid.Varieties.SoundAndComplete.html#5603" class="Bound">q</a><a id="5604" class="Symbol">}</a> <a id="5606" class="Symbol">→</a> <a id="5608" href="Setoid.Varieties.SoundAndComplete.html#5117" class="Bound">E</a> <a id="5610" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="5612" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a> <a id="5614" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="5616" href="Setoid.Varieties.SoundAndComplete.html#5601" class="Bound">p</a> <a id="5618" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="5620" href="Setoid.Varieties.SoundAndComplete.html#5603" class="Bound">q</a> <a id="5622" class="Symbol">→</a> <a id="5624" href="Setoid.Varieties.SoundAndComplete.html#5150" class="Bound">𝑨</a> <a id="5626" href="Setoid.Varieties.SoundAndComplete.html#2265" class="Function Operator">⊧</a> <a id="5628" class="Symbol">(</a><a id="5629" href="Setoid.Varieties.SoundAndComplete.html#5601" class="Bound">p</a> <a id="5631" href="Setoid.Varieties.SoundAndComplete.html#2093" class="InductiveConstructor Operator">≈̇</a> <a id="5634" href="Setoid.Varieties.SoundAndComplete.html#5603" class="Bound">q</a><a id="5635" class="Symbol">)</a>
 <a id="5638" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="5644" class="Symbol">(</a><a id="5645" href="Setoid.Varieties.SoundAndComplete.html#4269" class="InductiveConstructor">hyp</a> <a id="5649" href="Setoid.Varieties.SoundAndComplete.html#5649" class="Bound">i</a><a id="5650" class="Symbol">)</a>                      <a id="5673" class="Symbol">=</a> <a id="5675" href="Setoid.Varieties.SoundAndComplete.html#5216" class="Bound">V</a> <a id="5677" href="Setoid.Varieties.SoundAndComplete.html#5649" class="Bound">i</a>
 <a id="5680" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="5686" class="Symbol">(</a><a id="5687" href="Setoid.Varieties.SoundAndComplete.html#4319" class="InductiveConstructor">app</a> <a id="5691" class="Symbol">{</a><a id="5692" class="Argument">f</a> <a id="5694" class="Symbol">=</a> <a id="5696" href="Setoid.Varieties.SoundAndComplete.html#5696" class="Bound">f</a><a id="5697" class="Symbol">}</a> <a id="5699" href="Setoid.Varieties.SoundAndComplete.html#5699" class="Bound">es</a><a id="5701" class="Symbol">)</a> <a id="5703" href="Setoid.Varieties.SoundAndComplete.html#5703" class="Bound">ρ</a>           <a id="5715" class="Symbol">=</a> <a id="5717" href="Setoid.Algebras.Basic.html#2969" class="Function">Interp</a> <a id="5724" class="Symbol">.</a><a id="5725" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="5730" class="Symbol">(</a><a id="5731" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="5736" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5738" class="Symbol">λ</a> <a id="5740" href="Setoid.Varieties.SoundAndComplete.html#5740" class="Bound">i</a> <a id="5742" class="Symbol">→</a> <a id="5744" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="5750" class="Symbol">(</a><a id="5751" href="Setoid.Varieties.SoundAndComplete.html#5699" class="Bound">es</a> <a id="5754" href="Setoid.Varieties.SoundAndComplete.html#5740" class="Bound">i</a><a id="5755" class="Symbol">)</a> <a id="5757" href="Setoid.Varieties.SoundAndComplete.html#5703" class="Bound">ρ</a><a id="5758" class="Symbol">)</a>
 <a id="5761" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="5767" class="Symbol">(</a><a id="5768" href="Setoid.Varieties.SoundAndComplete.html#4405" class="InductiveConstructor">sub</a> <a id="5772" class="Symbol">{</a><a id="5773" class="Argument">p</a> <a id="5775" class="Symbol">=</a> <a id="5777" href="Setoid.Varieties.SoundAndComplete.html#5777" class="Bound">p</a><a id="5778" class="Symbol">}</a> <a id="5780" class="Symbol">{</a><a id="5781" href="Setoid.Varieties.SoundAndComplete.html#5781" class="Bound">q</a><a id="5782" class="Symbol">}</a> <a id="5784" href="Setoid.Varieties.SoundAndComplete.html#5784" class="Bound">Epq</a> <a id="5788" href="Setoid.Varieties.SoundAndComplete.html#5788" class="Bound">σ</a><a id="5789" class="Symbol">)</a> <a id="5791" href="Setoid.Varieties.SoundAndComplete.html#5791" class="Bound">ρ</a>    <a id="5796" class="Symbol">=</a>
  <a id="5800" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
   <a id="5809" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟦</a> <a id="5811" href="Setoid.Varieties.SoundAndComplete.html#5777" class="Bound">p</a> <a id="5813" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="5815" href="Setoid.Varieties.SoundAndComplete.html#5788" class="Bound">σ</a> <a id="5817" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a> <a id="5819" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟧</a> <a id="5821" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a>       <a id="5831" href="Setoid.Varieties.SoundAndComplete.html#5791" class="Bound">ρ</a> <a id="5833" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="5836" href="Setoid.Terms.Basic.html#6132" class="Function">substitution</a> <a id="5849" href="Setoid.Varieties.SoundAndComplete.html#5777" class="Bound">p</a> <a id="5851" href="Setoid.Varieties.SoundAndComplete.html#5788" class="Bound">σ</a> <a id="5853" href="Setoid.Varieties.SoundAndComplete.html#5791" class="Bound">ρ</a> <a id="5855" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="5860" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟦</a> <a id="5862" href="Setoid.Varieties.SoundAndComplete.html#5777" class="Bound">p</a>       <a id="5870" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟧</a> <a id="5872" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a> <a id="5876" href="Setoid.Varieties.SoundAndComplete.html#5502" class="Function Operator">⟪</a> <a id="5878" href="Setoid.Varieties.SoundAndComplete.html#5788" class="Bound">σ</a> <a id="5880" href="Setoid.Varieties.SoundAndComplete.html#5502" class="Function Operator">⟫</a> <a id="5882" href="Setoid.Varieties.SoundAndComplete.html#5791" class="Bound">ρ</a> <a id="5884" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="5887" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="5893" href="Setoid.Varieties.SoundAndComplete.html#5784" class="Bound">Epq</a> <a id="5897" class="Symbol">(</a><a id="5898" href="Setoid.Varieties.SoundAndComplete.html#5502" class="Function Operator">⟪</a> <a id="5900" href="Setoid.Varieties.SoundAndComplete.html#5788" class="Bound">σ</a> <a id="5902" href="Setoid.Varieties.SoundAndComplete.html#5502" class="Function Operator">⟫</a> <a id="5904" href="Setoid.Varieties.SoundAndComplete.html#5791" class="Bound">ρ</a><a id="5905" class="Symbol">)</a>  <a id="5908" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="5913" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟦</a> <a id="5915" href="Setoid.Varieties.SoundAndComplete.html#5781" class="Bound">q</a>       <a id="5923" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟧</a> <a id="5925" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a> <a id="5929" href="Setoid.Varieties.SoundAndComplete.html#5502" class="Function Operator">⟪</a> <a id="5931" href="Setoid.Varieties.SoundAndComplete.html#5788" class="Bound">σ</a> <a id="5933" href="Setoid.Varieties.SoundAndComplete.html#5502" class="Function Operator">⟫</a> <a id="5935" href="Setoid.Varieties.SoundAndComplete.html#5791" class="Bound">ρ</a> <a id="5937" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="5941" href="Setoid.Terms.Basic.html#6132" class="Function">substitution</a>  <a id="5955" href="Setoid.Varieties.SoundAndComplete.html#5781" class="Bound">q</a> <a id="5957" href="Setoid.Varieties.SoundAndComplete.html#5788" class="Bound">σ</a> <a id="5959" href="Setoid.Varieties.SoundAndComplete.html#5791" class="Bound">ρ</a> <a id="5961" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
   <a id="5966" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟦</a> <a id="5968" href="Setoid.Varieties.SoundAndComplete.html#5781" class="Bound">q</a> <a id="5970" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="5972" href="Setoid.Varieties.SoundAndComplete.html#5788" class="Bound">σ</a> <a id="5974" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a> <a id="5976" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟧</a> <a id="5978" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a>       <a id="5988" href="Setoid.Varieties.SoundAndComplete.html#5791" class="Bound">ρ</a> <a id="5990" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

 <a id="5994" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="6000" class="Symbol">(</a><a id="6001" href="Setoid.Varieties.SoundAndComplete.html#4490" class="InductiveConstructor">refl</a> <a id="6006" class="Symbol">{</a><a id="6007" class="Argument">p</a> <a id="6009" class="Symbol">=</a> <a id="6011" href="Setoid.Varieties.SoundAndComplete.html#6011" class="Bound">p</a><a id="6012" class="Symbol">})</a>               <a id="6029" class="Symbol">=</a> <a id="6031" href="Setoid.Varieties.SoundAndComplete.html#5547" class="Field">refl≈</a>  <a id="6038" href="Setoid.Terms.Basic.html#5734" class="Function">isEquiv</a> <a id="6046" class="Symbol">{</a><a id="6047" class="Argument">x</a> <a id="6049" class="Symbol">=</a> <a id="6051" href="Setoid.Varieties.SoundAndComplete.html#6011" class="Bound">p</a><a id="6052" class="Symbol">}</a>
 <a id="6055" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="6061" class="Symbol">(</a><a id="6062" href="Setoid.Varieties.SoundAndComplete.html#4535" class="InductiveConstructor">sym</a> <a id="6066" class="Symbol">{</a><a id="6067" class="Argument">p</a> <a id="6069" class="Symbol">=</a> <a id="6071" href="Setoid.Varieties.SoundAndComplete.html#6071" class="Bound">p</a><a id="6072" class="Symbol">}</a> <a id="6074" class="Symbol">{</a><a id="6075" href="Setoid.Varieties.SoundAndComplete.html#6075" class="Bound">q</a><a id="6076" class="Symbol">}</a> <a id="6078" href="Setoid.Varieties.SoundAndComplete.html#6078" class="Bound">Epq</a><a id="6081" class="Symbol">)</a>        <a id="6090" class="Symbol">=</a> <a id="6092" href="Setoid.Varieties.SoundAndComplete.html#5563" class="Field">sym≈</a>   <a id="6099" href="Setoid.Terms.Basic.html#5734" class="Function">isEquiv</a> <a id="6107" class="Symbol">{</a><a id="6108" class="Argument">x</a> <a id="6110" class="Symbol">=</a> <a id="6112" href="Setoid.Varieties.SoundAndComplete.html#6071" class="Bound">p</a><a id="6113" class="Symbol">}{</a><a id="6115" href="Setoid.Varieties.SoundAndComplete.html#6075" class="Bound">q</a><a id="6116" class="Symbol">}</a>   <a id="6120" class="Symbol">(</a><a id="6121" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="6127" href="Setoid.Varieties.SoundAndComplete.html#6078" class="Bound">Epq</a><a id="6130" class="Symbol">)</a>
 <a id="6133" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="6139" class="Symbol">(</a><a id="6140" href="Setoid.Varieties.SoundAndComplete.html#4596" class="InductiveConstructor">trans</a><a id="6145" class="Symbol">{</a><a id="6146" class="Argument">p</a> <a id="6148" class="Symbol">=</a> <a id="6150" href="Setoid.Varieties.SoundAndComplete.html#6150" class="Bound">p</a><a id="6151" class="Symbol">}{</a><a id="6153" href="Setoid.Varieties.SoundAndComplete.html#6153" class="Bound">q</a><a id="6154" class="Symbol">}{</a><a id="6156" href="Setoid.Varieties.SoundAndComplete.html#6156" class="Bound">r</a><a id="6157" class="Symbol">}</a> <a id="6159" href="Setoid.Varieties.SoundAndComplete.html#6159" class="Bound">Epq</a> <a id="6163" href="Setoid.Varieties.SoundAndComplete.html#6163" class="Bound">Eqr</a><a id="6166" class="Symbol">)</a> <a id="6168" class="Symbol">=</a> <a id="6170" href="Setoid.Varieties.SoundAndComplete.html#5579" class="Field">trans≈</a> <a id="6177" href="Setoid.Terms.Basic.html#5734" class="Function">isEquiv</a> <a id="6185" class="Symbol">{</a><a id="6186" class="Argument">i</a> <a id="6188" class="Symbol">=</a> <a id="6190" href="Setoid.Varieties.SoundAndComplete.html#6150" class="Bound">p</a><a id="6191" class="Symbol">}{</a><a id="6193" href="Setoid.Varieties.SoundAndComplete.html#6153" class="Bound">q</a><a id="6194" class="Symbol">}{</a><a id="6196" href="Setoid.Varieties.SoundAndComplete.html#6156" class="Bound">r</a><a id="6197" class="Symbol">}(</a><a id="6199" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="6205" href="Setoid.Varieties.SoundAndComplete.html#6159" class="Bound">Epq</a><a id="6208" class="Symbol">)(</a><a id="6210" href="Setoid.Varieties.SoundAndComplete.html#5590" class="Function">sound</a> <a id="6216" href="Setoid.Varieties.SoundAndComplete.html#6163" class="Bound">Eqr</a><a id="6219" class="Symbol">)</a>

</pre>

The deductive closure of a set E is the set of equations modeled by all models of E; that is, Th Mod E.

The soundness proof above shows ∀ X → E ⊢ X ▹ p ≈ q → (p , q) ∈ Th Mod ℰ.
That is,  ∀ X → E ⊢ X ▹ p ≈ q → Mod E ⊫ p ≈ q.

The converse is Birkhoff's completeness theorem: if Mod E ⊫ p ≈ q, then E ⊢ X ▹ p ≈ q.

We will prove that result next.



##### <a id="birkhoffs-completeness-theorem">Birkhoff's completeness theorem</a>

The proof proceeds by constructing a relatively free algebra consisting of term
quotiented by derivable equality E ⊢ X ▹ _≈_.  It then suffices to prove
that this model satisfies all equations in $E$.

(Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

We denote by `𝔽[ X ]` the *relatively free algebra* over `X` (relative to `E`), which is defined as `Term X` modulo `E ⊢ X ▹ _≈_`.  This algebra `𝔽[ X ]` is "free" or "initial" in the variety of algebras satisfying the identities in `E` in the sense that it satisfies the following universal property: for each algebra `𝑨`, if `𝑨 ⊧ E`, then there is a unique homomorphism from `𝔽[ X ]` to `𝑨`.

<pre class="Agda">

<a id="7424" class="Keyword">module</a> <a id="FreeAlgebra"></a><a id="7431" href="Setoid.Varieties.SoundAndComplete.html#7431" class="Module">FreeAlgebra</a> <a id="7443" class="Symbol">{</a><a id="7444" href="Setoid.Varieties.SoundAndComplete.html#7444" class="Bound">χ</a> <a id="7446" class="Symbol">:</a> <a id="7448" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7453" class="Symbol">}{</a><a id="7455" href="Setoid.Varieties.SoundAndComplete.html#7455" class="Bound">ι</a> <a id="7457" class="Symbol">:</a> <a id="7459" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7464" class="Symbol">}{</a><a id="7466" href="Setoid.Varieties.SoundAndComplete.html#7466" class="Bound">I</a> <a id="7468" class="Symbol">:</a> <a id="7470" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="7475" href="Setoid.Varieties.SoundAndComplete.html#7455" class="Bound">ι</a><a id="7476" class="Symbol">}(</a><a id="7478" href="Setoid.Varieties.SoundAndComplete.html#7478" class="Bound">E</a> <a id="7480" class="Symbol">:</a> <a id="7482" href="Setoid.Varieties.SoundAndComplete.html#7466" class="Bound">I</a> <a id="7484" class="Symbol">→</a> <a id="7486" href="Setoid.Varieties.SoundAndComplete.html#2057" class="Record">Eq</a><a id="7488" class="Symbol">)</a> <a id="7490" class="Keyword">where</a>
 <a id="7497" class="Keyword">open</a> <a id="7502" href="Setoid.Algebras.Basic.html#2890" class="Module">Algebra</a>

 <a id="7512" class="Comment">-- Domain of the relatively free algebra.</a>
 <a id="FreeAlgebra.FreeDomain"></a><a id="7555" href="Setoid.Varieties.SoundAndComplete.html#7555" class="Function">FreeDomain</a> <a id="7566" class="Symbol">:</a> <a id="7568" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="7573" href="Setoid.Varieties.SoundAndComplete.html#7444" class="Bound">χ</a> <a id="7575" class="Symbol">→</a> <a id="7577" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="7584" class="Symbol">_</a> <a id="7586" class="Symbol">_</a>
 <a id="7589" href="Setoid.Varieties.SoundAndComplete.html#7555" class="Function">FreeDomain</a> <a id="7600" href="Setoid.Varieties.SoundAndComplete.html#7600" class="Bound">X</a> <a id="7602" class="Symbol">=</a> <a id="7604" class="Keyword">record</a> <a id="7611" class="Symbol">{</a> <a id="7613" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a>       <a id="7627" class="Symbol">=</a> <a id="7629" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="7634" href="Setoid.Varieties.SoundAndComplete.html#7600" class="Bound">X</a>
                       <a id="7659" class="Symbol">;</a> <a id="7661" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a>           <a id="7675" class="Symbol">=</a> <a id="7677" href="Setoid.Varieties.SoundAndComplete.html#7478" class="Bound">E</a> <a id="7679" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="7681" href="Setoid.Varieties.SoundAndComplete.html#7600" class="Bound">X</a> <a id="7683" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹_≈_</a>
                       <a id="7711" class="Symbol">;</a> <a id="7713" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="7727" class="Symbol">=</a> <a id="7729" href="Setoid.Varieties.SoundAndComplete.html#4673" class="Function">⊢▹≈IsEquiv</a>
                       <a id="7763" class="Symbol">}</a>

 <a id="7767" class="Comment">-- The interpretation of an operation is simply the operation itself.</a>
 <a id="7838" class="Comment">-- This works since E ⊢ X ▹_≈_ is a congruence.</a>
 <a id="FreeAlgebra.FreeInterp"></a><a id="7887" href="Setoid.Varieties.SoundAndComplete.html#7887" class="Function">FreeInterp</a> <a id="7898" class="Symbol">:</a> <a id="7900" class="Symbol">∀</a> <a id="7902" class="Symbol">{</a><a id="7903" href="Setoid.Varieties.SoundAndComplete.html#7903" class="Bound">X</a><a id="7904" class="Symbol">}</a> <a id="7906" class="Symbol">→</a> <a id="7908" class="Symbol">(</a><a id="7909" href="Setoid.Varieties.SoundAndComplete.html#1698" class="Function Operator">⟦</a> <a id="7911" href="Setoid.Varieties.SoundAndComplete.html#733" class="Bound">𝑆</a> <a id="7913" href="Setoid.Varieties.SoundAndComplete.html#1698" class="Function Operator">⟧s</a> <a id="7916" class="Symbol">(</a><a id="7917" href="Setoid.Varieties.SoundAndComplete.html#7555" class="Function">FreeDomain</a> <a id="7928" href="Setoid.Varieties.SoundAndComplete.html#7903" class="Bound">X</a><a id="7929" class="Symbol">))</a> <a id="7932" href="Setoid.Varieties.SoundAndComplete.html#1150" class="Record Operator">⟶</a> <a id="7934" class="Symbol">(</a><a id="7935" href="Setoid.Varieties.SoundAndComplete.html#7555" class="Function">FreeDomain</a> <a id="7946" href="Setoid.Varieties.SoundAndComplete.html#7903" class="Bound">X</a><a id="7947" class="Symbol">)</a>
 <a id="7950" href="Setoid.Varieties.SoundAndComplete.html#7887" class="Function">FreeInterp</a> <a id="7961" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a> <a id="7965" class="Symbol">(</a><a id="7966" href="Setoid.Varieties.SoundAndComplete.html#7966" class="Bound">f</a> <a id="7968" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7970" href="Setoid.Varieties.SoundAndComplete.html#7970" class="Bound">ts</a><a id="7972" class="Symbol">)</a> <a id="7974" class="Symbol">=</a> <a id="7976" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="7981" href="Setoid.Varieties.SoundAndComplete.html#7966" class="Bound">f</a> <a id="7983" href="Setoid.Varieties.SoundAndComplete.html#7970" class="Bound">ts</a>
 <a id="7987" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="7992" href="Setoid.Varieties.SoundAndComplete.html#7887" class="Function">FreeInterp</a> <a id="8003" class="Symbol">(</a><a id="8004" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="8009" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8011" href="Setoid.Varieties.SoundAndComplete.html#8011" class="Bound">h</a><a id="8012" class="Symbol">)</a> <a id="8014" class="Symbol">=</a> <a id="8016" href="Setoid.Varieties.SoundAndComplete.html#4319" class="InductiveConstructor">app</a> <a id="8020" href="Setoid.Varieties.SoundAndComplete.html#8011" class="Bound">h</a>


 <a id="8025" class="Comment">-- The relatively free algebra</a>
 <a id="FreeAlgebra.𝔽[_]"></a><a id="8057" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[_]</a> <a id="8062" class="Symbol">:</a> <a id="8064" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="8069" href="Setoid.Varieties.SoundAndComplete.html#7444" class="Bound">χ</a> <a id="8071" class="Symbol">→</a> <a id="8073" href="Setoid.Algebras.Basic.html#2890" class="Record">Algebra</a> <a id="8081" class="Symbol">(</a><a id="8082" href="Setoid.Algebras.Basic.html#1187" class="Function">ov</a> <a id="8085" href="Setoid.Varieties.SoundAndComplete.html#7444" class="Bound">χ</a><a id="8086" class="Symbol">)</a> <a id="8088" class="Symbol">(</a><a id="8089" href="Setoid.Varieties.SoundAndComplete.html#7455" class="Bound">ι</a> <a id="8091" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="8093" href="Setoid.Algebras.Basic.html#1187" class="Function">ov</a> <a id="8096" href="Setoid.Varieties.SoundAndComplete.html#7444" class="Bound">χ</a><a id="8097" class="Symbol">)</a>
 <a id="8100" href="Setoid.Algebras.Basic.html#2947" class="Field">Domain</a> <a id="8107" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[</a> <a id="8110" href="Setoid.Varieties.SoundAndComplete.html#8110" class="Bound">X</a> <a id="8112" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">]</a> <a id="8114" class="Symbol">=</a> <a id="8116" href="Setoid.Varieties.SoundAndComplete.html#7555" class="Function">FreeDomain</a> <a id="8127" href="Setoid.Varieties.SoundAndComplete.html#8110" class="Bound">X</a>
 <a id="8130" href="Setoid.Algebras.Basic.html#2969" class="Field">Interp</a> <a id="8137" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[</a> <a id="8140" href="Setoid.Varieties.SoundAndComplete.html#8140" class="Bound">X</a> <a id="8142" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">]</a> <a id="8144" class="Symbol">=</a> <a id="8146" href="Setoid.Varieties.SoundAndComplete.html#7887" class="Function">FreeInterp</a>


 <a id="8160" class="Comment">-- The identity substitution σ₀ maps variables to themselves.</a>
 <a id="FreeAlgebra.σ₀"></a><a id="8223" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a> <a id="8226" class="Symbol">:</a> <a id="8228" class="Symbol">{</a><a id="8229" href="Setoid.Varieties.SoundAndComplete.html#8229" class="Bound">X</a> <a id="8231" class="Symbol">:</a> <a id="8233" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="8238" href="Setoid.Varieties.SoundAndComplete.html#7444" class="Bound">χ</a><a id="8239" class="Symbol">}</a> <a id="8241" class="Symbol">→</a> <a id="8243" href="Setoid.Terms.Basic.html#3543" class="Function">Sub</a> <a id="8247" href="Setoid.Varieties.SoundAndComplete.html#8229" class="Bound">X</a> <a id="8249" href="Setoid.Varieties.SoundAndComplete.html#8229" class="Bound">X</a>
 <a id="8252" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a> <a id="8255" href="Setoid.Varieties.SoundAndComplete.html#8255" class="Bound">x</a> <a id="8257" class="Symbol">=</a> <a id="8259" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="8261" href="Setoid.Varieties.SoundAndComplete.html#8255" class="Bound">x</a>

 <a id="8265" class="Comment">-- σ₀ acts indeed as identity.</a>
 <a id="FreeAlgebra.identity"></a><a id="8297" href="Setoid.Varieties.SoundAndComplete.html#8297" class="Function">identity</a> <a id="8306" class="Symbol">:</a> <a id="8308" class="Symbol">(</a><a id="8309" href="Setoid.Varieties.SoundAndComplete.html#8309" class="Bound">t</a> <a id="8311" class="Symbol">:</a> <a id="8313" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="8318" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a><a id="8319" class="Symbol">)</a> <a id="8321" class="Symbol">→</a> <a id="8323" href="Setoid.Varieties.SoundAndComplete.html#7478" class="Bound">E</a> <a id="8325" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="8327" href="Setoid.Varieties.SoundAndComplete.html#1931" class="Generalizable">X</a> <a id="8329" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="8331" href="Setoid.Varieties.SoundAndComplete.html#8309" class="Bound">t</a> <a id="8333" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="8335" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a> <a id="8338" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a> <a id="8340" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="8342" href="Setoid.Varieties.SoundAndComplete.html#8309" class="Bound">t</a>
 <a id="8345" href="Setoid.Varieties.SoundAndComplete.html#8297" class="Function">identity</a> <a id="8354" class="Symbol">(</a><a id="8355" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="8357" href="Setoid.Varieties.SoundAndComplete.html#8357" class="Bound">x</a><a id="8358" class="Symbol">)</a> <a id="8360" class="Symbol">=</a> <a id="8362" href="Setoid.Varieties.SoundAndComplete.html#4490" class="InductiveConstructor">refl</a>
 <a id="8368" href="Setoid.Varieties.SoundAndComplete.html#8297" class="Function">identity</a> <a id="8377" class="Symbol">(</a><a id="8378" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="8383" href="Setoid.Varieties.SoundAndComplete.html#8383" class="Bound">f</a> <a id="8385" href="Setoid.Varieties.SoundAndComplete.html#8385" class="Bound">ts</a><a id="8387" class="Symbol">)</a> <a id="8389" class="Symbol">=</a> <a id="8391" href="Setoid.Varieties.SoundAndComplete.html#4319" class="InductiveConstructor">app</a> <a id="8395" class="Symbol">(</a><a id="8396" href="Setoid.Varieties.SoundAndComplete.html#8297" class="Function">identity</a> <a id="8405" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="8407" href="Setoid.Varieties.SoundAndComplete.html#8385" class="Bound">ts</a><a id="8409" class="Symbol">)</a>

</pre>

Evaluation in the term model is substitution `E ⊢ X ▹ ⟦t⟧σ ≈ t[σ]`. (This would
hold "on the nose" if we had function extensionality.)

(We put this and the next two lemmas into their own submodules to emphasize
the fact that these results are independent of the chosen variable symbol
type `X` (or `Δ`, or `Γ`), which is an arbitrary inhabitant of `Type χ`.)
<pre class="Agda">

 <a id="8799" class="Keyword">module</a> <a id="8806" href="Setoid.Varieties.SoundAndComplete.html#8806" class="Module">_</a> <a id="8808" class="Symbol">{</a><a id="8809" href="Setoid.Varieties.SoundAndComplete.html#8809" class="Bound">X</a> <a id="8811" class="Symbol">:</a> <a id="8813" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="8818" href="Setoid.Varieties.SoundAndComplete.html#7444" class="Bound">χ</a><a id="8819" class="Symbol">}</a> <a id="8821" class="Keyword">where</a>
  <a id="8829" class="Keyword">open</a> <a id="8834" href="Setoid.Terms.Basic.html#3906" class="Module">Environment</a> <a id="8846" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[</a> <a id="8849" href="Setoid.Varieties.SoundAndComplete.html#8809" class="Bound">X</a> <a id="8851" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">]</a>
  <a id="8855" href="Setoid.Varieties.SoundAndComplete.html#8855" class="Function">evaluation</a> <a id="8866" class="Symbol">:</a> <a id="8868" class="Symbol">(</a><a id="8869" href="Setoid.Varieties.SoundAndComplete.html#8869" class="Bound">t</a> <a id="8871" class="Symbol">:</a> <a id="8873" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="8878" href="Setoid.Varieties.SoundAndComplete.html#1935" class="Generalizable">Δ</a><a id="8879" class="Symbol">)</a> <a id="8881" class="Symbol">(</a><a id="8882" href="Setoid.Varieties.SoundAndComplete.html#8882" class="Bound">σ</a> <a id="8884" class="Symbol">:</a> <a id="8886" href="Setoid.Terms.Basic.html#3543" class="Function">Sub</a> <a id="8890" href="Setoid.Varieties.SoundAndComplete.html#8809" class="Bound">X</a> <a id="8892" href="Setoid.Varieties.SoundAndComplete.html#1935" class="Generalizable">Δ</a><a id="8893" class="Symbol">)</a> <a id="8895" class="Symbol">→</a> <a id="8897" href="Setoid.Varieties.SoundAndComplete.html#7478" class="Bound">E</a> <a id="8899" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="8901" href="Setoid.Varieties.SoundAndComplete.html#8809" class="Bound">X</a> <a id="8903" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="8905" class="Symbol">(</a><a id="8906" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟦</a> <a id="8908" href="Setoid.Varieties.SoundAndComplete.html#8869" class="Bound">t</a> <a id="8910" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟧</a> <a id="8912" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a> <a id="8916" href="Setoid.Varieties.SoundAndComplete.html#8882" class="Bound">σ</a><a id="8917" class="Symbol">)</a> <a id="8919" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="8921" class="Symbol">(</a><a id="8922" href="Setoid.Varieties.SoundAndComplete.html#8869" class="Bound">t</a> <a id="8924" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="8926" href="Setoid.Varieties.SoundAndComplete.html#8882" class="Bound">σ</a> <a id="8928" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a><a id="8929" class="Symbol">)</a>
  <a id="8933" href="Setoid.Varieties.SoundAndComplete.html#8855" class="Function">evaluation</a> <a id="8944" class="Symbol">(</a><a id="8945" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="8947" href="Setoid.Varieties.SoundAndComplete.html#8947" class="Bound">x</a><a id="8948" class="Symbol">)</a> <a id="8950" href="Setoid.Varieties.SoundAndComplete.html#8950" class="Bound">σ</a> <a id="8952" class="Symbol">=</a> <a id="8954" href="Setoid.Varieties.SoundAndComplete.html#4490" class="InductiveConstructor">refl</a>
  <a id="8961" href="Setoid.Varieties.SoundAndComplete.html#8855" class="Function">evaluation</a> <a id="8972" class="Symbol">(</a><a id="8973" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="8978" href="Setoid.Varieties.SoundAndComplete.html#8978" class="Bound">f</a> <a id="8980" href="Setoid.Varieties.SoundAndComplete.html#8980" class="Bound">ts</a><a id="8982" class="Symbol">)</a> <a id="8984" href="Setoid.Varieties.SoundAndComplete.html#8984" class="Bound">σ</a> <a id="8986" class="Symbol">=</a> <a id="8988" href="Setoid.Varieties.SoundAndComplete.html#4319" class="InductiveConstructor">app</a> <a id="8992" class="Symbol">(</a><a id="8993" href="Function.Base.html#1554" class="Function">flip</a> <a id="8998" class="Symbol">(</a><a id="8999" href="Setoid.Varieties.SoundAndComplete.html#8855" class="Function">evaluation</a> <a id="9010" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9012" href="Setoid.Varieties.SoundAndComplete.html#8980" class="Bound">ts</a><a id="9014" class="Symbol">)</a> <a id="9016" href="Setoid.Varieties.SoundAndComplete.html#8984" class="Bound">σ</a><a id="9017" class="Symbol">)</a>


 <a id="9022" class="Keyword">module</a> <a id="9029" href="Setoid.Varieties.SoundAndComplete.html#9029" class="Module">_</a> <a id="9031" class="Symbol">{</a><a id="9032" href="Setoid.Varieties.SoundAndComplete.html#9032" class="Bound">Δ</a> <a id="9034" class="Symbol">:</a> <a id="9036" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="9041" href="Setoid.Varieties.SoundAndComplete.html#7444" class="Bound">χ</a><a id="9042" class="Symbol">}</a> <a id="9044" class="Keyword">where</a>
  <a id="9052" class="Comment">-- The term model satisfies all the equations it started out with.</a>
  <a id="9121" href="Setoid.Varieties.SoundAndComplete.html#9121" class="Function">satisfies</a> <a id="9131" class="Symbol">:</a> <a id="9133" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[</a> <a id="9136" href="Setoid.Varieties.SoundAndComplete.html#9032" class="Bound">Δ</a> <a id="9138" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">]</a> <a id="9140" href="Setoid.Varieties.SoundAndComplete.html#2676" class="Function Operator">⊨</a> <a id="9142" href="Setoid.Varieties.SoundAndComplete.html#7478" class="Bound">E</a>
  <a id="9146" href="Setoid.Varieties.SoundAndComplete.html#9121" class="Function">satisfies</a> <a id="9156" href="Setoid.Varieties.SoundAndComplete.html#9156" class="Bound">i</a> <a id="9158" href="Setoid.Varieties.SoundAndComplete.html#9158" class="Bound">σ</a> <a id="9160" class="Symbol">=</a>
   <a id="9165" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="9175" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟦</a> <a id="9177" href="Setoid.Varieties.SoundAndComplete.html#9382" class="Function">p</a> <a id="9179" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟧</a> <a id="9181" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a> <a id="9185" href="Setoid.Varieties.SoundAndComplete.html#9158" class="Bound">σ</a>  <a id="9188" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9191" href="Setoid.Varieties.SoundAndComplete.html#8855" class="Function">evaluation</a> <a id="9202" href="Setoid.Varieties.SoundAndComplete.html#9382" class="Function">p</a> <a id="9204" href="Setoid.Varieties.SoundAndComplete.html#9158" class="Bound">σ</a> <a id="9206" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9212" href="Setoid.Varieties.SoundAndComplete.html#9382" class="Function">p</a> <a id="9214" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="9216" href="Setoid.Varieties.SoundAndComplete.html#9158" class="Bound">σ</a> <a id="9218" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a>      <a id="9225" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9228" href="Setoid.Varieties.SoundAndComplete.html#4405" class="InductiveConstructor">sub</a> <a id="9232" class="Symbol">(</a><a id="9233" href="Setoid.Varieties.SoundAndComplete.html#4269" class="InductiveConstructor">hyp</a> <a id="9237" href="Setoid.Varieties.SoundAndComplete.html#9156" class="Bound">i</a><a id="9238" class="Symbol">)</a> <a id="9240" href="Setoid.Varieties.SoundAndComplete.html#9158" class="Bound">σ</a> <a id="9242" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9248" href="Setoid.Varieties.SoundAndComplete.html#9398" class="Function">q</a> <a id="9250" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="9252" href="Setoid.Varieties.SoundAndComplete.html#9158" class="Bound">σ</a> <a id="9254" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a>      <a id="9261" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="9265" href="Setoid.Varieties.SoundAndComplete.html#8855" class="Function">evaluation</a> <a id="9276" href="Setoid.Varieties.SoundAndComplete.html#9398" class="Function">q</a> <a id="9278" href="Setoid.Varieties.SoundAndComplete.html#9158" class="Bound">σ</a> <a id="9280" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="9286" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟦</a> <a id="9288" href="Setoid.Varieties.SoundAndComplete.html#9398" class="Function">q</a> <a id="9290" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟧</a> <a id="9292" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a> <a id="9296" href="Setoid.Varieties.SoundAndComplete.html#9158" class="Bound">σ</a>  <a id="9299" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>
    <a id="9305" class="Keyword">where</a>
    <a id="9315" class="Keyword">open</a> <a id="9320" href="Setoid.Terms.Basic.html#3906" class="Module">Environment</a> <a id="9332" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[</a> <a id="9335" href="Setoid.Varieties.SoundAndComplete.html#9032" class="Bound">Δ</a> <a id="9337" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">]</a>
    <a id="9343" class="Keyword">open</a> <a id="9348" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="9364" class="Symbol">(</a><a id="9365" href="Setoid.Algebras.Basic.html#2947" class="Field">Domain</a> <a id="9372" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[</a> <a id="9375" href="Setoid.Varieties.SoundAndComplete.html#9032" class="Bound">Δ</a> <a id="9377" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">]</a><a id="9378" class="Symbol">)</a> <a id="9380" class="Symbol">;</a> <a id="9382" href="Setoid.Varieties.SoundAndComplete.html#9382" class="Function">p</a> <a id="9384" class="Symbol">=</a> <a id="9386" href="Setoid.Varieties.SoundAndComplete.html#2124" class="Field">lhs</a> <a id="9390" class="Symbol">(</a><a id="9391" href="Setoid.Varieties.SoundAndComplete.html#7478" class="Bound">E</a> <a id="9393" href="Setoid.Varieties.SoundAndComplete.html#9156" class="Bound">i</a><a id="9394" class="Symbol">)</a> <a id="9396" class="Symbol">;</a> <a id="9398" href="Setoid.Varieties.SoundAndComplete.html#9398" class="Function">q</a> <a id="9400" class="Symbol">=</a> <a id="9402" href="Setoid.Varieties.SoundAndComplete.html#2143" class="Field">rhs</a> <a id="9406" class="Symbol">(</a><a id="9407" href="Setoid.Varieties.SoundAndComplete.html#7478" class="Bound">E</a> <a id="9409" href="Setoid.Varieties.SoundAndComplete.html#9156" class="Bound">i</a><a id="9410" class="Symbol">)</a>

</pre>

We are finally ready to formally state and prove Birkhoff's Completeness Theorem, which asserts that every valid consequence is derivable.

<pre class="Agda">

 <a id="9580" class="Keyword">module</a> <a id="9587" href="Setoid.Varieties.SoundAndComplete.html#9587" class="Module">_</a> <a id="9589" class="Symbol">{</a><a id="9590" href="Setoid.Varieties.SoundAndComplete.html#9590" class="Bound">Γ</a> <a id="9592" class="Symbol">:</a> <a id="9594" href="Setoid.Varieties.SoundAndComplete.html#930" class="Primitive">Type</a> <a id="9599" href="Setoid.Varieties.SoundAndComplete.html#7444" class="Bound">χ</a><a id="9600" class="Symbol">}</a> <a id="9602" class="Keyword">where</a>

  <a id="9611" href="Setoid.Varieties.SoundAndComplete.html#9611" class="Function">completeness</a> <a id="9624" class="Symbol">:</a> <a id="9626" class="Symbol">∀</a> <a id="9628" href="Setoid.Varieties.SoundAndComplete.html#9628" class="Bound">p</a> <a id="9630" href="Setoid.Varieties.SoundAndComplete.html#9630" class="Bound">q</a> <a id="9632" class="Symbol">→</a> <a id="9634" href="Setoid.Varieties.SoundAndComplete.html#3050" class="Function">ModTuple</a> <a id="9643" href="Setoid.Varieties.SoundAndComplete.html#7478" class="Bound">E</a> <a id="9645" href="Setoid.Varieties.SoundAndComplete.html#2373" class="Function Operator">⊫</a> <a id="9647" class="Symbol">(</a><a id="9648" href="Setoid.Varieties.SoundAndComplete.html#9628" class="Bound">p</a> <a id="9650" href="Setoid.Varieties.SoundAndComplete.html#2093" class="InductiveConstructor Operator">≈̇</a> <a id="9653" href="Setoid.Varieties.SoundAndComplete.html#9630" class="Bound">q</a><a id="9654" class="Symbol">)</a> <a id="9656" class="Symbol">→</a> <a id="9658" href="Setoid.Varieties.SoundAndComplete.html#7478" class="Bound">E</a> <a id="9660" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">⊢</a> <a id="9662" href="Setoid.Varieties.SoundAndComplete.html#9590" class="Bound">Γ</a> <a id="9664" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">▹</a> <a id="9666" href="Setoid.Varieties.SoundAndComplete.html#9628" class="Bound">p</a> <a id="9668" href="Setoid.Varieties.SoundAndComplete.html#4181" class="Datatype Operator">≈</a> <a id="9670" href="Setoid.Varieties.SoundAndComplete.html#9630" class="Bound">q</a>
  <a id="9674" href="Setoid.Varieties.SoundAndComplete.html#9611" class="Function">completeness</a> <a id="9687" href="Setoid.Varieties.SoundAndComplete.html#9687" class="Bound">p</a> <a id="9689" href="Setoid.Varieties.SoundAndComplete.html#9689" class="Bound">q</a> <a id="9691" href="Setoid.Varieties.SoundAndComplete.html#9691" class="Bound">V</a> <a id="9693" class="Symbol">=</a>
   <a id="9698" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="9708" href="Setoid.Varieties.SoundAndComplete.html#9687" class="Bound">p</a>              <a id="9723" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="9727" href="Setoid.Varieties.SoundAndComplete.html#8297" class="Function">identity</a> <a id="9736" href="Setoid.Varieties.SoundAndComplete.html#9687" class="Bound">p</a> <a id="9738" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="9744" href="Setoid.Varieties.SoundAndComplete.html#9687" class="Bound">p</a> <a id="9746" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="9748" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a> <a id="9751" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a>       <a id="9759" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="9763" href="Setoid.Varieties.SoundAndComplete.html#8855" class="Function">evaluation</a> <a id="9774" href="Setoid.Varieties.SoundAndComplete.html#9687" class="Bound">p</a> <a id="9776" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a> <a id="9779" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="9785" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟦</a> <a id="9787" href="Setoid.Varieties.SoundAndComplete.html#9687" class="Bound">p</a> <a id="9789" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟧</a> <a id="9791" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a> <a id="9795" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a>   <a id="9800" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9803" href="Setoid.Varieties.SoundAndComplete.html#9691" class="Bound">V</a> <a id="9805" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[</a> <a id="9808" href="Setoid.Varieties.SoundAndComplete.html#9590" class="Bound">Γ</a> <a id="9810" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">]</a> <a id="9812" href="Setoid.Varieties.SoundAndComplete.html#9121" class="Function">satisfies</a> <a id="9822" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a> <a id="9825" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9831" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟦</a> <a id="9833" href="Setoid.Varieties.SoundAndComplete.html#9689" class="Bound">q</a> <a id="9835" href="Setoid.Terms.Basic.html#4953" class="Function Operator">⟧</a> <a id="9837" href="Setoid.Varieties.SoundAndComplete.html#1874" class="Field Operator">⟨$⟩</a> <a id="9841" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a>   <a id="9846" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9849" href="Setoid.Varieties.SoundAndComplete.html#8855" class="Function">evaluation</a> <a id="9860" href="Setoid.Varieties.SoundAndComplete.html#9689" class="Bound">q</a> <a id="9862" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a> <a id="9865" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9871" href="Setoid.Varieties.SoundAndComplete.html#9689" class="Bound">q</a> <a id="9873" href="Setoid.Terms.Basic.html#3641" class="Function Operator">[</a> <a id="9875" href="Setoid.Varieties.SoundAndComplete.html#8223" class="Function">σ₀</a> <a id="9878" href="Setoid.Terms.Basic.html#3641" class="Function Operator">]</a>       <a id="9886" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9889" href="Setoid.Varieties.SoundAndComplete.html#8297" class="Function">identity</a> <a id="9898" href="Setoid.Varieties.SoundAndComplete.html#9689" class="Bound">q</a> <a id="9900" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9906" href="Setoid.Varieties.SoundAndComplete.html#9689" class="Bound">q</a>              <a id="9921" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>
   <a id="9926" class="Keyword">where</a>
   <a id="9935" class="Keyword">open</a> <a id="9940" href="Setoid.Terms.Basic.html#3906" class="Module">Environment</a> <a id="9952" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[</a> <a id="9955" href="Setoid.Varieties.SoundAndComplete.html#9590" class="Bound">Γ</a> <a id="9957" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">]</a>
   <a id="9962" class="Keyword">open</a> <a id="9967" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="9983" class="Symbol">(</a><a id="9984" href="Setoid.Algebras.Basic.html#2947" class="Field">Domain</a> <a id="9991" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">𝔽[</a> <a id="9994" href="Setoid.Varieties.SoundAndComplete.html#9590" class="Bound">Γ</a> <a id="9996" href="Setoid.Varieties.SoundAndComplete.html#8057" class="Function Operator">]</a><a id="9997" class="Symbol">)</a>

</pre>

--------------------------------

<span style="float:left;">[↑ Setoid.Varieties](Setoid.Varieties.html)</span>
<span style="float:right;">[Setoid.Varieties.Closure →](Setoid.Varieties.Closure.html)</span>

{% include UALib.Links.md %}
