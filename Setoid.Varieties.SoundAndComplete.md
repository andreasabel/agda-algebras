---
layout: default
title : "Setoid.Varieties.SoundAndComplete module (The Agda Universal Algebra Library)"
date : "2021-01-14"
author: "agda-algebras development team"
---

#### <a id="entailment-derivation-rules-soundness-and-completeness">Entailment, derivation rules, soundness and completeness</a>

This is the [Setoid.Varieties.SoundAndComplete][] module of the [Agda Universal Algebra Library][].

This module is based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).

<pre class="Agda">

<a id="580" class="Symbol">{-#</a> <a id="584" class="Keyword">OPTIONS</a> <a id="592" class="Pragma">--without-K</a> <a id="604" class="Pragma">--exact-split</a> <a id="618" class="Pragma">--safe</a> <a id="625" class="Symbol">#-}</a>

<a id="630" class="Keyword">open</a> <a id="635" class="Keyword">import</a> <a id="642" href="Overture.html" class="Module">Overture</a> <a id="651" class="Keyword">using</a> <a id="657" class="Symbol">(</a><a id="658" href="Overture.Signatures.html#648" class="Generalizable">𝓞</a> <a id="660" class="Symbol">;</a> <a id="662" href="Overture.Signatures.html#650" class="Generalizable">𝓥</a> <a id="664" class="Symbol">;</a> <a id="666" href="Overture.Signatures.html#3282" class="Function">Signature</a><a id="675" class="Symbol">)</a>

<a id="678" class="Keyword">module</a> <a id="685" href="Setoid.Varieties.SoundAndComplete.html" class="Module">Setoid.Varieties.SoundAndComplete</a> <a id="719" class="Symbol">{</a><a id="720" href="Setoid.Varieties.SoundAndComplete.html#720" class="Bound">𝑆</a> <a id="722" class="Symbol">:</a> <a id="724" href="Overture.Signatures.html#3282" class="Function">Signature</a> <a id="734" href="Overture.Signatures.html#648" class="Generalizable">𝓞</a> <a id="736" href="Overture.Signatures.html#650" class="Generalizable">𝓥</a><a id="737" class="Symbol">}</a> <a id="739" class="Keyword">where</a>

<a id="746" class="Comment">-- imports from Agda and the Agda Standard Library -------------------------------</a>
<a id="829" class="Keyword">open</a> <a id="834" class="Keyword">import</a> <a id="841" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>   <a id="858" class="Keyword">using</a> <a id="864" class="Symbol">()</a> <a id="867" class="Keyword">renaming</a> <a id="876" class="Symbol">(</a> <a id="878" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="882" class="Symbol">to</a> <a id="885" class="Primitive">Type</a> <a id="890" class="Symbol">)</a>
<a id="892" class="Keyword">open</a> <a id="897" class="Keyword">import</a> <a id="904" href="Data.Product.html" class="Module">Data.Product</a>     <a id="921" class="Keyword">using</a> <a id="927" class="Symbol">(</a> <a id="929" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="933" class="Symbol">;</a> <a id="935" href="Data.Product.html#916" class="Function">Σ-syntax</a> <a id="944" class="Symbol">;</a> <a id="946" href="Data.Product.html#1167" class="Function Operator">_×_</a> <a id="950" class="Symbol">)</a>
                             <a id="981" class="Keyword">renaming</a> <a id="990" class="Symbol">(</a> <a id="992" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="998" class="Symbol">to</a> <a id="1001" class="Field">fst</a> <a id="1005" class="Symbol">;</a> <a id="1007" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1013" class="Symbol">to</a> <a id="1016" class="Field">snd</a> <a id="1020" class="Symbol">)</a>
<a id="1022" class="Keyword">open</a> <a id="1027" class="Keyword">import</a> <a id="1034" href="Function.html" class="Module">Function</a>         <a id="1051" class="Keyword">using</a> <a id="1057" class="Symbol">(</a> <a id="1059" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="1063" class="Symbol">;</a> <a id="1065" href="Function.Base.html#1554" class="Function">flip</a> <a id="1070" class="Symbol">;</a> <a id="1072" href="Function.Base.html#615" class="Function">id</a> <a id="1075" class="Symbol">)</a> <a id="1077" class="Keyword">renaming</a> <a id="1086" class="Symbol">(</a> <a id="1088" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="1093" class="Symbol">to</a> <a id="1096" class="Record">_⟶_</a> <a id="1100" class="Symbol">)</a>
<a id="1102" class="Keyword">open</a> <a id="1107" class="Keyword">import</a> <a id="1114" href="Level.html" class="Module">Level</a>            <a id="1131" class="Keyword">using</a> <a id="1137" class="Symbol">(</a> <a id="1139" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="1145" class="Symbol">;</a> <a id="1147" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="1151" class="Symbol">)</a>
<a id="1153" class="Keyword">open</a> <a id="1158" class="Keyword">import</a> <a id="1165" href="Relation.Binary.html" class="Module">Relation.Binary</a>  <a id="1182" class="Keyword">using</a> <a id="1188" class="Symbol">(</a> <a id="1190" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1197" class="Symbol">;</a> <a id="1199" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="1213" class="Symbol">)</a>
<a id="1215" class="Keyword">open</a> <a id="1220" class="Keyword">import</a> <a id="1227" href="Relation.Unary.html" class="Module">Relation.Unary</a>   <a id="1244" class="Keyword">using</a> <a id="1250" class="Symbol">(</a> <a id="1252" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1257" class="Symbol">;</a> <a id="1259" href="Relation.Unary.html#1523" class="Function Operator">_∈_</a> <a id="1263" class="Symbol">)</a>

<a id="1266" class="Keyword">open</a> <a id="1271" class="Keyword">import</a> <a id="1278" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1316" class="Keyword">using</a> <a id="1322" class="Symbol">(</a> <a id="1324" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="1328" class="Symbol">;</a> <a id="1330" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1335" class="Symbol">)</a>

<a id="1338" class="Keyword">import</a> <a id="1345" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1378" class="Symbol">as</a> <a id="1381" class="Module">SetoidReasoning</a>

<a id="1398" class="Comment">-- Imports from the Agda Universal Algebra Library -------------------------------</a>
<a id="1481" class="Keyword">open</a> <a id="1486" class="Keyword">import</a> <a id="1493" href="Overture.html" class="Module">Overture</a>                  <a id="1519" class="Keyword">using</a> <a id="1525" class="Symbol">(</a> <a id="1527" href="Overture.Basic.html#4326" class="Function Operator">∣_∣</a> <a id="1531" class="Symbol">)</a>
<a id="1533" class="Keyword">open</a> <a id="1538" class="Keyword">import</a> <a id="1545" href="Base.Terms.html" class="Module">Base.Terms</a>       <a id="1562" class="Symbol">{</a><a id="1563" class="Argument">𝑆</a> <a id="1565" class="Symbol">=</a> <a id="1567" href="Setoid.Varieties.SoundAndComplete.html#720" class="Bound">𝑆</a><a id="1568" class="Symbol">}</a>  <a id="1571" class="Keyword">using</a> <a id="1577" class="Symbol">(</a> <a id="1579" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="1584" class="Symbol">)</a>
<a id="1586" class="Keyword">open</a> <a id="1591" class="Keyword">import</a> <a id="1598" href="Setoid.Algebras.html" class="Module">Setoid.Algebras</a>  <a id="1615" class="Symbol">{</a><a id="1616" class="Argument">𝑆</a> <a id="1618" class="Symbol">=</a> <a id="1620" href="Setoid.Varieties.SoundAndComplete.html#720" class="Bound">𝑆</a><a id="1621" class="Symbol">}</a>  <a id="1624" class="Keyword">using</a> <a id="1630" class="Symbol">(</a> <a id="1632" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="1640" class="Symbol">;</a> <a id="1642" href="Setoid.Algebras.Basic.html#1068" class="Function">ov</a> <a id="1645" class="Symbol">;</a> <a id="1647" href="Setoid.Algebras.Basic.html#2092" class="Function Operator">⟨_⟩</a> <a id="1651" class="Symbol">)</a>
<a id="1653" class="Keyword">open</a> <a id="1658" class="Keyword">import</a> <a id="1665" href="Setoid.Terms.html" class="Module">Setoid.Terms</a>     <a id="1682" class="Symbol">{</a><a id="1683" class="Argument">𝑆</a> <a id="1685" class="Symbol">=</a> <a id="1687" href="Setoid.Varieties.SoundAndComplete.html#720" class="Bound">𝑆</a><a id="1688" class="Symbol">}</a>  <a id="1691" class="Keyword">using</a> <a id="1697" class="Symbol">(</a> <a id="1699" class="Keyword">module</a> <a id="1706" href="Setoid.Terms.Basic.html#3846" class="Module">Environment</a> <a id="1718" class="Symbol">;</a> <a id="1720" href="Setoid.Terms.Basic.html#3483" class="Function">Sub</a> <a id="1724" class="Symbol">;</a> <a id="1726" href="Setoid.Terms.Basic.html#3581" class="Function Operator">_[_]</a> <a id="1731" class="Symbol">)</a>

<a id="1734" class="Keyword">open</a> <a id="1739" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a>  <a id="1747" class="Keyword">using</a> <a id="1753" class="Symbol">(</a> <a id="1755" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="1763" class="Symbol">;</a> <a id="1765" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="1769" class="Symbol">;</a> <a id="1771" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="1785" class="Symbol">)</a>
<a id="1787" class="Keyword">open</a> <a id="1792" href="Setoid.Varieties.SoundAndComplete.html#1096" class="Module">_⟶_</a>     <a id="1800" class="Keyword">renaming</a> <a id="1809" class="Symbol">(</a> <a id="1811" href="Function.Bundles.html#1919" class="Field">f</a> <a id="1813" class="Symbol">to</a> <a id="1816" class="Field">_⟨$⟩_</a> <a id="1822" class="Symbol">)</a>
<a id="1824" class="Keyword">open</a> <a id="1829" href="Base.Terms.Basic.html#2087" class="Module">Term</a>

<a id="1835" class="Keyword">private</a> <a id="1843" class="Keyword">variable</a>
 <a id="1853" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a> <a id="1855" href="Setoid.Varieties.SoundAndComplete.html#1855" class="Generalizable">α</a> <a id="1857" href="Setoid.Varieties.SoundAndComplete.html#1857" class="Generalizable">ρᵃ</a> <a id="1860" href="Setoid.Varieties.SoundAndComplete.html#1860" class="Generalizable">ι</a> <a id="1862" href="Setoid.Varieties.SoundAndComplete.html#1862" class="Generalizable">ℓ</a> <a id="1864" class="Symbol">:</a> <a id="1866" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="1873" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a> <a id="1875" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="1877" href="Setoid.Varieties.SoundAndComplete.html#1877" class="Generalizable">Δ</a> <a id="1879" class="Symbol">:</a> <a id="1881" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="1886" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a>
 <a id="1889" href="Setoid.Varieties.SoundAndComplete.html#1889" class="Generalizable">f</a>     <a id="1895" class="Symbol">:</a> <a id="1897" href="Overture.Basic.html#4326" class="Function Operator">∣</a> <a id="1899" href="Setoid.Varieties.SoundAndComplete.html#720" class="Bound">𝑆</a> <a id="1901" href="Overture.Basic.html#4326" class="Function Operator">∣</a>
 <a id="1904" href="Setoid.Varieties.SoundAndComplete.html#1904" class="Generalizable">I</a> <a id="1906" class="Symbol">:</a> <a id="1908" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="1913" href="Setoid.Varieties.SoundAndComplete.html#1860" class="Generalizable">ι</a>

<a id="1916" class="Comment">-- Equations</a>
<a id="1929" class="Comment">-- An equation is a pair (s , t) of terms in the same context.</a>
<a id="1992" class="Keyword">record</a> <a id="Eq"></a><a id="1999" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a> <a id="2002" class="Symbol">:</a> <a id="2004" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="2009" class="Symbol">(</a><a id="2010" href="Setoid.Algebras.Basic.html#1068" class="Function">ov</a> <a id="2013" href="Setoid.Varieties.SoundAndComplete.html#2013" class="Bound">χ</a><a id="2014" class="Symbol">)</a> <a id="2016" class="Keyword">where</a>
 <a id="2023" class="Keyword">constructor</a> <a id="_≈̇_"></a><a id="2035" href="Setoid.Varieties.SoundAndComplete.html#2035" class="InductiveConstructor Operator">_≈̇_</a>
 <a id="2041" class="Keyword">field</a>
  <a id="2049" class="Symbol">{</a><a id="Eq.cxt"></a><a id="2050" href="Setoid.Varieties.SoundAndComplete.html#2050" class="Field">cxt</a><a id="2053" class="Symbol">}</a>  <a id="2056" class="Symbol">:</a> <a id="2058" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="2063" href="Setoid.Varieties.SoundAndComplete.html#2013" class="Bound">χ</a>
  <a id="Eq.lhs"></a><a id="2067" href="Setoid.Varieties.SoundAndComplete.html#2067" class="Field">lhs</a>    <a id="2074" class="Symbol">:</a> <a id="2076" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="2081" href="Setoid.Varieties.SoundAndComplete.html#2050" class="Field">cxt</a>
  <a id="Eq.rhs"></a><a id="2087" href="Setoid.Varieties.SoundAndComplete.html#2087" class="Field">rhs</a>    <a id="2094" class="Symbol">:</a> <a id="2096" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="2101" href="Setoid.Varieties.SoundAndComplete.html#2050" class="Field">cxt</a>

<a id="2106" class="Keyword">open</a> <a id="2111" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Module">Eq</a> <a id="2114" class="Keyword">public</a>

<a id="2122" class="Comment">-- Equation p ≈̇ q holding in algebra M. (type \~~\^. to get ≈̇; type \models to get ⊧)</a>
<a id="_⊧_"></a><a id="2210" href="Setoid.Varieties.SoundAndComplete.html#2210" class="Function Operator">_⊧_</a> <a id="2214" class="Symbol">:</a> <a id="2216" class="Symbol">(</a><a id="2217" href="Setoid.Varieties.SoundAndComplete.html#2217" class="Bound">𝑨</a> <a id="2219" class="Symbol">:</a> <a id="2221" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="2229" href="Setoid.Varieties.SoundAndComplete.html#1855" class="Generalizable">α</a> <a id="2231" href="Setoid.Varieties.SoundAndComplete.html#1857" class="Generalizable">ρᵃ</a><a id="2233" class="Symbol">)(</a><a id="2235" href="Setoid.Varieties.SoundAndComplete.html#2235" class="Bound">term-identity</a> <a id="2249" class="Symbol">:</a> <a id="2251" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="2253" class="Symbol">{</a><a id="2254" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a><a id="2255" class="Symbol">})</a> <a id="2258" class="Symbol">→</a> <a id="2260" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="2265" class="Symbol">_</a>
<a id="2267" href="Setoid.Varieties.SoundAndComplete.html#2267" class="Bound">𝑨</a> <a id="2269" href="Setoid.Varieties.SoundAndComplete.html#2210" class="Function Operator">⊧</a> <a id="2271" class="Symbol">(</a><a id="2272" href="Setoid.Varieties.SoundAndComplete.html#2272" class="Bound">p</a> <a id="2274" href="Setoid.Varieties.SoundAndComplete.html#2035" class="InductiveConstructor Operator">≈̇</a> <a id="2277" href="Setoid.Varieties.SoundAndComplete.html#2277" class="Bound">q</a><a id="2278" class="Symbol">)</a> <a id="2280" class="Symbol">=</a> <a id="2282" href="Setoid.Terms.Basic.html#5322" class="Function">Equal</a> <a id="2288" href="Setoid.Varieties.SoundAndComplete.html#2272" class="Bound">p</a> <a id="2290" href="Setoid.Varieties.SoundAndComplete.html#2277" class="Bound">q</a> <a id="2292" class="Keyword">where</a> <a id="2298" class="Keyword">open</a> <a id="2303" href="Setoid.Terms.Basic.html#3846" class="Module">Environment</a> <a id="2315" href="Setoid.Varieties.SoundAndComplete.html#2267" class="Bound">𝑨</a>

<a id="_⊫_"></a><a id="2318" href="Setoid.Varieties.SoundAndComplete.html#2318" class="Function Operator">_⊫_</a> <a id="2322" class="Symbol">:</a> <a id="2324" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="2329" class="Symbol">(</a><a id="2330" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="2338" href="Setoid.Varieties.SoundAndComplete.html#1855" class="Generalizable">α</a> <a id="2340" href="Setoid.Varieties.SoundAndComplete.html#1857" class="Generalizable">ρᵃ</a><a id="2342" class="Symbol">)</a> <a id="2344" href="Setoid.Varieties.SoundAndComplete.html#1862" class="Generalizable">ℓ</a> <a id="2346" class="Symbol">→</a> <a id="2348" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="2350" class="Symbol">{</a><a id="2351" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a><a id="2352" class="Symbol">}</a> <a id="2354" class="Symbol">→</a> <a id="2356" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="2361" class="Symbol">(</a><a id="2362" href="Setoid.Varieties.SoundAndComplete.html#1862" class="Generalizable">ℓ</a> <a id="2364" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2366" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a> <a id="2368" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2370" href="Setoid.Algebras.Basic.html#1068" class="Function">ov</a><a id="2372" class="Symbol">(</a><a id="2373" href="Setoid.Varieties.SoundAndComplete.html#1855" class="Generalizable">α</a> <a id="2375" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2377" href="Setoid.Varieties.SoundAndComplete.html#1857" class="Generalizable">ρᵃ</a><a id="2379" class="Symbol">))</a>
<a id="2382" href="Setoid.Varieties.SoundAndComplete.html#2382" class="Bound">𝒦</a> <a id="2384" href="Setoid.Varieties.SoundAndComplete.html#2318" class="Function Operator">⊫</a> <a id="2386" href="Setoid.Varieties.SoundAndComplete.html#2386" class="Bound">eq</a> <a id="2389" class="Symbol">=</a> <a id="2391" class="Symbol">∀</a> <a id="2393" href="Setoid.Varieties.SoundAndComplete.html#2393" class="Bound">𝑨</a> <a id="2395" class="Symbol">→</a> <a id="2397" href="Setoid.Varieties.SoundAndComplete.html#2382" class="Bound">𝒦</a> <a id="2399" href="Setoid.Varieties.SoundAndComplete.html#2393" class="Bound">𝑨</a> <a id="2401" class="Symbol">→</a> <a id="2403" href="Setoid.Varieties.SoundAndComplete.html#2393" class="Bound">𝑨</a> <a id="2405" href="Setoid.Varieties.SoundAndComplete.html#2210" class="Function Operator">⊧</a> <a id="2407" href="Setoid.Varieties.SoundAndComplete.html#2386" class="Bound">eq</a>                    <a id="2429" class="Comment">-- (type \||= to get ⊫)</a>

<a id="2454" class="Comment">-- An I-indexed set of equations inhabits the type I → Eq.</a>

<a id="2514" class="Comment">-- For such `ℰ : I → Eq`...</a>

<a id="2543" class="Comment">-- ...`𝑨 ⊨ ℰ` is the assertion that the algebra 𝑨 models every equation in ℰ.</a>
<a id="_⊨_"></a><a id="2621" href="Setoid.Varieties.SoundAndComplete.html#2621" class="Function Operator">_⊨_</a> <a id="2625" class="Symbol">:</a> <a id="2627" class="Symbol">(</a><a id="2628" href="Setoid.Varieties.SoundAndComplete.html#2628" class="Bound">𝑨</a> <a id="2630" class="Symbol">:</a> <a id="2632" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="2640" href="Setoid.Varieties.SoundAndComplete.html#1855" class="Generalizable">α</a> <a id="2642" href="Setoid.Varieties.SoundAndComplete.html#1857" class="Generalizable">ρᵃ</a><a id="2644" class="Symbol">)</a> <a id="2646" class="Symbol">→</a> <a id="2648" class="Symbol">(</a><a id="2649" href="Setoid.Varieties.SoundAndComplete.html#1904" class="Generalizable">I</a> <a id="2651" class="Symbol">→</a> <a id="2653" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="2655" class="Symbol">{</a><a id="2656" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a><a id="2657" class="Symbol">})</a> <a id="2660" class="Symbol">→</a> <a id="2662" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="2667" class="Symbol">_</a>
<a id="2669" href="Setoid.Varieties.SoundAndComplete.html#2669" class="Bound">𝑨</a> <a id="2671" href="Setoid.Varieties.SoundAndComplete.html#2621" class="Function Operator">⊨</a> <a id="2673" href="Setoid.Varieties.SoundAndComplete.html#2673" class="Bound">ℰ</a> <a id="2675" class="Symbol">=</a> <a id="2677" class="Symbol">∀</a> <a id="2679" href="Setoid.Varieties.SoundAndComplete.html#2679" class="Bound">i</a> <a id="2681" class="Symbol">→</a> <a id="2683" href="Setoid.Terms.Basic.html#5322" class="Function">Equal</a> <a id="2689" class="Symbol">(</a><a id="2690" href="Setoid.Varieties.SoundAndComplete.html#2067" class="Field">lhs</a> <a id="2694" class="Symbol">(</a><a id="2695" href="Setoid.Varieties.SoundAndComplete.html#2673" class="Bound">ℰ</a> <a id="2697" href="Setoid.Varieties.SoundAndComplete.html#2679" class="Bound">i</a><a id="2698" class="Symbol">))(</a><a id="2701" href="Setoid.Varieties.SoundAndComplete.html#2087" class="Field">rhs</a> <a id="2705" class="Symbol">(</a><a id="2706" href="Setoid.Varieties.SoundAndComplete.html#2673" class="Bound">ℰ</a> <a id="2708" href="Setoid.Varieties.SoundAndComplete.html#2679" class="Bound">i</a><a id="2709" class="Symbol">))</a> <a id="2712" class="Keyword">where</a> <a id="2718" class="Keyword">open</a> <a id="2723" href="Setoid.Terms.Basic.html#3846" class="Module">Environment</a> <a id="2735" href="Setoid.Varieties.SoundAndComplete.html#2669" class="Bound">𝑨</a>  <a id="2738" class="Comment">--   (type \|= to get ⊨)</a>

<a id="2764" class="Comment">-- ...`𝒦 ∥≈ ℰ` is the assertion that every algebra in 𝒦 models every equation in ℰ.</a>
<a id="_∥≈_"></a><a id="2848" href="Setoid.Varieties.SoundAndComplete.html#2848" class="Function Operator">_∥≈_</a> <a id="2853" class="Symbol">:</a> <a id="2855" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="2860" class="Symbol">(</a><a id="2861" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="2869" href="Setoid.Varieties.SoundAndComplete.html#1855" class="Generalizable">α</a> <a id="2871" href="Setoid.Varieties.SoundAndComplete.html#1857" class="Generalizable">ρᵃ</a><a id="2873" class="Symbol">)</a> <a id="2875" href="Setoid.Varieties.SoundAndComplete.html#1862" class="Generalizable">ℓ</a> <a id="2877" class="Symbol">→</a> <a id="2879" class="Symbol">(</a><a id="2880" href="Setoid.Varieties.SoundAndComplete.html#1904" class="Generalizable">I</a> <a id="2882" class="Symbol">→</a> <a id="2884" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="2886" class="Symbol">{</a><a id="2887" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a><a id="2888" class="Symbol">})</a> <a id="2891" class="Symbol">→</a> <a id="2893" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="2898" class="Symbol">_</a>
<a id="2900" href="Setoid.Varieties.SoundAndComplete.html#2900" class="Bound">𝒦</a> <a id="2902" href="Setoid.Varieties.SoundAndComplete.html#2848" class="Function Operator">∥≈</a> <a id="2905" href="Setoid.Varieties.SoundAndComplete.html#2905" class="Bound">ℰ</a> <a id="2907" class="Symbol">=</a> <a id="2909" class="Symbol">∀</a> <a id="2911" href="Setoid.Varieties.SoundAndComplete.html#2911" class="Bound">i</a> <a id="2913" class="Symbol">→</a> <a id="2915" href="Setoid.Varieties.SoundAndComplete.html#2900" class="Bound">𝒦</a> <a id="2917" href="Setoid.Varieties.SoundAndComplete.html#2318" class="Function Operator">⊫</a> <a id="2919" href="Setoid.Varieties.SoundAndComplete.html#2905" class="Bound">ℰ</a> <a id="2921" href="Setoid.Varieties.SoundAndComplete.html#2911" class="Bound">i</a>

<a id="2924" class="Comment">-- ...`Mod ℰ` is the class of algebras that model every equation in ℰ.</a>
<a id="ModTuple"></a><a id="2995" href="Setoid.Varieties.SoundAndComplete.html#2995" class="Function">ModTuple</a> <a id="3004" class="Symbol">:</a> <a id="3006" class="Symbol">(</a><a id="3007" href="Setoid.Varieties.SoundAndComplete.html#1904" class="Generalizable">I</a> <a id="3009" class="Symbol">→</a> <a id="3011" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="3013" class="Symbol">{</a><a id="3014" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a><a id="3015" class="Symbol">})</a> <a id="3018" class="Symbol">→</a> <a id="3020" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3024" class="Symbol">(</a><a id="3025" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="3033" href="Setoid.Varieties.SoundAndComplete.html#1855" class="Generalizable">α</a> <a id="3035" href="Setoid.Varieties.SoundAndComplete.html#1857" class="Generalizable">ρᵃ</a><a id="3037" class="Symbol">)</a> <a id="3039" class="Symbol">_</a>
<a id="3041" href="Setoid.Varieties.SoundAndComplete.html#2995" class="Function">ModTuple</a> <a id="3050" href="Setoid.Varieties.SoundAndComplete.html#3050" class="Bound">ℰ</a> <a id="3052" class="Symbol">=</a> <a id="3054" href="Setoid.Varieties.SoundAndComplete.html#2621" class="Function Operator">_⊨</a> <a id="3057" href="Setoid.Varieties.SoundAndComplete.html#3050" class="Bound">ℰ</a>

<a id="3060" class="Keyword">module</a> <a id="3067" href="Setoid.Varieties.SoundAndComplete.html#3067" class="Module">_</a> <a id="3069" class="Symbol">{</a><a id="3070" href="Setoid.Varieties.SoundAndComplete.html#3070" class="Bound">α</a> <a id="3072" href="Setoid.Varieties.SoundAndComplete.html#3072" class="Bound">ρᵃ</a> <a id="3075" href="Setoid.Varieties.SoundAndComplete.html#3075" class="Bound">ℓ</a> <a id="3077" class="Symbol">:</a> <a id="3079" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="3084" class="Symbol">}</a> <a id="3086" class="Keyword">where</a>

 <a id="3094" href="Setoid.Varieties.SoundAndComplete.html#3094" class="Function">Mod</a> <a id="3098" class="Symbol">:</a> <a id="3100" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3104" class="Symbol">(</a><a id="3105" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3110" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a> <a id="3112" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3114" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3119" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a><a id="3120" class="Symbol">)</a> <a id="3122" href="Setoid.Varieties.SoundAndComplete.html#3075" class="Bound">ℓ</a> <a id="3124" class="Symbol">→</a> <a id="3126" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3131" class="Symbol">(</a><a id="3132" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="3140" href="Setoid.Varieties.SoundAndComplete.html#3070" class="Bound">α</a> <a id="3142" href="Setoid.Varieties.SoundAndComplete.html#3072" class="Bound">ρᵃ</a><a id="3144" class="Symbol">)</a> <a id="3146" class="Symbol">_</a> <a id="3148" class="Comment">-- (𝓞 ⊔ 𝓥 ⊔ lsuc χ ⊔ ℓ ⊔ α ⊔ ρᵃ)</a>
 <a id="3182" href="Setoid.Varieties.SoundAndComplete.html#3094" class="Function">Mod</a> <a id="3186" href="Setoid.Varieties.SoundAndComplete.html#3186" class="Bound">ℰ</a> <a id="3188" href="Setoid.Varieties.SoundAndComplete.html#3188" class="Bound">𝑨</a> <a id="3190" class="Symbol">=</a> <a id="3192" class="Symbol">∀</a> <a id="3194" class="Symbol">{</a><a id="3195" href="Setoid.Varieties.SoundAndComplete.html#3195" class="Bound">p</a> <a id="3197" href="Setoid.Varieties.SoundAndComplete.html#3197" class="Bound">q</a><a id="3198" class="Symbol">}</a> <a id="3200" class="Symbol">→</a> <a id="3202" class="Symbol">(</a><a id="3203" href="Setoid.Varieties.SoundAndComplete.html#3195" class="Bound">p</a> <a id="3205" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3207" href="Setoid.Varieties.SoundAndComplete.html#3197" class="Bound">q</a><a id="3208" class="Symbol">)</a> <a id="3210" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3212" href="Setoid.Varieties.SoundAndComplete.html#3186" class="Bound">ℰ</a> <a id="3214" class="Symbol">→</a> <a id="3216" href="Setoid.Terms.Basic.html#5322" class="Function">Equal</a> <a id="3222" href="Setoid.Varieties.SoundAndComplete.html#3195" class="Bound">p</a> <a id="3224" href="Setoid.Varieties.SoundAndComplete.html#3197" class="Bound">q</a> <a id="3226" class="Keyword">where</a> <a id="3232" class="Keyword">open</a> <a id="3237" href="Setoid.Terms.Basic.html#3846" class="Module">Environment</a> <a id="3249" href="Setoid.Varieties.SoundAndComplete.html#3188" class="Bound">𝑨</a>

 <a id="3253" href="Setoid.Varieties.SoundAndComplete.html#3253" class="Function">Th</a> <a id="3256" class="Symbol">:</a> <a id="3258" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3263" class="Symbol">(</a><a id="3264" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="3272" href="Setoid.Varieties.SoundAndComplete.html#3070" class="Bound">α</a> <a id="3274" href="Setoid.Varieties.SoundAndComplete.html#3072" class="Bound">ρᵃ</a><a id="3276" class="Symbol">)</a> <a id="3278" href="Setoid.Varieties.SoundAndComplete.html#3075" class="Bound">ℓ</a> <a id="3280" class="Symbol">→</a> <a id="3282" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3286" class="Symbol">(</a><a id="3287" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3292" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a> <a id="3294" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3296" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3301" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a><a id="3302" class="Symbol">)</a> <a id="3304" class="Symbol">_</a> <a id="3306" class="Comment">-- (ℓ ⊔ χ ⊔ ov (α ⊔ ρᵃ))</a>
 <a id="3332" href="Setoid.Varieties.SoundAndComplete.html#3253" class="Function">Th</a> <a id="3335" href="Setoid.Varieties.SoundAndComplete.html#3335" class="Bound">𝒦</a> <a id="3337" class="Symbol">=</a> <a id="3339" class="Symbol">λ</a> <a id="3341" class="Symbol">(</a><a id="3342" href="Setoid.Varieties.SoundAndComplete.html#3342" class="Bound">p</a> <a id="3344" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3346" href="Setoid.Varieties.SoundAndComplete.html#3346" class="Bound">q</a><a id="3347" class="Symbol">)</a> <a id="3349" class="Symbol">→</a> <a id="3351" href="Setoid.Varieties.SoundAndComplete.html#3335" class="Bound">𝒦</a> <a id="3353" href="Setoid.Varieties.SoundAndComplete.html#2318" class="Function Operator">⊫</a> <a id="3355" class="Symbol">(</a><a id="3356" href="Setoid.Varieties.SoundAndComplete.html#3342" class="Bound">p</a> <a id="3358" href="Setoid.Varieties.SoundAndComplete.html#2035" class="InductiveConstructor Operator">≈̇</a> <a id="3361" href="Setoid.Varieties.SoundAndComplete.html#3346" class="Bound">q</a><a id="3362" class="Symbol">)</a>

 <a id="3366" href="Setoid.Varieties.SoundAndComplete.html#3366" class="Function">ℑTh</a> <a id="3370" class="Symbol">:</a> <a id="3372" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3376" class="Symbol">(</a><a id="3377" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3382" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a> <a id="3384" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3386" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3391" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a><a id="3392" class="Symbol">)</a> <a id="3394" class="Symbol">(</a><a id="3395" href="Setoid.Varieties.SoundAndComplete.html#3075" class="Bound">ℓ</a> <a id="3397" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3399" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a> <a id="3401" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3403" href="Setoid.Algebras.Basic.html#1068" class="Function">ov</a> <a id="3406" class="Symbol">(</a><a id="3407" href="Setoid.Varieties.SoundAndComplete.html#3070" class="Bound">α</a> <a id="3409" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3411" href="Setoid.Varieties.SoundAndComplete.html#3072" class="Bound">ρᵃ</a><a id="3413" class="Symbol">))</a> <a id="3416" class="Symbol">→</a> <a id="3418" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="3423" class="Symbol">_</a> <a id="3425" class="Comment">-- (ℓ ⊔ ov (α ⊔ ρᵃ ⊔ χ))</a>
 <a id="3451" href="Setoid.Varieties.SoundAndComplete.html#3366" class="Function">ℑTh</a> <a id="3455" href="Setoid.Varieties.SoundAndComplete.html#3455" class="Bound">P</a> <a id="3457" class="Symbol">=</a> <a id="3459" href="Data.Product.html#916" class="Function">Σ[</a> <a id="3462" href="Setoid.Varieties.SoundAndComplete.html#3462" class="Bound">p</a> <a id="3464" href="Data.Product.html#916" class="Function">∈</a> <a id="3466" class="Symbol">(</a><a id="3467" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3472" class="Symbol">_</a> <a id="3474" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3476" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3481" class="Symbol">_)</a> <a id="3484" href="Data.Product.html#916" class="Function">]</a> <a id="3486" href="Setoid.Varieties.SoundAndComplete.html#3462" class="Bound">p</a> <a id="3488" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3490" href="Setoid.Varieties.SoundAndComplete.html#3455" class="Bound">P</a>

 <a id="3494" class="Keyword">module</a> <a id="3501" href="Setoid.Varieties.SoundAndComplete.html#3501" class="Module">_</a> <a id="3503" class="Symbol">{</a><a id="3504" href="Setoid.Varieties.SoundAndComplete.html#3504" class="Bound">χ</a> <a id="3506" class="Symbol">:</a> <a id="3508" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="3513" class="Symbol">}{</a><a id="3515" href="Setoid.Varieties.SoundAndComplete.html#3515" class="Bound">X</a> <a id="3517" class="Symbol">:</a> <a id="3519" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="3524" href="Setoid.Varieties.SoundAndComplete.html#3504" class="Bound">χ</a><a id="3525" class="Symbol">}</a> <a id="3527" class="Keyword">where</a>

  <a id="3536" href="Setoid.Varieties.SoundAndComplete.html#3536" class="Function">ThTuple</a> <a id="3544" class="Symbol">:</a> <a id="3546" class="Symbol">(</a><a id="3547" href="Setoid.Varieties.SoundAndComplete.html#3547" class="Bound">𝒦</a> <a id="3549" class="Symbol">:</a> <a id="3551" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3556" class="Symbol">(</a><a id="3557" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="3565" href="Setoid.Varieties.SoundAndComplete.html#3070" class="Bound">α</a> <a id="3567" href="Setoid.Varieties.SoundAndComplete.html#3072" class="Bound">ρᵃ</a><a id="3569" class="Symbol">)</a> <a id="3571" href="Setoid.Varieties.SoundAndComplete.html#3075" class="Bound">ℓ</a><a id="3572" class="Symbol">)</a> <a id="3574" class="Symbol">→</a> <a id="3576" href="Setoid.Varieties.SoundAndComplete.html#3366" class="Function">ℑTh</a><a id="3579" class="Symbol">{</a><a id="3580" class="Argument">χ</a> <a id="3582" class="Symbol">=</a> <a id="3584" href="Setoid.Varieties.SoundAndComplete.html#3504" class="Bound">χ</a><a id="3585" class="Symbol">}</a> <a id="3587" class="Symbol">(</a><a id="3588" href="Setoid.Varieties.SoundAndComplete.html#3253" class="Function">Th</a><a id="3590" class="Symbol">{</a><a id="3591" class="Argument">X</a> <a id="3593" class="Symbol">=</a> <a id="3595" href="Setoid.Varieties.SoundAndComplete.html#3515" class="Bound">X</a><a id="3596" class="Symbol">}</a> <a id="3598" href="Setoid.Varieties.SoundAndComplete.html#3547" class="Bound">𝒦</a><a id="3599" class="Symbol">)</a> <a id="3601" class="Symbol">→</a> <a id="3603" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="3605" class="Symbol">{</a><a id="3606" href="Setoid.Varieties.SoundAndComplete.html#3504" class="Bound">χ</a><a id="3607" class="Symbol">}</a>
  <a id="3611" href="Setoid.Varieties.SoundAndComplete.html#3536" class="Function">ThTuple</a> <a id="3619" href="Setoid.Varieties.SoundAndComplete.html#3619" class="Bound">𝒦</a> <a id="3621" class="Symbol">=</a> <a id="3623" class="Symbol">λ</a> <a id="3625" href="Setoid.Varieties.SoundAndComplete.html#3625" class="Bound">i</a> <a id="3627" class="Symbol">→</a> <a id="3629" href="Setoid.Varieties.SoundAndComplete.html#1001" class="Field">fst</a> <a id="3633" href="Overture.Basic.html#4326" class="Function Operator">∣</a> <a id="3635" href="Setoid.Varieties.SoundAndComplete.html#3625" class="Bound">i</a> <a id="3637" href="Overture.Basic.html#4326" class="Function Operator">∣</a> <a id="3639" href="Setoid.Varieties.SoundAndComplete.html#2035" class="InductiveConstructor Operator">≈̇</a> <a id="3642" href="Setoid.Varieties.SoundAndComplete.html#1016" class="Field">snd</a> <a id="3646" href="Overture.Basic.html#4326" class="Function Operator">∣</a> <a id="3648" href="Setoid.Varieties.SoundAndComplete.html#3625" class="Bound">i</a> <a id="3650" href="Overture.Basic.html#4326" class="Function Operator">∣</a>

<a id="3653" class="Keyword">module</a> <a id="3660" href="Setoid.Varieties.SoundAndComplete.html#3660" class="Module">_</a> <a id="3662" class="Symbol">{</a><a id="3663" href="Setoid.Varieties.SoundAndComplete.html#3663" class="Bound">α</a><a id="3664" class="Symbol">}{</a><a id="3666" href="Setoid.Varieties.SoundAndComplete.html#3666" class="Bound">ρᵃ</a><a id="3668" class="Symbol">}{</a><a id="3670" href="Setoid.Varieties.SoundAndComplete.html#3670" class="Bound">ι</a><a id="3671" class="Symbol">}{</a><a id="3673" href="Setoid.Varieties.SoundAndComplete.html#3673" class="Bound">I</a> <a id="3675" class="Symbol">:</a> <a id="3677" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="3682" href="Setoid.Varieties.SoundAndComplete.html#3670" class="Bound">ι</a><a id="3683" class="Symbol">}</a> <a id="3685" class="Keyword">where</a>
 <a id="3692" class="Comment">-- An entailment E ⊃ eq holds iff it holds in all models of E.</a>
 <a id="3756" href="Setoid.Varieties.SoundAndComplete.html#3756" class="Function Operator">_⊃_</a> <a id="3760" class="Symbol">:</a> <a id="3762" class="Symbol">(</a><a id="3763" href="Setoid.Varieties.SoundAndComplete.html#3763" class="Bound">E</a> <a id="3765" class="Symbol">:</a> <a id="3767" href="Setoid.Varieties.SoundAndComplete.html#3673" class="Bound">I</a> <a id="3769" class="Symbol">→</a> <a id="3771" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="3773" class="Symbol">{</a><a id="3774" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a><a id="3775" class="Symbol">})</a> <a id="3778" class="Symbol">(</a><a id="3779" href="Setoid.Varieties.SoundAndComplete.html#3779" class="Bound">eq</a> <a id="3782" class="Symbol">:</a> <a id="3784" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="3786" class="Symbol">{</a><a id="3787" href="Setoid.Varieties.SoundAndComplete.html#1853" class="Generalizable">χ</a><a id="3788" class="Symbol">})</a> <a id="3791" class="Symbol">→</a> <a id="3793" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="3798" class="Symbol">_</a>
 <a id="3801" href="Setoid.Varieties.SoundAndComplete.html#3801" class="Bound">E</a> <a id="3803" href="Setoid.Varieties.SoundAndComplete.html#3756" class="Function Operator">⊃</a> <a id="3805" href="Setoid.Varieties.SoundAndComplete.html#3805" class="Bound">eq</a> <a id="3808" class="Symbol">=</a> <a id="3810" class="Symbol">(</a><a id="3811" href="Setoid.Varieties.SoundAndComplete.html#3811" class="Bound">M</a> <a id="3813" class="Symbol">:</a> <a id="3815" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="3823" href="Setoid.Varieties.SoundAndComplete.html#3663" class="Bound">α</a> <a id="3825" href="Setoid.Varieties.SoundAndComplete.html#3666" class="Bound">ρᵃ</a><a id="3827" class="Symbol">)</a> <a id="3829" class="Symbol">→</a> <a id="3831" href="Setoid.Varieties.SoundAndComplete.html#3811" class="Bound">M</a> <a id="3833" href="Setoid.Varieties.SoundAndComplete.html#2621" class="Function Operator">⊨</a> <a id="3835" href="Setoid.Varieties.SoundAndComplete.html#3801" class="Bound">E</a> <a id="3837" class="Symbol">→</a> <a id="3839" href="Setoid.Varieties.SoundAndComplete.html#3811" class="Bound">M</a> <a id="3841" href="Setoid.Varieties.SoundAndComplete.html#2210" class="Function Operator">⊧</a> <a id="3843" href="Setoid.Varieties.SoundAndComplete.html#3805" class="Bound">eq</a>
</pre>


##### <a id="derivations-in-a-context">Derivations in a context</a>

(Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="4089" class="Keyword">module</a> <a id="4096" href="Setoid.Varieties.SoundAndComplete.html#4096" class="Module">_</a> <a id="4098" class="Symbol">{</a><a id="4099" href="Setoid.Varieties.SoundAndComplete.html#4099" class="Bound">χ</a> <a id="4101" href="Setoid.Varieties.SoundAndComplete.html#4101" class="Bound">ι</a> <a id="4103" class="Symbol">:</a> <a id="4105" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="4110" class="Symbol">}</a> <a id="4112" class="Keyword">where</a>

 <a id="4120" class="Keyword">data</a> <a id="4125" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">_⊢_▹_≈_</a> <a id="4133" class="Symbol">{</a><a id="4134" href="Setoid.Varieties.SoundAndComplete.html#4134" class="Bound">I</a> <a id="4136" class="Symbol">:</a> <a id="4138" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="4143" href="Setoid.Varieties.SoundAndComplete.html#4101" class="Bound">ι</a><a id="4144" class="Symbol">}(</a><a id="4146" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4148" class="Symbol">:</a> <a id="4150" href="Setoid.Varieties.SoundAndComplete.html#4134" class="Bound">I</a> <a id="4152" class="Symbol">→</a> <a id="4154" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="4156" class="Symbol">)</a> <a id="4158" class="Symbol">:</a> <a id="4160" class="Symbol">(</a><a id="4161" href="Setoid.Varieties.SoundAndComplete.html#4161" class="Bound">X</a> <a id="4163" class="Symbol">:</a> <a id="4165" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="4170" href="Setoid.Varieties.SoundAndComplete.html#4099" class="Bound">χ</a><a id="4171" class="Symbol">)(</a><a id="4173" href="Setoid.Varieties.SoundAndComplete.html#4173" class="Bound">p</a> <a id="4175" href="Setoid.Varieties.SoundAndComplete.html#4175" class="Bound">q</a> <a id="4177" class="Symbol">:</a> <a id="4179" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="4184" href="Setoid.Varieties.SoundAndComplete.html#4161" class="Bound">X</a><a id="4185" class="Symbol">)</a> <a id="4187" class="Symbol">→</a> <a id="4189" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="4194" class="Symbol">(</a><a id="4195" href="Setoid.Varieties.SoundAndComplete.html#4101" class="Bound">ι</a> <a id="4197" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="4199" href="Setoid.Algebras.Basic.html#1068" class="Function">ov</a> <a id="4202" href="Setoid.Varieties.SoundAndComplete.html#4099" class="Bound">χ</a><a id="4203" class="Symbol">)</a> <a id="4205" class="Keyword">where</a>
  <a id="4213" href="Setoid.Varieties.SoundAndComplete.html#4213" class="InductiveConstructor">hyp</a>    <a id="4220" class="Symbol">:</a> <a id="4222" class="Symbol">∀</a> <a id="4224" href="Setoid.Varieties.SoundAndComplete.html#4224" class="Bound">i</a> <a id="4226" class="Symbol">→</a> <a id="4228" class="Keyword">let</a> <a id="4232" href="Setoid.Varieties.SoundAndComplete.html#4232" class="Bound">p</a> <a id="4234" href="Setoid.Varieties.SoundAndComplete.html#2035" class="InductiveConstructor Operator">≈̇</a> <a id="4237" href="Setoid.Varieties.SoundAndComplete.html#4237" class="Bound">q</a> <a id="4239" class="Symbol">=</a> <a id="4241" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4243" href="Setoid.Varieties.SoundAndComplete.html#4224" class="Bound">i</a> <a id="4245" class="Keyword">in</a> <a id="4248" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4250" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4252" class="Symbol">_</a> <a id="4254" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4256" href="Setoid.Varieties.SoundAndComplete.html#4232" class="Bound">p</a> <a id="4258" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4260" href="Setoid.Varieties.SoundAndComplete.html#4237" class="Bound">q</a>
  <a id="4264" href="Setoid.Varieties.SoundAndComplete.html#4264" class="InductiveConstructor">app</a>    <a id="4271" class="Symbol">:</a> <a id="4273" class="Symbol">∀</a> <a id="4275" class="Symbol">{</a><a id="4276" href="Setoid.Varieties.SoundAndComplete.html#4276" class="Bound">ps</a> <a id="4279" href="Setoid.Varieties.SoundAndComplete.html#4279" class="Bound">qs</a><a id="4281" class="Symbol">}</a> <a id="4283" class="Symbol">→</a> <a id="4285" class="Symbol">(∀</a> <a id="4288" href="Setoid.Varieties.SoundAndComplete.html#4288" class="Bound">i</a> <a id="4290" class="Symbol">→</a> <a id="4292" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4294" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4296" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4298" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4300" href="Setoid.Varieties.SoundAndComplete.html#4276" class="Bound">ps</a> <a id="4303" href="Setoid.Varieties.SoundAndComplete.html#4288" class="Bound">i</a> <a id="4305" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4307" href="Setoid.Varieties.SoundAndComplete.html#4279" class="Bound">qs</a> <a id="4310" href="Setoid.Varieties.SoundAndComplete.html#4288" class="Bound">i</a><a id="4311" class="Symbol">)</a> <a id="4313" class="Symbol">→</a> <a id="4315" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4317" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4319" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4321" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4323" class="Symbol">(</a><a id="4324" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4329" href="Setoid.Varieties.SoundAndComplete.html#1889" class="Generalizable">f</a> <a id="4331" href="Setoid.Varieties.SoundAndComplete.html#4276" class="Bound">ps</a><a id="4333" class="Symbol">)</a> <a id="4335" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4337" class="Symbol">(</a><a id="4338" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4343" href="Setoid.Varieties.SoundAndComplete.html#1889" class="Generalizable">f</a> <a id="4345" href="Setoid.Varieties.SoundAndComplete.html#4279" class="Bound">qs</a><a id="4347" class="Symbol">)</a>
  <a id="4351" href="Setoid.Varieties.SoundAndComplete.html#4351" class="InductiveConstructor">sub</a>    <a id="4358" class="Symbol">:</a> <a id="4360" class="Symbol">∀</a> <a id="4362" class="Symbol">{</a><a id="4363" href="Setoid.Varieties.SoundAndComplete.html#4363" class="Bound">p</a> <a id="4365" href="Setoid.Varieties.SoundAndComplete.html#4365" class="Bound">q</a><a id="4366" class="Symbol">}</a> <a id="4368" class="Symbol">→</a> <a id="4370" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4372" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4374" href="Setoid.Varieties.SoundAndComplete.html#1877" class="Generalizable">Δ</a> <a id="4376" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4378" href="Setoid.Varieties.SoundAndComplete.html#4363" class="Bound">p</a> <a id="4380" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4382" href="Setoid.Varieties.SoundAndComplete.html#4365" class="Bound">q</a> <a id="4384" class="Symbol">→</a> <a id="4386" class="Symbol">∀</a> <a id="4388" class="Symbol">(</a><a id="4389" href="Setoid.Varieties.SoundAndComplete.html#4389" class="Bound">σ</a> <a id="4391" class="Symbol">:</a> <a id="4393" href="Setoid.Terms.Basic.html#3483" class="Function">Sub</a> <a id="4397" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4399" href="Setoid.Varieties.SoundAndComplete.html#1877" class="Generalizable">Δ</a><a id="4400" class="Symbol">)</a> <a id="4402" class="Symbol">→</a> <a id="4404" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4406" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4408" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4410" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4412" class="Symbol">(</a><a id="4413" href="Setoid.Varieties.SoundAndComplete.html#4363" class="Bound">p</a> <a id="4415" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="4417" href="Setoid.Varieties.SoundAndComplete.html#4389" class="Bound">σ</a> <a id="4419" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a><a id="4420" class="Symbol">)</a> <a id="4422" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4424" class="Symbol">(</a><a id="4425" href="Setoid.Varieties.SoundAndComplete.html#4365" class="Bound">q</a> <a id="4427" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="4429" href="Setoid.Varieties.SoundAndComplete.html#4389" class="Bound">σ</a> <a id="4431" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a><a id="4432" class="Symbol">)</a>
  <a id="4436" href="Setoid.Varieties.SoundAndComplete.html#4436" class="InductiveConstructor">refl</a>   <a id="4443" class="Symbol">:</a> <a id="4445" class="Symbol">∀</a> <a id="4447" class="Symbol">{</a><a id="4448" href="Setoid.Varieties.SoundAndComplete.html#4448" class="Bound">p</a><a id="4449" class="Symbol">}</a>              <a id="4464" class="Symbol">→</a> <a id="4466" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4468" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4470" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4472" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4474" href="Setoid.Varieties.SoundAndComplete.html#4448" class="Bound">p</a> <a id="4476" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4478" href="Setoid.Varieties.SoundAndComplete.html#4448" class="Bound">p</a>
  <a id="4482" href="Setoid.Varieties.SoundAndComplete.html#4482" class="InductiveConstructor">sym</a>    <a id="4489" class="Symbol">:</a> <a id="4491" class="Symbol">∀</a> <a id="4493" class="Symbol">{</a><a id="4494" href="Setoid.Varieties.SoundAndComplete.html#4494" class="Bound">p</a> <a id="4496" href="Setoid.Varieties.SoundAndComplete.html#4496" class="Bound">q</a> <a id="4498" class="Symbol">:</a> <a id="4500" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="4505" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a><a id="4506" class="Symbol">}</a>   <a id="4510" class="Symbol">→</a> <a id="4512" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4514" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4516" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4518" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4520" href="Setoid.Varieties.SoundAndComplete.html#4494" class="Bound">p</a> <a id="4522" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4524" href="Setoid.Varieties.SoundAndComplete.html#4496" class="Bound">q</a> <a id="4526" class="Symbol">→</a> <a id="4528" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4530" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4532" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4534" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4536" href="Setoid.Varieties.SoundAndComplete.html#4496" class="Bound">q</a> <a id="4538" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4540" href="Setoid.Varieties.SoundAndComplete.html#4494" class="Bound">p</a>
  <a id="4544" href="Setoid.Varieties.SoundAndComplete.html#4544" class="InductiveConstructor">trans</a>  <a id="4551" class="Symbol">:</a> <a id="4553" class="Symbol">∀</a> <a id="4555" class="Symbol">{</a><a id="4556" href="Setoid.Varieties.SoundAndComplete.html#4556" class="Bound">p</a> <a id="4558" href="Setoid.Varieties.SoundAndComplete.html#4558" class="Bound">q</a> <a id="4560" href="Setoid.Varieties.SoundAndComplete.html#4560" class="Bound">r</a> <a id="4562" class="Symbol">:</a> <a id="4564" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="4569" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a><a id="4570" class="Symbol">}</a> <a id="4572" class="Symbol">→</a> <a id="4574" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4576" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4578" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4580" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4582" href="Setoid.Varieties.SoundAndComplete.html#4556" class="Bound">p</a> <a id="4584" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4586" href="Setoid.Varieties.SoundAndComplete.html#4558" class="Bound">q</a> <a id="4588" class="Symbol">→</a> <a id="4590" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4592" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4594" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4596" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4598" href="Setoid.Varieties.SoundAndComplete.html#4558" class="Bound">q</a> <a id="4600" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4602" href="Setoid.Varieties.SoundAndComplete.html#4560" class="Bound">r</a> <a id="4604" class="Symbol">→</a> <a id="4606" href="Setoid.Varieties.SoundAndComplete.html#4146" class="Bound">E</a> <a id="4608" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4610" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4612" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="4614" href="Setoid.Varieties.SoundAndComplete.html#4556" class="Bound">p</a> <a id="4616" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="4618" href="Setoid.Varieties.SoundAndComplete.html#4560" class="Bound">r</a>

 <a id="4622" href="Setoid.Varieties.SoundAndComplete.html#4622" class="Function">⊢▹≈IsEquiv</a> <a id="4633" class="Symbol">:</a> <a id="4635" class="Symbol">{</a><a id="4636" href="Setoid.Varieties.SoundAndComplete.html#4636" class="Bound">I</a> <a id="4638" class="Symbol">:</a> <a id="4640" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="4645" href="Setoid.Varieties.SoundAndComplete.html#4101" class="Bound">ι</a><a id="4646" class="Symbol">}{</a><a id="4648" href="Setoid.Varieties.SoundAndComplete.html#4648" class="Bound">E</a> <a id="4650" class="Symbol">:</a> <a id="4652" href="Setoid.Varieties.SoundAndComplete.html#4636" class="Bound">I</a> <a id="4654" class="Symbol">→</a> <a id="4656" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="4658" class="Symbol">}</a> <a id="4660" class="Symbol">→</a> <a id="4662" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="4676" class="Symbol">(</a><a id="4677" href="Setoid.Varieties.SoundAndComplete.html#4648" class="Bound">E</a> <a id="4679" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="4681" href="Setoid.Varieties.SoundAndComplete.html#1875" class="Generalizable">Γ</a> <a id="4683" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹_≈_</a><a id="4687" class="Symbol">)</a>
 <a id="4690" href="Setoid.Varieties.SoundAndComplete.html#4622" class="Function">⊢▹≈IsEquiv</a> <a id="4701" class="Symbol">=</a> <a id="4703" class="Keyword">record</a> <a id="4710" class="Symbol">{</a> <a id="4712" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="4717" class="Symbol">=</a> <a id="4719" href="Setoid.Varieties.SoundAndComplete.html#4436" class="InductiveConstructor">refl</a> <a id="4724" class="Symbol">;</a> <a id="4726" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="4730" class="Symbol">=</a> <a id="4732" href="Setoid.Varieties.SoundAndComplete.html#4482" class="InductiveConstructor">sym</a> <a id="4736" class="Symbol">;</a> <a id="4738" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="4744" class="Symbol">=</a> <a id="4746" href="Setoid.Varieties.SoundAndComplete.html#4544" class="InductiveConstructor">trans</a> <a id="4752" class="Symbol">}</a>
</pre>

##### <a id="soundness-of-the-inference-rules">Soundness of the inference rules</a>

(Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](see: http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="5017" class="Keyword">module</a> <a id="Soundness"></a><a id="5024" href="Setoid.Varieties.SoundAndComplete.html#5024" class="Module">Soundness</a>  <a id="5035" class="Symbol">{</a><a id="5036" href="Setoid.Varieties.SoundAndComplete.html#5036" class="Bound">χ</a> <a id="5038" href="Setoid.Varieties.SoundAndComplete.html#5038" class="Bound">α</a> <a id="5040" href="Setoid.Varieties.SoundAndComplete.html#5040" class="Bound">ι</a> <a id="5042" class="Symbol">:</a> <a id="5044" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5049" class="Symbol">}{</a><a id="5051" href="Setoid.Varieties.SoundAndComplete.html#5051" class="Bound">I</a> <a id="5053" class="Symbol">:</a> <a id="5055" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="5060" href="Setoid.Varieties.SoundAndComplete.html#5040" class="Bound">ι</a><a id="5061" class="Symbol">}</a> <a id="5063" class="Symbol">(</a><a id="5064" href="Setoid.Varieties.SoundAndComplete.html#5064" class="Bound">E</a> <a id="5066" class="Symbol">:</a> <a id="5068" href="Setoid.Varieties.SoundAndComplete.html#5051" class="Bound">I</a> <a id="5070" class="Symbol">→</a> <a id="5072" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="5074" class="Symbol">{</a><a id="5075" href="Setoid.Varieties.SoundAndComplete.html#5036" class="Bound">χ</a><a id="5076" class="Symbol">})</a>
                  <a id="5097" class="Symbol">(</a><a id="5098" href="Setoid.Varieties.SoundAndComplete.html#5098" class="Bound">𝑨</a> <a id="5100" class="Symbol">:</a> <a id="5102" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="5110" href="Setoid.Varieties.SoundAndComplete.html#5038" class="Bound">α</a> <a id="5112" href="Setoid.Varieties.SoundAndComplete.html#1857" class="Generalizable">ρᵃ</a><a id="5114" class="Symbol">)</a>     <a id="5120" class="Comment">-- We assume an algebra M</a>
                  <a id="5164" class="Symbol">(</a><a id="5165" href="Setoid.Varieties.SoundAndComplete.html#5165" class="Bound">V</a> <a id="5167" class="Symbol">:</a> <a id="5169" href="Setoid.Varieties.SoundAndComplete.html#5098" class="Bound">𝑨</a> <a id="5171" href="Setoid.Varieties.SoundAndComplete.html#2621" class="Function Operator">⊨</a> <a id="5173" href="Setoid.Varieties.SoundAndComplete.html#5064" class="Bound">E</a><a id="5174" class="Symbol">)</a>         <a id="5184" class="Comment">-- that models all equations in E.</a>
 <a id="5220" class="Keyword">where</a>
 <a id="5227" class="Keyword">open</a> <a id="5232" href="Setoid.Algebras.Basic.html#2837" class="Module">Algebra</a> <a id="5240" href="Setoid.Varieties.SoundAndComplete.html#5098" class="Bound">𝑨</a> <a id="5242" class="Keyword">using</a> <a id="5248" class="Symbol">(</a> <a id="5250" href="Setoid.Algebras.Basic.html#2916" class="Field">Interp</a> <a id="5257" class="Symbol">)</a> <a id="5259" class="Keyword">renaming</a> <a id="5268" class="Symbol">(</a><a id="5269" href="Setoid.Algebras.Basic.html#2894" class="Field">Domain</a> <a id="5276" class="Symbol">to</a> <a id="5279" class="Field">A</a><a id="5280" class="Symbol">)</a>

 <a id="5284" class="Comment">-- In any model M that satisfies the equations E, derived equality is actual equality.</a>
 <a id="5372" class="Keyword">open</a> <a id="5377" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="5393" href="Setoid.Varieties.SoundAndComplete.html#5279" class="Function">A</a>

 <a id="5397" class="Keyword">open</a> <a id="5402" href="Setoid.Terms.Basic.html#3846" class="Module">Environment</a> <a id="5414" href="Setoid.Varieties.SoundAndComplete.html#5098" class="Bound">𝑨</a> <a id="5416" class="Keyword">renaming</a> <a id="5425" class="Symbol">(</a> <a id="5427" href="Setoid.Terms.Basic.html#5961" class="Function Operator">⟦_⟧s</a> <a id="5432" class="Symbol">to</a> <a id="5435" class="Function Operator">⟪_⟫</a> <a id="5439" class="Symbol">)</a>
 <a id="5442" class="Keyword">open</a> <a id="5447" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="5461" class="Keyword">renaming</a> <a id="5470" class="Symbol">(</a> <a id="5472" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="5477" class="Symbol">to</a> <a id="5480" class="Field">refl≈</a> <a id="5486" class="Symbol">;</a> <a id="5488" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="5492" class="Symbol">to</a>  <a id="5496" class="Field">sym≈</a> <a id="5501" class="Symbol">;</a> <a id="5503" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="5509" class="Symbol">to</a> <a id="5512" class="Field">trans≈</a> <a id="5519" class="Symbol">)</a>

 <a id="Soundness.sound"></a><a id="5523" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="5529" class="Symbol">:</a> <a id="5531" class="Symbol">∀</a> <a id="5533" class="Symbol">{</a><a id="5534" href="Setoid.Varieties.SoundAndComplete.html#5534" class="Bound">p</a> <a id="5536" href="Setoid.Varieties.SoundAndComplete.html#5536" class="Bound">q</a><a id="5537" class="Symbol">}</a> <a id="5539" class="Symbol">→</a> <a id="5541" href="Setoid.Varieties.SoundAndComplete.html#5064" class="Bound">E</a> <a id="5543" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="5545" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a> <a id="5547" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="5549" href="Setoid.Varieties.SoundAndComplete.html#5534" class="Bound">p</a> <a id="5551" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="5553" href="Setoid.Varieties.SoundAndComplete.html#5536" class="Bound">q</a> <a id="5555" class="Symbol">→</a> <a id="5557" href="Setoid.Varieties.SoundAndComplete.html#5098" class="Bound">𝑨</a> <a id="5559" href="Setoid.Varieties.SoundAndComplete.html#2210" class="Function Operator">⊧</a> <a id="5561" class="Symbol">(</a><a id="5562" href="Setoid.Varieties.SoundAndComplete.html#5534" class="Bound">p</a> <a id="5564" href="Setoid.Varieties.SoundAndComplete.html#2035" class="InductiveConstructor Operator">≈̇</a> <a id="5567" href="Setoid.Varieties.SoundAndComplete.html#5536" class="Bound">q</a><a id="5568" class="Symbol">)</a>
 <a id="5571" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="5577" class="Symbol">(</a><a id="5578" href="Setoid.Varieties.SoundAndComplete.html#4213" class="InductiveConstructor">hyp</a> <a id="5582" href="Setoid.Varieties.SoundAndComplete.html#5582" class="Bound">i</a><a id="5583" class="Symbol">)</a>                    <a id="5604" class="Symbol">=</a> <a id="5606" href="Setoid.Varieties.SoundAndComplete.html#5165" class="Bound">V</a> <a id="5608" href="Setoid.Varieties.SoundAndComplete.html#5582" class="Bound">i</a>
 <a id="5611" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="5617" class="Symbol">(</a><a id="5618" href="Setoid.Varieties.SoundAndComplete.html#4264" class="InductiveConstructor">app</a> <a id="5622" class="Symbol">{</a><a id="5623" class="Argument">f</a> <a id="5625" class="Symbol">=</a> <a id="5627" href="Setoid.Varieties.SoundAndComplete.html#5627" class="Bound">f</a><a id="5628" class="Symbol">}</a> <a id="5630" href="Setoid.Varieties.SoundAndComplete.html#5630" class="Bound">es</a><a id="5632" class="Symbol">)</a> <a id="5634" href="Setoid.Varieties.SoundAndComplete.html#5634" class="Bound">ρ</a>         <a id="5644" class="Symbol">=</a> <a id="5646" href="Setoid.Algebras.Basic.html#2916" class="Function">Interp</a> <a id="5653" class="Symbol">.</a><a id="5654" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="5659" class="Symbol">(</a><a id="5660" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="5665" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5667" class="Symbol">λ</a> <a id="5669" href="Setoid.Varieties.SoundAndComplete.html#5669" class="Bound">i</a> <a id="5671" class="Symbol">→</a> <a id="5673" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="5679" class="Symbol">(</a><a id="5680" href="Setoid.Varieties.SoundAndComplete.html#5630" class="Bound">es</a> <a id="5683" href="Setoid.Varieties.SoundAndComplete.html#5669" class="Bound">i</a><a id="5684" class="Symbol">)</a> <a id="5686" href="Setoid.Varieties.SoundAndComplete.html#5634" class="Bound">ρ</a><a id="5687" class="Symbol">)</a>
 <a id="5690" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="5696" class="Symbol">(</a><a id="5697" href="Setoid.Varieties.SoundAndComplete.html#4351" class="InductiveConstructor">sub</a> <a id="5701" class="Symbol">{</a><a id="5702" class="Argument">p</a> <a id="5704" class="Symbol">=</a> <a id="5706" href="Setoid.Varieties.SoundAndComplete.html#5706" class="Bound">p</a><a id="5707" class="Symbol">}</a> <a id="5709" class="Symbol">{</a><a id="5710" href="Setoid.Varieties.SoundAndComplete.html#5710" class="Bound">q</a><a id="5711" class="Symbol">}</a> <a id="5713" href="Setoid.Varieties.SoundAndComplete.html#5713" class="Bound">Epq</a> <a id="5717" href="Setoid.Varieties.SoundAndComplete.html#5717" class="Bound">σ</a><a id="5718" class="Symbol">)</a> <a id="5720" href="Setoid.Varieties.SoundAndComplete.html#5720" class="Bound">ρ</a>  <a id="5723" class="Symbol">=</a>
  <a id="5727" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
   <a id="5736" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟦</a> <a id="5738" href="Setoid.Varieties.SoundAndComplete.html#5706" class="Bound">p</a> <a id="5740" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="5742" href="Setoid.Varieties.SoundAndComplete.html#5717" class="Bound">σ</a> <a id="5744" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a> <a id="5746" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟧</a> <a id="5748" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a>       <a id="5758" href="Setoid.Varieties.SoundAndComplete.html#5720" class="Bound">ρ</a> <a id="5760" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="5763" href="Setoid.Terms.Basic.html#6089" class="Function">substitution</a> <a id="5776" href="Setoid.Varieties.SoundAndComplete.html#5706" class="Bound">p</a> <a id="5778" href="Setoid.Varieties.SoundAndComplete.html#5717" class="Bound">σ</a> <a id="5780" href="Setoid.Varieties.SoundAndComplete.html#5720" class="Bound">ρ</a> <a id="5782" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="5787" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟦</a> <a id="5789" href="Setoid.Varieties.SoundAndComplete.html#5706" class="Bound">p</a>       <a id="5797" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟧</a> <a id="5799" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a> <a id="5803" href="Setoid.Varieties.SoundAndComplete.html#5435" class="Function Operator">⟪</a> <a id="5805" href="Setoid.Varieties.SoundAndComplete.html#5717" class="Bound">σ</a> <a id="5807" href="Setoid.Varieties.SoundAndComplete.html#5435" class="Function Operator">⟫</a> <a id="5809" href="Setoid.Varieties.SoundAndComplete.html#5720" class="Bound">ρ</a> <a id="5811" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="5814" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="5820" href="Setoid.Varieties.SoundAndComplete.html#5713" class="Bound">Epq</a> <a id="5824" class="Symbol">(</a><a id="5825" href="Setoid.Varieties.SoundAndComplete.html#5435" class="Function Operator">⟪</a> <a id="5827" href="Setoid.Varieties.SoundAndComplete.html#5717" class="Bound">σ</a> <a id="5829" href="Setoid.Varieties.SoundAndComplete.html#5435" class="Function Operator">⟫</a> <a id="5831" href="Setoid.Varieties.SoundAndComplete.html#5720" class="Bound">ρ</a><a id="5832" class="Symbol">)</a>  <a id="5835" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="5840" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟦</a> <a id="5842" href="Setoid.Varieties.SoundAndComplete.html#5710" class="Bound">q</a>       <a id="5850" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟧</a> <a id="5852" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a> <a id="5856" href="Setoid.Varieties.SoundAndComplete.html#5435" class="Function Operator">⟪</a> <a id="5858" href="Setoid.Varieties.SoundAndComplete.html#5717" class="Bound">σ</a> <a id="5860" href="Setoid.Varieties.SoundAndComplete.html#5435" class="Function Operator">⟫</a> <a id="5862" href="Setoid.Varieties.SoundAndComplete.html#5720" class="Bound">ρ</a> <a id="5864" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="5868" href="Setoid.Terms.Basic.html#6089" class="Function">substitution</a>  <a id="5882" href="Setoid.Varieties.SoundAndComplete.html#5710" class="Bound">q</a> <a id="5884" href="Setoid.Varieties.SoundAndComplete.html#5717" class="Bound">σ</a> <a id="5886" href="Setoid.Varieties.SoundAndComplete.html#5720" class="Bound">ρ</a> <a id="5888" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
   <a id="5893" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟦</a> <a id="5895" href="Setoid.Varieties.SoundAndComplete.html#5710" class="Bound">q</a> <a id="5897" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="5899" href="Setoid.Varieties.SoundAndComplete.html#5717" class="Bound">σ</a> <a id="5901" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a> <a id="5903" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟧</a> <a id="5905" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a>       <a id="5915" href="Setoid.Varieties.SoundAndComplete.html#5720" class="Bound">ρ</a> <a id="5917" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

 <a id="5921" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="5927" class="Symbol">(</a><a id="5928" href="Setoid.Varieties.SoundAndComplete.html#4436" class="InductiveConstructor">refl</a> <a id="5933" class="Symbol">{</a><a id="5934" class="Argument">p</a> <a id="5936" class="Symbol">=</a> <a id="5938" href="Setoid.Varieties.SoundAndComplete.html#5938" class="Bound">p</a><a id="5939" class="Symbol">})</a>                <a id="5957" class="Symbol">=</a> <a id="5959" href="Setoid.Varieties.SoundAndComplete.html#5480" class="Field">refl≈</a>   <a id="5967" href="Setoid.Terms.Basic.html#5688" class="Function">isEquiv</a> <a id="5975" class="Symbol">{</a><a id="5976" class="Argument">x</a> <a id="5978" class="Symbol">=</a> <a id="5980" href="Setoid.Varieties.SoundAndComplete.html#5938" class="Bound">p</a><a id="5981" class="Symbol">}</a>
 <a id="5984" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="5990" class="Symbol">(</a><a id="5991" href="Setoid.Varieties.SoundAndComplete.html#4482" class="InductiveConstructor">sym</a> <a id="5995" class="Symbol">{</a><a id="5996" class="Argument">p</a> <a id="5998" class="Symbol">=</a> <a id="6000" href="Setoid.Varieties.SoundAndComplete.html#6000" class="Bound">p</a><a id="6001" class="Symbol">}</a> <a id="6003" class="Symbol">{</a><a id="6004" href="Setoid.Varieties.SoundAndComplete.html#6004" class="Bound">q</a><a id="6005" class="Symbol">}</a> <a id="6007" href="Setoid.Varieties.SoundAndComplete.html#6007" class="Bound">Epq</a><a id="6010" class="Symbol">)</a>         <a id="6020" class="Symbol">=</a> <a id="6022" href="Setoid.Varieties.SoundAndComplete.html#5496" class="Field">sym≈</a>    <a id="6030" href="Setoid.Terms.Basic.html#5688" class="Function">isEquiv</a> <a id="6038" class="Symbol">{</a><a id="6039" class="Argument">x</a> <a id="6041" class="Symbol">=</a> <a id="6043" href="Setoid.Varieties.SoundAndComplete.html#6000" class="Bound">p</a><a id="6044" class="Symbol">}{</a><a id="6046" href="Setoid.Varieties.SoundAndComplete.html#6004" class="Bound">q</a><a id="6047" class="Symbol">}</a>     <a id="6053" class="Symbol">(</a><a id="6054" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="6060" href="Setoid.Varieties.SoundAndComplete.html#6007" class="Bound">Epq</a><a id="6063" class="Symbol">)</a>
 <a id="6066" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="6072" class="Symbol">(</a><a id="6073" href="Setoid.Varieties.SoundAndComplete.html#4544" class="InductiveConstructor">trans</a><a id="6078" class="Symbol">{</a><a id="6079" class="Argument">p</a> <a id="6081" class="Symbol">=</a> <a id="6083" href="Setoid.Varieties.SoundAndComplete.html#6083" class="Bound">p</a><a id="6084" class="Symbol">}{</a><a id="6086" href="Setoid.Varieties.SoundAndComplete.html#6086" class="Bound">q</a><a id="6087" class="Symbol">}{</a><a id="6089" href="Setoid.Varieties.SoundAndComplete.html#6089" class="Bound">r</a><a id="6090" class="Symbol">}</a> <a id="6092" href="Setoid.Varieties.SoundAndComplete.html#6092" class="Bound">Epq</a> <a id="6096" href="Setoid.Varieties.SoundAndComplete.html#6096" class="Bound">Eqr</a><a id="6099" class="Symbol">)</a>  <a id="6102" class="Symbol">=</a> <a id="6104" href="Setoid.Varieties.SoundAndComplete.html#5512" class="Field">trans≈</a>  <a id="6112" href="Setoid.Terms.Basic.html#5688" class="Function">isEquiv</a> <a id="6120" class="Symbol">{</a><a id="6121" class="Argument">i</a> <a id="6123" class="Symbol">=</a> <a id="6125" href="Setoid.Varieties.SoundAndComplete.html#6083" class="Bound">p</a><a id="6126" class="Symbol">}{</a><a id="6128" href="Setoid.Varieties.SoundAndComplete.html#6086" class="Bound">q</a><a id="6129" class="Symbol">}{</a><a id="6131" href="Setoid.Varieties.SoundAndComplete.html#6089" class="Bound">r</a><a id="6132" class="Symbol">}</a>  <a id="6135" class="Symbol">(</a><a id="6136" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="6142" href="Setoid.Varieties.SoundAndComplete.html#6092" class="Bound">Epq</a><a id="6145" class="Symbol">)(</a><a id="6147" href="Setoid.Varieties.SoundAndComplete.html#5523" class="Function">sound</a> <a id="6153" href="Setoid.Varieties.SoundAndComplete.html#6096" class="Bound">Eqr</a><a id="6156" class="Symbol">)</a>

</pre>

The deductive closure of a set E is the set of equations modeled by all models of E; that is, Th Mod E.

The soundness proof above shows ∀ X → E ⊢ X ▹ p ≈ q → (p , q) ∈ Th Mod ℰ.
That is,  ∀ X → E ⊢ X ▹ p ≈ q → Mod E ⊫ p ≈ q.

The converse is Birkhoff's completeness theorem: if Mod E ⊫ p ≈ q, then E ⊢ X ▹ p ≈ q.

We will prove that result next.


##### <a id="birkhoffs-completeness-theorem">Birkhoff's completeness theorem</a>

The proof proceeds by constructing a relatively free algebra consisting of term
quotiented by derivable equality E ⊢ X ▹ _≈_.  It then suffices to prove
that this model satisfies all equations in $E$.

(Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

We denote by `𝔽[ X ]` the *relatively free algebra* over `X` (relative to `E`), which is defined as `Term X` modulo `E ⊢ X ▹ _≈_`.  This algebra `𝔽[ X ]` is "free" or "initial" in the variety of algebras satisfying the identities in `E` in the sense that it satisfies the following universal property: for each algebra `𝑨`, if `𝑨 ⊧ E`, then there is a unique homomorphism from `𝔽[ X ]` to `𝑨`.

<pre class="Agda">

<a id="7360" class="Keyword">module</a> <a id="FreeAlgebra"></a><a id="7367" href="Setoid.Varieties.SoundAndComplete.html#7367" class="Module">FreeAlgebra</a> <a id="7379" class="Symbol">{</a><a id="7380" href="Setoid.Varieties.SoundAndComplete.html#7380" class="Bound">χ</a> <a id="7382" class="Symbol">:</a> <a id="7384" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7389" class="Symbol">}{</a><a id="7391" href="Setoid.Varieties.SoundAndComplete.html#7391" class="Bound">ι</a> <a id="7393" class="Symbol">:</a> <a id="7395" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7400" class="Symbol">}{</a><a id="7402" href="Setoid.Varieties.SoundAndComplete.html#7402" class="Bound">I</a> <a id="7404" class="Symbol">:</a> <a id="7406" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="7411" href="Setoid.Varieties.SoundAndComplete.html#7391" class="Bound">ι</a><a id="7412" class="Symbol">}(</a><a id="7414" href="Setoid.Varieties.SoundAndComplete.html#7414" class="Bound">E</a> <a id="7416" class="Symbol">:</a> <a id="7418" href="Setoid.Varieties.SoundAndComplete.html#7402" class="Bound">I</a> <a id="7420" class="Symbol">→</a> <a id="7422" href="Setoid.Varieties.SoundAndComplete.html#1999" class="Record">Eq</a><a id="7424" class="Symbol">)</a> <a id="7426" class="Keyword">where</a>
 <a id="7433" class="Keyword">open</a> <a id="7438" href="Setoid.Algebras.Basic.html#2837" class="Module">Algebra</a>

 <a id="7448" class="Comment">-- Domain of the relatively free algebra.</a>
 <a id="FreeAlgebra.FreeDomain"></a><a id="7491" href="Setoid.Varieties.SoundAndComplete.html#7491" class="Function">FreeDomain</a> <a id="7502" class="Symbol">:</a> <a id="7504" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="7509" href="Setoid.Varieties.SoundAndComplete.html#7380" class="Bound">χ</a> <a id="7511" class="Symbol">→</a> <a id="7513" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="7520" class="Symbol">_</a> <a id="7522" class="Symbol">_</a>
 <a id="7525" href="Setoid.Varieties.SoundAndComplete.html#7491" class="Function">FreeDomain</a> <a id="7536" href="Setoid.Varieties.SoundAndComplete.html#7536" class="Bound">X</a> <a id="7538" class="Symbol">=</a> <a id="7540" class="Keyword">record</a>  <a id="7548" class="Symbol">{</a> <a id="7550" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a>       <a id="7564" class="Symbol">=</a> <a id="7566" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="7571" href="Setoid.Varieties.SoundAndComplete.html#7536" class="Bound">X</a>
                        <a id="7597" class="Symbol">;</a> <a id="7599" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a>           <a id="7613" class="Symbol">=</a> <a id="7615" href="Setoid.Varieties.SoundAndComplete.html#7414" class="Bound">E</a> <a id="7617" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="7619" href="Setoid.Varieties.SoundAndComplete.html#7536" class="Bound">X</a> <a id="7621" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹_≈_</a>
                        <a id="7650" class="Symbol">;</a> <a id="7652" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="7666" class="Symbol">=</a> <a id="7668" href="Setoid.Varieties.SoundAndComplete.html#4622" class="Function">⊢▹≈IsEquiv</a>
                        <a id="7703" class="Symbol">}</a>

 <a id="7707" class="Comment">-- The interpretation of an operation is simply the operation itself.</a>
 <a id="7778" class="Comment">-- This works since E ⊢ X ▹_≈_ is a congruence.</a>
 <a id="FreeAlgebra.FreeInterp"></a><a id="7827" href="Setoid.Varieties.SoundAndComplete.html#7827" class="Function">FreeInterp</a> <a id="7838" class="Symbol">:</a> <a id="7840" class="Symbol">∀</a> <a id="7842" class="Symbol">{</a><a id="7843" href="Setoid.Varieties.SoundAndComplete.html#7843" class="Bound">X</a><a id="7844" class="Symbol">}</a> <a id="7846" class="Symbol">→</a> <a id="7848" class="Symbol">(</a><a id="7849" href="Setoid.Algebras.Basic.html#2092" class="Function Operator">⟨</a> <a id="7851" href="Setoid.Varieties.SoundAndComplete.html#720" class="Bound">𝑆</a> <a id="7853" href="Setoid.Algebras.Basic.html#2092" class="Function Operator">⟩</a> <a id="7855" class="Symbol">(</a><a id="7856" href="Setoid.Varieties.SoundAndComplete.html#7491" class="Function">FreeDomain</a> <a id="7867" href="Setoid.Varieties.SoundAndComplete.html#7843" class="Bound">X</a><a id="7868" class="Symbol">))</a> <a id="7871" href="Setoid.Varieties.SoundAndComplete.html#1096" class="Record Operator">⟶</a> <a id="7873" class="Symbol">(</a><a id="7874" href="Setoid.Varieties.SoundAndComplete.html#7491" class="Function">FreeDomain</a> <a id="7885" href="Setoid.Varieties.SoundAndComplete.html#7843" class="Bound">X</a><a id="7886" class="Symbol">)</a>
 <a id="7889" href="Setoid.Varieties.SoundAndComplete.html#7827" class="Function">FreeInterp</a> <a id="7900" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a> <a id="7904" class="Symbol">(</a><a id="7905" href="Setoid.Varieties.SoundAndComplete.html#7905" class="Bound">f</a> <a id="7907" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7909" href="Setoid.Varieties.SoundAndComplete.html#7909" class="Bound">ts</a><a id="7911" class="Symbol">)</a> <a id="7913" class="Symbol">=</a> <a id="7915" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="7920" href="Setoid.Varieties.SoundAndComplete.html#7905" class="Bound">f</a> <a id="7922" href="Setoid.Varieties.SoundAndComplete.html#7909" class="Bound">ts</a>
 <a id="7926" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="7931" href="Setoid.Varieties.SoundAndComplete.html#7827" class="Function">FreeInterp</a> <a id="7942" class="Symbol">(</a><a id="7943" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="7948" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7950" href="Setoid.Varieties.SoundAndComplete.html#7950" class="Bound">h</a><a id="7951" class="Symbol">)</a> <a id="7953" class="Symbol">=</a> <a id="7955" href="Setoid.Varieties.SoundAndComplete.html#4264" class="InductiveConstructor">app</a> <a id="7959" href="Setoid.Varieties.SoundAndComplete.html#7950" class="Bound">h</a>

 <a id="7963" class="Comment">-- The relatively free algebra</a>
 <a id="FreeAlgebra.𝔽[_]"></a><a id="7995" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[_]</a> <a id="8000" class="Symbol">:</a> <a id="8002" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="8007" href="Setoid.Varieties.SoundAndComplete.html#7380" class="Bound">χ</a> <a id="8009" class="Symbol">→</a> <a id="8011" href="Setoid.Algebras.Basic.html#2837" class="Record">Algebra</a> <a id="8019" class="Symbol">(</a><a id="8020" href="Setoid.Algebras.Basic.html#1068" class="Function">ov</a> <a id="8023" href="Setoid.Varieties.SoundAndComplete.html#7380" class="Bound">χ</a><a id="8024" class="Symbol">)</a> <a id="8026" class="Symbol">(</a><a id="8027" href="Setoid.Varieties.SoundAndComplete.html#7391" class="Bound">ι</a> <a id="8029" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="8031" href="Setoid.Algebras.Basic.html#1068" class="Function">ov</a> <a id="8034" href="Setoid.Varieties.SoundAndComplete.html#7380" class="Bound">χ</a><a id="8035" class="Symbol">)</a>
 <a id="8038" href="Setoid.Algebras.Basic.html#2894" class="Field">Domain</a> <a id="8045" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[</a> <a id="8048" href="Setoid.Varieties.SoundAndComplete.html#8048" class="Bound">X</a> <a id="8050" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">]</a> <a id="8052" class="Symbol">=</a> <a id="8054" href="Setoid.Varieties.SoundAndComplete.html#7491" class="Function">FreeDomain</a> <a id="8065" href="Setoid.Varieties.SoundAndComplete.html#8048" class="Bound">X</a>
 <a id="8068" href="Setoid.Algebras.Basic.html#2916" class="Field">Interp</a> <a id="8075" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[</a> <a id="8078" href="Setoid.Varieties.SoundAndComplete.html#8078" class="Bound">X</a> <a id="8080" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">]</a> <a id="8082" class="Symbol">=</a> <a id="8084" href="Setoid.Varieties.SoundAndComplete.html#7827" class="Function">FreeInterp</a>

 <a id="8097" class="Comment">-- The identity substitution σ₀ maps variables to themselves.</a>
 <a id="FreeAlgebra.σ₀"></a><a id="8160" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a> <a id="8163" class="Symbol">:</a> <a id="8165" class="Symbol">{</a><a id="8166" href="Setoid.Varieties.SoundAndComplete.html#8166" class="Bound">X</a> <a id="8168" class="Symbol">:</a> <a id="8170" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="8175" href="Setoid.Varieties.SoundAndComplete.html#7380" class="Bound">χ</a><a id="8176" class="Symbol">}</a> <a id="8178" class="Symbol">→</a> <a id="8180" href="Setoid.Terms.Basic.html#3483" class="Function">Sub</a> <a id="8184" href="Setoid.Varieties.SoundAndComplete.html#8166" class="Bound">X</a> <a id="8186" href="Setoid.Varieties.SoundAndComplete.html#8166" class="Bound">X</a>
 <a id="8189" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a> <a id="8192" href="Setoid.Varieties.SoundAndComplete.html#8192" class="Bound">x</a> <a id="8194" class="Symbol">=</a> <a id="8196" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="8198" href="Setoid.Varieties.SoundAndComplete.html#8192" class="Bound">x</a>

 <a id="8202" class="Comment">-- σ₀ acts indeed as identity.</a>
 <a id="FreeAlgebra.identity"></a><a id="8234" href="Setoid.Varieties.SoundAndComplete.html#8234" class="Function">identity</a> <a id="8243" class="Symbol">:</a> <a id="8245" class="Symbol">(</a><a id="8246" href="Setoid.Varieties.SoundAndComplete.html#8246" class="Bound">t</a> <a id="8248" class="Symbol">:</a> <a id="8250" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="8255" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a><a id="8256" class="Symbol">)</a> <a id="8258" class="Symbol">→</a> <a id="8260" href="Setoid.Varieties.SoundAndComplete.html#7414" class="Bound">E</a> <a id="8262" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="8264" href="Setoid.Varieties.SoundAndComplete.html#1873" class="Generalizable">X</a> <a id="8266" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="8268" href="Setoid.Varieties.SoundAndComplete.html#8246" class="Bound">t</a> <a id="8270" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="8272" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a> <a id="8275" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a> <a id="8277" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="8279" href="Setoid.Varieties.SoundAndComplete.html#8246" class="Bound">t</a>
 <a id="8282" href="Setoid.Varieties.SoundAndComplete.html#8234" class="Function">identity</a> <a id="8291" class="Symbol">(</a><a id="8292" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="8294" href="Setoid.Varieties.SoundAndComplete.html#8294" class="Bound">x</a><a id="8295" class="Symbol">)</a> <a id="8297" class="Symbol">=</a> <a id="8299" href="Setoid.Varieties.SoundAndComplete.html#4436" class="InductiveConstructor">refl</a>
 <a id="8305" href="Setoid.Varieties.SoundAndComplete.html#8234" class="Function">identity</a> <a id="8314" class="Symbol">(</a><a id="8315" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="8320" href="Setoid.Varieties.SoundAndComplete.html#8320" class="Bound">f</a> <a id="8322" href="Setoid.Varieties.SoundAndComplete.html#8322" class="Bound">ts</a><a id="8324" class="Symbol">)</a> <a id="8326" class="Symbol">=</a> <a id="8328" href="Setoid.Varieties.SoundAndComplete.html#4264" class="InductiveConstructor">app</a> <a id="8332" class="Symbol">(</a><a id="8333" href="Setoid.Varieties.SoundAndComplete.html#8234" class="Function">identity</a> <a id="8342" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="8344" href="Setoid.Varieties.SoundAndComplete.html#8322" class="Bound">ts</a><a id="8346" class="Symbol">)</a>

</pre>

Evaluation in the term model is substitution `E ⊢ X ▹ ⟦t⟧σ ≈ t[σ]`. (This would
hold "on the nose" if we had function extensionality.)

(We put this and the next two lemmas into their own submodules to emphasize
the fact that these results are independent of the chosen variable symbol
type `X` (or `Δ`, or `Γ`), which is an arbitrary inhabitant of `Type χ`.)
<pre class="Agda">

 <a id="8736" class="Keyword">module</a> <a id="8743" href="Setoid.Varieties.SoundAndComplete.html#8743" class="Module">_</a> <a id="8745" class="Symbol">{</a><a id="8746" href="Setoid.Varieties.SoundAndComplete.html#8746" class="Bound">X</a> <a id="8748" class="Symbol">:</a> <a id="8750" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="8755" href="Setoid.Varieties.SoundAndComplete.html#7380" class="Bound">χ</a><a id="8756" class="Symbol">}</a> <a id="8758" class="Keyword">where</a>
  <a id="8766" class="Keyword">open</a> <a id="8771" href="Setoid.Terms.Basic.html#3846" class="Module">Environment</a> <a id="8783" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[</a> <a id="8786" href="Setoid.Varieties.SoundAndComplete.html#8746" class="Bound">X</a> <a id="8788" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">]</a>
  <a id="8792" href="Setoid.Varieties.SoundAndComplete.html#8792" class="Function">evaluation</a> <a id="8803" class="Symbol">:</a> <a id="8805" class="Symbol">(</a><a id="8806" href="Setoid.Varieties.SoundAndComplete.html#8806" class="Bound">t</a> <a id="8808" class="Symbol">:</a> <a id="8810" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="8815" href="Setoid.Varieties.SoundAndComplete.html#1877" class="Generalizable">Δ</a><a id="8816" class="Symbol">)</a> <a id="8818" class="Symbol">(</a><a id="8819" href="Setoid.Varieties.SoundAndComplete.html#8819" class="Bound">σ</a> <a id="8821" class="Symbol">:</a> <a id="8823" href="Setoid.Terms.Basic.html#3483" class="Function">Sub</a> <a id="8827" href="Setoid.Varieties.SoundAndComplete.html#8746" class="Bound">X</a> <a id="8829" href="Setoid.Varieties.SoundAndComplete.html#1877" class="Generalizable">Δ</a><a id="8830" class="Symbol">)</a> <a id="8832" class="Symbol">→</a> <a id="8834" href="Setoid.Varieties.SoundAndComplete.html#7414" class="Bound">E</a> <a id="8836" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="8838" href="Setoid.Varieties.SoundAndComplete.html#8746" class="Bound">X</a> <a id="8840" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="8842" class="Symbol">(</a><a id="8843" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟦</a> <a id="8845" href="Setoid.Varieties.SoundAndComplete.html#8806" class="Bound">t</a> <a id="8847" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟧</a> <a id="8849" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a> <a id="8853" href="Setoid.Varieties.SoundAndComplete.html#8819" class="Bound">σ</a><a id="8854" class="Symbol">)</a> <a id="8856" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="8858" class="Symbol">(</a><a id="8859" href="Setoid.Varieties.SoundAndComplete.html#8806" class="Bound">t</a> <a id="8861" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="8863" href="Setoid.Varieties.SoundAndComplete.html#8819" class="Bound">σ</a> <a id="8865" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a><a id="8866" class="Symbol">)</a>
  <a id="8870" href="Setoid.Varieties.SoundAndComplete.html#8792" class="Function">evaluation</a> <a id="8881" class="Symbol">(</a><a id="8882" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="8884" href="Setoid.Varieties.SoundAndComplete.html#8884" class="Bound">x</a><a id="8885" class="Symbol">)</a> <a id="8887" href="Setoid.Varieties.SoundAndComplete.html#8887" class="Bound">σ</a> <a id="8889" class="Symbol">=</a> <a id="8891" href="Setoid.Varieties.SoundAndComplete.html#4436" class="InductiveConstructor">refl</a>
  <a id="8898" href="Setoid.Varieties.SoundAndComplete.html#8792" class="Function">evaluation</a> <a id="8909" class="Symbol">(</a><a id="8910" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="8915" href="Setoid.Varieties.SoundAndComplete.html#8915" class="Bound">f</a> <a id="8917" href="Setoid.Varieties.SoundAndComplete.html#8917" class="Bound">ts</a><a id="8919" class="Symbol">)</a> <a id="8921" href="Setoid.Varieties.SoundAndComplete.html#8921" class="Bound">σ</a> <a id="8923" class="Symbol">=</a> <a id="8925" href="Setoid.Varieties.SoundAndComplete.html#4264" class="InductiveConstructor">app</a> <a id="8929" class="Symbol">(</a><a id="8930" href="Function.Base.html#1554" class="Function">flip</a> <a id="8935" class="Symbol">(</a><a id="8936" href="Setoid.Varieties.SoundAndComplete.html#8792" class="Function">evaluation</a> <a id="8947" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="8949" href="Setoid.Varieties.SoundAndComplete.html#8917" class="Bound">ts</a><a id="8951" class="Symbol">)</a> <a id="8953" href="Setoid.Varieties.SoundAndComplete.html#8921" class="Bound">σ</a><a id="8954" class="Symbol">)</a>


 <a id="8959" class="Keyword">module</a> <a id="8966" href="Setoid.Varieties.SoundAndComplete.html#8966" class="Module">_</a> <a id="8968" class="Symbol">{</a><a id="8969" href="Setoid.Varieties.SoundAndComplete.html#8969" class="Bound">Δ</a> <a id="8971" class="Symbol">:</a> <a id="8973" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="8978" href="Setoid.Varieties.SoundAndComplete.html#7380" class="Bound">χ</a><a id="8979" class="Symbol">}</a> <a id="8981" class="Keyword">where</a>
  <a id="8989" class="Comment">-- The term model satisfies all the equations it started out with.</a>
  <a id="9058" href="Setoid.Varieties.SoundAndComplete.html#9058" class="Function">satisfies</a> <a id="9068" class="Symbol">:</a> <a id="9070" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[</a> <a id="9073" href="Setoid.Varieties.SoundAndComplete.html#8969" class="Bound">Δ</a> <a id="9075" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">]</a> <a id="9077" href="Setoid.Varieties.SoundAndComplete.html#2621" class="Function Operator">⊨</a> <a id="9079" href="Setoid.Varieties.SoundAndComplete.html#7414" class="Bound">E</a>
  <a id="9083" href="Setoid.Varieties.SoundAndComplete.html#9058" class="Function">satisfies</a> <a id="9093" href="Setoid.Varieties.SoundAndComplete.html#9093" class="Bound">i</a> <a id="9095" href="Setoid.Varieties.SoundAndComplete.html#9095" class="Bound">σ</a> <a id="9097" class="Symbol">=</a>
   <a id="9102" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="9112" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟦</a> <a id="9114" href="Setoid.Varieties.SoundAndComplete.html#9319" class="Function">p</a> <a id="9116" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟧</a> <a id="9118" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a> <a id="9122" href="Setoid.Varieties.SoundAndComplete.html#9095" class="Bound">σ</a>  <a id="9125" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9128" href="Setoid.Varieties.SoundAndComplete.html#8792" class="Function">evaluation</a> <a id="9139" href="Setoid.Varieties.SoundAndComplete.html#9319" class="Function">p</a> <a id="9141" href="Setoid.Varieties.SoundAndComplete.html#9095" class="Bound">σ</a> <a id="9143" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9149" href="Setoid.Varieties.SoundAndComplete.html#9319" class="Function">p</a> <a id="9151" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="9153" href="Setoid.Varieties.SoundAndComplete.html#9095" class="Bound">σ</a> <a id="9155" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a>      <a id="9162" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9165" href="Setoid.Varieties.SoundAndComplete.html#4351" class="InductiveConstructor">sub</a> <a id="9169" class="Symbol">(</a><a id="9170" href="Setoid.Varieties.SoundAndComplete.html#4213" class="InductiveConstructor">hyp</a> <a id="9174" href="Setoid.Varieties.SoundAndComplete.html#9093" class="Bound">i</a><a id="9175" class="Symbol">)</a> <a id="9177" href="Setoid.Varieties.SoundAndComplete.html#9095" class="Bound">σ</a> <a id="9179" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9185" href="Setoid.Varieties.SoundAndComplete.html#9335" class="Function">q</a> <a id="9187" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="9189" href="Setoid.Varieties.SoundAndComplete.html#9095" class="Bound">σ</a> <a id="9191" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a>      <a id="9198" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="9202" href="Setoid.Varieties.SoundAndComplete.html#8792" class="Function">evaluation</a> <a id="9213" href="Setoid.Varieties.SoundAndComplete.html#9335" class="Function">q</a> <a id="9215" href="Setoid.Varieties.SoundAndComplete.html#9095" class="Bound">σ</a> <a id="9217" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="9223" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟦</a> <a id="9225" href="Setoid.Varieties.SoundAndComplete.html#9335" class="Function">q</a> <a id="9227" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟧</a> <a id="9229" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a> <a id="9233" href="Setoid.Varieties.SoundAndComplete.html#9095" class="Bound">σ</a>  <a id="9236" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>
    <a id="9242" class="Keyword">where</a>
    <a id="9252" class="Keyword">open</a> <a id="9257" href="Setoid.Terms.Basic.html#3846" class="Module">Environment</a> <a id="9269" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[</a> <a id="9272" href="Setoid.Varieties.SoundAndComplete.html#8969" class="Bound">Δ</a> <a id="9274" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">]</a>
    <a id="9280" class="Keyword">open</a> <a id="9285" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="9301" class="Symbol">(</a><a id="9302" href="Setoid.Algebras.Basic.html#2894" class="Field">Domain</a> <a id="9309" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[</a> <a id="9312" href="Setoid.Varieties.SoundAndComplete.html#8969" class="Bound">Δ</a> <a id="9314" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">]</a><a id="9315" class="Symbol">)</a> <a id="9317" class="Symbol">;</a> <a id="9319" href="Setoid.Varieties.SoundAndComplete.html#9319" class="Function">p</a> <a id="9321" class="Symbol">=</a> <a id="9323" href="Setoid.Varieties.SoundAndComplete.html#2067" class="Field">lhs</a> <a id="9327" class="Symbol">(</a><a id="9328" href="Setoid.Varieties.SoundAndComplete.html#7414" class="Bound">E</a> <a id="9330" href="Setoid.Varieties.SoundAndComplete.html#9093" class="Bound">i</a><a id="9331" class="Symbol">)</a> <a id="9333" class="Symbol">;</a> <a id="9335" href="Setoid.Varieties.SoundAndComplete.html#9335" class="Function">q</a> <a id="9337" class="Symbol">=</a> <a id="9339" href="Setoid.Varieties.SoundAndComplete.html#2087" class="Field">rhs</a> <a id="9343" class="Symbol">(</a><a id="9344" href="Setoid.Varieties.SoundAndComplete.html#7414" class="Bound">E</a> <a id="9346" href="Setoid.Varieties.SoundAndComplete.html#9093" class="Bound">i</a><a id="9347" class="Symbol">)</a>

</pre>

We are finally ready to formally state and prove Birkhoff's Completeness Theorem, which asserts that every valid consequence is derivable.

<pre class="Agda">

 <a id="9517" class="Keyword">module</a> <a id="9524" href="Setoid.Varieties.SoundAndComplete.html#9524" class="Module">_</a> <a id="9526" class="Symbol">{</a><a id="9527" href="Setoid.Varieties.SoundAndComplete.html#9527" class="Bound">Γ</a> <a id="9529" class="Symbol">:</a> <a id="9531" href="Setoid.Varieties.SoundAndComplete.html#885" class="Primitive">Type</a> <a id="9536" href="Setoid.Varieties.SoundAndComplete.html#7380" class="Bound">χ</a><a id="9537" class="Symbol">}</a> <a id="9539" class="Keyword">where</a>

  <a id="9548" href="Setoid.Varieties.SoundAndComplete.html#9548" class="Function">completeness</a> <a id="9561" class="Symbol">:</a> <a id="9563" class="Symbol">∀</a> <a id="9565" href="Setoid.Varieties.SoundAndComplete.html#9565" class="Bound">p</a> <a id="9567" href="Setoid.Varieties.SoundAndComplete.html#9567" class="Bound">q</a> <a id="9569" class="Symbol">→</a> <a id="9571" href="Setoid.Varieties.SoundAndComplete.html#2995" class="Function">ModTuple</a> <a id="9580" href="Setoid.Varieties.SoundAndComplete.html#7414" class="Bound">E</a> <a id="9582" href="Setoid.Varieties.SoundAndComplete.html#2318" class="Function Operator">⊫</a> <a id="9584" class="Symbol">(</a><a id="9585" href="Setoid.Varieties.SoundAndComplete.html#9565" class="Bound">p</a> <a id="9587" href="Setoid.Varieties.SoundAndComplete.html#2035" class="InductiveConstructor Operator">≈̇</a> <a id="9590" href="Setoid.Varieties.SoundAndComplete.html#9567" class="Bound">q</a><a id="9591" class="Symbol">)</a> <a id="9593" class="Symbol">→</a> <a id="9595" href="Setoid.Varieties.SoundAndComplete.html#7414" class="Bound">E</a> <a id="9597" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">⊢</a> <a id="9599" href="Setoid.Varieties.SoundAndComplete.html#9527" class="Bound">Γ</a> <a id="9601" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">▹</a> <a id="9603" href="Setoid.Varieties.SoundAndComplete.html#9565" class="Bound">p</a> <a id="9605" href="Setoid.Varieties.SoundAndComplete.html#4125" class="Datatype Operator">≈</a> <a id="9607" href="Setoid.Varieties.SoundAndComplete.html#9567" class="Bound">q</a>
  <a id="9611" href="Setoid.Varieties.SoundAndComplete.html#9548" class="Function">completeness</a> <a id="9624" href="Setoid.Varieties.SoundAndComplete.html#9624" class="Bound">p</a> <a id="9626" href="Setoid.Varieties.SoundAndComplete.html#9626" class="Bound">q</a> <a id="9628" href="Setoid.Varieties.SoundAndComplete.html#9628" class="Bound">V</a> <a id="9630" class="Symbol">=</a>
   <a id="9635" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="9645" href="Setoid.Varieties.SoundAndComplete.html#9624" class="Bound">p</a>              <a id="9660" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="9664" href="Setoid.Varieties.SoundAndComplete.html#8234" class="Function">identity</a> <a id="9673" href="Setoid.Varieties.SoundAndComplete.html#9624" class="Bound">p</a> <a id="9675" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="9681" href="Setoid.Varieties.SoundAndComplete.html#9624" class="Bound">p</a> <a id="9683" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="9685" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a> <a id="9688" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a>       <a id="9696" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="9700" href="Setoid.Varieties.SoundAndComplete.html#8792" class="Function">evaluation</a> <a id="9711" href="Setoid.Varieties.SoundAndComplete.html#9624" class="Bound">p</a> <a id="9713" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a> <a id="9716" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="9722" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟦</a> <a id="9724" href="Setoid.Varieties.SoundAndComplete.html#9624" class="Bound">p</a> <a id="9726" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟧</a> <a id="9728" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a> <a id="9732" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a>   <a id="9737" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9740" href="Setoid.Varieties.SoundAndComplete.html#9628" class="Bound">V</a> <a id="9742" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[</a> <a id="9745" href="Setoid.Varieties.SoundAndComplete.html#9527" class="Bound">Γ</a> <a id="9747" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">]</a> <a id="9749" href="Setoid.Varieties.SoundAndComplete.html#9058" class="Function">satisfies</a> <a id="9759" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a> <a id="9762" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9768" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟦</a> <a id="9770" href="Setoid.Varieties.SoundAndComplete.html#9626" class="Bound">q</a> <a id="9772" href="Setoid.Terms.Basic.html#4904" class="Function Operator">⟧</a> <a id="9774" href="Setoid.Varieties.SoundAndComplete.html#1816" class="Field Operator">⟨$⟩</a> <a id="9778" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a>   <a id="9783" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9786" href="Setoid.Varieties.SoundAndComplete.html#8792" class="Function">evaluation</a> <a id="9797" href="Setoid.Varieties.SoundAndComplete.html#9626" class="Bound">q</a> <a id="9799" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a> <a id="9802" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9808" href="Setoid.Varieties.SoundAndComplete.html#9626" class="Bound">q</a> <a id="9810" href="Setoid.Terms.Basic.html#3581" class="Function Operator">[</a> <a id="9812" href="Setoid.Varieties.SoundAndComplete.html#8160" class="Function">σ₀</a> <a id="9815" href="Setoid.Terms.Basic.html#3581" class="Function Operator">]</a>       <a id="9823" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9826" href="Setoid.Varieties.SoundAndComplete.html#8234" class="Function">identity</a> <a id="9835" href="Setoid.Varieties.SoundAndComplete.html#9626" class="Bound">q</a> <a id="9837" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9843" href="Setoid.Varieties.SoundAndComplete.html#9626" class="Bound">q</a>              <a id="9858" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>
   <a id="9863" class="Keyword">where</a>
   <a id="9872" class="Keyword">open</a> <a id="9877" href="Setoid.Terms.Basic.html#3846" class="Module">Environment</a> <a id="9889" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[</a> <a id="9892" href="Setoid.Varieties.SoundAndComplete.html#9527" class="Bound">Γ</a> <a id="9894" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">]</a>
   <a id="9899" class="Keyword">open</a> <a id="9904" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="9920" class="Symbol">(</a><a id="9921" href="Setoid.Algebras.Basic.html#2894" class="Field">Domain</a> <a id="9928" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">𝔽[</a> <a id="9931" href="Setoid.Varieties.SoundAndComplete.html#9527" class="Bound">Γ</a> <a id="9933" href="Setoid.Varieties.SoundAndComplete.html#7995" class="Function Operator">]</a><a id="9934" class="Symbol">)</a>
</pre>

--------------------------------

<span style="float:left;">[↑ Setoid.Varieties](Setoid.Varieties.html)</span>
<span style="float:right;">[Setoid.Varieties.Closure →](Setoid.Varieties.Closure.html)</span>

{% include UALib.Links.md %}
