---
layout: default
title : "Varieties.Func.SoundAndComplete module (The Agda Universal Algebra Library)"
date : "2021-01-14"
author: "agda-algebras development team"
---

#### <a id="entailment-derivation-rules-soundness-and-completeness">Entailment, derivation rules, soundness and completeness</a>

This is the [Varieties.Func.SoundAndComplete][] module of the [Agda Universal Algebra Library][].

This module is based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).

<pre class="Agda">

<a id="576" class="Symbol">{-#</a> <a id="580" class="Keyword">OPTIONS</a> <a id="588" class="Pragma">--without-K</a> <a id="600" class="Pragma">--exact-split</a> <a id="614" class="Pragma">--safe</a> <a id="621" class="Symbol">#-}</a>

<a id="626" class="Keyword">open</a> <a id="631" class="Keyword">import</a> <a id="638" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="653" class="Keyword">using</a> <a id="659" class="Symbol">(</a> <a id="661" href="Algebras.Basic.html#1130" class="Generalizable">𝓞</a> <a id="663" class="Symbol">;</a> <a id="665" href="Algebras.Basic.html#1132" class="Generalizable">𝓥</a> <a id="667" class="Symbol">;</a> <a id="669" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="679" class="Symbol">)</a>

<a id="682" class="Keyword">module</a> <a id="689" href="Varieties.Func.SoundAndComplete.html" class="Module">Varieties.Func.SoundAndComplete</a> <a id="721" class="Symbol">{</a><a id="722" href="Varieties.Func.SoundAndComplete.html#722" class="Bound">𝑆</a> <a id="724" class="Symbol">:</a> <a id="726" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="736" href="Algebras.Basic.html#1130" class="Generalizable">𝓞</a> <a id="738" href="Algebras.Basic.html#1132" class="Generalizable">𝓥</a><a id="739" class="Symbol">}</a> <a id="741" class="Keyword">where</a>

<a id="748" class="Comment">-- imports from Agda and the Agda Standard Library -------------------------------------------</a>
<a id="843" class="Keyword">open</a> <a id="848" class="Keyword">import</a> <a id="855" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>   <a id="872" class="Keyword">using</a> <a id="878" class="Symbol">(</a> <a id="880" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="884" class="Symbol">;</a> <a id="886" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="891" class="Symbol">;</a> <a id="893" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="899" class="Symbol">)</a> <a id="901" class="Keyword">renaming</a> <a id="910" class="Symbol">(</a> <a id="912" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="916" class="Symbol">to</a> <a id="919" class="Primitive">Type</a> <a id="924" class="Symbol">)</a>
<a id="926" class="Keyword">open</a> <a id="931" class="Keyword">import</a> <a id="938" href="Data.Product.html" class="Module">Data.Product</a>     <a id="955" class="Keyword">using</a> <a id="961" class="Symbol">(</a> <a id="963" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="967" class="Symbol">;</a> <a id="969" href="Data.Product.html#916" class="Function">Σ-syntax</a> <a id="978" class="Symbol">;</a> <a id="980" href="Data.Product.html#1167" class="Function Operator">_×_</a> <a id="984" class="Symbol">)</a> <a id="986" class="Keyword">renaming</a> <a id="995" class="Symbol">(</a> <a id="997" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1003" class="Symbol">to</a> <a id="1006" class="Field">fst</a> <a id="1010" class="Symbol">;</a> <a id="1012" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1018" class="Symbol">to</a> <a id="1021" class="Field">snd</a> <a id="1025" class="Symbol">)</a>
<a id="1027" class="Keyword">open</a> <a id="1032" class="Keyword">import</a> <a id="1039" href="Function.Base.html" class="Module">Function.Base</a>    <a id="1056" class="Keyword">using</a> <a id="1062" class="Symbol">(</a> <a id="1064" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="1068" class="Symbol">;</a> <a id="1070" href="Function.Base.html#1554" class="Function">flip</a> <a id="1075" class="Symbol">;</a> <a id="1077" href="Function.Base.html#615" class="Function">id</a> <a id="1080" class="Symbol">)</a>
<a id="1082" class="Keyword">open</a> <a id="1087" class="Keyword">import</a> <a id="1094" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="1111" class="Keyword">using</a> <a id="1117" class="Symbol">(</a> <a id="1119" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="1124" class="Symbol">)</a>
<a id="1126" class="Keyword">open</a> <a id="1131" class="Keyword">import</a> <a id="1138" href="Relation.Binary.html" class="Module">Relation.Binary</a>  <a id="1155" class="Keyword">using</a> <a id="1161" class="Symbol">(</a> <a id="1163" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1170" class="Symbol">;</a> <a id="1172" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="1186" class="Symbol">)</a>
<a id="1188" class="Keyword">open</a> <a id="1193" class="Keyword">import</a> <a id="1200" href="Relation.Unary.html" class="Module">Relation.Unary</a>   <a id="1217" class="Keyword">using</a> <a id="1223" class="Symbol">(</a> <a id="1225" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1230" class="Symbol">;</a> <a id="1232" href="Relation.Unary.html#1523" class="Function Operator">_∈_</a> <a id="1236" class="Symbol">)</a>
<a id="1238" class="Keyword">open</a> <a id="1243" class="Keyword">import</a> <a id="1250" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1288" class="Keyword">using</a> <a id="1294" class="Symbol">(</a> <a id="1296" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="1300" class="Symbol">;</a> <a id="1302" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1307" class="Symbol">)</a>
<a id="1309" class="Keyword">import</a> <a id="1316" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1349" class="Symbol">as</a> <a id="1352" class="Module">SetoidReasoning</a>

<a id="1369" class="Comment">-- Imports from the Agda Universal Algebra Library ---------------------------------------------</a>
<a id="1466" class="Keyword">open</a> <a id="1471" class="Keyword">import</a> <a id="1478" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>        <a id="1508" class="Keyword">using</a> <a id="1514" class="Symbol">(</a> <a id="1516" href="Overture.Preliminaries.html#4382" class="Function Operator">∣_∣</a> <a id="1520" class="Symbol">)</a>
<a id="1522" class="Keyword">open</a> <a id="1527" class="Keyword">import</a> <a id="1534" href="Algebras.Func.Basic.html" class="Module">Algebras.Func.Basic</a>   <a id="1556" class="Symbol">{</a><a id="1557" class="Argument">𝑆</a> <a id="1559" class="Symbol">=</a> <a id="1561" href="Varieties.Func.SoundAndComplete.html#722" class="Bound">𝑆</a><a id="1562" class="Symbol">}</a> <a id="1564" class="Keyword">using</a> <a id="1570" class="Symbol">(</a> <a id="1572" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="1586" class="Symbol">;</a> <a id="1588" href="Algebras.Func.Basic.html#1171" class="Function">ov</a> <a id="1591" class="Symbol">)</a> <a id="1593" class="Keyword">renaming</a> <a id="1602" class="Symbol">(</a> <a id="1604" href="Algebras.Func.Basic.html#2140" class="Function Operator">⟦_⟧</a> <a id="1608" class="Symbol">to</a> <a id="1611" class="Function Operator">⟦_⟧s</a> <a id="1616" class="Symbol">)</a>
<a id="1618" class="Keyword">open</a> <a id="1623" class="Keyword">import</a> <a id="1630" href="Terms.Basic.html" class="Module">Terms.Basic</a>           <a id="1652" class="Symbol">{</a><a id="1653" class="Argument">𝑆</a> <a id="1655" class="Symbol">=</a> <a id="1657" href="Varieties.Func.SoundAndComplete.html#722" class="Bound">𝑆</a><a id="1658" class="Symbol">}</a> <a id="1660" class="Keyword">using</a> <a id="1666" class="Symbol">(</a> <a id="1668" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="1673" class="Symbol">)</a>
<a id="1675" class="Keyword">open</a> <a id="1680" class="Keyword">import</a> <a id="1687" href="Terms.Func.Basic.html" class="Module">Terms.Func.Basic</a>      <a id="1709" class="Symbol">{</a><a id="1710" class="Argument">𝑆</a> <a id="1712" class="Symbol">=</a> <a id="1714" href="Varieties.Func.SoundAndComplete.html#722" class="Bound">𝑆</a><a id="1715" class="Symbol">}</a> <a id="1717" class="Keyword">using</a> <a id="1723" class="Symbol">(</a> <a id="1725" class="Keyword">module</a> <a id="1732" href="Terms.Func.Basic.html#3894" class="Module">Environment</a> <a id="1744" class="Symbol">;</a> <a id="1746" href="Terms.Func.Basic.html#3531" class="Function">Sub</a> <a id="1750" class="Symbol">;</a> <a id="1752" href="Terms.Func.Basic.html#3629" class="Function Operator">_[_]</a> <a id="1757" class="Symbol">)</a>

<a id="1760" class="Keyword">open</a> <a id="1765" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a>        <a id="1779" class="Keyword">using</a> <a id="1785" class="Symbol">(</a> <a id="1787" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="1795" class="Symbol">;</a> <a id="1797" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="1801" class="Symbol">;</a> <a id="1803" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="1817" class="Symbol">)</a>
<a id="1819" class="Keyword">open</a> <a id="1824" href="Function.Bundles.html#1868" class="Module">Func</a>          <a id="1838" class="Keyword">renaming</a> <a id="1847" class="Symbol">(</a> <a id="1849" href="Function.Bundles.html#1919" class="Field">f</a> <a id="1851" class="Symbol">to</a> <a id="1854" class="Field">_⟨$⟩_</a> <a id="1860" class="Symbol">)</a>
<a id="1862" class="Keyword">open</a> <a id="1867" href="Terms.Basic.html#1991" class="Module">Term</a>

<a id="1873" class="Keyword">private</a> <a id="1881" class="Keyword">variable</a>
 <a id="1891" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a> <a id="1893" href="Varieties.Func.SoundAndComplete.html#1893" class="Generalizable">α</a> <a id="1895" href="Varieties.Func.SoundAndComplete.html#1895" class="Generalizable">ρᵃ</a> <a id="1898" href="Varieties.Func.SoundAndComplete.html#1898" class="Generalizable">ι</a> <a id="1900" href="Varieties.Func.SoundAndComplete.html#1900" class="Generalizable">ℓ</a> <a id="1902" class="Symbol">:</a> <a id="1904" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="1911" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a> <a id="1913" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="1915" href="Varieties.Func.SoundAndComplete.html#1915" class="Generalizable">Δ</a> <a id="1917" class="Symbol">:</a> <a id="1919" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="1924" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a>
 <a id="1927" href="Varieties.Func.SoundAndComplete.html#1927" class="Generalizable">f</a>     <a id="1933" class="Symbol">:</a> <a id="1935" href="Overture.Preliminaries.html#4382" class="Function Operator">∣</a> <a id="1937" href="Varieties.Func.SoundAndComplete.html#722" class="Bound">𝑆</a> <a id="1939" href="Overture.Preliminaries.html#4382" class="Function Operator">∣</a>
 <a id="1942" href="Varieties.Func.SoundAndComplete.html#1942" class="Generalizable">I</a> <a id="1944" class="Symbol">:</a> <a id="1946" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="1951" href="Varieties.Func.SoundAndComplete.html#1898" class="Generalizable">ι</a>

<a id="1954" class="Comment">-- Equations</a>
<a id="1967" class="Comment">-- An equation is a pair (s , t) of terms in the same context.</a>
<a id="2030" class="Keyword">record</a> <a id="Eq"></a><a id="2037" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a> <a id="2040" class="Symbol">:</a> <a id="2042" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="2047" class="Symbol">(</a><a id="2048" href="Algebras.Func.Basic.html#1171" class="Function">ov</a> <a id="2051" href="Varieties.Func.SoundAndComplete.html#2051" class="Bound">χ</a><a id="2052" class="Symbol">)</a> <a id="2054" class="Keyword">where</a>
 <a id="2061" class="Keyword">constructor</a> <a id="_≈̇_"></a><a id="2073" href="Varieties.Func.SoundAndComplete.html#2073" class="InductiveConstructor Operator">_≈̇_</a>
 <a id="2079" class="Keyword">field</a>
  <a id="2087" class="Symbol">{</a><a id="Eq.cxt"></a><a id="2088" href="Varieties.Func.SoundAndComplete.html#2088" class="Field">cxt</a><a id="2091" class="Symbol">}</a> <a id="2093" class="Symbol">:</a> <a id="2095" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="2100" href="Varieties.Func.SoundAndComplete.html#2051" class="Bound">χ</a>
  <a id="Eq.lhs"></a><a id="2104" href="Varieties.Func.SoundAndComplete.html#2104" class="Field">lhs</a>   <a id="2110" class="Symbol">:</a> <a id="2112" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2117" href="Varieties.Func.SoundAndComplete.html#2088" class="Field">cxt</a>
  <a id="Eq.rhs"></a><a id="2123" href="Varieties.Func.SoundAndComplete.html#2123" class="Field">rhs</a>   <a id="2129" class="Symbol">:</a> <a id="2131" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2136" href="Varieties.Func.SoundAndComplete.html#2088" class="Field">cxt</a>

<a id="2141" class="Keyword">open</a> <a id="2146" href="Varieties.Func.SoundAndComplete.html#2037" class="Module">Eq</a> <a id="2149" class="Keyword">public</a>

<a id="2157" class="Comment">-- Equation p ≈̇ q holding in algebra M. (type \~~\^. to get ≈̇; type \models to get ⊧)</a>
<a id="_⊧_"></a><a id="2245" href="Varieties.Func.SoundAndComplete.html#2245" class="Function Operator">_⊧_</a> <a id="2249" class="Symbol">:</a> <a id="2251" class="Symbol">(</a><a id="2252" href="Varieties.Func.SoundAndComplete.html#2252" class="Bound">𝑨</a> <a id="2254" class="Symbol">:</a> <a id="2256" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="2270" href="Varieties.Func.SoundAndComplete.html#1893" class="Generalizable">α</a> <a id="2272" href="Varieties.Func.SoundAndComplete.html#1895" class="Generalizable">ρᵃ</a><a id="2274" class="Symbol">)(</a><a id="2276" href="Varieties.Func.SoundAndComplete.html#2276" class="Bound">term-identity</a> <a id="2290" class="Symbol">:</a> <a id="2292" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="2294" class="Symbol">{</a><a id="2295" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a><a id="2296" class="Symbol">})</a> <a id="2299" class="Symbol">→</a> <a id="2301" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="2306" class="Symbol">_</a>
<a id="2308" href="Varieties.Func.SoundAndComplete.html#2308" class="Bound">𝑨</a> <a id="2310" href="Varieties.Func.SoundAndComplete.html#2245" class="Function Operator">⊧</a> <a id="2312" class="Symbol">(</a><a id="2313" href="Varieties.Func.SoundAndComplete.html#2313" class="Bound">p</a> <a id="2315" href="Varieties.Func.SoundAndComplete.html#2073" class="InductiveConstructor Operator">≈̇</a> <a id="2318" href="Varieties.Func.SoundAndComplete.html#2318" class="Bound">q</a><a id="2319" class="Symbol">)</a> <a id="2321" class="Symbol">=</a> <a id="2323" href="Terms.Func.Basic.html#5386" class="Function">Equal</a> <a id="2329" href="Varieties.Func.SoundAndComplete.html#2313" class="Bound">p</a> <a id="2331" href="Varieties.Func.SoundAndComplete.html#2318" class="Bound">q</a> <a id="2333" class="Keyword">where</a> <a id="2339" class="Keyword">open</a> <a id="2344" href="Terms.Func.Basic.html#3894" class="Module">Environment</a> <a id="2356" href="Varieties.Func.SoundAndComplete.html#2308" class="Bound">𝑨</a>

<a id="_⊫_"></a><a id="2359" href="Varieties.Func.SoundAndComplete.html#2359" class="Function Operator">_⊫_</a> <a id="2363" class="Symbol">:</a> <a id="2365" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="2370" class="Symbol">(</a><a id="2371" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="2385" href="Varieties.Func.SoundAndComplete.html#1893" class="Generalizable">α</a> <a id="2387" href="Varieties.Func.SoundAndComplete.html#1895" class="Generalizable">ρᵃ</a><a id="2389" class="Symbol">)</a> <a id="2391" href="Varieties.Func.SoundAndComplete.html#1900" class="Generalizable">ℓ</a> <a id="2393" class="Symbol">→</a> <a id="2395" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="2397" class="Symbol">{</a><a id="2398" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a><a id="2399" class="Symbol">}</a> <a id="2401" class="Symbol">→</a> <a id="2403" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="2408" class="Symbol">(</a><a id="2409" href="Varieties.Func.SoundAndComplete.html#1900" class="Generalizable">ℓ</a> <a id="2411" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2413" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a> <a id="2415" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2417" href="Algebras.Func.Basic.html#1171" class="Function">ov</a><a id="2419" class="Symbol">(</a><a id="2420" href="Varieties.Func.SoundAndComplete.html#1893" class="Generalizable">α</a> <a id="2422" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2424" href="Varieties.Func.SoundAndComplete.html#1895" class="Generalizable">ρᵃ</a><a id="2426" class="Symbol">))</a>
<a id="2429" href="Varieties.Func.SoundAndComplete.html#2429" class="Bound">𝒦</a> <a id="2431" href="Varieties.Func.SoundAndComplete.html#2359" class="Function Operator">⊫</a> <a id="2433" href="Varieties.Func.SoundAndComplete.html#2433" class="Bound">eq</a> <a id="2436" class="Symbol">=</a> <a id="2438" class="Symbol">∀</a> <a id="2440" href="Varieties.Func.SoundAndComplete.html#2440" class="Bound">𝑨</a> <a id="2442" class="Symbol">→</a> <a id="2444" href="Varieties.Func.SoundAndComplete.html#2429" class="Bound">𝒦</a> <a id="2446" href="Varieties.Func.SoundAndComplete.html#2440" class="Bound">𝑨</a> <a id="2448" class="Symbol">→</a> <a id="2450" href="Varieties.Func.SoundAndComplete.html#2440" class="Bound">𝑨</a> <a id="2452" href="Varieties.Func.SoundAndComplete.html#2245" class="Function Operator">⊧</a> <a id="2454" href="Varieties.Func.SoundAndComplete.html#2433" class="Bound">eq</a>                    <a id="2476" class="Comment">-- (type \||= to get ⊫)</a>

<a id="2501" class="Comment">-- An I-indexed set of equations inhabits the type I → Eq.</a>

<a id="2561" class="Comment">-- For such `ℰ : I → Eq`...</a>

<a id="2590" class="Comment">-- ...`𝑨 ⊨ ℰ` is the assertion that the algebra 𝑨 models every equation in ℰ.</a>
<a id="_⊨_"></a><a id="2668" href="Varieties.Func.SoundAndComplete.html#2668" class="Function Operator">_⊨_</a> <a id="2672" class="Symbol">:</a> <a id="2674" class="Symbol">(</a><a id="2675" href="Varieties.Func.SoundAndComplete.html#2675" class="Bound">𝑨</a> <a id="2677" class="Symbol">:</a> <a id="2679" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="2693" href="Varieties.Func.SoundAndComplete.html#1893" class="Generalizable">α</a> <a id="2695" href="Varieties.Func.SoundAndComplete.html#1895" class="Generalizable">ρᵃ</a><a id="2697" class="Symbol">)</a> <a id="2699" class="Symbol">→</a> <a id="2701" class="Symbol">(</a><a id="2702" href="Varieties.Func.SoundAndComplete.html#1942" class="Generalizable">I</a> <a id="2704" class="Symbol">→</a> <a id="2706" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="2708" class="Symbol">{</a><a id="2709" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a><a id="2710" class="Symbol">})</a> <a id="2713" class="Symbol">→</a> <a id="2715" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="2720" class="Symbol">_</a>
<a id="2722" href="Varieties.Func.SoundAndComplete.html#2722" class="Bound">𝑨</a> <a id="2724" href="Varieties.Func.SoundAndComplete.html#2668" class="Function Operator">⊨</a> <a id="2726" href="Varieties.Func.SoundAndComplete.html#2726" class="Bound">ℰ</a> <a id="2728" class="Symbol">=</a> <a id="2730" class="Symbol">∀</a> <a id="2732" href="Varieties.Func.SoundAndComplete.html#2732" class="Bound">i</a> <a id="2734" class="Symbol">→</a> <a id="2736" href="Terms.Func.Basic.html#5386" class="Function">Equal</a> <a id="2742" class="Symbol">(</a><a id="2743" href="Varieties.Func.SoundAndComplete.html#2104" class="Field">lhs</a> <a id="2747" class="Symbol">(</a><a id="2748" href="Varieties.Func.SoundAndComplete.html#2726" class="Bound">ℰ</a> <a id="2750" href="Varieties.Func.SoundAndComplete.html#2732" class="Bound">i</a><a id="2751" class="Symbol">))(</a><a id="2754" href="Varieties.Func.SoundAndComplete.html#2123" class="Field">rhs</a> <a id="2758" class="Symbol">(</a><a id="2759" href="Varieties.Func.SoundAndComplete.html#2726" class="Bound">ℰ</a> <a id="2761" href="Varieties.Func.SoundAndComplete.html#2732" class="Bound">i</a><a id="2762" class="Symbol">))</a> <a id="2765" class="Keyword">where</a> <a id="2771" class="Keyword">open</a> <a id="2776" href="Terms.Func.Basic.html#3894" class="Module">Environment</a> <a id="2788" href="Varieties.Func.SoundAndComplete.html#2722" class="Bound">𝑨</a>  <a id="2791" class="Comment">--   (type \|= to get ⊨)</a>

<a id="2817" class="Comment">-- ...`𝒦 ∥≈ ℰ` is the assertion that every algebra in 𝒦 models every equation in ℰ.</a>
<a id="_∥≈_"></a><a id="2901" href="Varieties.Func.SoundAndComplete.html#2901" class="Function Operator">_∥≈_</a> <a id="2906" class="Symbol">:</a> <a id="2908" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="2913" class="Symbol">(</a><a id="2914" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="2928" href="Varieties.Func.SoundAndComplete.html#1893" class="Generalizable">α</a> <a id="2930" href="Varieties.Func.SoundAndComplete.html#1895" class="Generalizable">ρᵃ</a><a id="2932" class="Symbol">)</a> <a id="2934" href="Varieties.Func.SoundAndComplete.html#1900" class="Generalizable">ℓ</a> <a id="2936" class="Symbol">→</a> <a id="2938" class="Symbol">(</a><a id="2939" href="Varieties.Func.SoundAndComplete.html#1942" class="Generalizable">I</a> <a id="2941" class="Symbol">→</a> <a id="2943" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="2945" class="Symbol">{</a><a id="2946" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a><a id="2947" class="Symbol">})</a> <a id="2950" class="Symbol">→</a> <a id="2952" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="2957" class="Symbol">_</a>
<a id="2959" href="Varieties.Func.SoundAndComplete.html#2959" class="Bound">𝒦</a> <a id="2961" href="Varieties.Func.SoundAndComplete.html#2901" class="Function Operator">∥≈</a> <a id="2964" href="Varieties.Func.SoundAndComplete.html#2964" class="Bound">ℰ</a> <a id="2966" class="Symbol">=</a> <a id="2968" class="Symbol">∀</a> <a id="2970" href="Varieties.Func.SoundAndComplete.html#2970" class="Bound">i</a> <a id="2972" class="Symbol">→</a> <a id="2974" href="Varieties.Func.SoundAndComplete.html#2959" class="Bound">𝒦</a> <a id="2976" href="Varieties.Func.SoundAndComplete.html#2359" class="Function Operator">⊫</a> <a id="2978" href="Varieties.Func.SoundAndComplete.html#2964" class="Bound">ℰ</a> <a id="2980" href="Varieties.Func.SoundAndComplete.html#2970" class="Bound">i</a>

<a id="2983" class="Comment">-- ...`Mod ℰ` is the class of algebras that model every equation in ℰ.</a>
<a id="ModTuple"></a><a id="3054" href="Varieties.Func.SoundAndComplete.html#3054" class="Function">ModTuple</a> <a id="3063" class="Symbol">:</a> <a id="3065" class="Symbol">(</a><a id="3066" href="Varieties.Func.SoundAndComplete.html#1942" class="Generalizable">I</a> <a id="3068" class="Symbol">→</a> <a id="3070" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="3072" class="Symbol">{</a><a id="3073" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a><a id="3074" class="Symbol">})</a> <a id="3077" class="Symbol">→</a> <a id="3079" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3083" class="Symbol">(</a><a id="3084" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="3098" href="Varieties.Func.SoundAndComplete.html#1893" class="Generalizable">α</a> <a id="3100" href="Varieties.Func.SoundAndComplete.html#1895" class="Generalizable">ρᵃ</a><a id="3102" class="Symbol">)</a> <a id="3104" class="Symbol">_</a>
<a id="3106" href="Varieties.Func.SoundAndComplete.html#3054" class="Function">ModTuple</a> <a id="3115" href="Varieties.Func.SoundAndComplete.html#3115" class="Bound">ℰ</a> <a id="3117" class="Symbol">=</a> <a id="3119" href="Varieties.Func.SoundAndComplete.html#2668" class="Function Operator">_⊨</a> <a id="3122" href="Varieties.Func.SoundAndComplete.html#3115" class="Bound">ℰ</a>

<a id="3125" class="Keyword">module</a> <a id="3132" href="Varieties.Func.SoundAndComplete.html#3132" class="Module">_</a> <a id="3134" class="Symbol">{</a><a id="3135" href="Varieties.Func.SoundAndComplete.html#3135" class="Bound">α</a> <a id="3137" href="Varieties.Func.SoundAndComplete.html#3137" class="Bound">ρᵃ</a> <a id="3140" href="Varieties.Func.SoundAndComplete.html#3140" class="Bound">ℓ</a> <a id="3142" class="Symbol">:</a> <a id="3144" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="3149" class="Symbol">}</a> <a id="3151" class="Keyword">where</a>

 <a id="3159" href="Varieties.Func.SoundAndComplete.html#3159" class="Function">Mod</a> <a id="3163" class="Symbol">:</a> <a id="3165" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3169" class="Symbol">(</a><a id="3170" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3175" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a> <a id="3177" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3179" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3184" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a><a id="3185" class="Symbol">)</a> <a id="3187" href="Varieties.Func.SoundAndComplete.html#3140" class="Bound">ℓ</a> <a id="3189" class="Symbol">→</a> <a id="3191" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3196" class="Symbol">(</a><a id="3197" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="3211" href="Varieties.Func.SoundAndComplete.html#3135" class="Bound">α</a> <a id="3213" href="Varieties.Func.SoundAndComplete.html#3137" class="Bound">ρᵃ</a><a id="3215" class="Symbol">)</a> <a id="3217" class="Symbol">_</a> <a id="3219" class="Comment">-- (𝓞 ⊔ 𝓥 ⊔ lsuc χ ⊔ ℓ ⊔ α ⊔ ρᵃ)</a>
 <a id="3253" href="Varieties.Func.SoundAndComplete.html#3159" class="Function">Mod</a> <a id="3257" href="Varieties.Func.SoundAndComplete.html#3257" class="Bound">ℰ</a> <a id="3259" href="Varieties.Func.SoundAndComplete.html#3259" class="Bound">𝑨</a> <a id="3261" class="Symbol">=</a> <a id="3263" class="Symbol">∀</a> <a id="3265" class="Symbol">{</a><a id="3266" href="Varieties.Func.SoundAndComplete.html#3266" class="Bound">p</a> <a id="3268" href="Varieties.Func.SoundAndComplete.html#3268" class="Bound">q</a><a id="3269" class="Symbol">}</a> <a id="3271" class="Symbol">→</a> <a id="3273" class="Symbol">(</a><a id="3274" href="Varieties.Func.SoundAndComplete.html#3266" class="Bound">p</a> <a id="3276" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3278" href="Varieties.Func.SoundAndComplete.html#3268" class="Bound">q</a><a id="3279" class="Symbol">)</a> <a id="3281" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3283" href="Varieties.Func.SoundAndComplete.html#3257" class="Bound">ℰ</a> <a id="3285" class="Symbol">→</a> <a id="3287" href="Terms.Func.Basic.html#5386" class="Function">Equal</a> <a id="3293" href="Varieties.Func.SoundAndComplete.html#3266" class="Bound">p</a> <a id="3295" href="Varieties.Func.SoundAndComplete.html#3268" class="Bound">q</a> <a id="3297" class="Keyword">where</a> <a id="3303" class="Keyword">open</a> <a id="3308" href="Terms.Func.Basic.html#3894" class="Module">Environment</a> <a id="3320" href="Varieties.Func.SoundAndComplete.html#3259" class="Bound">𝑨</a>

 <a id="3324" href="Varieties.Func.SoundAndComplete.html#3324" class="Function">Th</a> <a id="3327" class="Symbol">:</a> <a id="3329" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3334" class="Symbol">(</a><a id="3335" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="3349" href="Varieties.Func.SoundAndComplete.html#3135" class="Bound">α</a> <a id="3351" href="Varieties.Func.SoundAndComplete.html#3137" class="Bound">ρᵃ</a><a id="3353" class="Symbol">)</a> <a id="3355" href="Varieties.Func.SoundAndComplete.html#3140" class="Bound">ℓ</a> <a id="3357" class="Symbol">→</a> <a id="3359" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3363" class="Symbol">(</a><a id="3364" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3369" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a> <a id="3371" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3373" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3378" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a><a id="3379" class="Symbol">)</a> <a id="3381" class="Symbol">_</a> <a id="3383" class="Comment">-- (ℓ ⊔ χ ⊔ ov (α ⊔ ρᵃ))</a>
 <a id="3409" href="Varieties.Func.SoundAndComplete.html#3324" class="Function">Th</a> <a id="3412" href="Varieties.Func.SoundAndComplete.html#3412" class="Bound">𝒦</a> <a id="3414" class="Symbol">=</a> <a id="3416" class="Symbol">λ</a> <a id="3418" class="Symbol">(</a><a id="3419" href="Varieties.Func.SoundAndComplete.html#3419" class="Bound">p</a> <a id="3421" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3423" href="Varieties.Func.SoundAndComplete.html#3423" class="Bound">q</a><a id="3424" class="Symbol">)</a> <a id="3426" class="Symbol">→</a> <a id="3428" href="Varieties.Func.SoundAndComplete.html#3412" class="Bound">𝒦</a> <a id="3430" href="Varieties.Func.SoundAndComplete.html#2359" class="Function Operator">⊫</a> <a id="3432" class="Symbol">(</a><a id="3433" href="Varieties.Func.SoundAndComplete.html#3419" class="Bound">p</a> <a id="3435" href="Varieties.Func.SoundAndComplete.html#2073" class="InductiveConstructor Operator">≈̇</a> <a id="3438" href="Varieties.Func.SoundAndComplete.html#3423" class="Bound">q</a><a id="3439" class="Symbol">)</a>

 <a id="3443" href="Varieties.Func.SoundAndComplete.html#3443" class="Function">ℑTh</a> <a id="3447" class="Symbol">:</a> <a id="3449" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="3453" class="Symbol">(</a><a id="3454" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3459" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a> <a id="3461" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3463" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3468" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a><a id="3469" class="Symbol">)</a> <a id="3471" class="Symbol">(</a><a id="3472" href="Varieties.Func.SoundAndComplete.html#3140" class="Bound">ℓ</a> <a id="3474" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3476" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a> <a id="3478" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3480" href="Algebras.Func.Basic.html#1171" class="Function">ov</a> <a id="3483" class="Symbol">(</a><a id="3484" href="Varieties.Func.SoundAndComplete.html#3135" class="Bound">α</a> <a id="3486" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3488" href="Varieties.Func.SoundAndComplete.html#3137" class="Bound">ρᵃ</a><a id="3490" class="Symbol">))</a> <a id="3493" class="Symbol">→</a> <a id="3495" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="3500" class="Symbol">_</a> <a id="3502" class="Comment">-- (ℓ ⊔ ov (α ⊔ ρᵃ ⊔ χ))</a>
 <a id="3528" href="Varieties.Func.SoundAndComplete.html#3443" class="Function">ℑTh</a> <a id="3532" href="Varieties.Func.SoundAndComplete.html#3532" class="Bound">P</a> <a id="3534" class="Symbol">=</a> <a id="3536" href="Data.Product.html#916" class="Function">Σ[</a> <a id="3539" href="Varieties.Func.SoundAndComplete.html#3539" class="Bound">p</a> <a id="3541" href="Data.Product.html#916" class="Function">∈</a> <a id="3543" class="Symbol">(</a><a id="3544" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3549" class="Symbol">_</a> <a id="3551" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3553" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="3558" class="Symbol">_)</a> <a id="3561" href="Data.Product.html#916" class="Function">]</a> <a id="3563" href="Varieties.Func.SoundAndComplete.html#3539" class="Bound">p</a> <a id="3565" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3567" href="Varieties.Func.SoundAndComplete.html#3532" class="Bound">P</a>

 <a id="3571" class="Keyword">module</a> <a id="3578" href="Varieties.Func.SoundAndComplete.html#3578" class="Module">_</a> <a id="3580" class="Symbol">{</a><a id="3581" href="Varieties.Func.SoundAndComplete.html#3581" class="Bound">χ</a> <a id="3583" class="Symbol">:</a> <a id="3585" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="3590" class="Symbol">}{</a><a id="3592" href="Varieties.Func.SoundAndComplete.html#3592" class="Bound">X</a> <a id="3594" class="Symbol">:</a> <a id="3596" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="3601" href="Varieties.Func.SoundAndComplete.html#3581" class="Bound">χ</a><a id="3602" class="Symbol">}</a> <a id="3604" class="Keyword">where</a>

  <a id="3613" href="Varieties.Func.SoundAndComplete.html#3613" class="Function">ThTuple</a> <a id="3621" class="Symbol">:</a> <a id="3623" class="Symbol">(</a><a id="3624" href="Varieties.Func.SoundAndComplete.html#3624" class="Bound">𝒦</a> <a id="3626" class="Symbol">:</a> <a id="3628" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3633" class="Symbol">(</a><a id="3634" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="3648" href="Varieties.Func.SoundAndComplete.html#3135" class="Bound">α</a> <a id="3650" href="Varieties.Func.SoundAndComplete.html#3137" class="Bound">ρᵃ</a><a id="3652" class="Symbol">)</a> <a id="3654" href="Varieties.Func.SoundAndComplete.html#3140" class="Bound">ℓ</a><a id="3655" class="Symbol">)</a> <a id="3657" class="Symbol">→</a> <a id="3659" href="Varieties.Func.SoundAndComplete.html#3443" class="Function">ℑTh</a><a id="3662" class="Symbol">{</a><a id="3663" class="Argument">χ</a> <a id="3665" class="Symbol">=</a> <a id="3667" href="Varieties.Func.SoundAndComplete.html#3581" class="Bound">χ</a><a id="3668" class="Symbol">}</a> <a id="3670" class="Symbol">(</a><a id="3671" href="Varieties.Func.SoundAndComplete.html#3324" class="Function">Th</a><a id="3673" class="Symbol">{</a><a id="3674" class="Argument">X</a> <a id="3676" class="Symbol">=</a> <a id="3678" href="Varieties.Func.SoundAndComplete.html#3592" class="Bound">X</a><a id="3679" class="Symbol">}</a> <a id="3681" href="Varieties.Func.SoundAndComplete.html#3624" class="Bound">𝒦</a><a id="3682" class="Symbol">)</a> <a id="3684" class="Symbol">→</a> <a id="3686" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="3688" class="Symbol">{</a><a id="3689" href="Varieties.Func.SoundAndComplete.html#3581" class="Bound">χ</a><a id="3690" class="Symbol">}</a>
  <a id="3694" href="Varieties.Func.SoundAndComplete.html#3613" class="Function">ThTuple</a> <a id="3702" href="Varieties.Func.SoundAndComplete.html#3702" class="Bound">𝒦</a> <a id="3704" class="Symbol">=</a> <a id="3706" class="Symbol">λ</a> <a id="3708" href="Varieties.Func.SoundAndComplete.html#3708" class="Bound">i</a> <a id="3710" class="Symbol">→</a> <a id="3712" href="Varieties.Func.SoundAndComplete.html#1006" class="Field">fst</a> <a id="3716" href="Overture.Preliminaries.html#4382" class="Function Operator">∣</a> <a id="3718" href="Varieties.Func.SoundAndComplete.html#3708" class="Bound">i</a> <a id="3720" href="Overture.Preliminaries.html#4382" class="Function Operator">∣</a> <a id="3722" href="Varieties.Func.SoundAndComplete.html#2073" class="InductiveConstructor Operator">≈̇</a> <a id="3725" href="Varieties.Func.SoundAndComplete.html#1021" class="Field">snd</a> <a id="3729" href="Overture.Preliminaries.html#4382" class="Function Operator">∣</a> <a id="3731" href="Varieties.Func.SoundAndComplete.html#3708" class="Bound">i</a> <a id="3733" href="Overture.Preliminaries.html#4382" class="Function Operator">∣</a>

<a id="3736" class="Keyword">module</a> <a id="3743" href="Varieties.Func.SoundAndComplete.html#3743" class="Module">_</a> <a id="3745" class="Symbol">{</a><a id="3746" href="Varieties.Func.SoundAndComplete.html#3746" class="Bound">α</a><a id="3747" class="Symbol">}{</a><a id="3749" href="Varieties.Func.SoundAndComplete.html#3749" class="Bound">ρᵃ</a><a id="3751" class="Symbol">}{</a><a id="3753" href="Varieties.Func.SoundAndComplete.html#3753" class="Bound">ι</a><a id="3754" class="Symbol">}{</a><a id="3756" href="Varieties.Func.SoundAndComplete.html#3756" class="Bound">I</a> <a id="3758" class="Symbol">:</a> <a id="3760" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="3765" href="Varieties.Func.SoundAndComplete.html#3753" class="Bound">ι</a><a id="3766" class="Symbol">}</a> <a id="3768" class="Keyword">where</a>
 <a id="3775" class="Comment">-- An entailment E ⊃ eq holds iff it holds in all models of E.</a>
 <a id="3839" href="Varieties.Func.SoundAndComplete.html#3839" class="Function Operator">_⊃_</a> <a id="3843" class="Symbol">:</a> <a id="3845" class="Symbol">(</a><a id="3846" href="Varieties.Func.SoundAndComplete.html#3846" class="Bound">E</a> <a id="3848" class="Symbol">:</a> <a id="3850" href="Varieties.Func.SoundAndComplete.html#3756" class="Bound">I</a> <a id="3852" class="Symbol">→</a> <a id="3854" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="3856" class="Symbol">{</a><a id="3857" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a><a id="3858" class="Symbol">})</a> <a id="3861" class="Symbol">(</a><a id="3862" href="Varieties.Func.SoundAndComplete.html#3862" class="Bound">eq</a> <a id="3865" class="Symbol">:</a> <a id="3867" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="3869" class="Symbol">{</a><a id="3870" href="Varieties.Func.SoundAndComplete.html#1891" class="Generalizable">χ</a><a id="3871" class="Symbol">})</a> <a id="3874" class="Symbol">→</a> <a id="3876" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="3881" class="Symbol">_</a>
 <a id="3884" href="Varieties.Func.SoundAndComplete.html#3884" class="Bound">E</a> <a id="3886" href="Varieties.Func.SoundAndComplete.html#3839" class="Function Operator">⊃</a> <a id="3888" href="Varieties.Func.SoundAndComplete.html#3888" class="Bound">eq</a> <a id="3891" class="Symbol">=</a> <a id="3893" class="Symbol">(</a><a id="3894" href="Varieties.Func.SoundAndComplete.html#3894" class="Bound">M</a> <a id="3896" class="Symbol">:</a> <a id="3898" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="3912" href="Varieties.Func.SoundAndComplete.html#3746" class="Bound">α</a> <a id="3914" href="Varieties.Func.SoundAndComplete.html#3749" class="Bound">ρᵃ</a><a id="3916" class="Symbol">)</a> <a id="3918" class="Symbol">→</a> <a id="3920" href="Varieties.Func.SoundAndComplete.html#3894" class="Bound">M</a> <a id="3922" href="Varieties.Func.SoundAndComplete.html#2668" class="Function Operator">⊨</a> <a id="3924" href="Varieties.Func.SoundAndComplete.html#3884" class="Bound">E</a> <a id="3926" class="Symbol">→</a> <a id="3928" href="Varieties.Func.SoundAndComplete.html#3894" class="Bound">M</a> <a id="3930" href="Varieties.Func.SoundAndComplete.html#2245" class="Function Operator">⊧</a> <a id="3932" href="Varieties.Func.SoundAndComplete.html#3888" class="Bound">eq</a>

</pre>


##### <a id="derivations-in-a-context">Derivations in a context</a>

(Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="4179" class="Keyword">module</a> <a id="4186" href="Varieties.Func.SoundAndComplete.html#4186" class="Module">_</a> <a id="4188" class="Symbol">{</a><a id="4189" href="Varieties.Func.SoundAndComplete.html#4189" class="Bound">χ</a> <a id="4191" href="Varieties.Func.SoundAndComplete.html#4191" class="Bound">ι</a> <a id="4193" class="Symbol">:</a> <a id="4195" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="4200" class="Symbol">}</a> <a id="4202" class="Keyword">where</a>

 <a id="4210" class="Keyword">data</a> <a id="4215" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">_⊢_▹_≈_</a> <a id="4223" class="Symbol">{</a><a id="4224" href="Varieties.Func.SoundAndComplete.html#4224" class="Bound">I</a> <a id="4226" class="Symbol">:</a> <a id="4228" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="4233" href="Varieties.Func.SoundAndComplete.html#4191" class="Bound">ι</a><a id="4234" class="Symbol">}(</a><a id="4236" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4238" class="Symbol">:</a> <a id="4240" href="Varieties.Func.SoundAndComplete.html#4224" class="Bound">I</a> <a id="4242" class="Symbol">→</a> <a id="4244" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="4246" class="Symbol">)</a> <a id="4248" class="Symbol">:</a> <a id="4250" class="Symbol">(</a><a id="4251" href="Varieties.Func.SoundAndComplete.html#4251" class="Bound">X</a> <a id="4253" class="Symbol">:</a> <a id="4255" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="4260" href="Varieties.Func.SoundAndComplete.html#4189" class="Bound">χ</a><a id="4261" class="Symbol">)(</a><a id="4263" href="Varieties.Func.SoundAndComplete.html#4263" class="Bound">p</a> <a id="4265" href="Varieties.Func.SoundAndComplete.html#4265" class="Bound">q</a> <a id="4267" class="Symbol">:</a> <a id="4269" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="4274" href="Varieties.Func.SoundAndComplete.html#4251" class="Bound">X</a><a id="4275" class="Symbol">)</a> <a id="4277" class="Symbol">→</a> <a id="4279" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="4284" class="Symbol">(</a><a id="4285" href="Varieties.Func.SoundAndComplete.html#4191" class="Bound">ι</a> <a id="4287" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="4289" href="Algebras.Func.Basic.html#1171" class="Function">ov</a> <a id="4292" href="Varieties.Func.SoundAndComplete.html#4189" class="Bound">χ</a><a id="4293" class="Symbol">)</a> <a id="4295" class="Keyword">where</a>
  <a id="4303" href="Varieties.Func.SoundAndComplete.html#4303" class="InductiveConstructor">hyp</a>   <a id="4309" class="Symbol">:</a> <a id="4311" class="Symbol">∀</a> <a id="4313" href="Varieties.Func.SoundAndComplete.html#4313" class="Bound">i</a> <a id="4315" class="Symbol">→</a> <a id="4317" class="Keyword">let</a> <a id="4321" href="Varieties.Func.SoundAndComplete.html#4321" class="Bound">p</a> <a id="4323" href="Varieties.Func.SoundAndComplete.html#2073" class="InductiveConstructor Operator">≈̇</a> <a id="4326" href="Varieties.Func.SoundAndComplete.html#4326" class="Bound">q</a> <a id="4328" class="Symbol">=</a> <a id="4330" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4332" href="Varieties.Func.SoundAndComplete.html#4313" class="Bound">i</a> <a id="4334" class="Keyword">in</a> <a id="4337" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4339" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4341" class="Symbol">_</a> <a id="4343" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4345" href="Varieties.Func.SoundAndComplete.html#4321" class="Bound">p</a> <a id="4347" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4349" href="Varieties.Func.SoundAndComplete.html#4326" class="Bound">q</a>
  <a id="4353" href="Varieties.Func.SoundAndComplete.html#4353" class="InductiveConstructor">app</a>   <a id="4359" class="Symbol">:</a> <a id="4361" class="Symbol">∀</a> <a id="4363" class="Symbol">{</a><a id="4364" href="Varieties.Func.SoundAndComplete.html#4364" class="Bound">ps</a> <a id="4367" href="Varieties.Func.SoundAndComplete.html#4367" class="Bound">qs</a><a id="4369" class="Symbol">}</a> <a id="4371" class="Symbol">→</a> <a id="4373" class="Symbol">(∀</a> <a id="4376" href="Varieties.Func.SoundAndComplete.html#4376" class="Bound">i</a> <a id="4378" class="Symbol">→</a> <a id="4380" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4382" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4384" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4386" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4388" href="Varieties.Func.SoundAndComplete.html#4364" class="Bound">ps</a> <a id="4391" href="Varieties.Func.SoundAndComplete.html#4376" class="Bound">i</a> <a id="4393" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4395" href="Varieties.Func.SoundAndComplete.html#4367" class="Bound">qs</a> <a id="4398" href="Varieties.Func.SoundAndComplete.html#4376" class="Bound">i</a><a id="4399" class="Symbol">)</a> <a id="4401" class="Symbol">→</a> <a id="4403" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4405" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4407" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4409" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4411" class="Symbol">(</a><a id="4412" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4417" href="Varieties.Func.SoundAndComplete.html#1927" class="Generalizable">f</a> <a id="4419" href="Varieties.Func.SoundAndComplete.html#4364" class="Bound">ps</a><a id="4421" class="Symbol">)</a> <a id="4423" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4425" class="Symbol">(</a><a id="4426" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="4431" href="Varieties.Func.SoundAndComplete.html#1927" class="Generalizable">f</a> <a id="4433" href="Varieties.Func.SoundAndComplete.html#4367" class="Bound">qs</a><a id="4435" class="Symbol">)</a>
  <a id="4439" href="Varieties.Func.SoundAndComplete.html#4439" class="InductiveConstructor">sub</a>   <a id="4445" class="Symbol">:</a> <a id="4447" class="Symbol">∀</a> <a id="4449" class="Symbol">{</a><a id="4450" href="Varieties.Func.SoundAndComplete.html#4450" class="Bound">p</a> <a id="4452" href="Varieties.Func.SoundAndComplete.html#4452" class="Bound">q</a><a id="4453" class="Symbol">}</a> <a id="4455" class="Symbol">→</a> <a id="4457" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4459" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4461" href="Varieties.Func.SoundAndComplete.html#1915" class="Generalizable">Δ</a> <a id="4463" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4465" href="Varieties.Func.SoundAndComplete.html#4450" class="Bound">p</a> <a id="4467" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4469" href="Varieties.Func.SoundAndComplete.html#4452" class="Bound">q</a> <a id="4471" class="Symbol">→</a> <a id="4473" class="Symbol">∀</a> <a id="4475" class="Symbol">(</a><a id="4476" href="Varieties.Func.SoundAndComplete.html#4476" class="Bound">σ</a> <a id="4478" class="Symbol">:</a> <a id="4480" href="Terms.Func.Basic.html#3531" class="Function">Sub</a> <a id="4484" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4486" href="Varieties.Func.SoundAndComplete.html#1915" class="Generalizable">Δ</a><a id="4487" class="Symbol">)</a> <a id="4489" class="Symbol">→</a> <a id="4491" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4493" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4495" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4497" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4499" class="Symbol">(</a><a id="4500" href="Varieties.Func.SoundAndComplete.html#4450" class="Bound">p</a> <a id="4502" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="4504" href="Varieties.Func.SoundAndComplete.html#4476" class="Bound">σ</a> <a id="4506" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a><a id="4507" class="Symbol">)</a> <a id="4509" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4511" class="Symbol">(</a><a id="4512" href="Varieties.Func.SoundAndComplete.html#4452" class="Bound">q</a> <a id="4514" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="4516" href="Varieties.Func.SoundAndComplete.html#4476" class="Bound">σ</a> <a id="4518" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a><a id="4519" class="Symbol">)</a>

  <a id="4524" href="Varieties.Func.SoundAndComplete.html#4524" class="InductiveConstructor">refl</a>  <a id="4530" class="Symbol">:</a> <a id="4532" class="Symbol">∀</a> <a id="4534" class="Symbol">{</a><a id="4535" href="Varieties.Func.SoundAndComplete.html#4535" class="Bound">p</a><a id="4536" class="Symbol">}</a>              <a id="4551" class="Symbol">→</a> <a id="4553" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4555" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4557" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4559" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4561" href="Varieties.Func.SoundAndComplete.html#4535" class="Bound">p</a> <a id="4563" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4565" href="Varieties.Func.SoundAndComplete.html#4535" class="Bound">p</a>
  <a id="4569" href="Varieties.Func.SoundAndComplete.html#4569" class="InductiveConstructor">sym</a>   <a id="4575" class="Symbol">:</a> <a id="4577" class="Symbol">∀</a> <a id="4579" class="Symbol">{</a><a id="4580" href="Varieties.Func.SoundAndComplete.html#4580" class="Bound">p</a> <a id="4582" href="Varieties.Func.SoundAndComplete.html#4582" class="Bound">q</a> <a id="4584" class="Symbol">:</a> <a id="4586" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="4591" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a><a id="4592" class="Symbol">}</a>   <a id="4596" class="Symbol">→</a> <a id="4598" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4600" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4602" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4604" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4606" href="Varieties.Func.SoundAndComplete.html#4580" class="Bound">p</a> <a id="4608" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4610" href="Varieties.Func.SoundAndComplete.html#4582" class="Bound">q</a> <a id="4612" class="Symbol">→</a> <a id="4614" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4616" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4618" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4620" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4622" href="Varieties.Func.SoundAndComplete.html#4582" class="Bound">q</a> <a id="4624" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4626" href="Varieties.Func.SoundAndComplete.html#4580" class="Bound">p</a>
  <a id="4630" href="Varieties.Func.SoundAndComplete.html#4630" class="InductiveConstructor">trans</a> <a id="4636" class="Symbol">:</a> <a id="4638" class="Symbol">∀</a> <a id="4640" class="Symbol">{</a><a id="4641" href="Varieties.Func.SoundAndComplete.html#4641" class="Bound">p</a> <a id="4643" href="Varieties.Func.SoundAndComplete.html#4643" class="Bound">q</a> <a id="4645" href="Varieties.Func.SoundAndComplete.html#4645" class="Bound">r</a> <a id="4647" class="Symbol">:</a> <a id="4649" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="4654" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a><a id="4655" class="Symbol">}</a> <a id="4657" class="Symbol">→</a> <a id="4659" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4661" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4663" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4665" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4667" href="Varieties.Func.SoundAndComplete.html#4641" class="Bound">p</a> <a id="4669" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4671" href="Varieties.Func.SoundAndComplete.html#4643" class="Bound">q</a> <a id="4673" class="Symbol">→</a> <a id="4675" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4677" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4679" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4681" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4683" href="Varieties.Func.SoundAndComplete.html#4643" class="Bound">q</a> <a id="4685" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4687" href="Varieties.Func.SoundAndComplete.html#4645" class="Bound">r</a> <a id="4689" class="Symbol">→</a> <a id="4691" href="Varieties.Func.SoundAndComplete.html#4236" class="Bound">E</a> <a id="4693" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4695" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4697" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="4699" href="Varieties.Func.SoundAndComplete.html#4641" class="Bound">p</a> <a id="4701" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="4703" href="Varieties.Func.SoundAndComplete.html#4645" class="Bound">r</a>

 <a id="4707" href="Varieties.Func.SoundAndComplete.html#4707" class="Function">⊢▹≈IsEquiv</a> <a id="4718" class="Symbol">:</a> <a id="4720" class="Symbol">{</a><a id="4721" href="Varieties.Func.SoundAndComplete.html#4721" class="Bound">I</a> <a id="4723" class="Symbol">:</a> <a id="4725" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="4730" href="Varieties.Func.SoundAndComplete.html#4191" class="Bound">ι</a><a id="4731" class="Symbol">}{</a><a id="4733" href="Varieties.Func.SoundAndComplete.html#4733" class="Bound">E</a> <a id="4735" class="Symbol">:</a> <a id="4737" href="Varieties.Func.SoundAndComplete.html#4721" class="Bound">I</a> <a id="4739" class="Symbol">→</a> <a id="4741" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="4743" class="Symbol">}</a> <a id="4745" class="Symbol">→</a> <a id="4747" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="4761" class="Symbol">(</a><a id="4762" href="Varieties.Func.SoundAndComplete.html#4733" class="Bound">E</a> <a id="4764" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="4766" href="Varieties.Func.SoundAndComplete.html#1913" class="Generalizable">Γ</a> <a id="4768" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹_≈_</a><a id="4772" class="Symbol">)</a>
 <a id="4775" href="Varieties.Func.SoundAndComplete.html#4707" class="Function">⊢▹≈IsEquiv</a> <a id="4786" class="Symbol">=</a> <a id="4788" class="Keyword">record</a> <a id="4795" class="Symbol">{</a> <a id="4797" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="4802" class="Symbol">=</a> <a id="4804" href="Varieties.Func.SoundAndComplete.html#4524" class="InductiveConstructor">refl</a> <a id="4809" class="Symbol">;</a> <a id="4811" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="4815" class="Symbol">=</a> <a id="4817" href="Varieties.Func.SoundAndComplete.html#4569" class="InductiveConstructor">sym</a> <a id="4821" class="Symbol">;</a> <a id="4823" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="4829" class="Symbol">=</a> <a id="4831" href="Varieties.Func.SoundAndComplete.html#4630" class="InductiveConstructor">trans</a> <a id="4837" class="Symbol">}</a>

</pre>



##### <a id="soundness-of-the-inference-rules">Soundness of the inference rules</a>

(Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](see: http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="5105" class="Keyword">module</a> <a id="Soundness"></a><a id="5112" href="Varieties.Func.SoundAndComplete.html#5112" class="Module">Soundness</a> <a id="5122" class="Symbol">{</a><a id="5123" href="Varieties.Func.SoundAndComplete.html#5123" class="Bound">χ</a> <a id="5125" href="Varieties.Func.SoundAndComplete.html#5125" class="Bound">α</a> <a id="5127" href="Varieties.Func.SoundAndComplete.html#5127" class="Bound">ι</a> <a id="5129" class="Symbol">:</a> <a id="5131" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5136" class="Symbol">}{</a><a id="5138" href="Varieties.Func.SoundAndComplete.html#5138" class="Bound">I</a> <a id="5140" class="Symbol">:</a> <a id="5142" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="5147" href="Varieties.Func.SoundAndComplete.html#5127" class="Bound">ι</a><a id="5148" class="Symbol">}</a> <a id="5150" class="Symbol">(</a><a id="5151" href="Varieties.Func.SoundAndComplete.html#5151" class="Bound">E</a> <a id="5153" class="Symbol">:</a> <a id="5155" href="Varieties.Func.SoundAndComplete.html#5138" class="Bound">I</a> <a id="5157" class="Symbol">→</a> <a id="5159" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="5161" class="Symbol">{</a><a id="5162" href="Varieties.Func.SoundAndComplete.html#5123" class="Bound">χ</a><a id="5163" class="Symbol">})</a>
                 <a id="5183" class="Symbol">(</a><a id="5184" href="Varieties.Func.SoundAndComplete.html#5184" class="Bound">𝑨</a> <a id="5186" class="Symbol">:</a> <a id="5188" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="5202" href="Varieties.Func.SoundAndComplete.html#5125" class="Bound">α</a> <a id="5204" href="Varieties.Func.SoundAndComplete.html#1895" class="Generalizable">ρᵃ</a><a id="5206" class="Symbol">)</a>     <a id="5212" class="Comment">-- We assume an algebra M</a>
                 <a id="5255" class="Symbol">(</a><a id="5256" href="Varieties.Func.SoundAndComplete.html#5256" class="Bound">V</a> <a id="5258" class="Symbol">:</a> <a id="5260" href="Varieties.Func.SoundAndComplete.html#5184" class="Bound">𝑨</a> <a id="5262" href="Varieties.Func.SoundAndComplete.html#2668" class="Function Operator">⊨</a> <a id="5264" href="Varieties.Func.SoundAndComplete.html#5151" class="Bound">E</a><a id="5265" class="Symbol">)</a>         <a id="5275" class="Comment">-- that models all equations in E.</a>
                 <a id="5327" class="Keyword">where</a>
 <a id="5334" class="Keyword">open</a> <a id="5339" href="Algebras.Func.Basic.html#2874" class="Module">SetoidAlgebra</a> <a id="5353" href="Varieties.Func.SoundAndComplete.html#5184" class="Bound">𝑨</a> <a id="5355" class="Keyword">using</a> <a id="5361" class="Symbol">(</a> <a id="5363" href="Algebras.Func.Basic.html#2959" class="Field">Interp</a> <a id="5370" class="Symbol">)</a> <a id="5372" class="Keyword">renaming</a> <a id="5381" class="Symbol">(</a><a id="5382" href="Algebras.Func.Basic.html#2937" class="Field">Domain</a> <a id="5389" class="Symbol">to</a> <a id="5392" class="Field">A</a><a id="5393" class="Symbol">)</a>

 <a id="5397" class="Comment">-- In any model M that satisfies the equations E, derived equality is actual equality.</a>
 <a id="5485" class="Keyword">open</a> <a id="5490" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="5506" href="Varieties.Func.SoundAndComplete.html#5392" class="Function">A</a>

 <a id="5510" class="Keyword">open</a> <a id="5515" href="Terms.Func.Basic.html#3894" class="Module">Environment</a> <a id="5527" href="Varieties.Func.SoundAndComplete.html#5184" class="Bound">𝑨</a> <a id="5529" class="Keyword">renaming</a> <a id="5538" class="Symbol">(</a> <a id="5540" href="Terms.Func.Basic.html#6021" class="Function Operator">⟦_⟧s</a> <a id="5545" class="Symbol">to</a> <a id="5548" class="Function Operator">⟪_⟫</a> <a id="5552" class="Symbol">)</a>
 <a id="5555" class="Keyword">open</a> <a id="5560" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="5574" class="Keyword">renaming</a> <a id="5583" class="Symbol">(</a> <a id="5585" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="5590" class="Symbol">to</a> <a id="5593" class="Field">refl≈</a> <a id="5599" class="Symbol">;</a> <a id="5601" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="5605" class="Symbol">to</a>  <a id="5609" class="Field">sym≈</a> <a id="5614" class="Symbol">;</a> <a id="5616" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="5622" class="Symbol">to</a> <a id="5625" class="Field">trans≈</a> <a id="5632" class="Symbol">)</a>

 <a id="Soundness.sound"></a><a id="5636" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="5642" class="Symbol">:</a> <a id="5644" class="Symbol">∀</a> <a id="5646" class="Symbol">{</a><a id="5647" href="Varieties.Func.SoundAndComplete.html#5647" class="Bound">p</a> <a id="5649" href="Varieties.Func.SoundAndComplete.html#5649" class="Bound">q</a><a id="5650" class="Symbol">}</a> <a id="5652" class="Symbol">→</a> <a id="5654" href="Varieties.Func.SoundAndComplete.html#5151" class="Bound">E</a> <a id="5656" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="5658" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a> <a id="5660" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="5662" href="Varieties.Func.SoundAndComplete.html#5647" class="Bound">p</a> <a id="5664" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="5666" href="Varieties.Func.SoundAndComplete.html#5649" class="Bound">q</a> <a id="5668" class="Symbol">→</a> <a id="5670" href="Varieties.Func.SoundAndComplete.html#5184" class="Bound">𝑨</a> <a id="5672" href="Varieties.Func.SoundAndComplete.html#2245" class="Function Operator">⊧</a> <a id="5674" class="Symbol">(</a><a id="5675" href="Varieties.Func.SoundAndComplete.html#5647" class="Bound">p</a> <a id="5677" href="Varieties.Func.SoundAndComplete.html#2073" class="InductiveConstructor Operator">≈̇</a> <a id="5680" href="Varieties.Func.SoundAndComplete.html#5649" class="Bound">q</a><a id="5681" class="Symbol">)</a>
 <a id="5684" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="5690" class="Symbol">(</a><a id="5691" href="Varieties.Func.SoundAndComplete.html#4303" class="InductiveConstructor">hyp</a> <a id="5695" href="Varieties.Func.SoundAndComplete.html#5695" class="Bound">i</a><a id="5696" class="Symbol">)</a>                      <a id="5719" class="Symbol">=</a> <a id="5721" href="Varieties.Func.SoundAndComplete.html#5256" class="Bound">V</a> <a id="5723" href="Varieties.Func.SoundAndComplete.html#5695" class="Bound">i</a>
 <a id="5726" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="5732" class="Symbol">(</a><a id="5733" href="Varieties.Func.SoundAndComplete.html#4353" class="InductiveConstructor">app</a> <a id="5737" class="Symbol">{</a><a id="5738" class="Argument">f</a> <a id="5740" class="Symbol">=</a> <a id="5742" href="Varieties.Func.SoundAndComplete.html#5742" class="Bound">f</a><a id="5743" class="Symbol">}</a> <a id="5745" href="Varieties.Func.SoundAndComplete.html#5745" class="Bound">es</a><a id="5747" class="Symbol">)</a> <a id="5749" href="Varieties.Func.SoundAndComplete.html#5749" class="Bound">ρ</a>           <a id="5761" class="Symbol">=</a> <a id="5763" href="Algebras.Func.Basic.html#2959" class="Function">Interp</a> <a id="5770" class="Symbol">.</a><a id="5771" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="5776" class="Symbol">(</a><a id="5777" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="5782" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5784" class="Symbol">λ</a> <a id="5786" href="Varieties.Func.SoundAndComplete.html#5786" class="Bound">i</a> <a id="5788" class="Symbol">→</a> <a id="5790" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="5796" class="Symbol">(</a><a id="5797" href="Varieties.Func.SoundAndComplete.html#5745" class="Bound">es</a> <a id="5800" href="Varieties.Func.SoundAndComplete.html#5786" class="Bound">i</a><a id="5801" class="Symbol">)</a> <a id="5803" href="Varieties.Func.SoundAndComplete.html#5749" class="Bound">ρ</a><a id="5804" class="Symbol">)</a>
 <a id="5807" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="5813" class="Symbol">(</a><a id="5814" href="Varieties.Func.SoundAndComplete.html#4439" class="InductiveConstructor">sub</a> <a id="5818" class="Symbol">{</a><a id="5819" class="Argument">p</a> <a id="5821" class="Symbol">=</a> <a id="5823" href="Varieties.Func.SoundAndComplete.html#5823" class="Bound">p</a><a id="5824" class="Symbol">}</a> <a id="5826" class="Symbol">{</a><a id="5827" href="Varieties.Func.SoundAndComplete.html#5827" class="Bound">q</a><a id="5828" class="Symbol">}</a> <a id="5830" href="Varieties.Func.SoundAndComplete.html#5830" class="Bound">Epq</a> <a id="5834" href="Varieties.Func.SoundAndComplete.html#5834" class="Bound">σ</a><a id="5835" class="Symbol">)</a> <a id="5837" href="Varieties.Func.SoundAndComplete.html#5837" class="Bound">ρ</a>    <a id="5842" class="Symbol">=</a>
  <a id="5846" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
   <a id="5855" href="Terms.Func.Basic.html#4967" class="Function Operator">⟦</a> <a id="5857" href="Varieties.Func.SoundAndComplete.html#5823" class="Bound">p</a> <a id="5859" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="5861" href="Varieties.Func.SoundAndComplete.html#5834" class="Bound">σ</a> <a id="5863" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a> <a id="5865" href="Terms.Func.Basic.html#4967" class="Function Operator">⟧</a> <a id="5867" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a>       <a id="5877" href="Varieties.Func.SoundAndComplete.html#5837" class="Bound">ρ</a> <a id="5879" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="5882" href="Terms.Func.Basic.html#6149" class="Function">substitution</a> <a id="5895" href="Varieties.Func.SoundAndComplete.html#5823" class="Bound">p</a> <a id="5897" href="Varieties.Func.SoundAndComplete.html#5834" class="Bound">σ</a> <a id="5899" href="Varieties.Func.SoundAndComplete.html#5837" class="Bound">ρ</a> <a id="5901" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="5906" href="Terms.Func.Basic.html#4967" class="Function Operator">⟦</a> <a id="5908" href="Varieties.Func.SoundAndComplete.html#5823" class="Bound">p</a>       <a id="5916" href="Terms.Func.Basic.html#4967" class="Function Operator">⟧</a> <a id="5918" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a> <a id="5922" href="Varieties.Func.SoundAndComplete.html#5548" class="Function Operator">⟪</a> <a id="5924" href="Varieties.Func.SoundAndComplete.html#5834" class="Bound">σ</a> <a id="5926" href="Varieties.Func.SoundAndComplete.html#5548" class="Function Operator">⟫</a> <a id="5928" href="Varieties.Func.SoundAndComplete.html#5837" class="Bound">ρ</a> <a id="5930" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="5933" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="5939" href="Varieties.Func.SoundAndComplete.html#5830" class="Bound">Epq</a> <a id="5943" class="Symbol">(</a><a id="5944" href="Varieties.Func.SoundAndComplete.html#5548" class="Function Operator">⟪</a> <a id="5946" href="Varieties.Func.SoundAndComplete.html#5834" class="Bound">σ</a> <a id="5948" href="Varieties.Func.SoundAndComplete.html#5548" class="Function Operator">⟫</a> <a id="5950" href="Varieties.Func.SoundAndComplete.html#5837" class="Bound">ρ</a><a id="5951" class="Symbol">)</a>  <a id="5954" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
   <a id="5959" href="Terms.Func.Basic.html#4967" class="Function Operator">⟦</a> <a id="5961" href="Varieties.Func.SoundAndComplete.html#5827" class="Bound">q</a>       <a id="5969" href="Terms.Func.Basic.html#4967" class="Function Operator">⟧</a> <a id="5971" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a> <a id="5975" href="Varieties.Func.SoundAndComplete.html#5548" class="Function Operator">⟪</a> <a id="5977" href="Varieties.Func.SoundAndComplete.html#5834" class="Bound">σ</a> <a id="5979" href="Varieties.Func.SoundAndComplete.html#5548" class="Function Operator">⟫</a> <a id="5981" href="Varieties.Func.SoundAndComplete.html#5837" class="Bound">ρ</a> <a id="5983" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="5987" href="Terms.Func.Basic.html#6149" class="Function">substitution</a>  <a id="6001" href="Varieties.Func.SoundAndComplete.html#5827" class="Bound">q</a> <a id="6003" href="Varieties.Func.SoundAndComplete.html#5834" class="Bound">σ</a> <a id="6005" href="Varieties.Func.SoundAndComplete.html#5837" class="Bound">ρ</a> <a id="6007" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
   <a id="6012" href="Terms.Func.Basic.html#4967" class="Function Operator">⟦</a> <a id="6014" href="Varieties.Func.SoundAndComplete.html#5827" class="Bound">q</a> <a id="6016" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="6018" href="Varieties.Func.SoundAndComplete.html#5834" class="Bound">σ</a> <a id="6020" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a> <a id="6022" href="Terms.Func.Basic.html#4967" class="Function Operator">⟧</a> <a id="6024" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a>       <a id="6034" href="Varieties.Func.SoundAndComplete.html#5837" class="Bound">ρ</a> <a id="6036" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

 <a id="6040" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="6046" class="Symbol">(</a><a id="6047" href="Varieties.Func.SoundAndComplete.html#4524" class="InductiveConstructor">refl</a> <a id="6052" class="Symbol">{</a><a id="6053" class="Argument">p</a> <a id="6055" class="Symbol">=</a> <a id="6057" href="Varieties.Func.SoundAndComplete.html#6057" class="Bound">p</a><a id="6058" class="Symbol">})</a>               <a id="6075" class="Symbol">=</a> <a id="6077" href="Varieties.Func.SoundAndComplete.html#5593" class="Field">refl≈</a>  <a id="6084" href="Terms.Func.Basic.html#5751" class="Function">isEquiv</a> <a id="6092" class="Symbol">{</a><a id="6093" class="Argument">x</a> <a id="6095" class="Symbol">=</a> <a id="6097" href="Varieties.Func.SoundAndComplete.html#6057" class="Bound">p</a><a id="6098" class="Symbol">}</a>
 <a id="6101" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="6107" class="Symbol">(</a><a id="6108" href="Varieties.Func.SoundAndComplete.html#4569" class="InductiveConstructor">sym</a> <a id="6112" class="Symbol">{</a><a id="6113" class="Argument">p</a> <a id="6115" class="Symbol">=</a> <a id="6117" href="Varieties.Func.SoundAndComplete.html#6117" class="Bound">p</a><a id="6118" class="Symbol">}</a> <a id="6120" class="Symbol">{</a><a id="6121" href="Varieties.Func.SoundAndComplete.html#6121" class="Bound">q</a><a id="6122" class="Symbol">}</a> <a id="6124" href="Varieties.Func.SoundAndComplete.html#6124" class="Bound">Epq</a><a id="6127" class="Symbol">)</a>        <a id="6136" class="Symbol">=</a> <a id="6138" href="Varieties.Func.SoundAndComplete.html#5609" class="Field">sym≈</a>   <a id="6145" href="Terms.Func.Basic.html#5751" class="Function">isEquiv</a> <a id="6153" class="Symbol">{</a><a id="6154" class="Argument">x</a> <a id="6156" class="Symbol">=</a> <a id="6158" href="Varieties.Func.SoundAndComplete.html#6117" class="Bound">p</a><a id="6159" class="Symbol">}{</a><a id="6161" href="Varieties.Func.SoundAndComplete.html#6121" class="Bound">q</a><a id="6162" class="Symbol">}</a>   <a id="6166" class="Symbol">(</a><a id="6167" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="6173" href="Varieties.Func.SoundAndComplete.html#6124" class="Bound">Epq</a><a id="6176" class="Symbol">)</a>
 <a id="6179" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="6185" class="Symbol">(</a><a id="6186" href="Varieties.Func.SoundAndComplete.html#4630" class="InductiveConstructor">trans</a><a id="6191" class="Symbol">{</a><a id="6192" class="Argument">p</a> <a id="6194" class="Symbol">=</a> <a id="6196" href="Varieties.Func.SoundAndComplete.html#6196" class="Bound">p</a><a id="6197" class="Symbol">}{</a><a id="6199" href="Varieties.Func.SoundAndComplete.html#6199" class="Bound">q</a><a id="6200" class="Symbol">}{</a><a id="6202" href="Varieties.Func.SoundAndComplete.html#6202" class="Bound">r</a><a id="6203" class="Symbol">}</a> <a id="6205" href="Varieties.Func.SoundAndComplete.html#6205" class="Bound">Epq</a> <a id="6209" href="Varieties.Func.SoundAndComplete.html#6209" class="Bound">Eqr</a><a id="6212" class="Symbol">)</a> <a id="6214" class="Symbol">=</a> <a id="6216" href="Varieties.Func.SoundAndComplete.html#5625" class="Field">trans≈</a> <a id="6223" href="Terms.Func.Basic.html#5751" class="Function">isEquiv</a> <a id="6231" class="Symbol">{</a><a id="6232" class="Argument">i</a> <a id="6234" class="Symbol">=</a> <a id="6236" href="Varieties.Func.SoundAndComplete.html#6196" class="Bound">p</a><a id="6237" class="Symbol">}{</a><a id="6239" href="Varieties.Func.SoundAndComplete.html#6199" class="Bound">q</a><a id="6240" class="Symbol">}{</a><a id="6242" href="Varieties.Func.SoundAndComplete.html#6202" class="Bound">r</a><a id="6243" class="Symbol">}(</a><a id="6245" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="6251" href="Varieties.Func.SoundAndComplete.html#6205" class="Bound">Epq</a><a id="6254" class="Symbol">)(</a><a id="6256" href="Varieties.Func.SoundAndComplete.html#5636" class="Function">sound</a> <a id="6262" href="Varieties.Func.SoundAndComplete.html#6209" class="Bound">Eqr</a><a id="6265" class="Symbol">)</a>

</pre>

The deductive closure of a set E is the set of equations modeled by all models of E; that is, Th Mod E.

The soundness proof above shows ∀ X → E ⊢ X ▹ p ≈ q → (p , q) ∈ Th Mod ℰ.
That is,  ∀ X → E ⊢ X ▹ p ≈ q → Mod E ⊫ p ≈ q.

The converse is Birkhoff's completeness theorem: if Mod E ⊫ p ≈ q, then E ⊢ X ▹ p ≈ q.

We will prove that result next.



##### <a id="birkhoffs-completeness-theorem">Birkhoff's completeness theorem</a>

The proof proceeds by constructing a relatively free algebra consisting of term
quotiented by derivable equality E ⊢ X ▹ _≈_.  It then suffices to prove
that this model satisfies all equations in $E$.

(Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

We denote by `𝔽[ X ]` the *relatively free algebra* over `X` (relative to `E`), which is defined as `Term X` modulo `E ⊢ X ▹ _≈_`.  This algebra `𝔽[ X ]` is "free" or "initial" in the variety of algebras satisfying the identities in `E` in the sense that it satisfies the following universal property: for each algebra `𝑨`, if `𝑨 ⊧ E`, then there is a unique homomorphism from `𝔽[ X ]` to `𝑨`.

<pre class="Agda">

<a id="7470" class="Keyword">module</a> <a id="FreeAlgebra"></a><a id="7477" href="Varieties.Func.SoundAndComplete.html#7477" class="Module">FreeAlgebra</a> <a id="7489" class="Symbol">{</a><a id="7490" href="Varieties.Func.SoundAndComplete.html#7490" class="Bound">χ</a> <a id="7492" class="Symbol">:</a> <a id="7494" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7499" class="Symbol">}{</a><a id="7501" href="Varieties.Func.SoundAndComplete.html#7501" class="Bound">ι</a> <a id="7503" class="Symbol">:</a> <a id="7505" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7510" class="Symbol">}{</a><a id="7512" href="Varieties.Func.SoundAndComplete.html#7512" class="Bound">I</a> <a id="7514" class="Symbol">:</a> <a id="7516" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="7521" href="Varieties.Func.SoundAndComplete.html#7501" class="Bound">ι</a><a id="7522" class="Symbol">}(</a><a id="7524" href="Varieties.Func.SoundAndComplete.html#7524" class="Bound">E</a> <a id="7526" class="Symbol">:</a> <a id="7528" href="Varieties.Func.SoundAndComplete.html#7512" class="Bound">I</a> <a id="7530" class="Symbol">→</a> <a id="7532" href="Varieties.Func.SoundAndComplete.html#2037" class="Record">Eq</a><a id="7534" class="Symbol">)</a> <a id="7536" class="Keyword">where</a>
 <a id="7543" class="Keyword">open</a> <a id="7548" href="Algebras.Func.Basic.html#2874" class="Module">SetoidAlgebra</a>

 <a id="7564" class="Comment">-- Domain of the relatively free algebra.</a>
 <a id="FreeAlgebra.FreeDomain"></a><a id="7607" href="Varieties.Func.SoundAndComplete.html#7607" class="Function">FreeDomain</a> <a id="7618" class="Symbol">:</a> <a id="7620" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="7625" href="Varieties.Func.SoundAndComplete.html#7490" class="Bound">χ</a> <a id="7627" class="Symbol">→</a> <a id="7629" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="7636" class="Symbol">_</a> <a id="7638" class="Symbol">_</a>
 <a id="7641" href="Varieties.Func.SoundAndComplete.html#7607" class="Function">FreeDomain</a> <a id="7652" href="Varieties.Func.SoundAndComplete.html#7652" class="Bound">X</a> <a id="7654" class="Symbol">=</a> <a id="7656" class="Keyword">record</a> <a id="7663" class="Symbol">{</a> <a id="7665" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a>       <a id="7679" class="Symbol">=</a> <a id="7681" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="7686" href="Varieties.Func.SoundAndComplete.html#7652" class="Bound">X</a>
                       <a id="7711" class="Symbol">;</a> <a id="7713" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a>           <a id="7727" class="Symbol">=</a> <a id="7729" href="Varieties.Func.SoundAndComplete.html#7524" class="Bound">E</a> <a id="7731" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="7733" href="Varieties.Func.SoundAndComplete.html#7652" class="Bound">X</a> <a id="7735" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹_≈_</a>
                       <a id="7763" class="Symbol">;</a> <a id="7765" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="7779" class="Symbol">=</a> <a id="7781" href="Varieties.Func.SoundAndComplete.html#4707" class="Function">⊢▹≈IsEquiv</a>
                       <a id="7815" class="Symbol">}</a>

 <a id="7819" class="Comment">-- The interpretation of an operation is simply the operation itself.</a>
 <a id="7890" class="Comment">-- This works since E ⊢ X ▹_≈_ is a congruence.</a>
 <a id="FreeAlgebra.FreeInterp"></a><a id="7939" href="Varieties.Func.SoundAndComplete.html#7939" class="Function">FreeInterp</a> <a id="7950" class="Symbol">:</a> <a id="7952" class="Symbol">∀</a> <a id="7954" class="Symbol">{</a><a id="7955" href="Varieties.Func.SoundAndComplete.html#7955" class="Bound">X</a><a id="7956" class="Symbol">}</a> <a id="7958" class="Symbol">→</a> <a id="7960" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="7965" class="Symbol">(</a><a id="7966" href="Varieties.Func.SoundAndComplete.html#1611" class="Function Operator">⟦</a> <a id="7968" href="Varieties.Func.SoundAndComplete.html#722" class="Bound">𝑆</a> <a id="7970" href="Varieties.Func.SoundAndComplete.html#1611" class="Function Operator">⟧s</a> <a id="7973" class="Symbol">(</a><a id="7974" href="Varieties.Func.SoundAndComplete.html#7607" class="Function">FreeDomain</a> <a id="7985" href="Varieties.Func.SoundAndComplete.html#7955" class="Bound">X</a><a id="7986" class="Symbol">))</a> <a id="7989" class="Symbol">(</a><a id="7990" href="Varieties.Func.SoundAndComplete.html#7607" class="Function">FreeDomain</a> <a id="8001" href="Varieties.Func.SoundAndComplete.html#7955" class="Bound">X</a><a id="8002" class="Symbol">)</a>
 <a id="8005" href="Varieties.Func.SoundAndComplete.html#7939" class="Function">FreeInterp</a> <a id="8016" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a> <a id="8020" class="Symbol">(</a><a id="8021" href="Varieties.Func.SoundAndComplete.html#8021" class="Bound">f</a> <a id="8023" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8025" href="Varieties.Func.SoundAndComplete.html#8025" class="Bound">ts</a><a id="8027" class="Symbol">)</a> <a id="8029" class="Symbol">=</a> <a id="8031" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="8036" href="Varieties.Func.SoundAndComplete.html#8021" class="Bound">f</a> <a id="8038" href="Varieties.Func.SoundAndComplete.html#8025" class="Bound">ts</a>
 <a id="8042" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="8047" href="Varieties.Func.SoundAndComplete.html#7939" class="Function">FreeInterp</a> <a id="8058" class="Symbol">(</a><a id="8059" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="8064" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8066" href="Varieties.Func.SoundAndComplete.html#8066" class="Bound">h</a><a id="8067" class="Symbol">)</a> <a id="8069" class="Symbol">=</a> <a id="8071" href="Varieties.Func.SoundAndComplete.html#4353" class="InductiveConstructor">app</a> <a id="8075" href="Varieties.Func.SoundAndComplete.html#8066" class="Bound">h</a>


 <a id="8080" class="Comment">-- The relatively free algebra</a>
 <a id="FreeAlgebra.𝔽[_]"></a><a id="8112" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[_]</a> <a id="8117" class="Symbol">:</a> <a id="8119" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="8124" href="Varieties.Func.SoundAndComplete.html#7490" class="Bound">χ</a> <a id="8126" class="Symbol">→</a> <a id="8128" href="Algebras.Func.Basic.html#2874" class="Record">SetoidAlgebra</a> <a id="8142" class="Symbol">(</a><a id="8143" href="Algebras.Func.Basic.html#1171" class="Function">ov</a> <a id="8146" href="Varieties.Func.SoundAndComplete.html#7490" class="Bound">χ</a><a id="8147" class="Symbol">)</a> <a id="8149" class="Symbol">(</a><a id="8150" href="Varieties.Func.SoundAndComplete.html#7501" class="Bound">ι</a> <a id="8152" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="8154" href="Algebras.Func.Basic.html#1171" class="Function">ov</a> <a id="8157" href="Varieties.Func.SoundAndComplete.html#7490" class="Bound">χ</a><a id="8158" class="Symbol">)</a>
 <a id="8161" href="Algebras.Func.Basic.html#2937" class="Field">Domain</a> <a id="8168" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[</a> <a id="8171" href="Varieties.Func.SoundAndComplete.html#8171" class="Bound">X</a> <a id="8173" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">]</a> <a id="8175" class="Symbol">=</a> <a id="8177" href="Varieties.Func.SoundAndComplete.html#7607" class="Function">FreeDomain</a> <a id="8188" href="Varieties.Func.SoundAndComplete.html#8171" class="Bound">X</a>
 <a id="8191" href="Algebras.Func.Basic.html#2959" class="Field">Interp</a> <a id="8198" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[</a> <a id="8201" href="Varieties.Func.SoundAndComplete.html#8201" class="Bound">X</a> <a id="8203" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">]</a> <a id="8205" class="Symbol">=</a> <a id="8207" href="Varieties.Func.SoundAndComplete.html#7939" class="Function">FreeInterp</a>


 <a id="8221" class="Comment">-- The identity substitution σ₀ maps variables to themselves.</a>
 <a id="FreeAlgebra.σ₀"></a><a id="8284" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a> <a id="8287" class="Symbol">:</a> <a id="8289" class="Symbol">{</a><a id="8290" href="Varieties.Func.SoundAndComplete.html#8290" class="Bound">X</a> <a id="8292" class="Symbol">:</a> <a id="8294" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="8299" href="Varieties.Func.SoundAndComplete.html#7490" class="Bound">χ</a><a id="8300" class="Symbol">}</a> <a id="8302" class="Symbol">→</a> <a id="8304" href="Terms.Func.Basic.html#3531" class="Function">Sub</a> <a id="8308" href="Varieties.Func.SoundAndComplete.html#8290" class="Bound">X</a> <a id="8310" href="Varieties.Func.SoundAndComplete.html#8290" class="Bound">X</a>
 <a id="8313" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a> <a id="8316" href="Varieties.Func.SoundAndComplete.html#8316" class="Bound">x</a> <a id="8318" class="Symbol">=</a> <a id="8320" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="8322" href="Varieties.Func.SoundAndComplete.html#8316" class="Bound">x</a>

 <a id="8326" class="Comment">-- σ₀ acts indeed as identity.</a>
 <a id="FreeAlgebra.identity"></a><a id="8358" href="Varieties.Func.SoundAndComplete.html#8358" class="Function">identity</a> <a id="8367" class="Symbol">:</a> <a id="8369" class="Symbol">(</a><a id="8370" href="Varieties.Func.SoundAndComplete.html#8370" class="Bound">t</a> <a id="8372" class="Symbol">:</a> <a id="8374" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="8379" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a><a id="8380" class="Symbol">)</a> <a id="8382" class="Symbol">→</a> <a id="8384" href="Varieties.Func.SoundAndComplete.html#7524" class="Bound">E</a> <a id="8386" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="8388" href="Varieties.Func.SoundAndComplete.html#1911" class="Generalizable">X</a> <a id="8390" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="8392" href="Varieties.Func.SoundAndComplete.html#8370" class="Bound">t</a> <a id="8394" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="8396" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a> <a id="8399" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a> <a id="8401" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="8403" href="Varieties.Func.SoundAndComplete.html#8370" class="Bound">t</a>
 <a id="8406" href="Varieties.Func.SoundAndComplete.html#8358" class="Function">identity</a> <a id="8415" class="Symbol">(</a><a id="8416" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="8418" href="Varieties.Func.SoundAndComplete.html#8418" class="Bound">x</a><a id="8419" class="Symbol">)</a> <a id="8421" class="Symbol">=</a> <a id="8423" href="Varieties.Func.SoundAndComplete.html#4524" class="InductiveConstructor">refl</a>
 <a id="8429" href="Varieties.Func.SoundAndComplete.html#8358" class="Function">identity</a> <a id="8438" class="Symbol">(</a><a id="8439" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="8444" href="Varieties.Func.SoundAndComplete.html#8444" class="Bound">f</a> <a id="8446" href="Varieties.Func.SoundAndComplete.html#8446" class="Bound">ts</a><a id="8448" class="Symbol">)</a> <a id="8450" class="Symbol">=</a> <a id="8452" href="Varieties.Func.SoundAndComplete.html#4353" class="InductiveConstructor">app</a> <a id="8456" class="Symbol">(</a><a id="8457" href="Varieties.Func.SoundAndComplete.html#8358" class="Function">identity</a> <a id="8466" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="8468" href="Varieties.Func.SoundAndComplete.html#8446" class="Bound">ts</a><a id="8470" class="Symbol">)</a>

</pre>

Evaluation in the term model is substitution `E ⊢ X ▹ ⟦t⟧σ ≈ t[σ]`. (This would
hold "on the nose" if we had function extensionality.)

(We put this and the next two lemmas into their own submodules to emphasize
the fact that these results are independent of the chosen variable symbol
type `X` (or `Δ`, or `Γ`), which is an arbitrary inhabitant of `Type χ`.)
<pre class="Agda">

 <a id="8860" class="Keyword">module</a> <a id="8867" href="Varieties.Func.SoundAndComplete.html#8867" class="Module">_</a> <a id="8869" class="Symbol">{</a><a id="8870" href="Varieties.Func.SoundAndComplete.html#8870" class="Bound">X</a> <a id="8872" class="Symbol">:</a> <a id="8874" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="8879" href="Varieties.Func.SoundAndComplete.html#7490" class="Bound">χ</a><a id="8880" class="Symbol">}</a> <a id="8882" class="Keyword">where</a>
  <a id="8890" class="Keyword">open</a> <a id="8895" href="Terms.Func.Basic.html#3894" class="Module">Environment</a> <a id="8907" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[</a> <a id="8910" href="Varieties.Func.SoundAndComplete.html#8870" class="Bound">X</a> <a id="8912" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">]</a>
  <a id="8916" href="Varieties.Func.SoundAndComplete.html#8916" class="Function">evaluation</a> <a id="8927" class="Symbol">:</a> <a id="8929" class="Symbol">(</a><a id="8930" href="Varieties.Func.SoundAndComplete.html#8930" class="Bound">t</a> <a id="8932" class="Symbol">:</a> <a id="8934" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="8939" href="Varieties.Func.SoundAndComplete.html#1915" class="Generalizable">Δ</a><a id="8940" class="Symbol">)</a> <a id="8942" class="Symbol">(</a><a id="8943" href="Varieties.Func.SoundAndComplete.html#8943" class="Bound">σ</a> <a id="8945" class="Symbol">:</a> <a id="8947" href="Terms.Func.Basic.html#3531" class="Function">Sub</a> <a id="8951" href="Varieties.Func.SoundAndComplete.html#8870" class="Bound">X</a> <a id="8953" href="Varieties.Func.SoundAndComplete.html#1915" class="Generalizable">Δ</a><a id="8954" class="Symbol">)</a> <a id="8956" class="Symbol">→</a> <a id="8958" href="Varieties.Func.SoundAndComplete.html#7524" class="Bound">E</a> <a id="8960" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="8962" href="Varieties.Func.SoundAndComplete.html#8870" class="Bound">X</a> <a id="8964" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="8966" class="Symbol">(</a><a id="8967" href="Terms.Func.Basic.html#4967" class="Function Operator">⟦</a> <a id="8969" href="Varieties.Func.SoundAndComplete.html#8930" class="Bound">t</a> <a id="8971" href="Terms.Func.Basic.html#4967" class="Function Operator">⟧</a> <a id="8973" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a> <a id="8977" href="Varieties.Func.SoundAndComplete.html#8943" class="Bound">σ</a><a id="8978" class="Symbol">)</a> <a id="8980" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="8982" class="Symbol">(</a><a id="8983" href="Varieties.Func.SoundAndComplete.html#8930" class="Bound">t</a> <a id="8985" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="8987" href="Varieties.Func.SoundAndComplete.html#8943" class="Bound">σ</a> <a id="8989" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a><a id="8990" class="Symbol">)</a>
  <a id="8994" href="Varieties.Func.SoundAndComplete.html#8916" class="Function">evaluation</a> <a id="9005" class="Symbol">(</a><a id="9006" href="Terms.Basic.html#2032" class="InductiveConstructor">ℊ</a> <a id="9008" href="Varieties.Func.SoundAndComplete.html#9008" class="Bound">x</a><a id="9009" class="Symbol">)</a> <a id="9011" href="Varieties.Func.SoundAndComplete.html#9011" class="Bound">σ</a> <a id="9013" class="Symbol">=</a> <a id="9015" href="Varieties.Func.SoundAndComplete.html#4524" class="InductiveConstructor">refl</a>
  <a id="9022" href="Varieties.Func.SoundAndComplete.html#8916" class="Function">evaluation</a> <a id="9033" class="Symbol">(</a><a id="9034" href="Terms.Basic.html#2074" class="InductiveConstructor">node</a> <a id="9039" href="Varieties.Func.SoundAndComplete.html#9039" class="Bound">f</a> <a id="9041" href="Varieties.Func.SoundAndComplete.html#9041" class="Bound">ts</a><a id="9043" class="Symbol">)</a> <a id="9045" href="Varieties.Func.SoundAndComplete.html#9045" class="Bound">σ</a> <a id="9047" class="Symbol">=</a> <a id="9049" href="Varieties.Func.SoundAndComplete.html#4353" class="InductiveConstructor">app</a> <a id="9053" class="Symbol">(</a><a id="9054" href="Function.Base.html#1554" class="Function">flip</a> <a id="9059" class="Symbol">(</a><a id="9060" href="Varieties.Func.SoundAndComplete.html#8916" class="Function">evaluation</a> <a id="9071" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9073" href="Varieties.Func.SoundAndComplete.html#9041" class="Bound">ts</a><a id="9075" class="Symbol">)</a> <a id="9077" href="Varieties.Func.SoundAndComplete.html#9045" class="Bound">σ</a><a id="9078" class="Symbol">)</a>


 <a id="9083" class="Keyword">module</a> <a id="9090" href="Varieties.Func.SoundAndComplete.html#9090" class="Module">_</a> <a id="9092" class="Symbol">{</a><a id="9093" href="Varieties.Func.SoundAndComplete.html#9093" class="Bound">Δ</a> <a id="9095" class="Symbol">:</a> <a id="9097" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="9102" href="Varieties.Func.SoundAndComplete.html#7490" class="Bound">χ</a><a id="9103" class="Symbol">}</a> <a id="9105" class="Keyword">where</a>
  <a id="9113" class="Comment">-- The term model satisfies all the equations it started out with.</a>
  <a id="9182" href="Varieties.Func.SoundAndComplete.html#9182" class="Function">satisfies</a> <a id="9192" class="Symbol">:</a> <a id="9194" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[</a> <a id="9197" href="Varieties.Func.SoundAndComplete.html#9093" class="Bound">Δ</a> <a id="9199" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">]</a> <a id="9201" href="Varieties.Func.SoundAndComplete.html#2668" class="Function Operator">⊨</a> <a id="9203" href="Varieties.Func.SoundAndComplete.html#7524" class="Bound">E</a>
  <a id="9207" href="Varieties.Func.SoundAndComplete.html#9182" class="Function">satisfies</a> <a id="9217" href="Varieties.Func.SoundAndComplete.html#9217" class="Bound">i</a> <a id="9219" href="Varieties.Func.SoundAndComplete.html#9219" class="Bound">σ</a> <a id="9221" class="Symbol">=</a>
   <a id="9226" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="9236" href="Terms.Func.Basic.html#4967" class="Function Operator">⟦</a> <a id="9238" href="Varieties.Func.SoundAndComplete.html#9443" class="Function">p</a> <a id="9240" href="Terms.Func.Basic.html#4967" class="Function Operator">⟧</a> <a id="9242" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a> <a id="9246" href="Varieties.Func.SoundAndComplete.html#9219" class="Bound">σ</a>  <a id="9249" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9252" href="Varieties.Func.SoundAndComplete.html#8916" class="Function">evaluation</a> <a id="9263" href="Varieties.Func.SoundAndComplete.html#9443" class="Function">p</a> <a id="9265" href="Varieties.Func.SoundAndComplete.html#9219" class="Bound">σ</a> <a id="9267" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9273" href="Varieties.Func.SoundAndComplete.html#9443" class="Function">p</a> <a id="9275" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="9277" href="Varieties.Func.SoundAndComplete.html#9219" class="Bound">σ</a> <a id="9279" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a>      <a id="9286" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9289" href="Varieties.Func.SoundAndComplete.html#4439" class="InductiveConstructor">sub</a> <a id="9293" class="Symbol">(</a><a id="9294" href="Varieties.Func.SoundAndComplete.html#4303" class="InductiveConstructor">hyp</a> <a id="9298" href="Varieties.Func.SoundAndComplete.html#9217" class="Bound">i</a><a id="9299" class="Symbol">)</a> <a id="9301" href="Varieties.Func.SoundAndComplete.html#9219" class="Bound">σ</a> <a id="9303" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9309" href="Varieties.Func.SoundAndComplete.html#9459" class="Function">q</a> <a id="9311" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="9313" href="Varieties.Func.SoundAndComplete.html#9219" class="Bound">σ</a> <a id="9315" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a>      <a id="9322" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="9326" href="Varieties.Func.SoundAndComplete.html#8916" class="Function">evaluation</a> <a id="9337" href="Varieties.Func.SoundAndComplete.html#9459" class="Function">q</a> <a id="9339" href="Varieties.Func.SoundAndComplete.html#9219" class="Bound">σ</a> <a id="9341" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="9347" href="Terms.Func.Basic.html#4967" class="Function Operator">⟦</a> <a id="9349" href="Varieties.Func.SoundAndComplete.html#9459" class="Function">q</a> <a id="9351" href="Terms.Func.Basic.html#4967" class="Function Operator">⟧</a> <a id="9353" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a> <a id="9357" href="Varieties.Func.SoundAndComplete.html#9219" class="Bound">σ</a>  <a id="9360" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>
    <a id="9366" class="Keyword">where</a>
    <a id="9376" class="Keyword">open</a> <a id="9381" href="Terms.Func.Basic.html#3894" class="Module">Environment</a> <a id="9393" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[</a> <a id="9396" href="Varieties.Func.SoundAndComplete.html#9093" class="Bound">Δ</a> <a id="9398" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">]</a>
    <a id="9404" class="Keyword">open</a> <a id="9409" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="9425" class="Symbol">(</a><a id="9426" href="Algebras.Func.Basic.html#2937" class="Field">Domain</a> <a id="9433" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[</a> <a id="9436" href="Varieties.Func.SoundAndComplete.html#9093" class="Bound">Δ</a> <a id="9438" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">]</a><a id="9439" class="Symbol">)</a> <a id="9441" class="Symbol">;</a> <a id="9443" href="Varieties.Func.SoundAndComplete.html#9443" class="Function">p</a> <a id="9445" class="Symbol">=</a> <a id="9447" href="Varieties.Func.SoundAndComplete.html#2104" class="Field">lhs</a> <a id="9451" class="Symbol">(</a><a id="9452" href="Varieties.Func.SoundAndComplete.html#7524" class="Bound">E</a> <a id="9454" href="Varieties.Func.SoundAndComplete.html#9217" class="Bound">i</a><a id="9455" class="Symbol">)</a> <a id="9457" class="Symbol">;</a> <a id="9459" href="Varieties.Func.SoundAndComplete.html#9459" class="Function">q</a> <a id="9461" class="Symbol">=</a> <a id="9463" href="Varieties.Func.SoundAndComplete.html#2123" class="Field">rhs</a> <a id="9467" class="Symbol">(</a><a id="9468" href="Varieties.Func.SoundAndComplete.html#7524" class="Bound">E</a> <a id="9470" href="Varieties.Func.SoundAndComplete.html#9217" class="Bound">i</a><a id="9471" class="Symbol">)</a>

</pre>

We are finally ready to formally state and prove Birkhoff's Completeness Theorem, which asserts that every valid consequence is derivable.

<pre class="Agda">

 <a id="9641" class="Keyword">module</a> <a id="9648" href="Varieties.Func.SoundAndComplete.html#9648" class="Module">_</a> <a id="9650" class="Symbol">{</a><a id="9651" href="Varieties.Func.SoundAndComplete.html#9651" class="Bound">Γ</a> <a id="9653" class="Symbol">:</a> <a id="9655" href="Varieties.Func.SoundAndComplete.html#919" class="Primitive">Type</a> <a id="9660" href="Varieties.Func.SoundAndComplete.html#7490" class="Bound">χ</a><a id="9661" class="Symbol">}</a> <a id="9663" class="Keyword">where</a>

  <a id="9672" href="Varieties.Func.SoundAndComplete.html#9672" class="Function">completeness</a> <a id="9685" class="Symbol">:</a> <a id="9687" class="Symbol">∀</a> <a id="9689" href="Varieties.Func.SoundAndComplete.html#9689" class="Bound">p</a> <a id="9691" href="Varieties.Func.SoundAndComplete.html#9691" class="Bound">q</a> <a id="9693" class="Symbol">→</a> <a id="9695" href="Varieties.Func.SoundAndComplete.html#3054" class="Function">ModTuple</a> <a id="9704" href="Varieties.Func.SoundAndComplete.html#7524" class="Bound">E</a> <a id="9706" href="Varieties.Func.SoundAndComplete.html#2359" class="Function Operator">⊫</a> <a id="9708" class="Symbol">(</a><a id="9709" href="Varieties.Func.SoundAndComplete.html#9689" class="Bound">p</a> <a id="9711" href="Varieties.Func.SoundAndComplete.html#2073" class="InductiveConstructor Operator">≈̇</a> <a id="9714" href="Varieties.Func.SoundAndComplete.html#9691" class="Bound">q</a><a id="9715" class="Symbol">)</a> <a id="9717" class="Symbol">→</a> <a id="9719" href="Varieties.Func.SoundAndComplete.html#7524" class="Bound">E</a> <a id="9721" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">⊢</a> <a id="9723" href="Varieties.Func.SoundAndComplete.html#9651" class="Bound">Γ</a> <a id="9725" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">▹</a> <a id="9727" href="Varieties.Func.SoundAndComplete.html#9689" class="Bound">p</a> <a id="9729" href="Varieties.Func.SoundAndComplete.html#4215" class="Datatype Operator">≈</a> <a id="9731" href="Varieties.Func.SoundAndComplete.html#9691" class="Bound">q</a>
  <a id="9735" href="Varieties.Func.SoundAndComplete.html#9672" class="Function">completeness</a> <a id="9748" href="Varieties.Func.SoundAndComplete.html#9748" class="Bound">p</a> <a id="9750" href="Varieties.Func.SoundAndComplete.html#9750" class="Bound">q</a> <a id="9752" href="Varieties.Func.SoundAndComplete.html#9752" class="Bound">V</a> <a id="9754" class="Symbol">=</a>
   <a id="9759" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="9769" href="Varieties.Func.SoundAndComplete.html#9748" class="Bound">p</a>              <a id="9784" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="9788" href="Varieties.Func.SoundAndComplete.html#8358" class="Function">identity</a> <a id="9797" href="Varieties.Func.SoundAndComplete.html#9748" class="Bound">p</a> <a id="9799" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="9805" href="Varieties.Func.SoundAndComplete.html#9748" class="Bound">p</a> <a id="9807" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="9809" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a> <a id="9812" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a>       <a id="9820" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="9824" href="Varieties.Func.SoundAndComplete.html#8916" class="Function">evaluation</a> <a id="9835" href="Varieties.Func.SoundAndComplete.html#9748" class="Bound">p</a> <a id="9837" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a> <a id="9840" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
    <a id="9846" href="Terms.Func.Basic.html#4967" class="Function Operator">⟦</a> <a id="9848" href="Varieties.Func.SoundAndComplete.html#9748" class="Bound">p</a> <a id="9850" href="Terms.Func.Basic.html#4967" class="Function Operator">⟧</a> <a id="9852" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a> <a id="9856" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a>   <a id="9861" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9864" href="Varieties.Func.SoundAndComplete.html#9752" class="Bound">V</a> <a id="9866" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[</a> <a id="9869" href="Varieties.Func.SoundAndComplete.html#9651" class="Bound">Γ</a> <a id="9871" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">]</a> <a id="9873" href="Varieties.Func.SoundAndComplete.html#9182" class="Function">satisfies</a> <a id="9883" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a> <a id="9886" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9892" href="Terms.Func.Basic.html#4967" class="Function Operator">⟦</a> <a id="9894" href="Varieties.Func.SoundAndComplete.html#9750" class="Bound">q</a> <a id="9896" href="Terms.Func.Basic.html#4967" class="Function Operator">⟧</a> <a id="9898" href="Varieties.Func.SoundAndComplete.html#1854" class="Field Operator">⟨$⟩</a> <a id="9902" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a>   <a id="9907" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9910" href="Varieties.Func.SoundAndComplete.html#8916" class="Function">evaluation</a> <a id="9921" href="Varieties.Func.SoundAndComplete.html#9750" class="Bound">q</a> <a id="9923" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a> <a id="9926" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9932" href="Varieties.Func.SoundAndComplete.html#9750" class="Bound">q</a> <a id="9934" href="Terms.Func.Basic.html#3629" class="Function Operator">[</a> <a id="9936" href="Varieties.Func.SoundAndComplete.html#8284" class="Function">σ₀</a> <a id="9939" href="Terms.Func.Basic.html#3629" class="Function Operator">]</a>       <a id="9947" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="9950" href="Varieties.Func.SoundAndComplete.html#8358" class="Function">identity</a> <a id="9959" href="Varieties.Func.SoundAndComplete.html#9750" class="Bound">q</a> <a id="9961" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
    <a id="9967" href="Varieties.Func.SoundAndComplete.html#9750" class="Bound">q</a>              <a id="9982" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>
   <a id="9987" class="Keyword">where</a>
   <a id="9996" class="Keyword">open</a> <a id="10001" href="Terms.Func.Basic.html#3894" class="Module">Environment</a> <a id="10013" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[</a> <a id="10016" href="Varieties.Func.SoundAndComplete.html#9651" class="Bound">Γ</a> <a id="10018" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">]</a>
   <a id="10023" class="Keyword">open</a> <a id="10028" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="10044" class="Symbol">(</a><a id="10045" href="Algebras.Func.Basic.html#2937" class="Field">Domain</a> <a id="10052" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">𝔽[</a> <a id="10055" href="Varieties.Func.SoundAndComplete.html#9651" class="Bound">Γ</a> <a id="10057" href="Varieties.Func.SoundAndComplete.html#8112" class="Function Operator">]</a><a id="10058" class="Symbol">)</a>

</pre>

--------------------------------

<span style="float:left;">[↑ Varieties.Func](Varieties.Func.html)</span>
<span style="float:right;">[Varieties.Func.Closure →](Varieties.Func.Closure.html)</span>

{% include UALib.Links.md %}
