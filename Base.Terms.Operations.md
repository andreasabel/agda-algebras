---
layout: default
title : "Base.Terms.Operations module (The Agda Universal Algebra Library)"
date : "2021-01-14"
author: "agda-algebras development team"
---

### <a id="term-operations">Term Operations</a>

This section presents the [Base.Terms.Operations][] module of the [Agda Universal Algebra Library][].

Here we define *term operations* which are simply terms interpreted in a particular algebra, and we prove some compatibility properties of term operations.

<pre class="Agda">

<a id="486" class="Symbol">{-#</a> <a id="490" class="Keyword">OPTIONS</a> <a id="498" class="Pragma">--without-K</a> <a id="510" class="Pragma">--exact-split</a> <a id="524" class="Pragma">--safe</a> <a id="531" class="Symbol">#-}</a>

<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Base.Algebras.Basic.html" class="Module">Base.Algebras.Basic</a>

<a id="569" class="Keyword">module</a> <a id="576" href="Base.Terms.Operations.html" class="Module">Base.Terms.Operations</a> <a id="598" class="Symbol">{</a><a id="599" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a> <a id="601" class="Symbol">:</a> <a id="603" href="Base.Algebras.Basic.html#3890" class="Function">Signature</a> <a id="613" href="Base.Algebras.Basic.html#1162" class="Generalizable">𝓞</a> <a id="615" href="Base.Algebras.Basic.html#1164" class="Generalizable">𝓥</a><a id="616" class="Symbol">}</a> <a id="618" class="Keyword">where</a>

<a id="625" class="Comment">-- Imports from Agda and the Agda Standard Library ---------------------</a>
<a id="698" class="Keyword">open</a> <a id="703" class="Keyword">import</a> <a id="710" href="Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="725" class="Keyword">using</a> <a id="731" class="Symbol">(</a> <a id="733" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="737" class="Symbol">;</a> <a id="739" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="744" class="Symbol">;</a> <a id="746" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="752" class="Symbol">)</a> <a id="754" class="Keyword">renaming</a> <a id="763" class="Symbol">(</a> <a id="765" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="769" class="Symbol">to</a> <a id="772" class="Primitive">Type</a> <a id="777" class="Symbol">)</a>
<a id="779" class="Keyword">open</a> <a id="784" class="Keyword">import</a> <a id="791" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                           <a id="853" class="Keyword">using</a> <a id="859" class="Symbol">()</a> <a id="862" class="Keyword">renaming</a> <a id="871" class="Symbol">(</a><a id="872" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="887" class="Symbol">to</a> <a id="890" class="Function">funext</a><a id="896" class="Symbol">)</a>
<a id="898" class="Keyword">open</a> <a id="903" class="Keyword">import</a> <a id="910" href="Data.Product.html" class="Module">Data.Product</a>   <a id="925" class="Keyword">using</a> <a id="931" class="Symbol">(</a> <a id="933" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="937" class="Symbol">;</a> <a id="939" href="Data.Product.html#916" class="Function">Σ-syntax</a> <a id="948" class="Symbol">;</a> <a id="950" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="952" class="Symbol">)</a>
<a id="954" class="Keyword">open</a> <a id="959" class="Keyword">import</a> <a id="966" href="Function.Base.html" class="Module">Function.Base</a>  <a id="981" class="Keyword">using</a> <a id="987" class="Symbol">(</a> <a id="989" href="Function.Base.html#1031" class="Function Operator">_∘_</a> <a id="993" class="Symbol">)</a>
<a id="995" class="Keyword">open</a> <a id="1000" class="Keyword">import</a> <a id="1007" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                           <a id="1072" class="Keyword">using</a> <a id="1078" class="Symbol">(</a> <a id="1080" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="1084" class="Symbol">;</a> <a id="1086" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1091" class="Symbol">;</a> <a id="1093" class="Keyword">module</a> <a id="1100" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a> <a id="1112" class="Symbol">;</a> <a id="1114" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="1118" class="Symbol">;</a> <a id="1120" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1125" class="Symbol">)</a>

<a id="1128" class="Comment">-- Imports from Agda Universal Algebra Library ----------------------------------------------</a>
<a id="1222" class="Keyword">open</a> <a id="1227" class="Keyword">import</a> <a id="1234" href="Base.Overture.Preliminaries.html" class="Module">Base.Overture.Preliminaries</a>       <a id="1268" class="Keyword">using</a> <a id="1274" class="Symbol">(</a> <a id="1276" href="Base.Overture.Preliminaries.html#5321" class="Function Operator">_∙_</a> <a id="1280" class="Symbol">;</a> <a id="1282" href="Base.Overture.Preliminaries.html#4995" class="Function Operator">_⁻¹</a> <a id="1286" class="Symbol">;</a> <a id="1288" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣_∣</a> <a id="1292" class="Symbol">;</a> <a id="1294" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥_∥</a> <a id="1298" class="Symbol">;</a> <a id="1300" href="Base.Overture.Preliminaries.html#6010" class="Function">Π</a> <a id="1302" class="Symbol">;</a> <a id="1304" href="Base.Overture.Preliminaries.html#6090" class="Function">Π-syntax</a> <a id="1313" class="Symbol">;</a> <a id="1315" href="Base.Overture.Preliminaries.html#9670" class="Function Operator">_≈_</a> <a id="1319" class="Symbol">)</a>
<a id="1321" class="Keyword">open</a> <a id="1326" class="Keyword">import</a> <a id="1333" href="Base.Relations.Discrete.html" class="Module">Base.Relations.Discrete</a>           <a id="1367" class="Keyword">using</a> <a id="1373" class="Symbol">(</a> <a id="1375" href="Base.Relations.Discrete.html#7006" class="Function Operator">_|:_</a> <a id="1380" class="Symbol">)</a>
<a id="1382" class="Keyword">open</a> <a id="1387" class="Keyword">import</a> <a id="1394" href="Base.Equality.Welldefined.html" class="Module">Base.Equality.Welldefined</a>         <a id="1428" class="Keyword">using</a> <a id="1434" class="Symbol">(</a> <a id="1436" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="1445" class="Symbol">)</a>
<a id="1447" class="Keyword">open</a> <a id="1452" class="Keyword">import</a> <a id="1459" href="Base.Algebras.Products.html" class="Module">Base.Algebras.Products</a>    <a id="1485" class="Symbol">{</a><a id="1486" class="Argument">𝑆</a> <a id="1488" class="Symbol">=</a> <a id="1490" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="1491" class="Symbol">}</a> <a id="1493" class="Keyword">using</a> <a id="1499" class="Symbol">(</a> <a id="1501" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="1504" class="Symbol">;</a> <a id="1506" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="1508" class="Symbol">)</a>
<a id="1510" class="Keyword">open</a> <a id="1515" class="Keyword">import</a> <a id="1522" href="Base.Algebras.Congruences.html" class="Module">Base.Algebras.Congruences</a> <a id="1548" class="Symbol">{</a><a id="1549" class="Argument">𝑆</a> <a id="1551" class="Symbol">=</a> <a id="1553" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="1554" class="Symbol">}</a> <a id="1556" class="Keyword">using</a> <a id="1562" class="Symbol">(</a> <a id="1564" href="Base.Algebras.Congruences.html#2039" class="Function">Con</a> <a id="1568" class="Symbol">;</a> <a id="1570" href="Base.Algebras.Congruences.html#1853" class="Record">IsCongruence</a><a id="1582" class="Symbol">)</a>
<a id="1584" class="Keyword">open</a> <a id="1589" class="Keyword">import</a> <a id="1596" href="Base.Homomorphisms.Basic.html" class="Module">Base.Homomorphisms.Basic</a>  <a id="1622" class="Symbol">{</a><a id="1623" class="Argument">𝑆</a> <a id="1625" class="Symbol">=</a> <a id="1627" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="1628" class="Symbol">}</a> <a id="1630" class="Keyword">using</a> <a id="1636" class="Symbol">(</a> <a id="1638" href="Base.Homomorphisms.Basic.html#2682" class="Function">hom</a> <a id="1642" class="Symbol">)</a>
<a id="1644" class="Keyword">open</a> <a id="1649" class="Keyword">import</a> <a id="1656" href="Base.Terms.Basic.html" class="Module">Base.Terms.Basic</a>          <a id="1682" class="Symbol">{</a><a id="1683" class="Argument">𝑆</a> <a id="1685" class="Symbol">=</a> <a id="1687" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="1688" class="Symbol">}</a> <a id="1690" class="Keyword">using</a> <a id="1696" class="Symbol">(</a> <a id="1698" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="1703" class="Symbol">;</a> <a id="1705" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="1707" class="Symbol">)</a>
<a id="1709" class="Keyword">open</a> <a id="1714" class="Keyword">import</a> <a id="1721" href="Base.Terms.Properties.html" class="Module">Base.Terms.Properties</a>     <a id="1747" class="Symbol">{</a><a id="1748" class="Argument">𝑆</a> <a id="1750" class="Symbol">=</a> <a id="1752" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="1753" class="Symbol">}</a> <a id="1755" class="Keyword">using</a> <a id="1761" class="Symbol">(</a> <a id="1763" href="Base.Terms.Properties.html#2589" class="Function">free-lift</a> <a id="1773" class="Symbol">)</a>

<a id="1776" class="Keyword">open</a> <a id="1781" href="Base.Terms.Basic.html#2021" class="Module">Term</a>

<a id="1787" class="Keyword">private</a> <a id="1795" class="Keyword">variable</a> <a id="1804" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a> <a id="1806" href="Base.Terms.Operations.html#1806" class="Generalizable">β</a> <a id="1808" href="Base.Terms.Operations.html#1808" class="Generalizable">γ</a> <a id="1810" href="Base.Terms.Operations.html#1810" class="Generalizable">ρ</a> <a id="1812" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a> <a id="1814" class="Symbol">:</a> <a id="1816" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>

When we interpret a term in an algebra we call the resulting function a *term operation*.  Given a term `p` and an algebra `𝑨`, we denote by `𝑨 ⟦ p ⟧` the *interpretation* of `p` in `𝑨`.  This is defined inductively as follows.

1. If `p` is a variable symbol `x : X` and if `a : X → ∣ 𝑨 ∣` is a tuple of elements of `∣ 𝑨 ∣`, then `𝑨 ⟦ p ⟧ a := a x`.

2. If `p = f t`, where `f : ∣ 𝑆 ∣` is an operation symbol, if `t : ∥ 𝑆 ∥ f → 𝑻 X` is a tuple of terms, and if `a : X → ∣ 𝑨 ∣` is a tuple from `𝑨`, then we define `𝑨 ⟦ p ⟧ a = 𝑨 ⟦ f t ⟧ a := (f ̂ 𝑨) (λ i → 𝑨 ⟦ t i ⟧ a)`.

Thus the interpretation of a term is defined by induction on the structure of the term, and the definition is formally implemented in the [agda-algebras](https://github.com/ualib/agda-algebras) library as follows.

<pre class="Agda">

<a id="_⟦_⟧"></a><a id="2637" href="Base.Terms.Operations.html#2637" class="Function Operator">_⟦_⟧</a> <a id="2642" class="Symbol">:</a> <a id="2644" class="Symbol">(</a><a id="2645" href="Base.Terms.Operations.html#2645" class="Bound">𝑨</a> <a id="2647" class="Symbol">:</a> <a id="2649" href="Base.Algebras.Basic.html#6259" class="Function">Algebra</a> <a id="2657" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a> <a id="2659" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="2660" class="Symbol">){</a><a id="2662" href="Base.Terms.Operations.html#2662" class="Bound">X</a> <a id="2664" class="Symbol">:</a> <a id="2666" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="2671" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a> <a id="2673" class="Symbol">}</a> <a id="2675" class="Symbol">→</a> <a id="2677" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="2682" href="Base.Terms.Operations.html#2662" class="Bound">X</a> <a id="2684" class="Symbol">→</a> <a id="2686" class="Symbol">(</a><a id="2687" href="Base.Terms.Operations.html#2662" class="Bound">X</a> <a id="2689" class="Symbol">→</a> <a id="2691" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="2693" href="Base.Terms.Operations.html#2645" class="Bound">𝑨</a> <a id="2695" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="2696" class="Symbol">)</a> <a id="2698" class="Symbol">→</a> <a id="2700" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="2702" href="Base.Terms.Operations.html#2645" class="Bound">𝑨</a> <a id="2704" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a>
<a id="2706" href="Base.Terms.Operations.html#2706" class="Bound">𝑨</a> <a id="2708" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="2710" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="2712" href="Base.Terms.Operations.html#2712" class="Bound">x</a> <a id="2714" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a> <a id="2716" class="Symbol">=</a> <a id="2718" class="Symbol">λ</a> <a id="2720" href="Base.Terms.Operations.html#2720" class="Bound">η</a> <a id="2722" class="Symbol">→</a> <a id="2724" href="Base.Terms.Operations.html#2720" class="Bound">η</a> <a id="2726" href="Base.Terms.Operations.html#2712" class="Bound">x</a>
<a id="2728" href="Base.Terms.Operations.html#2728" class="Bound">𝑨</a> <a id="2730" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="2732" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="2737" href="Base.Terms.Operations.html#2737" class="Bound">f</a> <a id="2739" href="Base.Terms.Operations.html#2739" class="Bound">t</a> <a id="2741" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a> <a id="2743" class="Symbol">=</a> <a id="2745" class="Symbol">λ</a> <a id="2747" href="Base.Terms.Operations.html#2747" class="Bound">η</a> <a id="2749" class="Symbol">→</a> <a id="2751" class="Symbol">(</a><a id="2752" href="Base.Terms.Operations.html#2737" class="Bound">f</a> <a id="2754" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="2756" href="Base.Terms.Operations.html#2728" class="Bound">𝑨</a><a id="2757" class="Symbol">)</a> <a id="2759" class="Symbol">(λ</a> <a id="2762" href="Base.Terms.Operations.html#2762" class="Bound">i</a> <a id="2764" class="Symbol">→</a> <a id="2766" class="Symbol">(</a><a id="2767" href="Base.Terms.Operations.html#2728" class="Bound">𝑨</a> <a id="2769" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="2771" href="Base.Terms.Operations.html#2739" class="Bound">t</a> <a id="2773" href="Base.Terms.Operations.html#2762" class="Bound">i</a> <a id="2775" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="2776" class="Symbol">)</a> <a id="2778" href="Base.Terms.Operations.html#2747" class="Bound">η</a><a id="2779" class="Symbol">)</a>

</pre>

It turns out that the intepretation of a term is the same as the `free-lift` (modulo argument order and assuming function extensionality).

<pre class="Agda">

<a id="free-lift-interp"></a><a id="2948" href="Base.Terms.Operations.html#2948" class="Function">free-lift-interp</a> <a id="2965" class="Symbol">:</a> <a id="2967" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="2976" href="Base.Terms.Operations.html#615" class="Bound">𝓥</a> <a id="2978" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a> <a id="2980" class="Symbol">→</a> <a id="2982" class="Symbol">(</a><a id="2983" href="Base.Terms.Operations.html#2983" class="Bound">𝑨</a> <a id="2985" class="Symbol">:</a> <a id="2987" href="Base.Algebras.Basic.html#6259" class="Function">Algebra</a> <a id="2995" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a> <a id="2997" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="2998" class="Symbol">){</a><a id="3000" href="Base.Terms.Operations.html#3000" class="Bound">X</a> <a id="3002" class="Symbol">:</a> <a id="3004" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="3009" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a> <a id="3011" class="Symbol">}(</a><a id="3013" href="Base.Terms.Operations.html#3013" class="Bound">η</a> <a id="3015" class="Symbol">:</a> <a id="3017" href="Base.Terms.Operations.html#3000" class="Bound">X</a> <a id="3019" class="Symbol">→</a> <a id="3021" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="3023" href="Base.Terms.Operations.html#2983" class="Bound">𝑨</a> <a id="3025" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="3026" class="Symbol">)(</a><a id="3028" href="Base.Terms.Operations.html#3028" class="Bound">p</a> <a id="3030" class="Symbol">:</a> <a id="3032" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="3037" href="Base.Terms.Operations.html#3000" class="Bound">X</a><a id="3038" class="Symbol">)</a>
 <a id="3041" class="Symbol">→</a>                 <a id="3059" class="Symbol">(</a><a id="3060" href="Base.Terms.Operations.html#2983" class="Bound">𝑨</a> <a id="3062" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="3064" href="Base.Terms.Operations.html#3028" class="Bound">p</a> <a id="3066" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="3067" class="Symbol">)</a> <a id="3069" href="Base.Terms.Operations.html#3013" class="Bound">η</a> <a id="3071" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3073" class="Symbol">(</a><a id="3074" href="Base.Terms.Properties.html#2589" class="Function">free-lift</a> <a id="3084" href="Base.Terms.Operations.html#2983" class="Bound">𝑨</a> <a id="3086" href="Base.Terms.Operations.html#3013" class="Bound">η</a><a id="3087" class="Symbol">)</a> <a id="3089" href="Base.Terms.Operations.html#3028" class="Bound">p</a>

<a id="3092" href="Base.Terms.Operations.html#2948" class="Function">free-lift-interp</a> <a id="3109" class="Symbol">_</a> <a id="3111" href="Base.Terms.Operations.html#3111" class="Bound">𝑨</a> <a id="3113" href="Base.Terms.Operations.html#3113" class="Bound">η</a> <a id="3115" class="Symbol">(</a><a id="3116" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="3118" href="Base.Terms.Operations.html#3118" class="Bound">x</a><a id="3119" class="Symbol">)</a> <a id="3121" class="Symbol">=</a> <a id="3123" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3128" href="Base.Terms.Operations.html#2948" class="Function">free-lift-interp</a> <a id="3145" href="Base.Terms.Operations.html#3145" class="Bound">wd</a> <a id="3148" href="Base.Terms.Operations.html#3148" class="Bound">𝑨</a> <a id="3150" href="Base.Terms.Operations.html#3150" class="Bound">η</a> <a id="3152" class="Symbol">(</a><a id="3153" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="3158" href="Base.Terms.Operations.html#3158" class="Bound">f</a> <a id="3160" href="Base.Terms.Operations.html#3160" class="Bound">t</a><a id="3161" class="Symbol">)</a> <a id="3163" class="Symbol">=</a> <a id="3165" href="Base.Terms.Operations.html#3145" class="Bound">wd</a> <a id="3168" class="Symbol">(</a><a id="3169" href="Base.Terms.Operations.html#3158" class="Bound">f</a> <a id="3171" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="3173" href="Base.Terms.Operations.html#3148" class="Bound">𝑨</a><a id="3174" class="Symbol">)</a> <a id="3176" class="Symbol">(λ</a> <a id="3179" href="Base.Terms.Operations.html#3179" class="Bound">z</a> <a id="3181" class="Symbol">→</a> <a id="3183" class="Symbol">(</a><a id="3184" href="Base.Terms.Operations.html#3148" class="Bound">𝑨</a> <a id="3186" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="3188" href="Base.Terms.Operations.html#3160" class="Bound">t</a> <a id="3190" href="Base.Terms.Operations.html#3179" class="Bound">z</a> <a id="3192" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="3193" class="Symbol">)</a> <a id="3195" href="Base.Terms.Operations.html#3150" class="Bound">η</a><a id="3196" class="Symbol">)</a>
                                       <a id="3237" class="Symbol">((</a><a id="3239" href="Base.Terms.Properties.html#2589" class="Function">free-lift</a> <a id="3249" href="Base.Terms.Operations.html#3148" class="Bound">𝑨</a> <a id="3251" href="Base.Terms.Operations.html#3150" class="Bound">η</a><a id="3252" class="Symbol">)</a> <a id="3254" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3256" href="Base.Terms.Operations.html#3160" class="Bound">t</a><a id="3257" class="Symbol">)((</a><a id="3260" href="Base.Terms.Operations.html#2948" class="Function">free-lift-interp</a> <a id="3277" href="Base.Terms.Operations.html#3145" class="Bound">wd</a> <a id="3280" href="Base.Terms.Operations.html#3148" class="Bound">𝑨</a> <a id="3282" href="Base.Terms.Operations.html#3150" class="Bound">η</a><a id="3283" class="Symbol">)</a> <a id="3285" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3287" href="Base.Terms.Operations.html#3160" class="Bound">t</a><a id="3288" class="Symbol">)</a>

</pre>

If the algebra in question happens to be `𝑻 X`, then we expect that `∀ s` we have `(𝑻 X)⟦ p ⟧ s ≡ p s`. But what is `(𝑻 X)⟦ p ⟧ s` exactly? By definition, it depends on the form of `p` as follows:

* if `p = ℊ x`, then `(𝑻 X)⟦ p ⟧ s := (𝑻 X)⟦ ℊ x ⟧ s ≡ s x`

* if `p = node f t`, then `(𝑻 X)⟦ p ⟧ s := (𝑻 X)⟦ node f t ⟧ s = (f ̂ 𝑻 X) λ i → (𝑻 X)⟦ t i ⟧ s`

Now, assume `ϕ : hom 𝑻 𝑨`. Then by `comm-hom-term`, we have `∣ ϕ ∣ (𝑻 X)⟦ p ⟧ s = 𝑨 ⟦ p ⟧ ∣ ϕ ∣ ∘ s`.

* if `p = ℊ x` (and `t : X → ∣ 𝑻 X ∣`), then

  `∣ ϕ ∣ p ≡ ∣ ϕ ∣ (ℊ x) ≡ ∣ ϕ ∣ (λ t → h t) ≡ λ t → (∣ ϕ ∣ ∘ t) x`

* if `p = node f t`, then

   ∣ ϕ ∣ p ≡ ∣ ϕ ∣ (𝑻 X)⟦ p ⟧ s = (𝑻 X)⟦ node f t ⟧ s = (f ̂ 𝑻 X) λ i → (𝑻 X)⟦ t i ⟧ s

We claim that for all `p : Term X` there exists `q : Term X` and `t : X → ∣ 𝑻 X ∣` such that `p ≡ (𝑻 X)⟦ q ⟧ t`. We prove this fact as follows.

<pre class="Agda">

<a id="term-interp"></a><a id="4152" href="Base.Terms.Operations.html#4152" class="Function">term-interp</a> <a id="4164" class="Symbol">:</a> <a id="4166" class="Symbol">{</a><a id="4167" href="Base.Terms.Operations.html#4167" class="Bound">X</a> <a id="4169" class="Symbol">:</a> <a id="4171" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="4176" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="4177" class="Symbol">}</a> <a id="4179" class="Symbol">(</a><a id="4180" href="Base.Terms.Operations.html#4180" class="Bound">f</a> <a id="4182" class="Symbol">:</a> <a id="4184" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="4186" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a> <a id="4188" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="4189" class="Symbol">){</a><a id="4191" href="Base.Terms.Operations.html#4191" class="Bound">s</a> <a id="4193" href="Base.Terms.Operations.html#4193" class="Bound">t</a> <a id="4195" class="Symbol">:</a> <a id="4197" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="4199" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a> <a id="4201" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="4203" href="Base.Terms.Operations.html#4180" class="Bound">f</a> <a id="4205" class="Symbol">→</a> <a id="4207" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="4212" href="Base.Terms.Operations.html#4167" class="Bound">X</a><a id="4213" class="Symbol">}</a> <a id="4215" class="Symbol">→</a> <a id="4217" href="Base.Terms.Operations.html#4191" class="Bound">s</a> <a id="4219" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4221" href="Base.Terms.Operations.html#4193" class="Bound">t</a> <a id="4223" class="Symbol">→</a> <a id="4225" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="4230" href="Base.Terms.Operations.html#4180" class="Bound">f</a> <a id="4232" href="Base.Terms.Operations.html#4191" class="Bound">s</a> <a id="4234" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4236" class="Symbol">(</a><a id="4237" href="Base.Terms.Operations.html#4180" class="Bound">f</a> <a id="4239" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="4241" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4243" href="Base.Terms.Operations.html#4167" class="Bound">X</a><a id="4244" class="Symbol">)</a> <a id="4246" href="Base.Terms.Operations.html#4193" class="Bound">t</a>
<a id="4248" href="Base.Terms.Operations.html#4152" class="Function">term-interp</a> <a id="4260" href="Base.Terms.Operations.html#4260" class="Bound">f</a> <a id="4262" class="Symbol">{</a><a id="4263" href="Base.Terms.Operations.html#4263" class="Bound">s</a><a id="4264" class="Symbol">}{</a><a id="4266" href="Base.Terms.Operations.html#4266" class="Bound">t</a><a id="4267" class="Symbol">}</a> <a id="4269" href="Base.Terms.Operations.html#4269" class="Bound">st</a> <a id="4272" class="Symbol">=</a> <a id="4274" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4279" class="Symbol">(</a><a id="4280" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="4285" href="Base.Terms.Operations.html#4260" class="Bound">f</a><a id="4286" class="Symbol">)</a> <a id="4288" href="Base.Terms.Operations.html#4269" class="Bound">st</a>

<a id="term-interp&#39;"></a><a id="4292" href="Base.Terms.Operations.html#4292" class="Function">term-interp&#39;</a> <a id="4305" class="Symbol">:</a> <a id="4307" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="4316" href="Base.Terms.Operations.html#615" class="Bound">𝓥</a> <a id="4318" class="Symbol">(</a><a id="4319" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="4322" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="4323" class="Symbol">)</a> <a id="4325" class="Symbol">→</a> <a id="4327" class="Symbol">{</a><a id="4328" href="Base.Terms.Operations.html#4328" class="Bound">X</a> <a id="4330" class="Symbol">:</a> <a id="4332" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="4337" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="4338" class="Symbol">}</a> <a id="4340" class="Symbol">(</a><a id="4341" href="Base.Terms.Operations.html#4341" class="Bound">f</a> <a id="4343" class="Symbol">:</a> <a id="4345" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="4347" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a> <a id="4349" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="4350" class="Symbol">){</a><a id="4352" href="Base.Terms.Operations.html#4352" class="Bound">s</a> <a id="4354" href="Base.Terms.Operations.html#4354" class="Bound">t</a> <a id="4356" class="Symbol">:</a> <a id="4358" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="4360" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a> <a id="4362" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="4364" href="Base.Terms.Operations.html#4341" class="Bound">f</a> <a id="4366" class="Symbol">→</a> <a id="4368" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="4373" href="Base.Terms.Operations.html#4328" class="Bound">X</a><a id="4374" class="Symbol">}</a>
 <a id="4377" class="Symbol">→</a>             <a id="4391" class="Symbol">(∀</a> <a id="4394" href="Base.Terms.Operations.html#4394" class="Bound">i</a> <a id="4396" class="Symbol">→</a> <a id="4398" href="Base.Terms.Operations.html#4352" class="Bound">s</a> <a id="4400" href="Base.Terms.Operations.html#4394" class="Bound">i</a> <a id="4402" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4404" href="Base.Terms.Operations.html#4354" class="Bound">t</a> <a id="4406" href="Base.Terms.Operations.html#4394" class="Bound">i</a><a id="4407" class="Symbol">)</a> <a id="4409" class="Symbol">→</a> <a id="4411" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="4416" href="Base.Terms.Operations.html#4341" class="Bound">f</a> <a id="4418" href="Base.Terms.Operations.html#4352" class="Bound">s</a> <a id="4420" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4422" class="Symbol">(</a><a id="4423" href="Base.Terms.Operations.html#4341" class="Bound">f</a> <a id="4425" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="4427" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4429" href="Base.Terms.Operations.html#4328" class="Bound">X</a><a id="4430" class="Symbol">)</a> <a id="4432" href="Base.Terms.Operations.html#4354" class="Bound">t</a>
<a id="4434" href="Base.Terms.Operations.html#4292" class="Function">term-interp&#39;</a> <a id="4447" href="Base.Terms.Operations.html#4447" class="Bound">wd</a> <a id="4450" href="Base.Terms.Operations.html#4450" class="Bound">f</a> <a id="4452" class="Symbol">{</a><a id="4453" href="Base.Terms.Operations.html#4453" class="Bound">s</a><a id="4454" class="Symbol">}{</a><a id="4456" href="Base.Terms.Operations.html#4456" class="Bound">t</a><a id="4457" class="Symbol">}</a> <a id="4459" href="Base.Terms.Operations.html#4459" class="Bound">st</a> <a id="4462" class="Symbol">=</a> <a id="4464" href="Base.Terms.Operations.html#4447" class="Bound">wd</a> <a id="4467" class="Symbol">(</a><a id="4468" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="4473" href="Base.Terms.Operations.html#4450" class="Bound">f</a><a id="4474" class="Symbol">)</a> <a id="4476" href="Base.Terms.Operations.html#4453" class="Bound">s</a> <a id="4478" href="Base.Terms.Operations.html#4456" class="Bound">t</a> <a id="4480" href="Base.Terms.Operations.html#4459" class="Bound">st</a>

<a id="term-gen"></a><a id="4484" href="Base.Terms.Operations.html#4484" class="Function">term-gen</a> <a id="4493" class="Symbol">:</a> <a id="4495" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="4504" href="Base.Terms.Operations.html#615" class="Bound">𝓥</a> <a id="4506" class="Symbol">(</a><a id="4507" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="4510" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="4511" class="Symbol">)</a> <a id="4513" class="Symbol">→</a> <a id="4515" class="Symbol">{</a><a id="4516" href="Base.Terms.Operations.html#4516" class="Bound">X</a> <a id="4518" class="Symbol">:</a> <a id="4520" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="4525" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="4526" class="Symbol">}(</a><a id="4528" href="Base.Terms.Operations.html#4528" class="Bound">p</a> <a id="4530" class="Symbol">:</a> <a id="4532" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="4534" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4536" href="Base.Terms.Operations.html#4516" class="Bound">X</a> <a id="4538" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="4539" class="Symbol">)</a> <a id="4541" class="Symbol">→</a> <a id="4543" href="Data.Product.html#916" class="Function">Σ[</a> <a id="4546" href="Base.Terms.Operations.html#4546" class="Bound">q</a> <a id="4548" href="Data.Product.html#916" class="Function">∈</a> <a id="4550" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="4552" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4554" href="Base.Terms.Operations.html#4516" class="Bound">X</a> <a id="4556" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="4558" href="Data.Product.html#916" class="Function">]</a> <a id="4560" href="Base.Terms.Operations.html#4528" class="Bound">p</a> <a id="4562" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4564" class="Symbol">(</a><a id="4565" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4567" href="Base.Terms.Operations.html#4516" class="Bound">X</a> <a id="4569" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="4571" href="Base.Terms.Operations.html#4546" class="Bound">q</a> <a id="4573" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="4574" class="Symbol">)</a> <a id="4576" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a>
<a id="4578" href="Base.Terms.Operations.html#4484" class="Function">term-gen</a> <a id="4587" class="Symbol">_</a> <a id="4589" class="Symbol">(</a><a id="4590" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="4592" href="Base.Terms.Operations.html#4592" class="Bound">x</a><a id="4593" class="Symbol">)</a> <a id="4595" class="Symbol">=</a> <a id="4597" class="Symbol">(</a><a id="4598" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="4600" href="Base.Terms.Operations.html#4592" class="Bound">x</a><a id="4601" class="Symbol">)</a> <a id="4603" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4605" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4610" href="Base.Terms.Operations.html#4484" class="Function">term-gen</a> <a id="4619" href="Base.Terms.Operations.html#4619" class="Bound">wd</a> <a id="4622" class="Symbol">(</a><a id="4623" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="4628" href="Base.Terms.Operations.html#4628" class="Bound">f</a> <a id="4630" href="Base.Terms.Operations.html#4630" class="Bound">t</a><a id="4631" class="Symbol">)</a> <a id="4633" class="Symbol">=</a> <a id="4635" class="Symbol">(</a><a id="4636" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="4641" href="Base.Terms.Operations.html#4628" class="Bound">f</a> <a id="4643" class="Symbol">(λ</a> <a id="4646" href="Base.Terms.Operations.html#4646" class="Bound">i</a> <a id="4648" class="Symbol">→</a> <a id="4650" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="4652" href="Base.Terms.Operations.html#4484" class="Function">term-gen</a> <a id="4661" href="Base.Terms.Operations.html#4619" class="Bound">wd</a> <a id="4664" class="Symbol">(</a><a id="4665" href="Base.Terms.Operations.html#4630" class="Bound">t</a> <a id="4667" href="Base.Terms.Operations.html#4646" class="Bound">i</a><a id="4668" class="Symbol">)</a> <a id="4670" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="4671" class="Symbol">))</a> <a id="4674" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a>
                         <a id="4701" href="Base.Terms.Operations.html#4292" class="Function">term-interp&#39;</a> <a id="4714" href="Base.Terms.Operations.html#4619" class="Bound">wd</a> <a id="4717" href="Base.Terms.Operations.html#4628" class="Bound">f</a> <a id="4719" class="Symbol">λ</a> <a id="4721" href="Base.Terms.Operations.html#4721" class="Bound">i</a> <a id="4723" class="Symbol">→</a> <a id="4725" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="4727" href="Base.Terms.Operations.html#4484" class="Function">term-gen</a> <a id="4736" href="Base.Terms.Operations.html#4619" class="Bound">wd</a> <a id="4739" class="Symbol">(</a><a id="4740" href="Base.Terms.Operations.html#4630" class="Bound">t</a> <a id="4742" href="Base.Terms.Operations.html#4721" class="Bound">i</a><a id="4743" class="Symbol">)</a> <a id="4745" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a>

<a id="term-gen-agreement"></a><a id="4748" href="Base.Terms.Operations.html#4748" class="Function">term-gen-agreement</a> <a id="4767" class="Symbol">:</a> <a id="4769" class="Symbol">(</a><a id="4770" href="Base.Terms.Operations.html#4770" class="Bound">wd</a> <a id="4773" class="Symbol">:</a> <a id="4775" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="4784" href="Base.Terms.Operations.html#615" class="Bound">𝓥</a> <a id="4786" class="Symbol">(</a><a id="4787" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="4790" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="4791" class="Symbol">)){</a><a id="4794" href="Base.Terms.Operations.html#4794" class="Bound">X</a> <a id="4796" class="Symbol">:</a> <a id="4798" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="4803" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="4804" class="Symbol">}(</a><a id="4806" href="Base.Terms.Operations.html#4806" class="Bound">p</a> <a id="4808" class="Symbol">:</a> <a id="4810" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="4812" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4814" href="Base.Terms.Operations.html#4794" class="Bound">X</a> <a id="4816" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="4817" class="Symbol">)</a> <a id="4819" class="Symbol">→</a> <a id="4821" class="Symbol">(</a><a id="4822" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4824" href="Base.Terms.Operations.html#4794" class="Bound">X</a> <a id="4826" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="4828" href="Base.Terms.Operations.html#4806" class="Bound">p</a> <a id="4830" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="4831" class="Symbol">)</a> <a id="4833" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="4835" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4837" class="Symbol">(</a><a id="4838" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4840" href="Base.Terms.Operations.html#4794" class="Bound">X</a> <a id="4842" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="4844" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="4846" href="Base.Terms.Operations.html#4484" class="Function">term-gen</a> <a id="4855" href="Base.Terms.Operations.html#4770" class="Bound">wd</a> <a id="4858" href="Base.Terms.Operations.html#4806" class="Bound">p</a> <a id="4860" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="4862" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="4863" class="Symbol">)</a> <a id="4865" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a>
<a id="4867" href="Base.Terms.Operations.html#4748" class="Function">term-gen-agreement</a> <a id="4886" class="Symbol">_</a> <a id="4888" class="Symbol">(</a><a id="4889" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="4891" href="Base.Terms.Operations.html#4891" class="Bound">x</a><a id="4892" class="Symbol">)</a> <a id="4894" class="Symbol">=</a> <a id="4896" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4901" href="Base.Terms.Operations.html#4748" class="Function">term-gen-agreement</a> <a id="4920" href="Base.Terms.Operations.html#4920" class="Bound">wd</a> <a id="4923" class="Symbol">{</a><a id="4924" href="Base.Terms.Operations.html#4924" class="Bound">X</a><a id="4925" class="Symbol">}</a> <a id="4927" class="Symbol">(</a><a id="4928" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="4933" href="Base.Terms.Operations.html#4933" class="Bound">f</a> <a id="4935" href="Base.Terms.Operations.html#4935" class="Bound">t</a><a id="4936" class="Symbol">)</a> <a id="4938" class="Symbol">=</a> <a id="4940" href="Base.Terms.Operations.html#4920" class="Bound">wd</a> <a id="4943" class="Symbol">(</a><a id="4944" href="Base.Terms.Operations.html#4933" class="Bound">f</a> <a id="4946" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="4948" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4950" href="Base.Terms.Operations.html#4924" class="Bound">X</a><a id="4951" class="Symbol">)</a> <a id="4953" class="Symbol">(λ</a> <a id="4956" href="Base.Terms.Operations.html#4956" class="Bound">x</a> <a id="4958" class="Symbol">→</a> <a id="4960" class="Symbol">(</a><a id="4961" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="4963" href="Base.Terms.Operations.html#4924" class="Bound">X</a> <a id="4965" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="4967" href="Base.Terms.Operations.html#4935" class="Bound">t</a> <a id="4969" href="Base.Terms.Operations.html#4956" class="Bound">x</a> <a id="4971" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="4972" class="Symbol">)</a> <a id="4974" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a><a id="4975" class="Symbol">)</a>
                                          <a id="5019" class="Symbol">(λ</a> <a id="5022" href="Base.Terms.Operations.html#5022" class="Bound">x</a> <a id="5024" class="Symbol">→</a> <a id="5026" class="Symbol">(</a><a id="5027" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="5029" href="Base.Terms.Operations.html#4924" class="Bound">X</a> <a id="5031" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="5033" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="5035" href="Base.Terms.Operations.html#4484" class="Function">term-gen</a> <a id="5044" href="Base.Terms.Operations.html#4920" class="Bound">wd</a> <a id="5047" class="Symbol">(</a><a id="5048" href="Base.Terms.Operations.html#4935" class="Bound">t</a> <a id="5050" href="Base.Terms.Operations.html#5022" class="Bound">x</a><a id="5051" class="Symbol">)</a> <a id="5053" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="5055" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="5056" class="Symbol">)</a> <a id="5058" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a><a id="5059" class="Symbol">)</a> <a id="5061" class="Symbol">λ</a> <a id="5063" href="Base.Terms.Operations.html#5063" class="Bound">i</a> <a id="5065" class="Symbol">→</a> <a id="5067" href="Base.Terms.Operations.html#4748" class="Function">term-gen-agreement</a> <a id="5086" href="Base.Terms.Operations.html#4920" class="Bound">wd</a> <a id="5089" class="Symbol">(</a><a id="5090" href="Base.Terms.Operations.html#4935" class="Bound">t</a> <a id="5092" href="Base.Terms.Operations.html#5063" class="Bound">i</a><a id="5093" class="Symbol">)</a>

<a id="term-agreement"></a><a id="5096" href="Base.Terms.Operations.html#5096" class="Function">term-agreement</a> <a id="5111" class="Symbol">:</a> <a id="5113" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="5122" href="Base.Terms.Operations.html#615" class="Bound">𝓥</a> <a id="5124" class="Symbol">(</a><a id="5125" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="5128" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="5129" class="Symbol">)</a> <a id="5131" class="Symbol">→</a> <a id="5133" class="Symbol">{</a><a id="5134" href="Base.Terms.Operations.html#5134" class="Bound">X</a> <a id="5136" class="Symbol">:</a> <a id="5138" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="5143" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="5144" class="Symbol">}(</a><a id="5146" href="Base.Terms.Operations.html#5146" class="Bound">p</a> <a id="5148" class="Symbol">:</a> <a id="5150" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="5152" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="5154" href="Base.Terms.Operations.html#5134" class="Bound">X</a> <a id="5156" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="5157" class="Symbol">)</a> <a id="5159" class="Symbol">→</a> <a id="5161" href="Base.Terms.Operations.html#5146" class="Bound">p</a> <a id="5163" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a>  <a id="5166" class="Symbol">(</a><a id="5167" href="Base.Terms.Basic.html#3304" class="Function">𝑻</a> <a id="5169" href="Base.Terms.Operations.html#5134" class="Bound">X</a> <a id="5171" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="5173" href="Base.Terms.Operations.html#5146" class="Bound">p</a> <a id="5175" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="5176" class="Symbol">)</a> <a id="5178" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a>
<a id="5180" href="Base.Terms.Operations.html#5096" class="Function">term-agreement</a> <a id="5195" href="Base.Terms.Operations.html#5195" class="Bound">wd</a> <a id="5198" class="Symbol">{</a><a id="5199" href="Base.Terms.Operations.html#5199" class="Bound">X</a><a id="5200" class="Symbol">}</a> <a id="5202" href="Base.Terms.Operations.html#5202" class="Bound">p</a> <a id="5204" class="Symbol">=</a> <a id="5206" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="5208" href="Base.Terms.Operations.html#4484" class="Function">term-gen</a> <a id="5217" href="Base.Terms.Operations.html#5195" class="Bound">wd</a> <a id="5220" href="Base.Terms.Operations.html#5202" class="Bound">p</a> <a id="5222" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="5224" href="Base.Overture.Preliminaries.html#5321" class="Function Operator">∙</a> <a id="5226" class="Symbol">(</a><a id="5227" href="Base.Terms.Operations.html#4748" class="Function">term-gen-agreement</a> <a id="5246" href="Base.Terms.Operations.html#5195" class="Bound">wd</a> <a id="5249" href="Base.Terms.Operations.html#5202" class="Bound">p</a><a id="5250" class="Symbol">)</a><a id="5251" href="Base.Overture.Preliminaries.html#4995" class="Function Operator">⁻¹</a>


</pre>



#### <a id="interpretation-of-terms-in-product-algebras">Interpretation of terms in product algebras</a>

<pre class="Agda">

<a id="5390" class="Keyword">module</a> <a id="5397" href="Base.Terms.Operations.html#5397" class="Module">_</a> <a id="5399" class="Symbol">(</a><a id="5400" href="Base.Terms.Operations.html#5400" class="Bound">wd</a> <a id="5403" class="Symbol">:</a> <a id="5405" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="5414" href="Base.Terms.Operations.html#615" class="Bound">𝓥</a> <a id="5416" class="Symbol">(</a><a id="5417" href="Base.Terms.Operations.html#1806" class="Generalizable">β</a> <a id="5419" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5421" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a><a id="5422" class="Symbol">)){</a><a id="5425" href="Base.Terms.Operations.html#5425" class="Bound">X</a> <a id="5427" class="Symbol">:</a> <a id="5429" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="5434" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a> <a id="5436" class="Symbol">}{</a><a id="5438" href="Base.Terms.Operations.html#5438" class="Bound">I</a> <a id="5440" class="Symbol">:</a> <a id="5442" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="5447" href="Base.Terms.Operations.html#1806" class="Generalizable">β</a><a id="5448" class="Symbol">}</a> <a id="5450" class="Keyword">where</a>

 <a id="5458" href="Base.Terms.Operations.html#5458" class="Function">interp-prod</a> <a id="5470" class="Symbol">:</a> <a id="5472" class="Symbol">(</a><a id="5473" href="Base.Terms.Operations.html#5473" class="Bound">p</a> <a id="5475" class="Symbol">:</a> <a id="5477" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="5482" href="Base.Terms.Operations.html#5425" class="Bound">X</a><a id="5483" class="Symbol">)(</a><a id="5485" href="Base.Terms.Operations.html#5485" class="Bound">𝒜</a> <a id="5487" class="Symbol">:</a> <a id="5489" href="Base.Terms.Operations.html#5438" class="Bound">I</a> <a id="5491" class="Symbol">→</a> <a id="5493" href="Base.Algebras.Basic.html#6259" class="Function">Algebra</a> <a id="5501" href="Base.Terms.Operations.html#5421" class="Bound">α</a> <a id="5503" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="5504" class="Symbol">)(</a><a id="5506" href="Base.Terms.Operations.html#5506" class="Bound">a</a> <a id="5508" class="Symbol">:</a> <a id="5510" href="Base.Terms.Operations.html#5425" class="Bound">X</a> <a id="5512" class="Symbol">→</a> <a id="5514" href="Base.Overture.Preliminaries.html#6090" class="Function">Π[</a> <a id="5517" href="Base.Terms.Operations.html#5517" class="Bound">i</a> <a id="5519" href="Base.Overture.Preliminaries.html#6090" class="Function">∈</a> <a id="5521" href="Base.Terms.Operations.html#5438" class="Bound">I</a> <a id="5523" href="Base.Overture.Preliminaries.html#6090" class="Function">]</a> <a id="5525" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="5527" href="Base.Terms.Operations.html#5485" class="Bound">𝒜</a> <a id="5529" href="Base.Terms.Operations.html#5517" class="Bound">i</a> <a id="5531" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="5532" class="Symbol">)</a>
  <a id="5536" class="Symbol">→</a>            <a id="5549" class="Symbol">(</a><a id="5550" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="5552" href="Base.Terms.Operations.html#5485" class="Bound">𝒜</a> <a id="5554" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="5556" href="Base.Terms.Operations.html#5473" class="Bound">p</a> <a id="5558" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="5559" class="Symbol">)</a> <a id="5561" href="Base.Terms.Operations.html#5506" class="Bound">a</a> <a id="5563" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5565" class="Symbol">λ</a> <a id="5567" href="Base.Terms.Operations.html#5567" class="Bound">i</a> <a id="5569" class="Symbol">→</a> <a id="5571" class="Symbol">(</a><a id="5572" href="Base.Terms.Operations.html#5485" class="Bound">𝒜</a> <a id="5574" href="Base.Terms.Operations.html#5567" class="Bound">i</a> <a id="5576" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="5578" href="Base.Terms.Operations.html#5473" class="Bound">p</a> <a id="5580" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="5581" class="Symbol">)(λ</a> <a id="5585" href="Base.Terms.Operations.html#5585" class="Bound">x</a> <a id="5587" class="Symbol">→</a> <a id="5589" class="Symbol">(</a><a id="5590" href="Base.Terms.Operations.html#5506" class="Bound">a</a> <a id="5592" href="Base.Terms.Operations.html#5585" class="Bound">x</a><a id="5593" class="Symbol">)</a> <a id="5595" href="Base.Terms.Operations.html#5567" class="Bound">i</a><a id="5596" class="Symbol">)</a>

 <a id="5600" href="Base.Terms.Operations.html#5458" class="Function">interp-prod</a> <a id="5612" class="Symbol">(</a><a id="5613" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="5615" class="Symbol">_)</a> <a id="5618" href="Base.Terms.Operations.html#5618" class="Bound">𝒜</a> <a id="5620" href="Base.Terms.Operations.html#5620" class="Bound">a</a> <a id="5622" class="Symbol">=</a> <a id="5624" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
 <a id="5630" href="Base.Terms.Operations.html#5458" class="Function">interp-prod</a> <a id="5642" class="Symbol">(</a><a id="5643" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="5648" href="Base.Terms.Operations.html#5648" class="Bound">f</a> <a id="5650" href="Base.Terms.Operations.html#5650" class="Bound">t</a><a id="5651" class="Symbol">)</a> <a id="5653" href="Base.Terms.Operations.html#5653" class="Bound">𝒜</a> <a id="5655" href="Base.Terms.Operations.html#5655" class="Bound">a</a> <a id="5657" class="Symbol">=</a> <a id="5659" href="Base.Terms.Operations.html#5400" class="Bound">wd</a> <a id="5662" class="Symbol">((</a><a id="5664" href="Base.Terms.Operations.html#5648" class="Bound">f</a> <a id="5666" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="5668" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="5670" href="Base.Terms.Operations.html#5653" class="Bound">𝒜</a><a id="5671" class="Symbol">))</a> <a id="5674" href="Base.Terms.Operations.html#5691" class="Function">u</a> <a id="5676" href="Base.Terms.Operations.html#5739" class="Function">v</a> <a id="5678" href="Base.Terms.Operations.html#5802" class="Function">IH</a>
  <a id="5683" class="Keyword">where</a>
  <a id="5691" href="Base.Terms.Operations.html#5691" class="Function">u</a> <a id="5693" class="Symbol">:</a> <a id="5695" class="Symbol">∀</a> <a id="5697" href="Base.Terms.Operations.html#5697" class="Bound">x</a> <a id="5699" class="Symbol">→</a> <a id="5701" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="5703" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="5705" href="Base.Terms.Operations.html#5653" class="Bound">𝒜</a> <a id="5707" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a>
  <a id="5711" href="Base.Terms.Operations.html#5691" class="Function">u</a> <a id="5713" class="Symbol">=</a> <a id="5715" class="Symbol">λ</a> <a id="5717" href="Base.Terms.Operations.html#5717" class="Bound">x</a> <a id="5719" class="Symbol">→</a> <a id="5721" class="Symbol">(</a><a id="5722" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="5724" href="Base.Terms.Operations.html#5653" class="Bound">𝒜</a> <a id="5726" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="5728" href="Base.Terms.Operations.html#5650" class="Bound">t</a> <a id="5730" href="Base.Terms.Operations.html#5717" class="Bound">x</a> <a id="5732" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="5733" class="Symbol">)</a> <a id="5735" href="Base.Terms.Operations.html#5655" class="Bound">a</a>
  <a id="5739" href="Base.Terms.Operations.html#5739" class="Function">v</a> <a id="5741" class="Symbol">:</a> <a id="5743" class="Symbol">∀</a> <a id="5745" href="Base.Terms.Operations.html#5745" class="Bound">x</a> <a id="5747" href="Base.Terms.Operations.html#5747" class="Bound">i</a> <a id="5749" class="Symbol">→</a> <a id="5751" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="5753" href="Base.Terms.Operations.html#5653" class="Bound">𝒜</a> <a id="5755" href="Base.Terms.Operations.html#5747" class="Bound">i</a> <a id="5757" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a>
  <a id="5761" href="Base.Terms.Operations.html#5739" class="Function">v</a> <a id="5763" class="Symbol">=</a> <a id="5765" class="Symbol">λ</a> <a id="5767" href="Base.Terms.Operations.html#5767" class="Bound">x</a> <a id="5769" href="Base.Terms.Operations.html#5769" class="Bound">i</a> <a id="5771" class="Symbol">→</a> <a id="5773" class="Symbol">(</a><a id="5774" href="Base.Terms.Operations.html#5653" class="Bound">𝒜</a> <a id="5776" href="Base.Terms.Operations.html#5769" class="Bound">i</a> <a id="5778" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="5780" href="Base.Terms.Operations.html#5650" class="Bound">t</a> <a id="5782" href="Base.Terms.Operations.html#5767" class="Bound">x</a> <a id="5784" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="5785" class="Symbol">)(λ</a> <a id="5789" href="Base.Terms.Operations.html#5789" class="Bound">j</a> <a id="5791" class="Symbol">→</a> <a id="5793" href="Base.Terms.Operations.html#5655" class="Bound">a</a> <a id="5795" href="Base.Terms.Operations.html#5789" class="Bound">j</a> <a id="5797" href="Base.Terms.Operations.html#5769" class="Bound">i</a><a id="5798" class="Symbol">)</a>
  <a id="5802" href="Base.Terms.Operations.html#5802" class="Function">IH</a> <a id="5805" class="Symbol">:</a> <a id="5807" class="Symbol">∀</a> <a id="5809" href="Base.Terms.Operations.html#5809" class="Bound">i</a> <a id="5811" class="Symbol">→</a> <a id="5813" href="Base.Terms.Operations.html#5691" class="Function">u</a> <a id="5815" href="Base.Terms.Operations.html#5809" class="Bound">i</a> <a id="5817" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5819" href="Base.Terms.Operations.html#5739" class="Function">v</a> <a id="5821" href="Base.Terms.Operations.html#5809" class="Bound">i</a>
  <a id="5825" href="Base.Terms.Operations.html#5802" class="Function">IH</a> <a id="5828" class="Symbol">=</a> <a id="5830" class="Symbol">λ</a> <a id="5832" href="Base.Terms.Operations.html#5832" class="Bound">x</a> <a id="5834" class="Symbol">→</a> <a id="5836" href="Base.Terms.Operations.html#5458" class="Function">interp-prod</a> <a id="5848" class="Symbol">(</a><a id="5849" href="Base.Terms.Operations.html#5650" class="Bound">t</a> <a id="5851" href="Base.Terms.Operations.html#5832" class="Bound">x</a><a id="5852" class="Symbol">)</a> <a id="5854" href="Base.Terms.Operations.html#5653" class="Bound">𝒜</a> <a id="5856" href="Base.Terms.Operations.html#5655" class="Bound">a</a>

 <a id="5860" href="Base.Terms.Operations.html#5860" class="Function">interp-prod2</a> <a id="5873" class="Symbol">:</a> <a id="5875" href="Base.Terms.Operations.html#890" class="Function">funext</a> <a id="5882" class="Symbol">(</a><a id="5883" href="Base.Terms.Operations.html#5421" class="Bound">α</a> <a id="5885" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5887" href="Base.Terms.Operations.html#5417" class="Bound">β</a> <a id="5889" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5891" href="Base.Terms.Operations.html#5434" class="Bound">χ</a><a id="5892" class="Symbol">)</a> <a id="5894" class="Symbol">(</a><a id="5895" href="Base.Terms.Operations.html#5421" class="Bound">α</a> <a id="5897" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="5899" href="Base.Terms.Operations.html#5417" class="Bound">β</a><a id="5900" class="Symbol">)</a> <a id="5902" class="Symbol">→</a> <a id="5904" class="Symbol">(</a><a id="5905" href="Base.Terms.Operations.html#5905" class="Bound">p</a> <a id="5907" class="Symbol">:</a> <a id="5909" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="5914" href="Base.Terms.Operations.html#5425" class="Bound">X</a><a id="5915" class="Symbol">)(</a><a id="5917" href="Base.Terms.Operations.html#5917" class="Bound">𝒜</a> <a id="5919" class="Symbol">:</a> <a id="5921" href="Base.Terms.Operations.html#5438" class="Bound">I</a> <a id="5923" class="Symbol">→</a> <a id="5925" href="Base.Algebras.Basic.html#6259" class="Function">Algebra</a> <a id="5933" href="Base.Terms.Operations.html#5421" class="Bound">α</a> <a id="5935" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="5936" class="Symbol">)</a>
  <a id="5940" class="Symbol">→</a>             <a id="5954" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="5956" href="Base.Terms.Operations.html#5917" class="Bound">𝒜</a> <a id="5958" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="5960" href="Base.Terms.Operations.html#5905" class="Bound">p</a> <a id="5962" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a> <a id="5964" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5966" class="Symbol">(λ</a> <a id="5969" href="Base.Terms.Operations.html#5969" class="Bound">a</a> <a id="5971" href="Base.Terms.Operations.html#5971" class="Bound">i</a> <a id="5973" class="Symbol">→</a> <a id="5975" class="Symbol">(</a><a id="5976" href="Base.Terms.Operations.html#5917" class="Bound">𝒜</a> <a id="5978" href="Base.Terms.Operations.html#5971" class="Bound">i</a> <a id="5980" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="5982" href="Base.Terms.Operations.html#5905" class="Bound">p</a> <a id="5984" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="5985" class="Symbol">)</a> <a id="5987" class="Symbol">λ</a> <a id="5989" href="Base.Terms.Operations.html#5989" class="Bound">x</a> <a id="5991" class="Symbol">→</a> <a id="5993" href="Base.Terms.Operations.html#5969" class="Bound">a</a> <a id="5995" href="Base.Terms.Operations.html#5989" class="Bound">x</a> <a id="5997" href="Base.Terms.Operations.html#5971" class="Bound">i</a><a id="5998" class="Symbol">)</a>
 <a id="6001" href="Base.Terms.Operations.html#5860" class="Function">interp-prod2</a> <a id="6014" class="Symbol">_</a> <a id="6016" class="Symbol">(</a><a id="6017" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="6019" href="Base.Terms.Operations.html#6019" class="Bound">x₁</a><a id="6021" class="Symbol">)</a> <a id="6023" href="Base.Terms.Operations.html#6023" class="Bound">𝒜</a> <a id="6025" class="Symbol">=</a> <a id="6027" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
 <a id="6033" href="Base.Terms.Operations.html#5860" class="Function">interp-prod2</a> <a id="6046" href="Base.Terms.Operations.html#6046" class="Bound">fe</a> <a id="6049" class="Symbol">(</a><a id="6050" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="6055" href="Base.Terms.Operations.html#6055" class="Bound">f</a> <a id="6057" href="Base.Terms.Operations.html#6057" class="Bound">t</a><a id="6058" class="Symbol">)</a> <a id="6060" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a> <a id="6062" class="Symbol">=</a> <a id="6064" href="Base.Terms.Operations.html#6046" class="Bound">fe</a> <a id="6067" class="Symbol">λ</a> <a id="6069" href="Base.Terms.Operations.html#6069" class="Bound">a</a> <a id="6071" class="Symbol">→</a> <a id="6073" href="Base.Terms.Operations.html#5400" class="Bound">wd</a> <a id="6076" class="Symbol">(</a><a id="6077" href="Base.Terms.Operations.html#6055" class="Bound">f</a> <a id="6079" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="6081" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="6083" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a><a id="6084" class="Symbol">)(</a><a id="6086" href="Base.Terms.Operations.html#6114" class="Function">u</a> <a id="6088" href="Base.Terms.Operations.html#6069" class="Bound">a</a><a id="6089" class="Symbol">)</a> <a id="6091" class="Symbol">(</a><a id="6092" href="Base.Terms.Operations.html#6166" class="Function">v</a> <a id="6094" href="Base.Terms.Operations.html#6069" class="Bound">a</a><a id="6095" class="Symbol">)</a> <a id="6097" class="Symbol">(</a><a id="6098" href="Base.Terms.Operations.html#6255" class="Function">IH</a> <a id="6101" href="Base.Terms.Operations.html#6069" class="Bound">a</a><a id="6102" class="Symbol">)</a>
  <a id="6106" class="Keyword">where</a>
  <a id="6114" href="Base.Terms.Operations.html#6114" class="Function">u</a> <a id="6116" class="Symbol">:</a> <a id="6118" class="Symbol">∀</a> <a id="6120" href="Base.Terms.Operations.html#6120" class="Bound">a</a> <a id="6122" href="Base.Terms.Operations.html#6122" class="Bound">x</a> <a id="6124" class="Symbol">→</a> <a id="6126" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="6128" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="6130" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a> <a id="6132" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a>
  <a id="6136" href="Base.Terms.Operations.html#6114" class="Function">u</a> <a id="6138" href="Base.Terms.Operations.html#6138" class="Bound">a</a> <a id="6140" class="Symbol">=</a> <a id="6142" class="Symbol">λ</a> <a id="6144" href="Base.Terms.Operations.html#6144" class="Bound">x</a> <a id="6146" class="Symbol">→</a> <a id="6148" class="Symbol">(</a><a id="6149" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="6151" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a> <a id="6153" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="6155" href="Base.Terms.Operations.html#6057" class="Bound">t</a> <a id="6157" href="Base.Terms.Operations.html#6144" class="Bound">x</a> <a id="6159" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="6160" class="Symbol">)</a> <a id="6162" href="Base.Terms.Operations.html#6138" class="Bound">a</a>
  <a id="6166" href="Base.Terms.Operations.html#6166" class="Function">v</a> <a id="6168" class="Symbol">:</a> <a id="6170" class="Symbol">∀</a> <a id="6172" class="Symbol">(</a><a id="6173" href="Base.Terms.Operations.html#6173" class="Bound">a</a> <a id="6175" class="Symbol">:</a> <a id="6177" href="Base.Terms.Operations.html#5425" class="Bound">X</a> <a id="6179" class="Symbol">→</a> <a id="6181" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="6183" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="6185" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a> <a id="6187" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="6188" class="Symbol">)</a> <a id="6190" class="Symbol">→</a> <a id="6192" class="Symbol">∀</a> <a id="6194" href="Base.Terms.Operations.html#6194" class="Bound">x</a> <a id="6196" href="Base.Terms.Operations.html#6196" class="Bound">i</a> <a id="6198" class="Symbol">→</a> <a id="6200" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="6202" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a> <a id="6204" href="Base.Terms.Operations.html#6196" class="Bound">i</a> <a id="6206" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a>
  <a id="6210" href="Base.Terms.Operations.html#6166" class="Function">v</a> <a id="6212" href="Base.Terms.Operations.html#6212" class="Bound">a</a> <a id="6214" class="Symbol">=</a> <a id="6216" class="Symbol">λ</a> <a id="6218" href="Base.Terms.Operations.html#6218" class="Bound">x</a> <a id="6220" href="Base.Terms.Operations.html#6220" class="Bound">i</a> <a id="6222" class="Symbol">→</a> <a id="6224" class="Symbol">(</a><a id="6225" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a> <a id="6227" href="Base.Terms.Operations.html#6220" class="Bound">i</a> <a id="6229" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="6231" href="Base.Terms.Operations.html#6057" class="Bound">t</a> <a id="6233" href="Base.Terms.Operations.html#6218" class="Bound">x</a> <a id="6235" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="6236" class="Symbol">)(λ</a> <a id="6240" href="Base.Terms.Operations.html#6240" class="Bound">z</a> <a id="6242" class="Symbol">→</a> <a id="6244" class="Symbol">(</a><a id="6245" href="Base.Terms.Operations.html#6212" class="Bound">a</a> <a id="6247" href="Base.Terms.Operations.html#6240" class="Bound">z</a><a id="6248" class="Symbol">)</a> <a id="6250" href="Base.Terms.Operations.html#6220" class="Bound">i</a><a id="6251" class="Symbol">)</a>
  <a id="6255" href="Base.Terms.Operations.html#6255" class="Function">IH</a> <a id="6258" class="Symbol">:</a> <a id="6260" class="Symbol">∀</a> <a id="6262" href="Base.Terms.Operations.html#6262" class="Bound">a</a> <a id="6264" href="Base.Terms.Operations.html#6264" class="Bound">x</a> <a id="6266" class="Symbol">→</a> <a id="6268" class="Symbol">(</a><a id="6269" href="Base.Algebras.Products.html#1899" class="Function">⨅</a> <a id="6271" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a> <a id="6273" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="6275" href="Base.Terms.Operations.html#6057" class="Bound">t</a> <a id="6277" href="Base.Terms.Operations.html#6264" class="Bound">x</a> <a id="6279" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="6280" class="Symbol">)</a> <a id="6282" href="Base.Terms.Operations.html#6262" class="Bound">a</a> <a id="6284" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6286" class="Symbol">λ</a> <a id="6288" href="Base.Terms.Operations.html#6288" class="Bound">i</a> <a id="6290" class="Symbol">→</a> <a id="6292" class="Symbol">(</a><a id="6293" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a> <a id="6295" href="Base.Terms.Operations.html#6288" class="Bound">i</a> <a id="6297" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="6299" href="Base.Terms.Operations.html#6057" class="Bound">t</a> <a id="6301" href="Base.Terms.Operations.html#6264" class="Bound">x</a> <a id="6303" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="6304" class="Symbol">)(λ</a> <a id="6308" href="Base.Terms.Operations.html#6308" class="Bound">z</a> <a id="6310" class="Symbol">→</a> <a id="6312" class="Symbol">(</a><a id="6313" href="Base.Terms.Operations.html#6262" class="Bound">a</a> <a id="6315" href="Base.Terms.Operations.html#6308" class="Bound">z</a><a id="6316" class="Symbol">)</a> <a id="6318" href="Base.Terms.Operations.html#6288" class="Bound">i</a><a id="6319" class="Symbol">)</a>
  <a id="6323" href="Base.Terms.Operations.html#6255" class="Function">IH</a> <a id="6326" href="Base.Terms.Operations.html#6326" class="Bound">a</a> <a id="6328" class="Symbol">=</a> <a id="6330" class="Symbol">λ</a> <a id="6332" href="Base.Terms.Operations.html#6332" class="Bound">x</a> <a id="6334" class="Symbol">→</a> <a id="6336" href="Base.Terms.Operations.html#5458" class="Function">interp-prod</a> <a id="6348" class="Symbol">(</a><a id="6349" href="Base.Terms.Operations.html#6057" class="Bound">t</a> <a id="6351" href="Base.Terms.Operations.html#6332" class="Bound">x</a><a id="6352" class="Symbol">)</a> <a id="6354" href="Base.Terms.Operations.html#6060" class="Bound">𝒜</a> <a id="6356" href="Base.Terms.Operations.html#6326" class="Bound">a</a>

</pre>


#### <a id="compatibility-of-terms">Compatibility of terms</a>

We now prove two important facts about term operations.  The first of these, which is used very often in the sequel, asserts that every term commutes with every homomorphism.

<pre class="Agda">

<a id="6626" class="Keyword">open</a> <a id="6631" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>

<a id="comm-hom-term"></a><a id="6644" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="6658" class="Symbol">:</a> <a id="6660" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="6669" href="Base.Terms.Operations.html#615" class="Bound">𝓥</a> <a id="6671" href="Base.Terms.Operations.html#1806" class="Generalizable">β</a> <a id="6673" class="Symbol">→</a> <a id="6675" class="Symbol">{</a><a id="6676" href="Base.Terms.Operations.html#6676" class="Bound">𝑨</a> <a id="6678" class="Symbol">:</a> <a id="6680" href="Base.Algebras.Basic.html#6259" class="Function">Algebra</a> <a id="6688" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a> <a id="6690" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="6691" class="Symbol">}</a> <a id="6693" class="Symbol">(</a><a id="6694" href="Base.Terms.Operations.html#6694" class="Bound">𝑩</a> <a id="6696" class="Symbol">:</a> <a id="6698" href="Base.Algebras.Basic.html#6259" class="Function">Algebra</a> <a id="6706" href="Base.Terms.Operations.html#1806" class="Generalizable">β</a> <a id="6708" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="6709" class="Symbol">)</a>
                <a id="6727" class="Symbol">(</a><a id="6728" href="Base.Terms.Operations.html#6728" class="Bound">h</a> <a id="6730" class="Symbol">:</a> <a id="6732" href="Base.Homomorphisms.Basic.html#2682" class="Function">hom</a> <a id="6736" href="Base.Terms.Operations.html#6676" class="Bound">𝑨</a> <a id="6738" href="Base.Terms.Operations.html#6694" class="Bound">𝑩</a><a id="6739" class="Symbol">){</a><a id="6741" href="Base.Terms.Operations.html#6741" class="Bound">X</a> <a id="6743" class="Symbol">:</a> <a id="6745" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="6750" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="6751" class="Symbol">}(</a><a id="6753" href="Base.Terms.Operations.html#6753" class="Bound">t</a> <a id="6755" class="Symbol">:</a> <a id="6757" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="6762" href="Base.Terms.Operations.html#6741" class="Bound">X</a><a id="6763" class="Symbol">)</a> <a id="6765" class="Symbol">(</a><a id="6766" href="Base.Terms.Operations.html#6766" class="Bound">a</a> <a id="6768" class="Symbol">:</a> <a id="6770" href="Base.Terms.Operations.html#6741" class="Bound">X</a> <a id="6772" class="Symbol">→</a> <a id="6774" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="6776" href="Base.Terms.Operations.html#6676" class="Bound">𝑨</a> <a id="6778" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="6779" class="Symbol">)</a>
                <a id="6797" class="Comment">-----------------------------------------</a>
  <a id="6841" class="Symbol">→</a>             <a id="6855" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="6857" href="Base.Terms.Operations.html#6728" class="Bound">h</a> <a id="6859" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="6861" class="Symbol">((</a><a id="6863" href="Base.Terms.Operations.html#6676" class="Bound">𝑨</a> <a id="6865" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="6867" href="Base.Terms.Operations.html#6753" class="Bound">t</a> <a id="6869" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="6870" class="Symbol">)</a> <a id="6872" href="Base.Terms.Operations.html#6766" class="Bound">a</a><a id="6873" class="Symbol">)</a> <a id="6875" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6877" class="Symbol">(</a><a id="6878" href="Base.Terms.Operations.html#6694" class="Bound">𝑩</a> <a id="6880" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="6882" href="Base.Terms.Operations.html#6753" class="Bound">t</a> <a id="6884" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="6885" class="Symbol">)</a> <a id="6887" class="Symbol">(</a><a id="6888" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="6890" href="Base.Terms.Operations.html#6728" class="Bound">h</a> <a id="6892" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="6894" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="6896" href="Base.Terms.Operations.html#6766" class="Bound">a</a><a id="6897" class="Symbol">)</a>

<a id="6900" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="6914" class="Symbol">_</a> <a id="6916" href="Base.Terms.Operations.html#6916" class="Bound">𝑩</a> <a id="6918" href="Base.Terms.Operations.html#6918" class="Bound">h</a> <a id="6920" class="Symbol">(</a><a id="6921" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="6923" href="Base.Terms.Operations.html#6923" class="Bound">x</a><a id="6924" class="Symbol">)</a> <a id="6926" href="Base.Terms.Operations.html#6926" class="Bound">a</a> <a id="6928" class="Symbol">=</a> <a id="6930" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="6935" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="6949" href="Base.Terms.Operations.html#6949" class="Bound">wd</a> <a id="6952" class="Symbol">{</a><a id="6953" href="Base.Terms.Operations.html#6953" class="Bound">𝑨</a><a id="6954" class="Symbol">}</a> <a id="6956" href="Base.Terms.Operations.html#6956" class="Bound">𝑩</a> <a id="6958" href="Base.Terms.Operations.html#6958" class="Bound">h</a> <a id="6960" class="Symbol">(</a><a id="6961" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="6966" href="Base.Terms.Operations.html#6966" class="Bound">f</a> <a id="6968" href="Base.Terms.Operations.html#6968" class="Bound">t</a><a id="6969" class="Symbol">)</a> <a id="6971" href="Base.Terms.Operations.html#6971" class="Bound">a</a> <a id="6973" class="Symbol">=</a> <a id="6975" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="6977" href="Base.Terms.Operations.html#6958" class="Bound">h</a> <a id="6979" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="6980" class="Symbol">((</a><a id="6982" href="Base.Terms.Operations.html#6966" class="Bound">f</a> <a id="6984" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="6986" href="Base.Terms.Operations.html#6953" class="Bound">𝑨</a><a id="6987" class="Symbol">)</a> <a id="6989" class="Symbol">λ</a> <a id="6991" href="Base.Terms.Operations.html#6991" class="Bound">i</a> <a id="6993" class="Symbol">→</a>  <a id="6996" class="Symbol">(</a><a id="6997" href="Base.Terms.Operations.html#6953" class="Bound">𝑨</a> <a id="6999" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="7001" href="Base.Terms.Operations.html#6968" class="Bound">t</a> <a id="7003" href="Base.Terms.Operations.html#6991" class="Bound">i</a> <a id="7005" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="7006" class="Symbol">)</a> <a id="7008" href="Base.Terms.Operations.html#6971" class="Bound">a</a><a id="7009" class="Symbol">)</a>    <a id="7014" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7017" href="Base.Terms.Operations.html#7199" class="Function">i</a>  <a id="7020" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                         <a id="7063" class="Symbol">(</a><a id="7064" href="Base.Terms.Operations.html#6966" class="Bound">f</a> <a id="7066" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="7068" href="Base.Terms.Operations.html#6956" class="Bound">𝑩</a><a id="7069" class="Symbol">)(λ</a> <a id="7073" href="Base.Terms.Operations.html#7073" class="Bound">i</a> <a id="7075" class="Symbol">→</a>  <a id="7078" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="7080" href="Base.Terms.Operations.html#6958" class="Bound">h</a> <a id="7082" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="7084" class="Symbol">((</a><a id="7086" href="Base.Terms.Operations.html#6953" class="Bound">𝑨</a> <a id="7088" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="7090" href="Base.Terms.Operations.html#6968" class="Bound">t</a> <a id="7092" href="Base.Terms.Operations.html#7073" class="Bound">i</a> <a id="7094" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="7095" class="Symbol">)</a> <a id="7097" href="Base.Terms.Operations.html#6971" class="Bound">a</a><a id="7098" class="Symbol">))</a>  <a id="7102" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7105" href="Base.Terms.Operations.html#7239" class="Function">ii</a> <a id="7108" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                         <a id="7151" class="Symbol">(</a><a id="7152" href="Base.Terms.Operations.html#6966" class="Bound">f</a> <a id="7154" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="7156" href="Base.Terms.Operations.html#6956" class="Bound">𝑩</a><a id="7157" class="Symbol">)(λ</a> <a id="7161" href="Base.Terms.Operations.html#7161" class="Bound">r</a> <a id="7163" class="Symbol">→</a> <a id="7165" class="Symbol">(</a><a id="7166" href="Base.Terms.Operations.html#6956" class="Bound">𝑩</a> <a id="7168" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="7170" href="Base.Terms.Operations.html#6968" class="Bound">t</a> <a id="7172" href="Base.Terms.Operations.html#7161" class="Bound">r</a> <a id="7174" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="7175" class="Symbol">)</a> <a id="7177" class="Symbol">(</a><a id="7178" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="7180" href="Base.Terms.Operations.html#6958" class="Bound">h</a> <a id="7182" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="7184" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="7186" href="Base.Terms.Operations.html#6971" class="Bound">a</a><a id="7187" class="Symbol">))</a> <a id="7190" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
 <a id="7193" class="Keyword">where</a> <a id="7199" href="Base.Terms.Operations.html#7199" class="Function">i</a>  <a id="7202" class="Symbol">=</a> <a id="7204" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="7206" href="Base.Terms.Operations.html#6958" class="Bound">h</a> <a id="7208" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="7210" href="Base.Terms.Operations.html#6966" class="Bound">f</a> <a id="7212" class="Symbol">λ</a> <a id="7214" href="Base.Terms.Operations.html#7214" class="Bound">r</a> <a id="7216" class="Symbol">→</a> <a id="7218" class="Symbol">(</a><a id="7219" href="Base.Terms.Operations.html#6953" class="Bound">𝑨</a> <a id="7221" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="7223" href="Base.Terms.Operations.html#6968" class="Bound">t</a> <a id="7225" href="Base.Terms.Operations.html#7214" class="Bound">r</a> <a id="7227" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="7228" class="Symbol">)</a> <a id="7230" href="Base.Terms.Operations.html#6971" class="Bound">a</a>
       <a id="7239" href="Base.Terms.Operations.html#7239" class="Function">ii</a> <a id="7242" class="Symbol">=</a> <a id="7244" href="Base.Terms.Operations.html#6949" class="Bound">wd</a> <a id="7247" class="Symbol">(</a><a id="7248" href="Base.Terms.Operations.html#6966" class="Bound">f</a> <a id="7250" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="7252" href="Base.Terms.Operations.html#6956" class="Bound">𝑩</a><a id="7253" class="Symbol">)</a> <a id="7255" class="Symbol">(λ</a> <a id="7258" href="Base.Terms.Operations.html#7258" class="Bound">i₁</a> <a id="7261" class="Symbol">→</a> <a id="7263" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="7265" href="Base.Terms.Operations.html#6958" class="Bound">h</a> <a id="7267" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="7269" class="Symbol">((</a><a id="7271" href="Base.Terms.Operations.html#6953" class="Bound">𝑨</a> <a id="7273" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="7275" href="Base.Terms.Operations.html#6968" class="Bound">t</a> <a id="7277" href="Base.Terms.Operations.html#7258" class="Bound">i₁</a> <a id="7280" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="7281" class="Symbol">)</a> <a id="7283" href="Base.Terms.Operations.html#6971" class="Bound">a</a><a id="7284" class="Symbol">))</a>
                       <a id="7310" class="Symbol">(λ</a> <a id="7313" href="Base.Terms.Operations.html#7313" class="Bound">r</a> <a id="7315" class="Symbol">→</a> <a id="7317" class="Symbol">(</a><a id="7318" href="Base.Terms.Operations.html#6956" class="Bound">𝑩</a> <a id="7320" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="7322" href="Base.Terms.Operations.html#6968" class="Bound">t</a> <a id="7324" href="Base.Terms.Operations.html#7313" class="Bound">r</a> <a id="7326" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="7327" class="Symbol">)</a> <a id="7329" class="Symbol">(λ</a> <a id="7332" href="Base.Terms.Operations.html#7332" class="Bound">x</a> <a id="7334" class="Symbol">→</a> <a id="7336" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="7338" href="Base.Terms.Operations.html#6958" class="Bound">h</a> <a id="7340" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="7342" class="Symbol">(</a><a id="7343" href="Base.Terms.Operations.html#6971" class="Bound">a</a> <a id="7345" href="Base.Terms.Operations.html#7332" class="Bound">x</a><a id="7346" class="Symbol">)))</a>
                       <a id="7373" class="Symbol">λ</a> <a id="7375" href="Base.Terms.Operations.html#7375" class="Bound">j</a> <a id="7377" class="Symbol">→</a> <a id="7379" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="7393" href="Base.Terms.Operations.html#6949" class="Bound">wd</a> <a id="7396" href="Base.Terms.Operations.html#6956" class="Bound">𝑩</a> <a id="7398" href="Base.Terms.Operations.html#6958" class="Bound">h</a> <a id="7400" class="Symbol">(</a><a id="7401" href="Base.Terms.Operations.html#6968" class="Bound">t</a> <a id="7403" href="Base.Terms.Operations.html#7375" class="Bound">j</a><a id="7404" class="Symbol">)</a> <a id="7406" href="Base.Terms.Operations.html#6971" class="Bound">a</a>

</pre>

To conclude this module, we prove that every term is compatible with every congruence relation. That is, if `t : Term X` and `θ : Con 𝑨`, then `a θ b → t(a) θ t(b)`. (Recall, the compatibility relation `|:` was defined in [Relations.Discrete][].)

<pre class="Agda">


<a id="7684" class="Keyword">module</a> <a id="7691" href="Base.Terms.Operations.html#7691" class="Module">_</a> <a id="7693" class="Symbol">{</a><a id="7694" href="Base.Terms.Operations.html#7694" class="Bound">α</a> <a id="7696" href="Base.Terms.Operations.html#7696" class="Bound">β</a> <a id="7698" class="Symbol">:</a> <a id="7700" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7705" class="Symbol">}{</a><a id="7707" href="Base.Terms.Operations.html#7707" class="Bound">X</a> <a id="7709" class="Symbol">:</a> <a id="7711" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="7716" href="Base.Terms.Operations.html#7694" class="Bound">α</a><a id="7717" class="Symbol">}</a> <a id="7719" class="Keyword">where</a>

 <a id="7727" class="Keyword">open</a> <a id="7732" href="Base.Algebras.Congruences.html#1853" class="Module">IsCongruence</a>

 <a id="7747" href="Base.Terms.Operations.html#7747" class="Function Operator">_∣:_</a> <a id="7752" class="Symbol">:</a> <a id="7754" class="Symbol">{</a><a id="7755" href="Base.Terms.Operations.html#7755" class="Bound">𝑨</a> <a id="7757" class="Symbol">:</a> <a id="7759" href="Base.Algebras.Basic.html#6259" class="Function">Algebra</a> <a id="7767" href="Base.Terms.Operations.html#7694" class="Bound">α</a> <a id="7769" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="7770" class="Symbol">}(</a><a id="7772" href="Base.Terms.Operations.html#7772" class="Bound">t</a> <a id="7774" class="Symbol">:</a> <a id="7776" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="7781" href="Base.Terms.Operations.html#7707" class="Bound">X</a><a id="7782" class="Symbol">)(</a><a id="7784" href="Base.Terms.Operations.html#7784" class="Bound">θ</a> <a id="7786" class="Symbol">:</a> <a id="7788" href="Base.Algebras.Congruences.html#2039" class="Function">Con</a><a id="7791" class="Symbol">{</a><a id="7792" href="Base.Terms.Operations.html#7694" class="Bound">α</a><a id="7793" class="Symbol">}{</a><a id="7795" href="Base.Terms.Operations.html#7696" class="Bound">β</a><a id="7796" class="Symbol">}</a> <a id="7798" href="Base.Terms.Operations.html#7755" class="Bound">𝑨</a><a id="7799" class="Symbol">)</a> <a id="7801" class="Symbol">→</a> <a id="7803" class="Symbol">(</a><a id="7804" href="Base.Terms.Operations.html#7755" class="Bound">𝑨</a> <a id="7806" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="7808" href="Base.Terms.Operations.html#7772" class="Bound">t</a> <a id="7810" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="7811" class="Symbol">)</a> <a id="7813" href="Base.Relations.Discrete.html#7006" class="Function Operator">|:</a> <a id="7816" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="7818" href="Base.Terms.Operations.html#7784" class="Bound">θ</a> <a id="7820" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a>
 <a id="7823" class="Symbol">((</a><a id="7825" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="7827" href="Base.Terms.Operations.html#7827" class="Bound">x</a><a id="7828" class="Symbol">)</a> <a id="7830" href="Base.Terms.Operations.html#7747" class="Function Operator">∣:</a> <a id="7833" href="Base.Terms.Operations.html#7833" class="Bound">θ</a><a id="7834" class="Symbol">)</a> <a id="7836" href="Base.Terms.Operations.html#7836" class="Bound">p</a> <a id="7838" class="Symbol">=</a> <a id="7840" href="Base.Terms.Operations.html#7836" class="Bound">p</a> <a id="7842" href="Base.Terms.Operations.html#7827" class="Bound">x</a>
 <a id="7845" class="Symbol">((</a><a id="7847" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="7852" href="Base.Terms.Operations.html#7852" class="Bound">f</a> <a id="7854" href="Base.Terms.Operations.html#7854" class="Bound">t</a><a id="7855" class="Symbol">)</a> <a id="7857" href="Base.Terms.Operations.html#7747" class="Function Operator">∣:</a> <a id="7860" href="Base.Terms.Operations.html#7860" class="Bound">θ</a><a id="7861" class="Symbol">)</a> <a id="7863" href="Base.Terms.Operations.html#7863" class="Bound">p</a> <a id="7865" class="Symbol">=</a> <a id="7867" class="Symbol">(</a><a id="7868" href="Base.Algebras.Congruences.html#2006" class="Field">is-compatible</a> <a id="7882" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a> <a id="7884" href="Base.Terms.Operations.html#7860" class="Bound">θ</a> <a id="7886" href="Base.Overture.Preliminaries.html#4440" class="Function Operator">∥</a><a id="7887" class="Symbol">)</a> <a id="7889" href="Base.Terms.Operations.html#7852" class="Bound">f</a> <a id="7891" class="Symbol">λ</a> <a id="7893" href="Base.Terms.Operations.html#7893" class="Bound">x</a> <a id="7895" class="Symbol">→</a> <a id="7897" class="Symbol">((</a><a id="7899" href="Base.Terms.Operations.html#7854" class="Bound">t</a> <a id="7901" href="Base.Terms.Operations.html#7893" class="Bound">x</a><a id="7902" class="Symbol">)</a> <a id="7904" href="Base.Terms.Operations.html#7747" class="Function Operator">∣:</a> <a id="7907" href="Base.Terms.Operations.html#7860" class="Bound">θ</a><a id="7908" class="Symbol">)</a> <a id="7910" href="Base.Terms.Operations.html#7863" class="Bound">p</a>

</pre>

**WARNING!** The compatibility relation for terms `∣:` is typed as \|:, whereas the compatibility type for functions `|:` (defined in the [Base.Relations.Discrete][] module) is typed as `|:`.



#### <a id="substitution">Substitution</a>

A substitution from `Y` to `X` is simply a function from `Y` to `X`, and the application of a substitution is represented as follows.

<pre class="Agda">

<a id="_[_]"></a><a id="8313" href="Base.Terms.Operations.html#8313" class="Function Operator">_[_]</a> <a id="8318" class="Symbol">:</a> <a id="8320" class="Symbol">{</a><a id="8321" href="Base.Terms.Operations.html#8321" class="Bound">χ</a> <a id="8323" class="Symbol">:</a> <a id="8325" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8330" class="Symbol">}{</a><a id="8332" href="Base.Terms.Operations.html#8332" class="Bound">X</a> <a id="8334" href="Base.Terms.Operations.html#8334" class="Bound">Y</a> <a id="8336" class="Symbol">:</a> <a id="8338" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="8343" href="Base.Terms.Operations.html#8321" class="Bound">χ</a><a id="8344" class="Symbol">}</a> <a id="8346" class="Symbol">→</a> <a id="8348" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="8353" href="Base.Terms.Operations.html#8334" class="Bound">Y</a> <a id="8355" class="Symbol">→</a> <a id="8357" class="Symbol">(</a><a id="8358" href="Base.Terms.Operations.html#8334" class="Bound">Y</a> <a id="8360" class="Symbol">→</a> <a id="8362" href="Base.Terms.Operations.html#8332" class="Bound">X</a><a id="8363" class="Symbol">)</a> <a id="8365" class="Symbol">→</a> <a id="8367" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="8372" href="Base.Terms.Operations.html#8332" class="Bound">X</a>
<a id="8374" class="Symbol">(</a><a id="8375" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="8377" href="Base.Terms.Operations.html#8377" class="Bound">y</a><a id="8378" class="Symbol">)</a> <a id="8380" href="Base.Terms.Operations.html#8313" class="Function Operator">[</a> <a id="8382" href="Base.Terms.Operations.html#8382" class="Bound">σ</a> <a id="8384" href="Base.Terms.Operations.html#8313" class="Function Operator">]</a> <a id="8386" class="Symbol">=</a> <a id="8388" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="8390" class="Symbol">(</a><a id="8391" href="Base.Terms.Operations.html#8382" class="Bound">σ</a> <a id="8393" href="Base.Terms.Operations.html#8377" class="Bound">y</a><a id="8394" class="Symbol">)</a>
<a id="8396" class="Symbol">(</a><a id="8397" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="8402" href="Base.Terms.Operations.html#8402" class="Bound">f</a> <a id="8404" href="Base.Terms.Operations.html#8404" class="Bound">t</a><a id="8405" class="Symbol">)</a>  <a id="8408" href="Base.Terms.Operations.html#8313" class="Function Operator">[</a> <a id="8410" href="Base.Terms.Operations.html#8410" class="Bound">σ</a> <a id="8412" href="Base.Terms.Operations.html#8313" class="Function Operator">]</a> <a id="8414" class="Symbol">=</a> <a id="8416" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="8421" href="Base.Terms.Operations.html#8402" class="Bound">f</a> <a id="8423" class="Symbol">λ</a> <a id="8425" href="Base.Terms.Operations.html#8425" class="Bound">i</a> <a id="8427" class="Symbol">→</a> <a id="8429" href="Base.Terms.Operations.html#8404" class="Bound">t</a> <a id="8431" href="Base.Terms.Operations.html#8425" class="Bound">i</a> <a id="8433" href="Base.Terms.Operations.html#8313" class="Function Operator">[</a> <a id="8435" href="Base.Terms.Operations.html#8410" class="Bound">σ</a> <a id="8437" href="Base.Terms.Operations.html#8313" class="Function Operator">]</a>

</pre>

Alternatively, we may want a substitution that replaces each variable symbol in `Y`, not with an element of `X`, but with a term from `Term X`.

<pre class="Agda">

<a id="8611" class="Comment">-- Substerm X Y, an inhabitant of which replaces each variable symbol in Y with a term from Term X.</a>
<a id="Substerm"></a><a id="8711" href="Base.Terms.Operations.html#8711" class="Function">Substerm</a> <a id="8720" class="Symbol">:</a> <a id="8722" class="Symbol">(</a><a id="8723" href="Base.Terms.Operations.html#8723" class="Bound">X</a> <a id="8725" href="Base.Terms.Operations.html#8725" class="Bound">Y</a> <a id="8727" class="Symbol">:</a> <a id="8729" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="8734" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="8735" class="Symbol">)</a> <a id="8737" class="Symbol">→</a> <a id="8739" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="8744" class="Symbol">(</a><a id="8745" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="8748" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a><a id="8749" class="Symbol">)</a>
<a id="8751" href="Base.Terms.Operations.html#8711" class="Function">Substerm</a> <a id="8760" href="Base.Terms.Operations.html#8760" class="Bound">X</a> <a id="8762" href="Base.Terms.Operations.html#8762" class="Bound">Y</a> <a id="8764" class="Symbol">=</a> <a id="8766" class="Symbol">(</a><a id="8767" href="Base.Terms.Operations.html#8767" class="Bound">y</a> <a id="8769" class="Symbol">:</a> <a id="8771" href="Base.Terms.Operations.html#8762" class="Bound">Y</a><a id="8772" class="Symbol">)</a> <a id="8774" class="Symbol">→</a> <a id="8776" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="8781" href="Base.Terms.Operations.html#8760" class="Bound">X</a>

<a id="8784" class="Comment">-- Application of a Substerm.</a>
<a id="_[_]t"></a><a id="8814" href="Base.Terms.Operations.html#8814" class="Function Operator">_[_]t</a> <a id="8820" class="Symbol">:</a> <a id="8822" class="Symbol">{</a><a id="8823" href="Base.Terms.Operations.html#8823" class="Bound">X</a> <a id="8825" href="Base.Terms.Operations.html#8825" class="Bound">Y</a> <a id="8827" class="Symbol">:</a> <a id="8829" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="8834" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a> <a id="8836" class="Symbol">}</a> <a id="8838" class="Symbol">→</a> <a id="8840" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="8845" href="Base.Terms.Operations.html#8825" class="Bound">Y</a> <a id="8847" class="Symbol">→</a> <a id="8849" href="Base.Terms.Operations.html#8711" class="Function">Substerm</a> <a id="8858" href="Base.Terms.Operations.html#8823" class="Bound">X</a> <a id="8860" href="Base.Terms.Operations.html#8825" class="Bound">Y</a> <a id="8862" class="Symbol">→</a> <a id="8864" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="8869" href="Base.Terms.Operations.html#8823" class="Bound">X</a>
<a id="8871" class="Symbol">(</a><a id="8872" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="8874" href="Base.Terms.Operations.html#8874" class="Bound">y</a><a id="8875" class="Symbol">)</a> <a id="8877" href="Base.Terms.Operations.html#8814" class="Function Operator">[</a> <a id="8879" href="Base.Terms.Operations.html#8879" class="Bound">σ</a> <a id="8881" href="Base.Terms.Operations.html#8814" class="Function Operator">]t</a> <a id="8884" class="Symbol">=</a> <a id="8886" href="Base.Terms.Operations.html#8879" class="Bound">σ</a> <a id="8888" href="Base.Terms.Operations.html#8874" class="Bound">y</a>
<a id="8890" class="Symbol">(</a><a id="8891" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="8896" href="Base.Terms.Operations.html#8896" class="Bound">f</a> <a id="8898" href="Base.Terms.Operations.html#8898" class="Bound">t</a><a id="8899" class="Symbol">)</a> <a id="8901" href="Base.Terms.Operations.html#8814" class="Function Operator">[</a> <a id="8903" href="Base.Terms.Operations.html#8903" class="Bound">σ</a> <a id="8905" href="Base.Terms.Operations.html#8814" class="Function Operator">]t</a> <a id="8908" class="Symbol">=</a> <a id="8910" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="8915" href="Base.Terms.Operations.html#8896" class="Bound">f</a> <a id="8917" class="Symbol">(λ</a> <a id="8920" href="Base.Terms.Operations.html#8920" class="Bound">z</a> <a id="8922" class="Symbol">→</a> <a id="8924" class="Symbol">(</a><a id="8925" href="Base.Terms.Operations.html#8898" class="Bound">t</a> <a id="8927" href="Base.Terms.Operations.html#8920" class="Bound">z</a><a id="8928" class="Symbol">)</a> <a id="8930" href="Base.Terms.Operations.html#8814" class="Function Operator">[</a> <a id="8932" href="Base.Terms.Operations.html#8903" class="Bound">σ</a> <a id="8934" href="Base.Terms.Operations.html#8814" class="Function Operator">]t</a> <a id="8937" class="Symbol">)</a>

</pre>

Next we prove the important Substitution Theorem which asserts that an identity `p ≈ q` holds in an algebra `𝑨` iff it holds in `𝑨` after applying any substitution.

<pre class="Agda">


<a id="subst-lemma"></a><a id="9133" href="Base.Terms.Operations.html#9133" class="Function">subst-lemma</a> <a id="9145" class="Symbol">:</a> <a id="9147" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="9156" href="Base.Terms.Operations.html#615" class="Bound">𝓥</a> <a id="9158" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a> <a id="9160" class="Symbol">→</a> <a id="9162" class="Symbol">{</a><a id="9163" href="Base.Terms.Operations.html#9163" class="Bound">X</a> <a id="9165" href="Base.Terms.Operations.html#9165" class="Bound">Y</a> <a id="9167" class="Symbol">:</a> <a id="9169" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="9174" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a> <a id="9176" class="Symbol">}(</a><a id="9178" href="Base.Terms.Operations.html#9178" class="Bound">p</a> <a id="9180" class="Symbol">:</a> <a id="9182" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="9187" href="Base.Terms.Operations.html#9165" class="Bound">Y</a><a id="9188" class="Symbol">)(</a><a id="9190" href="Base.Terms.Operations.html#9190" class="Bound">σ</a> <a id="9192" class="Symbol">:</a> <a id="9194" href="Base.Terms.Operations.html#9165" class="Bound">Y</a> <a id="9196" class="Symbol">→</a> <a id="9198" href="Base.Terms.Operations.html#9163" class="Bound">X</a><a id="9199" class="Symbol">)(</a><a id="9201" href="Base.Terms.Operations.html#9201" class="Bound">𝑨</a> <a id="9203" class="Symbol">:</a> <a id="9205" href="Base.Algebras.Basic.html#6259" class="Function">Algebra</a> <a id="9213" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a> <a id="9215" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="9216" class="Symbol">)(</a><a id="9218" href="Base.Terms.Operations.html#9218" class="Bound">η</a> <a id="9220" class="Symbol">:</a> <a id="9222" href="Base.Terms.Operations.html#9163" class="Bound">X</a> <a id="9224" class="Symbol">→</a> <a id="9226" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a> <a id="9228" href="Base.Terms.Operations.html#9201" class="Bound">𝑨</a> <a id="9230" href="Base.Overture.Preliminaries.html#4402" class="Function Operator">∣</a><a id="9231" class="Symbol">)</a>
 <a id="9234" class="Symbol">→</a>            <a id="9247" class="Symbol">(</a><a id="9248" href="Base.Terms.Operations.html#9201" class="Bound">𝑨</a> <a id="9250" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9252" href="Base.Terms.Operations.html#9178" class="Bound">p</a> <a id="9254" href="Base.Terms.Operations.html#8313" class="Function Operator">[</a> <a id="9256" href="Base.Terms.Operations.html#9190" class="Bound">σ</a> <a id="9258" href="Base.Terms.Operations.html#8313" class="Function Operator">]</a> <a id="9260" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="9261" class="Symbol">)</a> <a id="9263" href="Base.Terms.Operations.html#9218" class="Bound">η</a> <a id="9265" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9267" class="Symbol">(</a><a id="9268" href="Base.Terms.Operations.html#9201" class="Bound">𝑨</a> <a id="9270" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9272" href="Base.Terms.Operations.html#9178" class="Bound">p</a> <a id="9274" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="9275" class="Symbol">)</a> <a id="9277" class="Symbol">(</a><a id="9278" href="Base.Terms.Operations.html#9218" class="Bound">η</a> <a id="9280" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9282" href="Base.Terms.Operations.html#9190" class="Bound">σ</a><a id="9283" class="Symbol">)</a>
<a id="9285" href="Base.Terms.Operations.html#9133" class="Function">subst-lemma</a> <a id="9297" class="Symbol">_</a> <a id="9299" class="Symbol">(</a><a id="9300" href="Base.Terms.Basic.html#2062" class="InductiveConstructor">ℊ</a> <a id="9302" href="Base.Terms.Operations.html#9302" class="Bound">x</a><a id="9303" class="Symbol">)</a> <a id="9305" href="Base.Terms.Operations.html#9305" class="Bound">σ</a> <a id="9307" href="Base.Terms.Operations.html#9307" class="Bound">𝑨</a> <a id="9309" href="Base.Terms.Operations.html#9309" class="Bound">η</a> <a id="9311" class="Symbol">=</a> <a id="9313" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="9318" href="Base.Terms.Operations.html#9133" class="Function">subst-lemma</a> <a id="9330" href="Base.Terms.Operations.html#9330" class="Bound">wd</a> <a id="9333" class="Symbol">(</a><a id="9334" href="Base.Terms.Basic.html#2104" class="InductiveConstructor">node</a> <a id="9339" href="Base.Terms.Operations.html#9339" class="Bound">f</a> <a id="9341" href="Base.Terms.Operations.html#9341" class="Bound">t</a><a id="9342" class="Symbol">)</a> <a id="9344" href="Base.Terms.Operations.html#9344" class="Bound">σ</a> <a id="9346" href="Base.Terms.Operations.html#9346" class="Bound">𝑨</a> <a id="9348" href="Base.Terms.Operations.html#9348" class="Bound">η</a> <a id="9350" class="Symbol">=</a> <a id="9352" href="Base.Terms.Operations.html#9330" class="Bound">wd</a> <a id="9355" class="Symbol">(</a><a id="9356" href="Base.Terms.Operations.html#9339" class="Bound">f</a> <a id="9358" href="Base.Algebras.Basic.html#9366" class="Function Operator">̂</a> <a id="9360" href="Base.Terms.Operations.html#9346" class="Bound">𝑨</a><a id="9361" class="Symbol">)</a> <a id="9363" class="Symbol">(λ</a> <a id="9366" href="Base.Terms.Operations.html#9366" class="Bound">i</a> <a id="9368" class="Symbol">→</a> <a id="9370" class="Symbol">(</a><a id="9371" href="Base.Terms.Operations.html#9346" class="Bound">𝑨</a> <a id="9373" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9375" class="Symbol">(</a><a id="9376" href="Base.Terms.Operations.html#9341" class="Bound">t</a> <a id="9378" href="Base.Terms.Operations.html#9366" class="Bound">i</a><a id="9379" class="Symbol">)</a> <a id="9381" href="Base.Terms.Operations.html#8313" class="Function Operator">[</a> <a id="9383" href="Base.Terms.Operations.html#9344" class="Bound">σ</a> <a id="9385" href="Base.Terms.Operations.html#8313" class="Function Operator">]</a> <a id="9387" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="9388" class="Symbol">)</a> <a id="9390" href="Base.Terms.Operations.html#9348" class="Bound">η</a><a id="9391" class="Symbol">)</a>
                                             <a id="9438" class="Symbol">(λ</a> <a id="9441" href="Base.Terms.Operations.html#9441" class="Bound">i</a> <a id="9443" class="Symbol">→</a> <a id="9445" class="Symbol">(</a><a id="9446" href="Base.Terms.Operations.html#9346" class="Bound">𝑨</a> <a id="9448" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9450" href="Base.Terms.Operations.html#9341" class="Bound">t</a> <a id="9452" href="Base.Terms.Operations.html#9441" class="Bound">i</a> <a id="9454" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="9455" class="Symbol">)</a> <a id="9457" class="Symbol">(</a><a id="9458" href="Base.Terms.Operations.html#9348" class="Bound">η</a> <a id="9460" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9462" href="Base.Terms.Operations.html#9344" class="Bound">σ</a><a id="9463" class="Symbol">))</a>
                                             <a id="9511" class="Symbol">(λ</a> <a id="9514" href="Base.Terms.Operations.html#9514" class="Bound">i</a> <a id="9516" class="Symbol">→</a> <a id="9518" href="Base.Terms.Operations.html#9133" class="Function">subst-lemma</a> <a id="9530" href="Base.Terms.Operations.html#9330" class="Bound">wd</a> <a id="9533" class="Symbol">(</a><a id="9534" href="Base.Terms.Operations.html#9341" class="Bound">t</a> <a id="9536" href="Base.Terms.Operations.html#9514" class="Bound">i</a><a id="9537" class="Symbol">)</a> <a id="9539" href="Base.Terms.Operations.html#9344" class="Bound">σ</a> <a id="9541" href="Base.Terms.Operations.html#9346" class="Bound">𝑨</a> <a id="9543" href="Base.Terms.Operations.html#9348" class="Bound">η</a><a id="9544" class="Symbol">)</a>

<a id="subst-theorem"></a><a id="9547" href="Base.Terms.Operations.html#9547" class="Function">subst-theorem</a> <a id="9561" class="Symbol">:</a> <a id="9563" href="Base.Equality.Welldefined.html#2671" class="Function">swelldef</a> <a id="9572" href="Base.Terms.Operations.html#615" class="Bound">𝓥</a> <a id="9574" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a> <a id="9576" class="Symbol">→</a> <a id="9578" class="Symbol">{</a><a id="9579" href="Base.Terms.Operations.html#9579" class="Bound">X</a> <a id="9581" href="Base.Terms.Operations.html#9581" class="Bound">Y</a> <a id="9583" class="Symbol">:</a> <a id="9585" href="Base.Terms.Operations.html#772" class="Primitive">Type</a> <a id="9590" href="Base.Terms.Operations.html#1812" class="Generalizable">χ</a> <a id="9592" class="Symbol">}</a>
                <a id="9610" class="Symbol">(</a><a id="9611" href="Base.Terms.Operations.html#9611" class="Bound">p</a> <a id="9613" href="Base.Terms.Operations.html#9613" class="Bound">q</a> <a id="9615" class="Symbol">:</a> <a id="9617" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="9622" href="Base.Terms.Operations.html#9581" class="Bound">Y</a><a id="9623" class="Symbol">)(</a><a id="9625" href="Base.Terms.Operations.html#9625" class="Bound">σ</a> <a id="9627" class="Symbol">:</a> <a id="9629" href="Base.Terms.Operations.html#9581" class="Bound">Y</a> <a id="9631" class="Symbol">→</a> <a id="9633" href="Base.Terms.Operations.html#9579" class="Bound">X</a><a id="9634" class="Symbol">)(</a><a id="9636" href="Base.Terms.Operations.html#9636" class="Bound">𝑨</a> <a id="9638" class="Symbol">:</a> <a id="9640" href="Base.Algebras.Basic.html#6259" class="Function">Algebra</a> <a id="9648" href="Base.Terms.Operations.html#1804" class="Generalizable">α</a> <a id="9650" href="Base.Terms.Operations.html#599" class="Bound">𝑆</a><a id="9651" class="Symbol">)</a>
 <a id="9654" class="Symbol">→</a>              <a id="9669" href="Base.Terms.Operations.html#9636" class="Bound">𝑨</a> <a id="9671" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9673" href="Base.Terms.Operations.html#9611" class="Bound">p</a> <a id="9675" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a> <a id="9677" href="Base.Overture.Preliminaries.html#9670" class="Function Operator">≈</a> <a id="9679" href="Base.Terms.Operations.html#9636" class="Bound">𝑨</a> <a id="9681" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9683" href="Base.Terms.Operations.html#9613" class="Bound">q</a> <a id="9685" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a> <a id="9687" class="Symbol">→</a> <a id="9689" href="Base.Terms.Operations.html#9636" class="Bound">𝑨</a> <a id="9691" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9693" href="Base.Terms.Operations.html#9611" class="Bound">p</a> <a id="9695" href="Base.Terms.Operations.html#8313" class="Function Operator">[</a> <a id="9697" href="Base.Terms.Operations.html#9625" class="Bound">σ</a> <a id="9699" href="Base.Terms.Operations.html#8313" class="Function Operator">]</a> <a id="9701" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a> <a id="9703" href="Base.Overture.Preliminaries.html#9670" class="Function Operator">≈</a> <a id="9705" href="Base.Terms.Operations.html#9636" class="Bound">𝑨</a> <a id="9707" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9709" href="Base.Terms.Operations.html#9613" class="Bound">q</a> <a id="9711" href="Base.Terms.Operations.html#8313" class="Function Operator">[</a> <a id="9713" href="Base.Terms.Operations.html#9625" class="Bound">σ</a> <a id="9715" href="Base.Terms.Operations.html#8313" class="Function Operator">]</a> <a id="9717" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a>

<a id="9720" href="Base.Terms.Operations.html#9547" class="Function">subst-theorem</a> <a id="9734" href="Base.Terms.Operations.html#9734" class="Bound">wd</a> <a id="9737" href="Base.Terms.Operations.html#9737" class="Bound">p</a> <a id="9739" href="Base.Terms.Operations.html#9739" class="Bound">q</a> <a id="9741" href="Base.Terms.Operations.html#9741" class="Bound">σ</a> <a id="9743" href="Base.Terms.Operations.html#9743" class="Bound">𝑨</a> <a id="9745" href="Base.Terms.Operations.html#9745" class="Bound">Apq</a> <a id="9749" href="Base.Terms.Operations.html#9749" class="Bound">η</a> <a id="9751" class="Symbol">=</a> <a id="9753" class="Symbol">(</a><a id="9754" href="Base.Terms.Operations.html#9743" class="Bound">𝑨</a> <a id="9756" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9758" href="Base.Terms.Operations.html#9737" class="Bound">p</a> <a id="9760" href="Base.Terms.Operations.html#8313" class="Function Operator">[</a> <a id="9762" href="Base.Terms.Operations.html#9741" class="Bound">σ</a> <a id="9764" href="Base.Terms.Operations.html#8313" class="Function Operator">]</a> <a id="9766" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="9767" class="Symbol">)</a> <a id="9769" href="Base.Terms.Operations.html#9749" class="Bound">η</a> <a id="9771" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="9774" href="Base.Terms.Operations.html#9133" class="Function">subst-lemma</a> <a id="9786" href="Base.Terms.Operations.html#9734" class="Bound">wd</a> <a id="9789" href="Base.Terms.Operations.html#9737" class="Bound">p</a> <a id="9791" href="Base.Terms.Operations.html#9741" class="Bound">σ</a> <a id="9793" href="Base.Terms.Operations.html#9743" class="Bound">𝑨</a> <a id="9795" href="Base.Terms.Operations.html#9749" class="Bound">η</a> <a id="9797" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                 <a id="9832" class="Symbol">(</a><a id="9833" href="Base.Terms.Operations.html#9743" class="Bound">𝑨</a> <a id="9835" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9837" href="Base.Terms.Operations.html#9737" class="Bound">p</a> <a id="9839" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="9840" class="Symbol">)</a> <a id="9842" class="Symbol">(</a><a id="9843" href="Base.Terms.Operations.html#9749" class="Bound">η</a> <a id="9845" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9847" href="Base.Terms.Operations.html#9741" class="Bound">σ</a><a id="9848" class="Symbol">)</a> <a id="9850" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="9853" href="Base.Terms.Operations.html#9745" class="Bound">Apq</a> <a id="9857" class="Symbol">(</a><a id="9858" href="Base.Terms.Operations.html#9749" class="Bound">η</a> <a id="9860" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9862" href="Base.Terms.Operations.html#9741" class="Bound">σ</a><a id="9863" class="Symbol">)</a> <a id="9865" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                 <a id="9900" class="Symbol">(</a><a id="9901" href="Base.Terms.Operations.html#9743" class="Bound">𝑨</a> <a id="9903" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9905" href="Base.Terms.Operations.html#9739" class="Bound">q</a> <a id="9907" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="9908" class="Symbol">)</a> <a id="9910" class="Symbol">(</a><a id="9911" href="Base.Terms.Operations.html#9749" class="Bound">η</a> <a id="9913" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9915" href="Base.Terms.Operations.html#9741" class="Bound">σ</a><a id="9916" class="Symbol">)</a> <a id="9918" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="9921" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="9925" class="Symbol">(</a><a id="9926" href="Base.Terms.Operations.html#9133" class="Function">subst-lemma</a> <a id="9938" href="Base.Terms.Operations.html#9734" class="Bound">wd</a> <a id="9941" href="Base.Terms.Operations.html#9739" class="Bound">q</a> <a id="9943" href="Base.Terms.Operations.html#9741" class="Bound">σ</a> <a id="9945" href="Base.Terms.Operations.html#9743" class="Bound">𝑨</a> <a id="9947" href="Base.Terms.Operations.html#9749" class="Bound">η</a><a id="9948" class="Symbol">)</a> <a id="9950" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
                                 <a id="9985" class="Symbol">(</a><a id="9986" href="Base.Terms.Operations.html#9743" class="Bound">𝑨</a> <a id="9988" href="Base.Terms.Operations.html#2637" class="Function Operator">⟦</a> <a id="9990" href="Base.Terms.Operations.html#9739" class="Bound">q</a> <a id="9992" href="Base.Terms.Operations.html#8313" class="Function Operator">[</a> <a id="9994" href="Base.Terms.Operations.html#9741" class="Bound">σ</a> <a id="9996" href="Base.Terms.Operations.html#8313" class="Function Operator">]</a> <a id="9998" href="Base.Terms.Operations.html#2637" class="Function Operator">⟧</a><a id="9999" class="Symbol">)</a> <a id="10001" href="Base.Terms.Operations.html#9749" class="Bound">η</a> <a id="10003" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

</pre>

----------------------------------

<span style="float:left;">[← Base.Terms.Properties](Base.Terms.Properties.html)</span>
<span style="float:right;">[Base.Subalgebras →](Base.Subalgebras.html)</span>

{% include UALib.Links.md %}
